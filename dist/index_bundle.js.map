{"version":3,"sources":["webpack:///./js/NPC.js","webpack:///./js/PanoramaItem.js","webpack:///./node_modules/panolens/build/panolens.module.js","webpack:///./node_modules/process/browser.js","webpack:///./node_modules/three/build/three.module.js","webpack:///./node_modules/three/examples/jsm/loaders/GLTFLoader.js","webpack:///./js/SceneFunctions.ts","webpack:///./img/pano1.jpg","webpack:///./img/pano2.jpg","webpack:///webpack/bootstrap","webpack:///webpack/runtime/define property getters","webpack:///webpack/runtime/global","webpack:///webpack/runtime/hasOwnProperty shorthand","webpack:///webpack/runtime/make namespace object","webpack:///webpack/runtime/publicPath","webpack:///./js/index.js"],"names":["NPC","constructor","name","path","npc_obj","loader","load","console","log","endsWith","load_GLTF","GLTFLoader","Promise","resolve","gltf","scene","scale","set","position","move","vec","current_location","PanoramaItem","pano_url","transition_edges","enter_look_direction","THREE","npc_list","viewer","pano_obj","PANOLENS","first_look","addALight","addEventListener","tweenControlCenter","moveNPCs","removeAllNPCs","event","intersects","length","intersect","object","material","MAIN_NPC","npc","pos","remove","setViewer","loadNPCs","then","add","version","REVISION","CONTROLS","ORBIT","DEVICEORIENTATION","MODES","UNKNOWN","NORMAL","CARDBOARD","STEREO","DataImage","Info","Arrow","FullscreenEnter","FullscreenLeave","VideoPlay","VideoPause","WhiteTile","Setting","ChevronRight","Check","ViewIndicator","ImageLoader","url","onLoad","onProgress","onError","Cache","enabled","cached","request","arrayBufferView","blob","urlCreator","image","reference","iconName","hasOwnProperty","get","undefined","setTimeout","loaded","total","window","URL","webkitURL","document","createElementNS","onImageLoaded","revokeObjectURL","src","indexOf","crossOrigin","XMLHttpRequest","open","responseType","onprogress","lengthComputable","onloadend","Uint8Array","response","Blob","createObjectURL","send","TextureLoader","texture","Texture","isJPEG","search","format","RGBFormat","RGBAFormat","needsUpdate","CubeTextureLoader","urls","progress","all","loadings","CubeTexture","map","index","images","i","Media","constraints","defaultConstraints","video","width","ideal","height","facingMode","exact","audio","Object","assign","container","element","devices","stream","ratioScalar","videoDeviceIndex","prototype","enumerateDevices","resolvedPromise","navigator","mediaDevices","switchNextVideoDevice","stop","bind","start","setVideDeviceIndex","getDevices","type","validate","_devices","device","includes","push","filter","reg","RegExp","test","kind","getUserMedia","setMediaStream","playVideo","onCatchError","error","warn","catch","targetDevice","onVideoDevices","Error","deviceId","createVideoElement","active","track","getTracks","removeEventListener","onWindowResize","srcObject","background","createVideoTexture","play","pauseVideo","pause","VideoTexture","generateMipmaps","minFilter","LinearFilter","magFilter","center","createElement","setAttribute","style","top","left","objectPosition","objectFit","display","videoWidth","videoHeight","clientWidth","clientHeight","cameraRatio","viewportRatio","ratio","repeat","Reticle","color","autoSelect","dwellTime","dpr","devicePixelRatio","canvas","context","createCanvas","SpriteMaterial","createCanvasTexture","Sprite","call","canvasWidth","canvasHeight","Color","z","startTimestamp","timerId","callback","frustumCulled","updateCanvasArcByProgress","create","setColor","copy","CanvasTexture","getContext","shadowBlur","shadowColor","degree","Math","PI","getStyle","x","y","lineWidth","clearRect","beginPath","arc","fillStyle","fill","strokeStyle","stroke","closePath","ripple","duration","timestamp","performance","now","update","requestAnimationFrame","elapsed","opacity","radius","r","g","b","cancelAnimationFrame","show","visible","hide","commonjsGlobal","globalThis","global","self","createCommonjsModule","fn","module","exports","Tween","_Group","_tweens","_tweensAddedDuringUpdate","getAll","keys","tweenId","removeAll","tween","getId","time","preserve","tweenIds","TWEEN","_isPlaying","Group","_nextId","nextId","process","hrtime","Date","getTime","group","_object","_valuesStart","_valuesEnd","_valuesStartRepeat","_duration","_repeat","_repeatDelayTime","_yoyo","_reversed","_delayTime","_startTime","_easingFunction","Easing","Linear","None","_interpolationFunction","Interpolation","_chainedTweens","_onStartCallback","_onStartCallbackFired","_onUpdateCallback","_onRepeatCallback","_onCompleteCallback","_onStopCallback","_group","_id","isPlaying","to","properties","d","parseFloat","property","Array","concat","stopChainedTweens","end","Infinity","numChainedTweens","delay","amount","times","repeatDelay","yoyo","easing","easingFunction","interpolation","interpolationFunction","chain","arguments","onStart","onUpdate","onRepeat","onComplete","onStop","value","charAt","isFinite","tmp","k","Quadratic","In","Out","InOut","Cubic","Quartic","Quintic","Sinusoidal","cos","sin","Exponential","pow","Circular","sqrt","Elastic","Back","s","Bounce","v","m","f","floor","Utils","Bezier","n","pw","bn","Bernstein","CatmullRom","p0","p1","t","fc","Factorial","a","p2","p3","v0","v1","t2","t3","root","Infospot","imageSrc","animated","scaleFactor","isHovering","toPanorama","cursorStyle","mode","rotation","originalRaycast","raycast","HANDLER_FOCUS","side","DoubleSide","depthTest","transparent","postLoad","textureScale","Vector3","naturalWidth","naturalHeight","scaleUpAnimation","scaleDownAnimation","showAnimation","enableRaycast","hideAnimation","onClick","onHover","onHoverStart","onHoverEnd","onDualEyeEffect","setContainer","onDismiss","setFocusMethod","data","HTMLElement","appendChild","getContainer","lockHoverElement","unlockHoverElement","cursor","mouseEvent","clientX","clientY","right","_width","_height","locked","halfWidth","halfHeight","cloneNode","translateElement","delta","verticalDelta","setElementStyle","webkitTransform","msTransform","transform","setText","text","textContent","setCursorHoverStyle","addHoverText","maxWidth","maxHeight","textShadow","fontFamily","classList","addHoverElement","el","removeHoverElement","removeChild","method","focus","dispose","parent","Widget","EventDispatcher","DEFAULT_TRANSITION","TOUCH_ENABLED","DocumentTouch","PREVENT_EVENT_HANDLER","preventDefault","stopPropagation","barElement","fullscreenElement","videoElement","settingElement","mainMenu","activeMainItem","activeSubMenu","mask","addControlBar","scope","bar","styleTranslate","styleOpacity","gradientStyle","float","transition","pointerEvents","isHidden","toggle","menu","createDefaultMenu","createMainMenu","createMask","deactivate","handler","dispatchEvent","title","subMenu","addControlButton","createFullscreenButton","createSettingButton","createVideoControl","item","onTap","activated","activate","createCustomItem","backgroundImage","webkitTransition","changeSize","unslideAll","isFullscreen","tapSkipped","stylesheetId","fullscreenEnabled","webkitFullscreenEnabled","mozFullScreenEnabled","msFullscreenEnabled","requestFullscreen","msRequestFullscreen","mozRequestFullScreen","webkitRequestFullscreen","Element","ALLOW_KEYBOARD_INPUT","exitFullscreen","msExitFullscreen","mozCancelFullScreen","webkitExitFullscreen","onFullScreenChange","e","querySelector","sheet","id","innerHTML","body","controlButton","paused","createVideoControlButton","seekBar","createVideoControlSeekbar","progressElement","progressElementControl","isDragging","mouseX","percentageNow","percentageNext","backgroundColor","borderRadius","onMouseDown","passive","changedTouches","parseInt","addControlListeners","onVideoControlDrag","setProgress","onVideoControlStop","removeControlListeners","target","percentage","pageX","getBoundingClientRect","offsetX","onDispose","marginTop","createMenuItem","padding","textDecoration","slide","unslide","setIcon","icon","setSelectionTitle","selection","addSelection","fontSize","fontWeight","addIcon","flip","backgroundSize","addSubMenu","items","createSubMenu","createMenuItemHeader","header","borderBottom","paddingBottom","menus","createMenu","onNextTick","slideAll","parentElement","addItem","paddingLeft","activeItem","setActiveItem","addHeader","bottom","visibility","boxShadow","overflow","willChange","children","options","backgroundRepeat","backgroundPosition","webkitUserSelect","MozUserSelect","userSelect","webkitFilter","mergeStyleOptions","Panorama","geometry","Mesh","ImageQualityLow","ImageQualityFair","ImageQualityMedium","ImageQualityHigh","ImageQualitySuperHigh","animationDuration","defaultInfospotSize","linkedSpots","isInfospotVisible","linkingImageURL","linkingImageScale","BackSide","renderOrder","infospotAnimation","fadeIn","setupTransitions","invertedObject","vector","Object3D","scalePlaceHolder","traverse","forEach","child","getZoomLevel","zoomLevel","innerWidth","updateTexture","toggleInfospotVisibility","isVisible","setLinkingImage","link","pano","imageScale","img","spot","reset","fadeInAnimation","fadeOutAnimation","enterTransition","leaveTransition","onFadeAnimationUpdate","alpha","uniforms","fadeOut","onEnter","onLeave","recursiveDispose","ImagePanorama","_geometry","_material","SphereBufferGeometry","MeshBasicMaterial","HTMLImageElement","EmptyPanorama","BufferGeometry","addAttribute","BufferAttribute","Float32Array","CubePanorama","edgeLength","shader","JSON","parse","stringify","ShaderLib","BoxBufferGeometry","ShaderMaterial","fragmentShader","vertexShader","BasicPanorama","VideoPanorama","loop","muted","autoplay","playsinline","videoProgress","resumeVideoProgress","toggleVideo","setVideoCurrentTime","isMobile","check","substr","userAgent","vendor","opera","onloadeddata","setVideoTexture","readyState","querySelectorAll","currentTime","resetVideo","videoTexture","isVideoPaused","Number","isNaN","isVideoMuted","muteVideo","unmuteVideo","getVideoElement","GoogleStreetviewLoader","parameters","_parameters","_zoom","_panoId","_panoClient","google","maps","StreetViewService","_count","_total","_canvas","_ctx","_wc","_hc","result","copyright","onSizeChange","onPanoramaLoad","levelsW","levelsH","widths","heights","gl","maxTexSize","max","getParameter","MAX_TEXTURE_SIZE","maxW","maxH","throwError","message","adaptTextureToZoom","w","h","ceil","c","composeFromTile","px","py","drawImage","panoId","zoom","loadFromId","composePanorama","useWebGL","Image","panoid","loadPano","getPanoramaById","status","StreetViewStatus","OK","onPanoramaData","location","onNoPanoramaData","setZoom","GoogleStreetviewPanorama","apiKey","gsvLoader","loadRequested","setupGoogleMapAPI","loadGSVLoader","script","onreadystatechange","setGSVLoader","onload","getGSVLoader","StereographicShader","Matrix4","join","LittlePlanet","source","size","createGeometry","createMaterial","EPS","frameId","dragging","userMouse","Vector2","quatA","Quaternion","quatB","quatCur","quatSlerp","vectorX","vectorY","argument","PlaneBufferGeometry","registerMouseEvents","onMouseMove","onMouseUp","onMouseWheel","onContextMenu","unregisterMouseEvents","inputCount","touches","dx","dy","pageY","distance","pinchDistance","onUpdateCallback","angleX","degToRad","angleY","setFromAxisAngle","multiply","addZoomDelta","wheelDelta","detail","lowerBound","upperBound","slerp","makeRotationFromQuaternion","clone","dot","resolution","ImageLittlePlanet","tDiffuse","CameraPanorama","media","onPanolensContainer","onPanolensScene","OrbitControls","domElement","noZoom","zoomSpeed","minDistance","maxDistance","minZoom","maxZoom","noRotate","rotateSpeed","noPan","keyPanSpeed","autoRotate","autoRotateSpeed","minPolarAngle","maxPolarAngle","momentumDampingFactor","momentumScalingFactor","momentumKeydownFactor","minFov","maxFov","minAzimuthAngle","maxAzimuthAngle","noKeys","LEFT","UP","RIGHT","BOTTOM","mouseButtons","MOUSE","ZOOM","MIDDLE","PAN","MEPS","rotateStart","rotateEnd","rotateDelta","panStart","panEnd","panDelta","panOffset","offset","dollyStart","dollyEnd","dollyDelta","theta","phi","phiDelta","thetaDelta","pan","lastPosition","lastQuaternion","momentumLeft","momentumUp","eventPrevious","momentumOn","keyUp","keyBottom","keyLeft","keyRight","STATE","NONE","ROTATE","DOLLY","TOUCH_ROTATE","TOUCH_DOLLY","TOUCH_PAN","state","target0","position0","zoom0","quat","setFromUnitVectors","up","quatInverse","inverse","changeEvent","startEvent","endEvent","setLastQuaternion","quaternion","getLastPosition","rotateLeft","angle","getAutoRotationAngle","rotateUp","panLeft","te","matrix","elements","multiplyScalar","panUp","deltaX","deltaY","PerspectiveCamera","sub","targetDistance","tan","fov","OrthographicCamera","momentum","abs","dollyIn","dollyScale","getZoomScale","min","updateProjectionMatrix","dollyOut","ignoreUpdate","applyQuaternion","atan2","lookAt","distanceToSquared","getPolarAngle","getAzimuthalAngle","button","subVectors","onKeyUp","keyCode","onKeyDown","touchstart","touchmove","touchend","DeviceOrientationControls","camera","rotY","rotX","tempX","tempY","reorder","deviceOrientation","screenOrientation","alphaOffsetAngle","onDeviceOrientationChangeEvent","onScreenOrientationChangeEvent","orientation","onTouchStartEvent","onTouchMoveEvent","updateAlphaOffsetAngle","setCameraQuaternion","beta","gamma","orient","zee","euler","Euler","q0","q1","vectorFingerY","fingerQY","fingerQX","setFromEuler","connect","disconnect","CardboardEffect","renderer","_camera","_scene","Scene","_stereo","StereoCamera","aspect","_params","NearestFilter","_renderTarget","WebGLRenderTarget","scissorTest","distortion","removeAttribute","toNonIndexed","positions","attributes","array","uvs","uv","count","positions2","uvs2","l","scalar","mesh","setSize","pixelRatio","getPixelRatio","render","updateMatrixWorld","autoClear","clear","scissor","viewport","setRenderTarget","cameraL","clearDepth","cameraR","StereoEffect","setEyeSeparation","eyeSep","getSize","setScissorTest","setScissor","setViewport","Viewer","controlBar","controlButtons","autoHideControlBar","autoHideInfospot","horizontalView","clickTolerance","cameraFov","reverseDragging","enableReticle","autoReticleSelect","viewIndicator","indicatorSize","output","autoRotateActivationDuration","innerHeight","WebGLRenderer","antialias","sceneReticle","viewIndicatorSize","reticle","tempEnableReticle","controls","effect","panorama","widget","hoverObject","infospot","pressEntityObject","pressObject","raycaster","Raycaster","raycasterPoint","updateCallbacks","requestAnimationId","cameraFrustum","Frustum","cameraViewProjectionMatrix","autoRotateRequestId","outputDivElement","touchSupported","HANDLER_MOUSE_DOWN","HANDLER_MOUSE_UP","HANDLER_MOUSE_MOVE","HANDLER_WINDOW_RESIZE","HANDLER_KEY_DOWN","HANDLER_KEY_UP","HANDLER_TAP","OUTPUT_INFOSPOT","tweenLeftAnimation","tweenUpAnimation","setPixelRatio","setClearColor","passiveRendering","control","addReticle","addDefaultControlBar","addViewIndicator","reverseDraggingDirection","enableReticleControl","registerMouseAndTouchEvents","addOutputElement","registerEventListeners","animate","eventHandler","addPanoramaEventListener","setPanorama","buttonName","leavingPanorama","hideInfospot","afterEnterComplete","dispatchEventToChildren","activateWidgetItem","controlIndex","ControlMenuItem","ModeMenuItem","enableEffect","disableEffect","disableReticleControl","unregisterMouseAndTouchEvents","registerReticleEvent","updateReticleEvent","unregisterReticleEvent","enableAutoRate","disableAutoRate","clearTimeout","toggleVideoPlay","onVideoUpdate","addUpdateCallback","removeUpdateCallback","splice","showVideoWidget","hideVideoWidget","updateVideoPlayButton","setCameraControl","getControl","getScene","getCamera","getRenderer","getControlId","getNextControlName","getNextControlIndex","nextIndex","setCameraFov","enableControl","disableControl","toggleNextControl","getScreenVector","worldVector","widthHalf","heightHalf","project","checkSpriteInViewport","sprite","matrixWorldInverse","getInverse","matrixWorld","multiplyMatrices","projectionMatrix","setFromMatrix","intersectsSprite","ha","va","chv","cvv","hv","vv","vptc","ov","nv","getWorldDirection","getWorldPosition","normalize","angleTo","tweenControlCenterByObject","isUnderScalePlaceHolder","traverseAncestors","ancestor","invertXVector","windowWidth","windowHeight","expand","contains","isAndroid","adjustWidth","documentElement","adjustHeight","outputInfospotPosition","intersectObject","point","converter","world","toFixed","info","onTarget","toggleControlBar","setFromCamera","intersectObjects","intersect_entity","getConvertedIntersect","passThrough","entity","key","onChange","offsetLeft","unregisterEventListeners","destory","onPanoramaDispose","loadAsyncRequest","loadViewIndicator","asyncEvent","viewIndicatorDiv","responseXML","indicator","setIndicatorD","currentPanoAngle","fovAngle","leftAngle","rightAngle","leftX","leftY","rightX","rightY","indicatorD","indicatorOnMouseEnter","indicatorOnMouseLeave","appendControlItem","option","clearAllCache","cachedSetTimeout","cachedClearTimeout","defaultSetTimout","defaultClearTimeout","runTimeout","fun","runClearTimeout","marker","queue","draining","currentQueue","queueIndex","cleanUpNextTick","drainQueue","timeout","len","run","nextTick","args","Item","apply","browser","env","argv","versions","noop","on","addListener","once","off","removeListener","removeAllListeners","emit","prependListener","prependOnceListener","listeners","binding","cwd","chdir","dir","umask","EPSILON","isInteger","sign","Function","defineProperty","toString","match","TypeError","nextKey","listener","_listeners","hasEventListener","listenerArray","slice","CullFaceNone","CullFaceBack","CullFaceFront","CullFaceFrontBack","FrontFaceDirectionCW","FrontFaceDirectionCCW","BasicShadowMap","PCFShadowMap","PCFSoftShadowMap","FrontSide","FlatShading","SmoothShading","NoColors","FaceColors","VertexColors","NoBlending","NormalBlending","AdditiveBlending","SubtractiveBlending","MultiplyBlending","CustomBlending","AddEquation","SubtractEquation","ReverseSubtractEquation","MinEquation","MaxEquation","ZeroFactor","OneFactor","SrcColorFactor","OneMinusSrcColorFactor","SrcAlphaFactor","OneMinusSrcAlphaFactor","DstAlphaFactor","OneMinusDstAlphaFactor","DstColorFactor","OneMinusDstColorFactor","SrcAlphaSaturateFactor","NeverDepth","AlwaysDepth","LessDepth","LessEqualDepth","EqualDepth","GreaterEqualDepth","GreaterDepth","NotEqualDepth","MultiplyOperation","MixOperation","AddOperation","NoToneMapping","LinearToneMapping","ReinhardToneMapping","Uncharted2ToneMapping","CineonToneMapping","ACESFilmicToneMapping","UVMapping","CubeReflectionMapping","CubeRefractionMapping","EquirectangularReflectionMapping","EquirectangularRefractionMapping","SphericalReflectionMapping","CubeUVReflectionMapping","CubeUVRefractionMapping","RepeatWrapping","ClampToEdgeWrapping","MirroredRepeatWrapping","NearestMipMapNearestFilter","NearestMipMapLinearFilter","LinearMipMapNearestFilter","LinearMipMapLinearFilter","UnsignedByteType","ByteType","ShortType","UnsignedShortType","IntType","UnsignedIntType","FloatType","HalfFloatType","UnsignedShort4444Type","UnsignedShort5551Type","UnsignedShort565Type","UnsignedInt248Type","AlphaFormat","LuminanceFormat","LuminanceAlphaFormat","RGBEFormat","DepthFormat","DepthStencilFormat","RedFormat","RGB_S3TC_DXT1_Format","RGBA_S3TC_DXT1_Format","RGBA_S3TC_DXT3_Format","RGBA_S3TC_DXT5_Format","RGB_PVRTC_4BPPV1_Format","RGB_PVRTC_2BPPV1_Format","RGBA_PVRTC_4BPPV1_Format","RGBA_PVRTC_2BPPV1_Format","RGB_ETC1_Format","RGBA_ASTC_4x4_Format","RGBA_ASTC_5x4_Format","RGBA_ASTC_5x5_Format","RGBA_ASTC_6x5_Format","RGBA_ASTC_6x6_Format","RGBA_ASTC_8x5_Format","RGBA_ASTC_8x6_Format","RGBA_ASTC_8x8_Format","RGBA_ASTC_10x5_Format","RGBA_ASTC_10x6_Format","RGBA_ASTC_10x8_Format","RGBA_ASTC_10x10_Format","RGBA_ASTC_12x10_Format","RGBA_ASTC_12x12_Format","LoopOnce","LoopRepeat","LoopPingPong","InterpolateDiscrete","InterpolateLinear","InterpolateSmooth","ZeroCurvatureEnding","ZeroSlopeEnding","WrapAroundEnding","TrianglesDrawMode","TriangleStripDrawMode","TriangleFanDrawMode","LinearEncoding","sRGBEncoding","GammaEncoding","RGBEEncoding","LogLuvEncoding","RGBM7Encoding","RGBM16Encoding","RGBDEncoding","BasicDepthPacking","RGBADepthPacking","TangentSpaceNormalMap","ObjectSpaceNormalMap","_Math","DEG2RAD","RAD2DEG","generateUUID","lut","d0","random","d1","d2","d3","uuid","toUpperCase","clamp","euclideanModulo","mapLinear","a1","a2","b1","b2","lerp","smoothstep","smootherstep","randInt","low","high","randFloat","randFloatSpread","range","degrees","radToDeg","radians","isPowerOfTwo","ceilPowerOfTwo","LN2","floorPowerOfTwo","defineProperties","isVector2","setScalar","setX","setY","setComponent","getComponent","addVectors","addScalar","addScaledVector","subScalar","divide","divideScalar","applyMatrix3","clampScalar","minVal","maxVal","clampLength","round","roundToZero","negate","cross","lengthSq","manhattanLength","distanceTo","manhattanDistanceTo","setLength","lerpVectors","v2","equals","fromArray","toArray","fromBufferAttribute","attribute","getX","getY","rotateAround","_x","_y","_z","_w","qa","qb","qm","slerpFlat","dst","dstOffset","src0","srcOffset0","src1","srcOffset1","x0","y0","z0","w0","x1","y1","z1","w1","sqrSin","tDir","onChangeCallback","isQuaternion","isEuler","order","c1","c2","c3","s1","s2","s3","axis","halfAngle","setFromRotationMatrix","m11","m12","m13","m21","m22","m23","m31","m32","m33","trace","vFrom","vTo","q","acos","rotateTowards","step","conjugate","p","multiplyQuaternions","premultiply","qax","qay","qaz","qaw","qbx","qby","qbz","qbw","cosHalfTheta","sqrSinHalfTheta","sinHalfTheta","halfTheta","ratioA","ratioB","isVector3","setZ","multiplyVectors","applyEuler","applyAxisAngle","applyMatrix4","qx","qy","qz","qw","ix","iy","iz","iw","unproject","projectionMatrixInverse","transformDirection","crossVectors","ax","ay","az","bx","by","bz","projectOnVector","projectOnPlane","planeNormal","reflect","normal","dz","setFromSpherical","setFromSphericalCoords","sinPhiRadius","setFromCylindrical","setFromCylindricalCoords","setFromMatrixPosition","setFromMatrixScale","sx","setFromMatrixColumn","sy","sz","getZ","Matrix3","isMatrix3","n11","n12","n13","n21","n22","n23","n31","n32","n33","identity","me","setFromMatrix4","applyToBufferAttribute","setXYZ","ae","be","a11","a12","a13","a21","a22","a23","a31","a32","a33","b11","b12","b13","b21","b22","b23","b31","b32","b33","determinant","throwOnDegenerate","isMatrix4","t11","t12","t13","det","msg","detInv","transpose","getNormalMatrix","matrix4","transposeIntoArray","setUvTransform","tx","ty","cx","cy","rotate","translate","ImageUtils","getDataURL","HTMLCanvasElement","ImageData","putImageData","toDataURL","textureId","mapping","wrapS","wrapT","anisotropy","encoding","DEFAULT_IMAGE","mipmaps","DEFAULT_MAPPING","matrixAutoUpdate","premultiplyAlpha","flipY","unpackAlignment","isTexture","updateMatrix","toJSON","meta","isRootObject","textures","metadata","generator","wrap","isArray","transformUv","Vector4","isVector4","setW","setAxisAngleFromQuaternion","setAxisAngleFromRotationMatrix","epsilon","epsilon2","xx","yy","zz","xy","xz","yz","getW","depthBuffer","stencilBuffer","depthTexture","isWebGLRenderTarget","WebGLMultisampleRenderTarget","samples","isWebGLMultisampleRenderTarget","WebGLRenderTargetCube","isWebGLRenderTargetCube","DataTexture","isDataTexture","Box3","isBox3","setFromArray","minX","minY","minZ","maxX","maxY","maxZ","setFromBufferAttribute","setFromPoints","points","makeEmpty","il","expandByPoint","setFromCenterAndSize","halfSize","setFromObject","expandByObject","box","isEmpty","getCenter","expandByVector","expandByScalar","node","isGeometry","vertices","isBufferGeometry","containsPoint","containsBox","intersectsBox","intersectsSphere","closestPoint","sphere","clampPoint","intersectsPlane","plane","constant","intersectsTriangle","f0","f1","f2","testAxis","extents","triangleNormal","satForAxes","axes","j","triangle","distanceToPoint","clampedPoint","getBoundingSphere","union","Sphere","optionalCenter","maxRadiusSq","empty","radiusSum","deltaLengthSq","getBoundingBox","getMaxScaleOnAxis","Plane","setComponents","setFromNormalAndCoplanarPoint","setFromCoplanarPoints","inverseNormalLength","distanceToSphere","projectPoint","intersectLine","line","direction","denominator","intersectsLine","startSign","endSign","coplanarPoint","m1","optionalNormalMatrix","normalMatrix","referencePoint","p4","p5","planes","frustum","me0","me1","me2","me3","me4","me5","me6","me7","me8","me9","me10","me11","me12","me13","me14","me15","intersectsObject","boundingSphere","computeBoundingSphere","negRadius","n14","n24","n34","n41","n42","n43","n44","copyPosition","extractBasis","xAxis","yAxis","zAxis","makeBasis","extractRotation","scaleX","scaleY","scaleZ","makeRotationFromEuler","af","bf","ce","cf","de","df","ac","ad","bc","bd","zero","one","compose","eye","a14","a24","a34","a41","a42","a43","a44","b14","b24","b34","b41","b42","b43","b44","setPosition","t14","scaleXSq","scaleYSq","scaleZSq","makeTranslation","makeRotationX","makeRotationY","makeRotationZ","makeRotationAxis","makeScale","makeShear","x2","y2","z2","wx","wy","wz","decompose","invSX","invSY","invSZ","makePerspective","near","far","makeOrthographic","alphamap_fragment","alphamap_pars_fragment","alphatest_fragment","aomap_fragment","aomap_pars_fragment","begin_vertex","beginnormal_vertex","bsdfs","bumpmap_pars_fragment","clipping_planes_fragment","clipping_planes_pars_fragment","clipping_planes_pars_vertex","clipping_planes_vertex","color_fragment","color_pars_fragment","color_pars_vertex","color_vertex","common","cube_uv_reflection_fragment","defaultnormal_vertex","displacementmap_pars_vertex","displacementmap_vertex","emissivemap_fragment","emissivemap_pars_fragment","encodings_fragment","encodings_pars_fragment","envmap_fragment","envmap_pars_fragment","envmap_pars_vertex","envmap_vertex","fog_vertex","fog_pars_vertex","fog_fragment","fog_pars_fragment","gradientmap_pars_fragment","lightmap_fragment","lightmap_pars_fragment","lights_lambert_vertex","lights_pars_begin","envmap_physical_pars_fragment","lights_phong_fragment","lights_phong_pars_fragment","lights_physical_fragment","lights_physical_pars_fragment","lights_fragment_begin","lights_fragment_maps","lights_fragment_end","logdepthbuf_fragment","logdepthbuf_pars_fragment","logdepthbuf_pars_vertex","logdepthbuf_vertex","map_fragment","map_pars_fragment","map_particle_fragment","map_particle_pars_fragment","metalnessmap_fragment","metalnessmap_pars_fragment","morphnormal_vertex","morphtarget_pars_vertex","morphtarget_vertex","normal_fragment_begin","normal_fragment_maps","normalmap_pars_fragment","packing","premultiplied_alpha_fragment","project_vertex","dithering_fragment","dithering_pars_fragment","roughnessmap_fragment","roughnessmap_pars_fragment","shadowmap_pars_fragment","shadowmap_pars_vertex","shadowmap_vertex","shadowmask_pars_fragment","skinbase_vertex","skinning_pars_vertex","skinning_vertex","skinnormal_vertex","specularmap_fragment","specularmap_pars_fragment","tonemapping_fragment","tonemapping_pars_fragment","uv_pars_fragment","uv_pars_vertex","uv_vertex","uv2_pars_fragment","uv2_pars_vertex","uv2_vertex","worldpos_vertex","background_frag","background_vert","cube_frag","cube_vert","depth_frag","depth_vert","distanceRGBA_frag","distanceRGBA_vert","equirect_frag","equirect_vert","linedashed_frag","linedashed_vert","meshbasic_frag","meshbasic_vert","meshlambert_frag","meshlambert_vert","meshmatcap_frag","meshmatcap_vert","meshphong_frag","meshphong_vert","meshphysical_frag","meshphysical_vert","normal_frag","normal_vert","points_frag","points_vert","shadow_frag","shadow_vert","sprite_frag","sprite_vert","ShaderChunk","cloneUniforms","u","isColor","mergeUniforms","merged","UniformsUtils","merge","ColorKeywords","setRGB","setHex","setStyle","hex","setHSL","hue2rgb","handleAlpha","string","exec","components","copyGammaToLinear","gammaFactor","copyLinearToGamma","safeInverse","convertGammaToLinear","convertLinearToGamma","copySRGBToLinear","SRGBToLinear","copyLinearToSRGB","LinearToSRGB","convertSRGBToLinear","convertLinearToSRGB","getHex","getHexString","getHSL","hue","saturation","lightness","offsetHSL","hsl","addColors","color1","color2","lerpHSL","hslA","hslB","UniformsLib","diffuse","uvTransform","alphaMap","specularmap","specularMap","envmap","envMap","flipEnvMap","reflectivity","refractionRatio","maxMipLevel","aomap","aoMap","aoMapIntensity","lightmap","lightMap","lightMapIntensity","emissivemap","emissiveMap","bumpmap","bumpMap","bumpScale","normalmap","normalMap","normalScale","displacementmap","displacementMap","displacementScale","displacementBias","roughnessmap","roughnessMap","metalnessmap","metalnessMap","gradientmap","gradientMap","fog","fogDensity","fogNear","fogFar","fogColor","lights","ambientLightColor","lightProbe","directionalLights","shadow","shadowBias","shadowRadius","shadowMapSize","directionalShadowMap","directionalShadowMatrix","spotLights","coneCos","penumbraCos","decay","spotShadowMap","spotShadowMatrix","pointLights","shadowCameraNear","shadowCameraFar","pointShadowMap","pointShadowMatrix","hemisphereLights","skyColor","groundColor","rectAreaLights","basic","lambert","emissive","phong","specular","shininess","standard","roughness","metalness","envMapIntensity","matcap","dashed","dashSize","totalSize","depth","t2D","cube","tCube","tFlip","equirect","tEquirect","distanceRGBA","referencePosition","nearDistance","farDistance","physical","clearCoat","clearCoatRoughness","WebGLAnimation","isAnimating","animationLoop","onAnimationFrame","frame","setAnimationLoop","setContext","WebGLAttributes","buffers","WeakMap","createBuffer","bufferType","usage","dynamic","buffer","bindBuffer","bufferData","onUploadCallback","Float64Array","Uint16Array","Int16Array","Uint32Array","Int32Array","Int8Array","bytesPerElement","BYTES_PER_ELEMENT","updateBuffer","updateRange","bufferSubData","subarray","isInterleavedBufferAttribute","deleteBuffer","delete","Face3","materialIndex","vertexNormals","vertexColors","_order","DefaultOrder","RotationOrders","asin","setFromQuaternion","setFromVector3","newOrder","toVector3","optionalResult","Layers","channel","enable","disable","layers","object3DId","DefaultUp","onRotationChange","onQuaternionChange","configurable","enumerable","modelViewMatrix","DefaultMatrixAutoUpdate","matrixWorldNeedsUpdate","castShadow","receiveShadow","userData","isObject3D","onBeforeRender","onAfterRender","applyMatrix","setRotationFromAxisAngle","setRotationFromEuler","setRotationFromMatrix","setRotationFromQuaternion","rotateOnAxis","rotateOnWorldAxis","rotateX","rotateY","rotateZ","translateOnAxis","translateX","translateY","translateZ","localToWorld","worldToLocal","updateWorldMatrix","isCamera","isLight","attach","getObjectById","getObjectByProperty","getObjectByName","getWorldQuaternion","getWorldScale","traverseVisible","force","updateParents","updateChildren","geometries","materials","shapes","isMesh","drawMode","serialize","library","isLine","isPoints","shape","uuids","extractFromCache","cache","values","recursive","geometryId","Geometry","colors","faces","faceVertexUvs","morphTargets","morphNormals","skinWeights","skinIndices","lineDistances","boundingBox","elementsNeedUpdate","verticesNeedUpdate","uvsNeedUpdate","normalsNeedUpdate","colorsNeedUpdate","lineDistancesNeedUpdate","groupsNeedUpdate","vertex","face","jl","computeBoundingBox","obj","fromBufferGeometry","indices","normals","uv2","addFace","groups","computeFaceNormals","cb","ab","fl","vA","vB","vC","computeVertexNormals","areaWeighted","vl","computeFlatVertexNormals","computeMorphNormals","__originalFaceNormal","__originalVertexNormals","tmpGeo","faceNormals","dstNormalsFace","dstNormalsVertex","faceNormal","materialIndexOffset","vertexOffset","vertices1","vertices2","faces1","faces2","uvs1","colors1","colors2","vertexCopy","faceCopy","faceVertexNormals","faceVertexColors","uvCopy","mergeMesh","mergeVertices","verticesMap","unique","changes","precisionPoints","precision","faceIndicesToRemove","idx","diff","sortFacesByMaterialIndex","materialIndexSort","sort","newUvs1","newUvs2","normalsHash","colorsHash","uvsHash","hasMaterial","hasFaceUv","hasFaceVertexUv","hasFaceNormal","hasFaceVertexNormal","hasFaceColor","hasFaceVertexColor","faceType","setBit","getUvIndex","getNormalIndex","getColorIndex","hash","kl","uvsCopy","morphTarget","morphNormal","srcVertexNormal","destVertexNormal","itemSize","normalized","isBufferAttribute","setArray","setDynamic","copyAt","index1","index2","copyArray","copyColorsArray","copyVector2sArray","vectors","copyVector3sArray","copyVector4sArray","setXY","setXYZW","onUpload","Int8BufferAttribute","Uint8BufferAttribute","Uint8ClampedBufferAttribute","Uint8ClampedArray","Int16BufferAttribute","Uint16BufferAttribute","Int32BufferAttribute","Uint32BufferAttribute","Float32BufferAttribute","Float64BufferAttribute","DirectGeometry","computeGroups","fromGeometry","hasFaceVertexUv2","morphTargetsLength","morphTargetsPosition","morphNormalsLength","morphTargetsNormal","hasSkinIndices","hasSkinWeights","vertexUvs","arrayMax","bufferGeometryId","morphAttributes","drawRange","getIndex","setIndex","getAttribute","addGroup","clearGroups","setDrawRange","tangent","updateFromObject","direct","__directGeometry","lineDistance","fromDirectGeometry","morphAttributesPosition","morphAttribute","boxMorphTargets","pA","pB","pC","normalizeNormals","attribute1","attributeArray1","attribute2","attributeArray2","attributeOffset","convertBufferAttribute","array2","geometry2","newAttribute","morphArray","attributeData","hasMorphAttributes","attributeArray","BoxGeometry","widthSegments","heightSegments","depthSegments","numberOfVertices","groupStart","buildPlane","udir","vdir","gridX","gridY","segmentWidth","segmentHeight","depthHalf","gridX1","gridY1","vertexCounter","groupCount","PlaneGeometry","width_half","height_half","segment_width","segment_height","materialId","Material","blending","flatShading","vertexTangents","blendSrc","blendDst","blendEquation","blendSrcAlpha","blendDstAlpha","blendEquationAlpha","depthFunc","depthWrite","clippingPlanes","clipIntersection","clipShadows","shadowSide","colorWrite","polygonOffset","polygonOffsetFactor","polygonOffsetUnits","dithering","alphaTest","premultipliedAlpha","isMaterial","onBeforeCompile","setValues","newValue","currentValue","isRoot","emissiveIntensity","normalMapType","combine","sizeAttenuation","linewidth","gapSize","wireframe","wireframeLinewidth","wireframeLinecap","wireframeLinejoin","skinning","srcPlanes","dstPlanes","default_vertex","default_fragment","defines","clipping","extensions","derivatives","fragDepth","drawBuffers","shaderTextureLOD","defaultAttributeValues","index0AttributeName","uniformsNeedUpdate","isShaderMaterial","uniform","Ray","origin","ray","at","recast","closestPointToPoint","directionDistance","distanceSqToPoint","distanceSqToSegment","segCenter","segDir","optionalPointOnRay","optionalPointOnSegment","segExtent","a01","b0","s0","sqrDist","extDet","invDet","intersectSphere","tca","radius2","thc","t0","t1","distanceToPlane","intersectPlane","distToPoint","intersectBox","tmin","tmax","tymin","tymax","tzmin","tzmax","invdirx","invdiry","invdirz","intersectTriangle","edge1","edge2","backfaceCulling","DdN","DdQxE2","DdE1xQ","QdN","Triangle","getNormal","targetLengthSq","getBarycoord","dot00","dot01","dot02","dot11","dot12","denom","invDenom","getUV","barycoord","uv1","uv3","isFrontFacing","setFromPointsAndIndices","i0","i1","i2","getArea","getMidpoint","getPlane","vab","vac","vbc","vap","vbp","vcp","d4","vc","d5","d6","vb","isMeshBasicMaterial","updateMorphTargets","setDrawMode","morphTargetInfluences","morphTargetDictionary","ml","String","inverseMatrix","tempA","tempB","tempC","morphA","morphB","morphC","uvA","uvB","uvC","intersectionPoint","intersectionPointWorld","checkIntersection","checkBufferGeometryIntersection","morphPosition","morphInfluences","influence","intersection","groupMaterial","faceIndex","fvA","fvB","fvC","isMultiMaterial","faceMaterial","uvs_f","WebGLBackground","objects","clearColor","clearAlpha","planeMesh","boxMesh","currentBackground","currentBackgroundVersion","renderList","forceClear","vr","session","getSession","environmentBlendMode","setClear","autoClearColor","autoClearDepth","autoClearStencil","isCubeTexture","unshift","getClearColor","getClearAlpha","setClearAlpha","WebGLBufferRenderer","capabilities","setMode","drawArrays","renderInstances","extension","isWebGL2","maxInstancedCount","WebGLCapabilities","maxAnisotropy","getMaxAnisotropy","MAX_TEXTURE_MAX_ANISOTROPY_EXT","getMaxPrecision","getShaderPrecisionFormat","WebGL2RenderingContext","maxPrecision","logarithmicDepthBuffer","maxTextures","maxVertexTextures","maxTextureSize","maxCubemapSize","maxAttributes","maxVertexUniforms","maxVaryings","maxFragmentUniforms","vertexTextures","floatFragmentTextures","floatVertexTextures","maxSamples","WebGLClipping","globalState","numGlobalPlanes","localClippingEnabled","renderingShadows","viewNormalMatrix","numPlanes","numIntersection","init","enableLocalClipping","projectPlanes","beginShadows","endShadows","resetGlobalState","setState","fromCache","nGlobal","lGlobal","dstArray","clippingState","skipTransform","nPlanes","flatSize","viewMatrix","i4","WebGLExtensions","getExtension","WebGLGeometries","wireframeAttributes","onGeometryDispose","buffergeometry","memory","_bufferGeometry","geometryAttributes","getWireframeAttribute","geometryIndex","WebGLIndexedBufferRenderer","drawElements","WebGLInfo","calls","triangles","lines","instanceCount","programs","autoReset","absNumericalSort","WebGLMorphtargets","influencesList","program","objectInfluences","influences","getUniforms","setValue","WebGLObjects","updateList","DataTexture2DArray","wrapR","isDataTexture2DArray","DataTexture3D","isDataTexture3D","emptyTexture","emptyTexture2dArray","emptyTexture3d","emptyCubeTexture","arrayCacheF32","arrayCacheI32","mat4array","mat3array","mat2array","flatten","nBlocks","blockSize","firstElem","arraysEqual","allocTexUnits","allocateTextureUnit","setValueV1f","uniform1f","addr","setValueV2f","uniform2f","uniform2fv","setValueV3f","uniform3f","uniform3fv","setValueV4f","uniform4f","uniform4fv","setValueM2","uniformMatrix2fv","setValueM3","uniformMatrix3fv","setValueM4","uniformMatrix4fv","setValueT1","unit","uniform1i","safeSetTexture2D","setValueT2DArray1","setTexture2DArray","setValueT3D1","setTexture3D","setValueT6","safeSetTextureCube","setValueV1i","setValueV2i","uniform2iv","setValueV3i","uniform3iv","setValueV4i","uniform4iv","getSingularSetter","setValueV1fArray","uniform1fv","setValueV1iArray","uniform1iv","setValueV2iArray","setValueV3iArray","setValueV4iArray","setValueV2fArray","setValueV3fArray","setValueV4fArray","setValueM2Array","setValueM3Array","setValueM4Array","setValueT1Array","units","setValueT6Array","getPureArraySetter","SingleUniform","activeInfo","PureArrayUniform","updateCache","StructuredUniform","seq","RePathPart","addUniform","uniformObject","parseUniform","pathLength","lastIndex","matchEnd","idIsIndex","subscript","next","WebGLUniforms","getProgramParameter","getActiveUniform","getUniformLocation","setOptional","upload","seqWithValue","addLineNumbers","split","WebGLShader","debug","createShader","shaderSource","compileShader","getShaderParameter","getShaderInfoLog","programIdCount","getEncodingComponents","getTexelDecodingFunction","functionName","getTexelEncodingFunction","getToneMappingFunction","toneMapping","toneMappingName","generateExtensions","rendererExtensions","chunks","envMapCubeUV","objectSpaceNormalMap","filterEmptyLine","generateDefines","fetchAttributeLocations","getActiveAttrib","getAttribLocation","replaceLightNums","replace","numDirLights","numSpotLights","numRectAreaLights","numPointLights","numHemiLights","replaceClippingPlaneNums","numClippingPlanes","numClipIntersection","parseIncludes","pattern","include","unrollLoops","snippet","unroll","WebGLProgram","code","shadowMapTypeDefine","shadowMapType","envMapTypeDefine","envMapModeDefine","envMapBlendingDefine","gammaFactorDefine","customExtensions","customDefines","createProgram","prefixVertex","prefixFragment","isRawShaderMaterial","supportsVertexTextures","maxBones","useFog","fogExp","useVertexTexture","doubleSided","flipSided","shadowMapEnabled","physicallyCorrectLights","outputEncoding","mapEncoding","matcapEncoding","envMapEncoding","emissiveMapEncoding","depthPacking","isGLSL3ShaderMaterial","versionRegex","vertexGlsl","fragmentGlsl","glVertexShader","checkShaderErrors","glFragmentShader","attachShader","bindAttribLocation","linkProgram","programLog","getProgramInfoLog","trim","vertexLog","fragmentLog","runnable","haveDiagnostics","getError","diagnostics","prefix","deleteShader","cachedUniforms","cachedAttributes","getAttributes","destroy","deleteProgram","usedTimes","WebGLPrograms","shaderIDs","MeshDepthMaterial","MeshDistanceMaterial","MeshNormalMaterial","MeshLambertMaterial","MeshPhongMaterial","MeshToonMaterial","MeshStandardMaterial","MeshPhysicalMaterial","MeshMatcapMaterial","LineBasicMaterial","LineDashedMaterial","PointsMaterial","ShadowMaterial","parameterNames","allocateBones","skeleton","bones","nVertexUniforms","nVertexMatrices","getTextureEncodingFromMap","gammaOverrideLinear","getParameters","shadows","nClipPlanes","nClipIntersection","shaderID","isSkinnedMesh","currentRenderTarget","getRenderTarget","gammaOutput","gammaInput","envMapMode","isFogExp2","maxMorphTargets","maxMorphNormals","directional","rectArea","hemi","shadowMap","getProgramCode","acquireProgram","pl","programInfo","releaseProgram","pop","WebGLProperties","painterSortStable","groupOrder","reversePainterSortStable","WebGLRenderList","renderItems","renderItemsIndex","opaque","defaultProgram","getNextRenderItem","renderItem","WebGLRenderLists","lists","onSceneDispose","cameras","list","UniformsCache","light","WebGLLights","stateID","directionalLength","pointLength","spotLength","rectAreaLength","hemiLength","shadowsLength","ambient","probe","vector3","matrix42","setup","intensity","isAmbientLight","isLightProbe","sh","coefficients","isDirectionalLight","bias","mapSize","isSpotLight","penumbra","isRectAreaLight","isPointLight","isHemisphereLight","WebGLRenderState","lightsArray","shadowsArray","pushLight","pushShadow","shadowLight","setupLights","WebGLRenderStates","renderStates","renderState","isMeshDepthMaterial","isMeshDistanceMaterial","WebGLShadowMap","_renderer","_objects","_frustum","_projScreenMatrix","_shadowMapSize","_maxShadowMapSize","_lookTarget","_lightPositionWorld","_MorphingFlag","_SkinningFlag","_NumberOfMaterialVariants","_depthMaterials","_distanceMaterials","_materialCache","cubeDirections","cubeUps","cube2DViewPorts","useMorphing","useSkinning","depthMaterial","distanceMaterial","autoUpdate","activeCubeFace","getActiveCubeFace","activeMipMapLevel","getActiveMipMapLevel","_state","setBlending","setTest","faceCount","shadowCamera","vpWidth","vpHeight","pars","isSpotLightShadow","shadowMatrix","vpDimensions","renderObject","getDepthMaterial","lightPositionWorld","materialVariants","customMaterial","customDepthMaterial","customDistanceMaterial","variantIndex","keyA","keyB","materialsForVariant","cachedMaterial","renderBufferDirect","WebGLState","utils","ColorBuffer","currentColorMask","currentColorClear","setMask","colorMask","setLocked","lock","DepthBuffer","currentDepthMask","currentDepthFunc","currentDepthClear","depthMask","setFunc","StencilBuffer","currentStencilMask","currentStencilFunc","currentStencilRef","currentStencilFuncMask","currentStencilFail","currentStencilZFail","currentStencilZPass","currentStencilClear","stencilTest","stencilMask","stencilFunc","stencilRef","setOp","stencilFail","stencilZFail","stencilZPass","stencilOp","stencil","clearStencil","colorBuffer","maxVertexAttributes","newAttributes","enabledAttributes","attributeDivisors","enabledCapabilities","compressedTextureFormats","currentProgram","currentBlendingEnabled","currentBlending","currentBlendEquation","currentBlendSrc","currentBlendDst","currentBlendEquationAlpha","currentBlendSrcAlpha","currentBlendDstAlpha","currentPremultipledAlpha","currentFlipSided","currentCullFace","currentLineWidth","currentPolygonOffsetFactor","currentPolygonOffsetUnits","lineWidthAvailable","glVersion","currentTextureSlot","currentBoundTextures","currentScissor","currentViewport","createTexture","bindTexture","texParameteri","texImage2D","emptyTextures","setFlipSided","setCullFace","initAttributes","enableAttribute","enableAttributeAndDivisor","meshPerAttribute","enableVertexAttribArray","disableUnusedAttributes","disableVertexAttribArray","getCompressedTextureFormats","formats","useProgram","blendFuncSeparate","blendFunc","blendEquationSeparate","convert","setMaterial","frontFaceCW","setPolygonOffset","frontFace","cullFace","setLineWidth","factor","activeTexture","webglSlot","webglType","webglTexture","boundTexture","compressedTexImage2D","texImage3D","WebGLTextures","_gl","_videoTextures","useOffscreenCanvas","OffscreenCanvas","resizeImage","needsPowerOfTwo","needsNewCanvas","maxSize","ImageBitmap","textureNeedsPowerOfTwo","textureNeedsGenerateMipmaps","supportsMips","generateMipmap","textureProperties","__maxMipLevel","LOG2E","getInternalFormat","glFormat","glType","internalFormat","filterFallback","onTextureDispose","deallocateTexture","isVideoTexture","onRenderTargetDispose","renderTarget","deallocateRenderTarget","__webglInit","deleteTexture","__webglTexture","renderTargetProperties","deleteFramebuffer","__webglFramebuffer","__webglDepthbuffer","deleteRenderbuffer","textureUnits","resetTextureUnits","textureUnit","setTexture2D","slot","updateVideoTexture","__version","complete","uploadTexture","setTextureCube","initTexture","pixelStorei","isCompressed","isCompressedTexture","cubeImage","glInternalFormat","setTextureParameters","mipmap","setTextureCubeDynamic","textureType","__currentAnisotropy","texParameterf","TEXTURE_MAX_ANISOTROPY_EXT","isDepthTexture","setupFrameBufferTexture","framebuffer","attachment","textureTarget","bindFramebuffer","framebufferTexture2D","setupRenderBufferStorage","renderbuffer","isMultisample","bindRenderbuffer","getRenderTargetSamples","renderbufferStorageMultisample","renderbufferStorage","framebufferRenderbuffer","setupDepthTexture","isCube","webglDepthTexture","setupDepthRenderbuffer","createRenderbuffer","setupRenderTarget","createFramebuffer","__webglMultisampledFramebuffer","__webglColorRenderbuffer","__webglDepthRenderbuffer","updateRenderTargetMipmap","updateMultisampleRenderTarget","blitFramebuffer","warnedTexture2D","warnedTextureCube","WebGLUtils","HALF_FLOAT_OES","COMPRESSED_RGB_S3TC_DXT1_EXT","COMPRESSED_RGBA_S3TC_DXT1_EXT","COMPRESSED_RGBA_S3TC_DXT3_EXT","COMPRESSED_RGBA_S3TC_DXT5_EXT","COMPRESSED_RGB_PVRTC_4BPPV1_IMG","COMPRESSED_RGB_PVRTC_2BPPV1_IMG","COMPRESSED_RGBA_PVRTC_4BPPV1_IMG","COMPRESSED_RGBA_PVRTC_2BPPV1_IMG","COMPRESSED_RGB_ETC1_WEBGL","MIN_EXT","MAX_EXT","UNSIGNED_INT_24_8_WEBGL","isGroup","Camera","view","filmGauge","filmOffset","isPerspectiveCamera","setFocalLength","focalLength","vExtentSlope","getFilmHeight","atan","getFocalLength","getEffectiveFOV","getFilmWidth","setViewOffset","fullWidth","fullHeight","offsetY","clearViewOffset","skew","ArrayCamera","isArrayCamera","cameraLPos","cameraRPos","setProjectionFromUnion","ipd","projL","projR","topFov","bottomFov","leftFov","rightFov","zOffset","xOffset","near2","far2","left2","right2","top2","bottom2","WebVRManager","renderWidth","renderHeight","frameData","poseTarget","controllers","standingMatrix","standingMatrixInverse","framebufferScaleFactor","referenceSpaceType","VRFrameData","onVRDisplayPresentChange","tempQuaternion","tempPosition","cameraVR","isPresenting","currentSize","currentPixelRatio","eyeParameters","getEyeParameters","setDrawingBufferSize","animation","triggers","findGamepad","gamepads","getGamepads","gamepad","startsWith","updateControllers","controller","pose","hasPosition","buttonId","buttons","pressed","updateViewportFromBounds","bounds","getController","getDevice","setDevice","setFramebufferScaleFactor","setReferenceSpaceType","setPoseTarget","userHeight","depthNear","depthFar","getFrameData","stageParameters","sittingToStandingTransform","poseObject","leftViewMatrix","rightViewMatrix","leftProjectionMatrix","rightProjectionMatrix","getLayers","layer","leftBounds","rightBounds","getStandingMatrix","submitFrame","setFrameOfReferenceType","WebXRManager","referenceSpace","inputSources","onSessionEvent","inputSource","onSessionEnd","setFramebuffer","onRequestReferenceSpace","setSession","updateRenderState","baseLayer","XRWebGLLayer","requestReferenceSpace","updateCamera","onAnimationFrameCallback","getViewerPose","views","getViewport","inputPose","getPose","targetRaySpace","_context","_alpha","_depth","_stencil","_antialias","_premultipliedAlpha","_preserveDrawingBuffer","preserveDrawingBuffer","_powerPreference","powerPreference","_failIfMajorPerformanceCaveat","failIfMajorPerformanceCaveat","currentRenderList","currentRenderState","sortObjects","toneMappingExposure","toneMappingWhitePoint","_this","_isContextLost","_framebuffer","_currentActiveCubeFace","_currentActiveMipmapLevel","_currentRenderTarget","_currentFramebuffer","_currentMaterialId","_currentGeometryProgram","_currentCamera","_currentArrayCamera","_currentViewport","_currentScissor","_currentScissorTest","_pixelRatio","_viewport","_scissor","_scissorTest","_clipping","_clippingEnabled","_localClippingEnabled","_vector3","getTargetPixelRatio","contextAttributes","xrCompatible","onContextLost","onContextRestore","programCache","renderLists","morphtargets","bufferRenderer","indexedBufferRenderer","initGLContext","xr","getContextAttributes","forceContextLoss","loseContext","forceContextRestore","restoreContext","updateStyle","getDrawingBufferSize","getCurrentViewport","getScissor","getScissorTest","boolean","bits","onMaterialDispose","deallocateMaterial","releaseMaterialProgramReference","renderObjectImmediate","renderBufferImmediate","hasPositions","hasNormals","hasUvs","hasColors","programAttributes","positionArray","vertexAttribPointer","normalArray","uvArray","colorArray","setProgram","updateBuffers","rangeFactor","setupVertexAttributes","dataCount","rangeStart","rangeCount","drawStart","drawEnd","drawCount","isLineSegments","isLineLoop","isSprite","isInstancedBufferGeometry","materialDefaultAttributeValues","programAttribute","geometryAttribute","stride","isInstancedInterleavedBuffer","isInstancedBufferAttribute","vertexAttrib2fv","vertexAttrib3fv","vertexAttrib4fv","vertexAttrib1fv","compile","initMaterial","projectObject","opaqueObjects","transparentObjects","overrideMaterial","renderObjects","isImmediateRenderObject","camera2","materialProperties","lightsHash","lightsStateHash","programChange","numSupportedMorphTargets","numSupportedMorphNormals","progUniforms","uniformsList","useCache","refreshProgram","refreshMaterial","refreshLights","p_uniforms","m_uniforms","isMeshPhongMaterial","isMeshStandardMaterial","uCamPos","cameraPosition","isMeshLambertMaterial","boneTexture","boneMatrices","boneTextureSize","markUniformsLightsNeedsUpdate","refreshUniformsFog","refreshUniformsCommon","refreshUniformsLambert","isMeshToonMaterial","refreshUniformsToon","refreshUniformsPhong","isMeshPhysicalMaterial","refreshUniformsPhysical","refreshUniformsStandard","isMeshMatcapMaterial","refreshUniformsMatcap","refreshUniformsDepth","refreshUniformsDistance","isMeshNormalMaterial","refreshUniformsNormal","isLineBasicMaterial","refreshUniformsLine","isLineDashedMaterial","refreshUniformsDash","isPointsMaterial","refreshUniformsPoints","isSpriteMaterial","refreshUniformsSprites","isShadowMaterial","ltc_1","LTC_1","ltc_2","LTC_2","uvScaleMap","isFog","density","readRenderTargetPixels","activeCubeFaceIndex","restore","textureFormat","checkFramebufferStatus","readPixels","copyFramebufferToTexture","level","copyTexImage2D","copyTextureToTexture","srcTexture","dstTexture","texSubImage2D","FogExp2","Fog","isScene","InterleavedBuffer","isInterleavedBuffer","InterleavedBufferAttribute","interleavedBuffer","float32Array","intersectPoint","worldScale","mvPosition","alignedPosition","rotatedPosition","viewWorldMatrix","transformVertex","vertexPosition","LOD","levels","isLOD","addLevel","getObjectForDistance","matrixPosition","SkinnedMesh","bindMode","bindMatrix","bindMatrixInverse","calculateInverses","normalizeSkinWeights","skinWeight","Skeleton","boneInverses","bone","isBone","offsetMatrix","identityMatrix","getBoneByName","Bone","linecap","linejoin","Line","computeLineDistances","positionAttribute","linePrecision","localPrecision","localPrecisionSq","vStart","vEnd","interSegment","interRay","distSq","nbVertices","LineSegments","LineLoop","Points","threshold","params","localThreshold","localThresholdSq","testPoint","rayPointDistanceSq","distanceToRay","HAVE_CURRENT_DATA","CompressedTexture","isCanvasTexture","DepthTexture","WireframeGeometry","o","ol","edge","edges","ParametricGeometry","func","slices","stacks","ParametricBufferGeometry","pu","pv","sliceCount","PolyhedronGeometry","PolyhedronBufferGeometry","vertexBuffer","uvBuffer","subdivide","appplyRadius","generateUVs","getVertexByIndex","subdivideFace","cols","aj","bj","rows","pushVertex","azimuth","inclination","correctUVs","correctSeam","centroid","azi","correctUV","TetrahedronGeometry","TetrahedronBufferGeometry","OctahedronGeometry","OctahedronBufferGeometry","IcosahedronGeometry","IcosahedronBufferGeometry","DodecahedronGeometry","DodecahedronBufferGeometry","TubeGeometry","tubularSegments","radialSegments","closed","taper","bufferGeometry","TubeBufferGeometry","tangents","binormals","frames","computeFrenetFrames","P","generateBufferData","generateSegment","generateIndices","getPointAt","N","B","TorusKnotGeometry","tube","heightScale","TorusKnotBufferGeometry","P1","P2","T","calculatePositionOnCurve","cu","su","quOverP","cs","TorusGeometry","TorusBufferGeometry","Earcut","triangulate","holeIndices","dim","hasHoles","outerLen","outerNode","linkedList","invSize","eliminateHoles","earcutLinked","clockwise","last","signedArea","insertNode","removeNode","filterPoints","again","steiner","area","prev","ear","pass","indexCurve","isEarHashed","isEar","cureLocalIntersections","splitEarcut","pointInTriangle","minTX","minTY","maxTX","maxTY","zOrder","nextZ","prevZ","locallyInside","isValidDiagonal","splitPolygon","getLeftmost","compareX","eliminateHole","hole","findHoleBridge","hx","hy","mx","my","tanMin","sortLinked","tail","numMerges","pSize","qSize","inSize","leftmost","intersectsPolygon","middleInside","q2","inside","Node","an","bp","sum","ShapeUtils","contour","isClockWise","pts","triangulateShape","holes","removeDupEndPts","addContour","holeIndex","ExtrudeGeometry","ExtrudeBufferGeometry","verticesArray","addShape","placeholder","curveSegments","steps","bevelEnabled","bevelThickness","bevelSize","bevelOffset","bevelSegments","extrudePath","uvgen","UVGenerator","WorldUVGenerator","extrudePts","extrudeByPath","splineTube","binormal","position2","getSpacedPoints","ahole","hl","shapePoints","extractPoints","reverse","scalePt2","pt","bs","vert","vlen","flen","getBevelVec","inPt","inPrev","inNext","v_trans_x","v_trans_y","shrink_by","v_prev_x","v_prev_y","v_next_x","v_next_y","v_prev_lensq","collinear0","v_prev_len","v_next_len","ptPrevShift_x","ptPrevShift_y","ptNextShift_x","ptNextShift_y","sf","v_trans_lensq","direction_eq","contourMovements","holesMovements","oneHoleMovements","verticesMovements","buildLidFaces","buildSideFaces","f3","layeroffset","sidewalls","sl","slen1","slen2","f4","addVertex","generateTopUV","addUV","generateSideWallUV","vector2","indexA","indexB","indexC","a_x","a_y","b_x","b_y","c_x","c_y","indexD","a_z","b_z","c_z","d_x","d_y","d_z","TextGeometry","TextBufferGeometry","font","isFont","generateShapes","SphereGeometry","phiStart","phiLength","thetaStart","thetaLength","thetaEnd","grid","verticesRow","uOffset","RingGeometry","innerRadius","outerRadius","thetaSegments","phiSegments","RingBufferGeometry","segment","radiusStep","thetaSegmentLevel","LatheGeometry","segments","LatheBufferGeometry","base","inverseSegments","n1","n2","ShapeGeometry","ShapeBufferGeometry","toJSON$1","shapeHole","indexOffset","shapeVertices","shapeHoles","EdgesGeometry","thresholdAngle","thresholdDot","sourceVertices","face1","face2","CylinderGeometry","radiusTop","radiusBottom","openEnded","CylinderBufferGeometry","indexArray","generateTorso","generateCap","slope","indexRow","sinTheta","cosTheta","centerIndexStart","centerIndexEnd","ConeGeometry","ConeBufferGeometry","CircleGeometry","CircleBufferGeometry","Geometries","freeze","RawShaderMaterial","Materials","AnimationUtils","arraySlice","from","isTypedArray","convertArray","forceClone","ArrayBuffer","isView","DataView","getKeyframeOrder","compareTime","sortedArray","nValues","srcOffset","flattenJSON","jsonKeys","valuePropertyName","Interpolant","parameterPositions","sampleValues","sampleSize","resultBuffer","_cachedIndex","valueSize","evaluate","pp","validate_interval","seek","linear_scan","forward_scan","giveUpAt","afterEnd_","t1global","beforeStart_","mid","intervalChanged_","interpolate_","settings","DefaultSettings_","getSettings_","copySampleValue_","CubicInterpolant","_weightPrev","_offsetPrev","_weightNext","_offsetNext","endingStart","endingEnd","iPrev","iNext","tPrev","tNext","halfDt","o1","o0","oP","oN","wP","wN","ppp","sP","sN","LinearInterpolant","offset1","offset0","weight1","weight0","DiscreteInterpolant","KeyframeTrack","TimeBufferType","ValueBufferType","setInterpolation","DefaultInterpolation","trackType","json","getInterpolation","ValueTypeName","InterpolantFactoryMethodDiscrete","getValueSize","InterpolantFactoryMethodLinear","InterpolantFactoryMethodSmooth","factoryMethod","createInterpolant","shift","timeOffset","timeScale","startTime","endTime","nKeys","valid","prevTime","currTime","optimize","smoothInterpolation","writeIndex","keep","timeNext","offsetP","offsetN","readOffset","writeOffset","TypedKeyframeTrack","BooleanKeyframeTrack","ColorKeyframeTrack","NumberKeyframeTrack","QuaternionLinearInterpolant","QuaternionKeyframeTrack","StringKeyframeTrack","VectorKeyframeTrack","AnimationClip","tracks","resetDuration","getTrackTypeForValueTypeName","typeName","toLowerCase","parseKeyframeTrack","jsonTracks","frameTime","fps","clip","clipTracks","CreateFromMorphTargetSequence","morphTargetSequence","noLoop","numMorphTargets","findByName","objectOrClipArray","clipArray","animations","CreateClipsFromMorphTargetSequences","animationToMorphTargets","parts","animationMorphTargets","clips","parseAnimation","addNonemptyTrack","trackName","animationKeys","propertyName","destTracks","clipName","hierarchyTracks","hierarchy","morphTargetNames","morphTargetName","animationKey","boneName","files","file","LoadingManager","isLoading","itemsLoaded","itemsTotal","urlModifier","itemStart","itemEnd","itemError","resolveURL","setURLModifier","DefaultLoadingManager","loading","FileLoader","manager","dataUriRegex","dataUriRegexResult","mimeType","isBase64","decodeURIComponent","atob","charCodeAt","parser","DOMParser","parseFromString","callbacks","withCredentials","overrideMimeType","requestHeader","setRequestHeader","setPath","setResponseType","setWithCredentials","setMimeType","AnimationLoader","CompressedTextureLoader","_parser","loadTexture","texDatas","mipmapCount","isCubemap","DataTextureLoader","texData","onImageLoad","onImageError","setCrossOrigin","Curve","arcLengthDivisions","getPoint","optionalTarget","getUtoTmapping","getPoints","divisions","getLength","lengths","getLengths","cacheArcLengths","current","updateArcLengths","arcLengths","targetArcLength","comparison","lengthBefore","lengthAfter","segmentLength","segmentFraction","getTangent","pt1","pt2","getTangentAt","mat","MAX_VALUE","tz","fromJSON","EllipseCurve","aX","aY","xRadius","yRadius","aStartAngle","aEndAngle","aClockwise","aRotation","isEllipseCurve","twoPi","deltaAngle","samePoints","ArcCurve","aRadius","isArcCurve","CubicPoly","c0","initCatmullRom","x3","tension","initNonuniformCatmullRom","dt0","dt1","dt2","calc","pz","CatmullRomCurve3","curveType","isCatmullRomCurve3","intPoint","weight","QuadraticBezierP0","QuadraticBezierP1","QuadraticBezierP2","QuadraticBezier","CubicBezierP0","CubicBezierP1","CubicBezierP2","CubicBezierP3","CubicBezier","CubicBezierCurve","v3","isCubicBezierCurve","CubicBezierCurve3","isCubicBezierCurve3","LineCurve","isLineCurve","LineCurve3","isLineCurve3","QuadraticBezierCurve","isQuadraticBezierCurve","QuadraticBezierCurve3","isQuadraticBezierCurve3","SplineCurve","isSplineCurve","Curves","CurvePath","curves","autoClose","curve","startPoint","endPoint","curveLengths","getCurveLengths","lens","cacheLengths","sums","Path","currentPoint","moveTo","lineTo","quadraticCurveTo","aCPx","aCPy","bezierCurveTo","aCP1x","aCP1y","aCP2x","aCP2y","splineThru","npts","absarc","absellipse","ellipse","firstPoint","lastPoint","Shape","getPointsHoles","holesPts","Light","HemisphereLight","LightShadow","SpotLightShadow","SpotLight","power","PointLight","isOrthographicCamera","zoomW","zoomH","scaleW","scaleH","DirectionalLightShadow","DirectionalLight","AmbientLight","RectAreaLight","MaterialLoader","getTexture","shading","setTextures","LoaderUtils","decodeText","TextDecoder","decode","fromCharCode","escape","extractUrlBase","lastIndexOf","InstancedBufferGeometry","InstancedBufferAttribute","BufferGeometryLoader","typedArray","TYPED_ARRAYS","bufferAttributeConstr","bufferAttribute","drawcalls","offsets","ObjectLoader","resourcePath","setResourcePath","parseShape","parseGeometries","parseImages","parseTextures","parseMaterials","parseObject","parseAnimations","bufferGeometryLoader","details","geometryShapes","geometryLoader","LegacyJSONLoader","loadImage","currentUrl","parseConstant","TEXTURE_MAPPING","TEXTURE_WRAPPING","TEXTURE_FILTER","getGeometry","getMaterial","ImageBitmapLoader","createImageBitmap","fetch","setOptions","res","imageBitmap","ShapePath","subPaths","currentPath","toShapes","isCCW","noHoles","toShapesNoHoles","inSubpaths","tmpPath","tmpShape","isPointInsidePolygon","inPolygon","polyLen","edgeLowPt","edgeHighPt","edgeDx","edgeDy","perpEdge","solid","holesFirst","betterShapeHoles","newShapes","newShapeHoles","mainIdx","tmpPoints","ambiguous","toChange","sIdx","sLen","sho","hIdx","ho","hole_unassigned","s2Idx","froms","tos","tmpHoles","Font","paths","createPaths","chars","line_height","yMax","yMin","underlineThickness","char","ret","createPath","glyph","glyphs","cpx","cpy","cpx1","cpy1","cpx2","cpy2","outline","_cachedOutline","action","FontLoader","substring","Loader","Handlers","handlers","regex","onLoadStart","onLoadProgress","onLoadComplete","initMaterials","texturePath","BlendingMode","textureLoader","materialLoader","fullPath","mapDiffuseRepeat","mapDiffuseOffset","mapDiffuseWrap","mapDiffuseAnisotropy","mapEmissiveRepeat","mapEmissiveOffset","mapEmissiveWrap","mapEmissiveAnisotropy","mapLightRepeat","mapLightOffset","mapLightWrap","mapLightAnisotropy","mapAORepeat","mapAOOffset","mapAOWrap","mapAOAnisotropy","mapBumpRepeat","mapBumpOffset","mapBumpWrap","mapBumpAnisotropy","mapNormalRepeat","mapNormalOffset","mapNormalWrap","mapNormalAnisotropy","mapSpecularRepeat","mapSpecularOffset","mapSpecularWrap","mapSpecularAnisotropy","mapMetalnessRepeat","mapMetalnessOffset","mapMetalnessWrap","mapMetalnessAnisotropy","mapRoughnessRepeat","mapRoughnessOffset","mapRoughnessWrap","mapRoughnessAnisotropy","mapAlphaRepeat","mapAlphaOffset","mapAlphaWrap","mapAlphaAnisotropy","AudioContext","webkitAudioContext","AudioLoader","bufferCopy","decodeAudioData","audioBuffer","SphericalHarmonics3","isSphericalHarmonics3","getAt","coeff","getIrradianceAt","getBasisAt","shBasis","LightProbe","HemisphereLightProbe","sky","ground","isHemisphereLightProbe","AmbientLightProbe","isAmbientLightProbe","instance","eyeRight","eyeLeft","eyeSepOnProjection","ymax","xmin","xmax","CubeCamera","cubeResolution","cameraPX","cameraNX","cameraPY","cameraNY","cameraPZ","cameraNZ","Clock","autoStart","oldTime","elapsedTime","running","getElapsedTime","getDelta","newTime","AudioListener","gain","createGain","destination","timeDelta","getInput","removeFilter","getFilter","setFilter","getMasterVolume","setMasterVolume","setTargetAtTime","clock","positionX","linearRampToValueAtTime","positionY","positionZ","forwardX","forwardY","forwardZ","upX","upY","upZ","setOrientation","Audio","detune","playbackRate","hasPlaybackControl","sourceType","filters","getOutput","setNodeSource","audioNode","setMediaElementSource","mediaElement","createMediaElementSource","setBuffer","createBufferSource","onended","onEnded","setDetune","setPlaybackRate","getFilters","setFilters","getDetune","getPlaybackRate","getLoop","setLoop","getVolume","setVolume","PositionalAudio","panner","createPanner","panningModel","getRefDistance","refDistance","setRefDistance","getRolloffFactor","rolloffFactor","setRolloffFactor","getDistanceModel","distanceModel","setDistanceModel","getMaxDistance","setMaxDistance","setDirectionalCone","coneInnerAngle","coneOuterAngle","coneOuterGain","orientationX","orientationY","orientationZ","AudioAnalyser","fftSize","analyser","createAnalyser","frequencyBinCount","getFrequencyData","getByteFrequencyData","getAverageFrequency","PropertyMixer","mixFunction","_slerp","_select","_lerp","_mixBufferRegion","cumulativeWeight","useCount","referenceCount","accumulate","accuIndex","currentWeight","mix","originalValueOffset","saveOriginalState","getValue","restoreOriginalState","RESERVED_CHARS_RE","Composite","targetGroup","optionalParsedPath","parsedPath","PropertyBinding","parseTrackName","_targetGroup","_bindings","subscribe_","firstValidIndex","nCachedObjects_","bindings","unbind","rootNode","findNode","nodeName","isAnimationObjectGroup","sanitizeNodeName","reservedRe","wordChar","wordCharOrDot","directoryRe","nodeRe","objectRe","propertyRe","trackRe","supportedObjectNames","matches","results","objectName","objectIndex","propertyIndex","lastDot","searchNodeSubtree","childNode","subTreeNode","_getValue_unavailable","_setValue_unavailable","BindingType","Direct","EntireArray","ArrayElement","HasFromToArray","Versioning","NeedsUpdate","MatrixWorldNeedsUpdate","GetterByBindingType","getValue_direct","getValue_array","resolvedProperty","getValue_arrayElement","getValue_toArray","SetterByBindingTypeAndVersioning","setValue_direct","targetObject","setValue_direct_setNeedsUpdate","setValue_direct_setMatrixWorldNeedsUpdate","setValue_array","dest","setValue_array_setNeedsUpdate","setValue_array_setMatrixWorldNeedsUpdate","setValue_arrayElement","setValue_arrayElement_setNeedsUpdate","setValue_arrayElement_setMatrixWorldNeedsUpdate","setValue_fromArray","setValue_fromArray_setNeedsUpdate","setValue_fromArray_setMatrixWorldNeedsUpdate","getValue_unbound","targetArray","sourceArray","nodeProperty","versioning","bindingType","_getValue_unbound","_setValue_unbound","AnimationObjectGroup","_indicesByUUID","_paths","_parsedPaths","_bindingsIndicesByPath","stats","inUse","bindingsPerObject","nObjects","nCachedObjects","indicesByUUID","parsedPaths","nBindings","knownObject","firstActiveIndex","lastCachedObject","bindingsForPath","lastCached","lastCachedIndex","firstActiveObject","firstActive","uncache","lastObject","indicesByPath","unsubscribe_","lastBindingsIndex","lastBindings","lastBindingsPath","AnimationAction","mixer","localRoot","_mixer","_clip","_localRoot","nTracks","interpolants","interpolantSettings","interpolant","_interpolantSettings","_interpolants","_propertyBindings","_cacheIndex","_byClipCacheIndex","_timeScaleInterpolant","_weightInterpolant","_loopCount","_effectiveTimeScale","_effectiveWeight","repetitions","clampWhenFinished","zeroSlopeAtStart","zeroSlopeAtEnd","_activateAction","_deactivateAction","stopFading","stopWarping","isRunning","_isActiveAction","isScheduled","startAt","setEffectiveWeight","getEffectiveWeight","_scheduleFading","crossFadeFrom","fadeOutAction","warp","fadeInDuration","fadeOutDuration","startEndRatio","endStartRatio","crossFadeTo","fadeInAction","weightInterpolant","_takeBackControlInterpolant","setEffectiveTimeScale","getEffectiveTimeScale","setDuration","syncWith","halt","startTimeScale","endTimeScale","_lendControlInterpolant","timeScaleInterpolant","getMixer","getClip","getRoot","_root","_update","deltaTime","timeDirection","_updateWeight","timeRunning","_updateTimeScale","clipTime","_updateTime","propertyMixers","interpolantValue","loopCount","pingPong","_setEndings","handle_stop","loopDelta","pending","atStart","atEnd","weightNow","weightThen","AnimationMixer","_initMemoryManager","_accuIndex","_bindAction","prototypeAction","rootUuid","bindingsByRoot","_bindingsByRootAndName","bindingsByName","_addInactiveBinding","clipUuid","actionsForClip","_actionsByClip","knownActions","_addInactiveAction","_lendBinding","_lendAction","_takeBackBinding","_takeBackAction","_actions","_nActiveActions","_nActiveBindings","_controlInterpolants","_nActiveControlInterpolants","actions","controlInterpolants","actionsByClip","actionByRoot","_removeInactiveAction","lastInactiveAction","cacheIndex","knownActionsForClip","lastKnownAction","byClipCacheIndex","_removeInactiveBindingsForAction","_removeInactiveBinding","prevIndex","lastActiveIndex","firstInactiveAction","firstInactiveIndex","lastActiveAction","bindingByName","propBinding","lastInactiveBinding","remove_empty_map","_","firstInactiveBinding","lastActiveBinding","_controlInterpolantsResultBuffer","__cacheIndex","lastActiveInterpolant","clipAction","optionalRoot","clipObject","existingAction","newAction","stopAllAction","nActions","uncacheClip","actionsToRemove","uncacheRoot","uncacheAction","Uniform","InstancedInterleavedBuffer","PointCloud","ascSort","coords","Spherical","other","makeSafe","setFromCartesianCoords","Cylindrical","Box2","Line3","distanceSq","closestPointToPointParameter","startP","startEnd","clampToLine","startEnd2","startEnd_startP","ImmediateRenderObject","VertexNormalsHelper","nNormals","objGeometry","objPos","objNorm","SpotLightHelper","cone","coneLength","coneWidth","getBoneList","boneList","SkeletonHelper","boneMatrix","matrixWorldInv","PointLightHelper","sphereSize","RectAreaLightHelper","HemisphereLightHelper","LightProbeHelper","GridHelper","PolarGridHelper","radials","circles","PositionalAudioHelper","divisionsInnerAngle","divisionsOuterAngle","materialInnerAngle","materialOuterAngle","halfConeInnerAngle","halfConeOuterAngle","FaceNormalsHelper","DirectionalLightHelper","lightPlane","targetLine","CameraHelper","pointMap","colorFrustum","colorCone","colorUp","colorTarget","colorCross","addLine","addPoint","setPoint","BoxHelper","Box3Helper","PlaneHelper","lineGeometry","coneGeometry","ArrowHelper","headLength","headWidth","setDirection","AxesHelper","Face4","LineStrip","LinePieces","MeshFaceMaterial","MultiMaterial","Particle","ParticleSystem","PointCloudMaterial","ParticleBasicMaterial","ParticleSystemMaterial","Vertex","DynamicBufferAttribute","Int8Attribute","Uint8Attribute","Uint8ClampedAttribute","Int16Attribute","Uint16Attribute","Int32Attribute","Uint32Attribute","Float32Attribute","Float64Attribute","construct","createPointsGeometry","createSpacedPointsGeometry","fromPoints","ClosedSplineCurve3","SplineCurve3","Spline","initFromArray","getControlPointsArray","reparametrizeByArcLength","AxisHelper","BoundingBoxHelper","EdgesHelper","setColors","WireframeHelper","XHRLoader","BinaryTextureLoader","setTexturePath","isIntersectionBox","isIntersectionSphere","random16","nearestPowerOfTwo","nextPowerOfTwo","flattenToArrayOffset","multiplyVector3","multiplyVector3Array","applyToBuffer","applyToVector3Array","extractPosition","getPosition","multiplyToArray","multiplyVector4","rotateAxis","crossVector","rotateByAxis","makeFrustum","isIntersectionLine","isIntersectionPlane","barycoordFromPoint","midpoint","extractAllPoints","extrude","makeGeometry","fromAttribute","distanceToManhattan","lengthManhattan","setEulerFromRotationMatrix","setEulerFromQuaternion","getPositionFromMatrix","getScaleFromMatrix","getColumnFromMatrix","applyProjection","computeTangents","getChildByName","renderDepth","getWorldRotation","eulerOrder","useQuaternion","initBones","setLens","onlyShadow","shadowCameraFov","shadowCameraLeft","shadowCameraRight","shadowCameraTop","shadowCameraBottom","shadowCameraVisible","shadowDarkness","shadowMapWidth","shadowMapHeight","copyIndicesArray","addIndex","addDrawCall","clearDrawCalls","computeOffsets","getArrays","addShapeList","wrapAround","overdraw","wrapRGB","metal","clearTarget","getCurrentRenderTarget","getPrecision","resetGLState","supportsFloatTextures","supportsHalfFloatTextures","supportsStandardDerivatives","supportsCompressedTextureS3TC","supportsCompressedTexturePVRTC","supportsBlendMinMax","supportsInstancedArrays","enableScissorTest","addPrePlugin","addPostPlugin","updateShadowMap","setFaceCulling","allocTextureUnit","setTexture","shadowMapCullFace","renderReverseSided","renderSingleSided","standing","audioLoader","getData","updateCubeMap","GeometryUtils","geometry1","loadTextureCube","loadCompressedTexture","loadCompressedTextureCube","CanvasRenderer","JSONLoader","SceneUtils","createMultiMaterialObject","detach","LensFlare","dracoLoader","_onError","setDRACOLoader","content","magic","BINARY_EXTENSION_HEADER_MAGIC","EXTENSIONS","KHR_BINARY_GLTF","GLTFBinaryExtension","asset","extensionsUsed","extensionName","extensionsRequired","KHR_LIGHTS_PUNCTUAL","GLTFLightsExtension","KHR_MATERIALS_UNLIT","GLTFMaterialsUnlitExtension","KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS","GLTFMaterialsPbrSpecularGlossinessExtension","KHR_DRACO_MESH_COMPRESSION","GLTFDracoMeshCompressionExtension","MSFT_TEXTURE_DDS","GLTFTextureDDSExtension","KHR_TEXTURE_TRANSFORM","GLTFTextureTransformExtension","GLTFParser","GLTFRegistry","DDSLoader","ddsLoader","lightDefs","loadLight","lightIndex","lightDef","lightNode","innerConeAngle","outerConeAngle","getMaterialType","extendParams","materialParams","materialDef","metallicRoughness","pbrMetallicRoughness","baseColorFactor","baseColorTexture","assignTexture","BINARY_EXTENSION_BUFFER_NAME","BINARY_EXTENSION_HEADER_LENGTH","BINARY_EXTENSION_CHUNK_TYPES","BIN","headerView","getUint32","chunkView","chunkIndex","byteLength","chunkLength","chunkType","contentArray","byteOffset","decodePrimitive","primitive","bufferViewIndex","bufferView","gltfAttributeMap","threeAttributeMap","attributeNormalizedMap","attributeTypeMap","attributeName","threeAttributeName","ATTRIBUTES","accessorDef","accessors","componentType","WEBGL_COMPONENT_TYPES","getDependency","decodeDracoFile","extendTexture","texCoord","specularGlossinessParams","pbrSpecularGlossiness","specularMapParsFragmentChunk","glossinessMapParsFragmentChunk","specularMapFragmentChunk","glossinessMapFragmentChunk","lightPhysicalFragmentChunk","glossiness","glossinessMap","diffuseFactor","diffuseTexture","glossinessFactor","specularFactor","specularGlossinessTexture","specGlossMapDef","isGLTFSpecularGlossinessMaterial","cloneMaterial","refreshUniforms","USE_GLOSSINESSMAP","USE_ROUGHNESSMAP","GLTFCubicSplineInterpolant","stride2","stride3","td","m0","WEBGL_CONSTANTS","FLOAT","FLOAT_MAT3","FLOAT_MAT4","FLOAT_VEC2","FLOAT_VEC3","FLOAT_VEC4","LINEAR","REPEAT","SAMPLER_2D","POINTS","LINES","LINE_LOOP","LINE_STRIP","TRIANGLES","TRIANGLE_STRIP","TRIANGLE_FAN","UNSIGNED_BYTE","UNSIGNED_SHORT","WEBGL_TYPE","WEBGL_FILTERS","WEBGL_WRAPPINGS","WEBGL_SIDES","WEBGL_DEPTH_FUNCS","WEBGL_BLEND_EQUATIONS","WEBGL_BLEND_FUNCS","WEBGL_TYPE_SIZES","POSITION","TANGENT","TEXCOORD_0","TEXCOORD_1","COLOR_0","WEIGHTS_0","JOINTS_0","PATH_PROPERTIES","translation","weights","INTERPOLATION","CUBICSPLINE","STEP","STATES_ENABLES","ALPHA_MODES","OPAQUE","MASK","BLEND","MIME_TYPE_FORMATS","defaultMaterial","createDefaultMaterial","addUnknownExtensionsToUserData","knownExtensions","objectDef","gltfExtensions","assignExtrasToUserData","gltfDef","extras","addMorphTargets","targets","hasMorphPosition","hasMorphNormal","pendingPositionAccessors","pendingNormalAccessors","pendingAccessor","morphPositions","cloneBufferAttribute","normalAttribute","meshDef","targetNames","isObjectEqual","createPrimitiveKey","primitiveDef","dracoExtension","geometryKey","createAttributesKey","attributesKey","primitiveCache","fileLoader","markDefs","getDependencies","dependencies","scenes","nodeDefs","nodes","skinDefs","skins","meshDefs","meshes","meshReferences","meshUses","skinIndex","skinLength","joints","nodeIndex","nodeLength","nodeDef","skin","cacheKey","dependency","loadScene","loadNode","loadMesh","loadAccessor","loadBufferView","loadBuffer","loadMaterial","loadSkin","loadAnimation","loadCamera","defs","def","bufferIndex","bufferDef","uri","reject","bufferViewDef","bufferViews","accessorIndex","sparse","pendingBufferViews","TypedArray","elementBytes","itemBytes","byteStride","ibCacheKey","ib","itemSizeIndices","SCALAR","TypedArrayIndices","byteOffsetIndices","byteOffsetValues","sparseIndices","sparseValues","textureIndex","textureDef","textureExtensions","sourceURI","isObjectURL","samplers","sampler","mapName","mapDef","assignFinalMaterial","useVertexTangents","useVertexColors","useFlatShading","useMorphTargets","useMorphNormals","pointsMaterial","lineMaterial","materialType","materialExtensions","sgExtension","kmuExtension","metallicFactor","roughnessFactor","metallicRoughnessTexture","alphaMode","alphaCutoff","normalTexture","occlusionTexture","strength","emissiveFactor","emissiveTexture","addPrimitiveAttributes","assignAttributeAccessor","accessor","gltfAttributeName","loadGeometries","primitives","createDracoPrimitive","promise","geometryPromise","meshIndex","originalMaterials","cameraIndex","cameraDef","yfov","aspectRatio","znear","zfar","xmag","ymag","skinDef","skinEntry","inverseBindMatrices","animationIndex","animationDef","pendingNodes","pendingInputAccessors","pendingOutputAccessors","pendingSamplers","pendingTargets","channels","input","inputAccessors","outputAccessors","inputAccessor","outputAccessor","targetName","InterpolantFactoryMethodGLTFCubicSpline","isInterpolantFactoryMethodGLTFCubicSpline","instanceNum","buildNodeHierachy","nodeId","parentObject","pendingJoints","jointNodes","jointNode","sceneIndex","sceneDef","nodeIds","aLight","panodiv","getElementById","test_panorama","pano1_url"],"mappings":"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C;;AAwIA,SAAOJ,UAAP;AAEA,CAzmGgB,EAAjB;;;;;;;;;;;;;;;;;;ACpGA;AAGO,MAAMqB,SAAS,GAAIH,QAAD,IAAc;AACnC,QAAMkuK,MAAM,GAAG,IAAIruK,+CAAJ,CAAuB,QAAvB,EAAiC,GAAjC,CAAf;AACAG,UAAQ,CAACqB,GAAT,CAAa6sK,MAAb;AACH,CAHM,C;;;;;;;;;;;;;;;ACHP,iEAAe,qBAAuB,yCAAyC,E;;;;;;;;;;;;;;;ACA/E,iEAAe,qBAAuB,yCAAyC,E;;;;;;UCA/E;UACA;;UAEA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;;UAEA;UACA;;UAEA;UACA;UACA;;;;;WCtBA;WACA;WACA;WACA;WACA,wCAAwC,yCAAyC;WACjF;WACA;WACA,E;;;;;WCPA;WACA;WACA;WACA;WACA,EAAE;WACF;WACA;WACA,CAAC,I;;;;;WCPD,wF;;;;;WCAA;WACA;WACA;WACA,sDAAsD,kBAAkB;WACxE;WACA,+CAA+C,cAAc;WAC7D,E;;;;;WCNA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA,kC;;;;;;;;;;;;;;;;;;;ACfa;;AACb;AACA;CAEA;;AACA;AACA;AAEA;CAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,MAAMC,OAAO,GAAG/pK,QAAQ,CAACgqK,cAAT,CAAwB,YAAxB,CAAhB;AACA,MAAMruK,MAAM,GAAG,IAAIE,4CAAJ,CAAoB;AAC/BoH,WAAS,EAAE8mK,OADoB;AAE/B3sI,QAAM,EAAE;AAFuB,CAApB,CAAf,C,CAKA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAIA,MAAM6sI,aAAa,GAAG,IAAIpuK,mDAAJ,CAA2BquK,mDAA3B,CAAtB;AACAvuK,MAAM,CAACsB,GAAP,CAAWgtK,aAAX,E,CACA;;AAGA,IAAI7vK,MAAM,GAAG,IAAIM,6EAAJ,EAAb;AACA,IAAIP,OAAO,GAAG,IAAd;AACAC,MAAM,CAACC,IAAP,CAAY,sBAAZ,EAAqCQ,IAAD,IAAQ;AACxCV,SAAO,GAAGU,IAAI,CAACC,KAAf;AACAX,SAAO,CAACY,KAAR,CAAcC,GAAd,CAAkB,CAAlB,EAAoB,CAApB,EAAsB,CAAtB;AACAb,SAAO,CAACc,QAAR,CAAiBD,GAAjB,CAAqB,EAArB,EAAyB,CAAzB,EAA4B,EAA5B;AACAb,SAAO,CAACF,IAAR,GAAe,KAAf;AACAK,SAAO,CAACC,GAAR,CAAYJ,OAAZ,EALwC,CAQxC;AAEJ;AACA;AACA;AACA;AACC,CAdD;AAgBAG,OAAO,CAACC,GAAR,CAAYsB,qCAAZ,E,CAGA;AACA;AACA;AACA;AACA;AACA;;AAKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,E","file":"index_bundle.js","sourcesContent":["import * as THREE from \"three\";\nimport { GLTFLoader } from 'three/examples/jsm/loaders/GLTFLoader';\n\nexport class NPC{\n    constructor(name, path){\n        this.name = name;\n        this.npc_obj = null;\n        this.path = path;\n        this.loader = null;\n    }\n\n    async load(){\n        if(this.npc_obj) return;\n\n        console.log(\"loading npc model\")\n\n        if(this.path.endsWith(\".gltf\")) await this.load_GLTF();\n        else console.log(\"Can't load npc model\");\n\n        return\n    }\n\n    async load_GLTF(){\n        this.loader = new GLTFLoader();\n        await new Promise(\n            resolve => this.loader.load(this.path, (gltf)=>{\n                this.npc_obj = gltf.scene;\n                this.npc_obj.scale.set(1,1,1);\n                this.npc_obj.position.set(20, 0, 40);\n                this.npc_obj.name = `npc_${this.name}`;\n                console.log(`loaded GLTF ${this.npc_obj.name}`);\n                resolve();\n                }\n            ),\n        );\n    }\n    move(vec){\n        if(!this.npc_obj) return;\n        this.npc_obj.position.set(vec);\n    }\n}\n\n","import * as PANOLENS from \"panolens\";\nimport * as THREE from \"three\";\n\nimport {addALight} from \"./SceneFunctions\";\n\nexport let current_location = \"\";\nexport class PanoramaItem{\n    constructor({name,\n                 pano_url,\n                 transition_edges=[],\n                 enter_look_direction = new THREE.Vector3(0,0,0),\n                 npc_list\n                } = {}){\n        this.viewer;\n\n        this.name = name;\n        this.pano_url = pano_url;\n        this.transition_edges = transition_edges;\n        this.pano_obj = new PANOLENS.ImagePanorama(this.pano_url);\n        this.enter_look_direction = enter_look_direction;\n\n        this.first_look = true;\n        this.npc_list = npc_list;\n\n        addALight(this.pano_obj);\n\n        this.pano_obj.addEventListener('enter', () => {\n            current_location = this.name;\n            console.log(`entering \"${current_location}\"`);\n            // this.loadNPCs();\n            if(this.first_look){\n\n                this.viewer.tweenControlCenter(this.enter_look_direction, 0);\n                console.log(`Looking at ${this.enter_look_direction}`)\n                this.first_look = false;\n            }\n\n            this.moveNPCs();\n\n            console.log(this);\n        });\n\n        this.pano_obj.addEventListener('leave', () => {\n           console.log(`leave ${this.name}`);\n           this.removeAllNPCs();\n        });\n\n        this.pano_obj.addEventListener( 'click', ( event ) => {\n\n            if ( event.intersects.length > 0 ) {\n              console.log(event);\n\n              let intersect = event.intersects[ 0 ].object;\n\n              if ( !(intersect instanceof PANOLENS.Infospot) && intersect.material ){\n                console.log(\"You clicked on npc !!!\");\n                console.log(MAIN_NPC);\n              }\n            }\n        } );\n\n    }\n\n    removeAllNPCs() {\n        for(let {npc, pos} of this.npc_list) {\n            this.pano_obj.remove(npc.npc_obj);\n        }\n    }\n\n    setViewer(viewer){\n        this.viewer = viewer;\n    }\n\n    loadNPCs(){\n        for(let {npc, pos} of this.npc_list){\n            npc.load().then(\n                () => {\n                    console.log(`adding npc ${npc.name} to panorama ${this.name}`);\n                    this.pano_obj.add(npc.npc_obj);\n                }\n            );\n        }\n    }\n\n    moveNPCs(){\n        for(let {npc, pos} of this.npc_list){\n            npc.move(pos);\n        }\n    }\n}","import 'three';\n\nconst version=\"0.10.0\";\n\n/**\n * REVISION\n * @module REVISION\n * @example PANOLENS.REVISION\n * @type {string} version\n */\nconst REVISION = version;\n\n/**\n * CONTROLS\n * @module CONTROLS\n * @example PANOLENS.CONTROLS.ORBIT\n * @property {number} ORBIT 0\n * @property {number} DEVICEORIENTATION 1\n */\nconst CONTROLS = { ORBIT: 0, DEVICEORIENTATION: 1 };\n\n/**\n * MODES\n * @module MODES\n * @example PANOLENS.MODES.UNKNOWN\n * @property {number} UNKNOWN 0\n * @property {number} NORMAL 1\n * @property {number} CARDBOARD 2\n * @property {number} STEREO 3\n */\nconst MODES = { UNKNOWN: 0, NORMAL: 1, CARDBOARD: 2, STEREO: 3 };\n\n/**\n * Data URI Images\n * @module DataImage\n * @example PANOLENS.DataImage.Info\n * @property {string} Info Information Icon\n * @property {string} Arrow Arrow Icon\n * @property {string} FullscreenEnter Fullscreen Enter Icon\n * @property {string} FullscreenLeave Fullscreen Leave Icon\n * @property {string} VideoPlay Video Play Icon\n * @property {string} VideoPause Video Pause Icon\n * @property {string} WhiteTile White Tile Icon\n * @property {string} Setting Settings Icon\n * @property {string} ChevronRight Chevron Right Icon\n * @property {string} Check Check Icon\n * @property {string} ViewIndicator View Indicator Icon\n */\nconst DataImage = {\n    Info: 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAABmJLR0QAAAAAAAD5Q7t/AAAACXBIWXMAAABIAAAASABGyWs+AAAACXZwQWcAAABAAAAAQADq8/hgAAADBklEQVR42u2bP08UQRiHnzFaSYCI/xoksdBIqGwIiYWRUBISExpCQ0ej38FWOmlIKKhoMPEbaCxsrrHiYrQgOSlQEaICrT+LHSPZzNzt3s3c3Hn7lHvLzvv82L2dm30XKioqKgYY062BJF0HpoA7wARwBbhsPz4DjoEG8AnYNcZ8Sx1Op8IXJM1KWpdUV3nq9m9nJV1I7VNGfEzSM0mNNqR9NOwxx1L7NRMflbQm6SSgeJ4TO8Zoat+8/LKkg4jieQ4kLaf2RtKwpJ0uiufZkTScSn5S0l5C+b/sSZrstvyMpKPU5uc4kjTTjkvpeYCkaeA1/+7hvcIZMGuMqUULQNIU8Aa4ltrWwyHwyBizGzwASSPAe+B2assW7AH3jTE/i+xcZoa12Qfy2Bo3i+5cKABl99zF1GYlWFTBeULLS0DZrOsDcDNggTXgc27bLWA64BhfgHvGmB8dHUXZ1DM0S45xliKMs9bKr+klIOkqsBrwv9JtVq1DewEAT4Ch1BYdMGQdygeg7Df4SmqDAKyoyXpCszPgITCeuvoAjFuX0gE8jljUdv7bCtiOOJ7XpdUZ8L/gdXHOA5QtYH5NXXVgbrgWWn1nwFTqaiPgdPIFcDd1tRFwOl307DwRuZgXwLvctgfA04hjOp18AcReZ6sZY16e3yDpUuQxnU6+S2AkcjEpcDr1zxOXSPgCKLSa0mc4nXwB/EpdbQScTr4AGqmrjYDTyRfAx9TVRsDp5Aug8LJyH+F0cgZg58z11BUHpO5ruGh2G3ybuuqAeF2aBfAqddUB8bq0OgP2U1cegH3aOQOMMb+BrdTVB2DLupQLwLIOnKY26IBT6+ClaQDGmO/ARmqLDtiwDn7HVkcY+EdjNoTlCI+tYhO2iUppm6HKslPUq2qQKHpUe8AFsjaUXuUQWCgqXyoAG8IuME/WkNRrnAHzZfqDSgdgQ6gBc2Td3b3CMTBXtkOsIzTIjZLnQhjcVtlcEIPZLJ0LoVvt8s/Va+3yuSAG84UJRxB98cpM9dJURUVFxSDzBxKde4Lk3/h2AAAAAElFTkSuQmCC', \n    Arrow: 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAABmJLR0QAAAAAAAD5Q7t/AAAACXBIWXMAAABIAAAASABGyWs+AAAACXZwQWcAAABAAAAAQADq8/hgAAADPklEQVR42u2bMUscQRiG30/SRaJEI1ZKUiRErNIELRUbQYSAnX8hpVUgkDYp0wgWVjYW+QcJaQzYpLojJIXhtDDEKBpj65ti58ixmdmb2ZvZ7+T2AUHudmfmeXf2bnb3O6CmpqZmgJGqOiI5AWAWwEMA0wDuArht3r4CcAagBeAbgIaI/NQOp1fhIZKLJN+SbDKcptl3keSQtk+I+BjJVyRbJaRdtEybY9p+ReKjJN+QvIwonufS9DGq7ZuXXyd5nFA8zzHJdW1vkLxDcrdC8Ty7JO9oyc+QPFCUb3NAcqZq+TmSp9rmHZySnCvjErwOIPkUwHv8+w7vF64ALIrIfrIASM4C+ADgnratgxMACyLSiB4AyREAnwE80LbswgGAJyJy4bNxyApr6wbIw4xxy3djrwCYfeeuaZsFsEbPdULXU4DZqusLgMkEA21P05EEbf8A8FhEzos28pkBLxLKL5s/r/M1kEkz9vKQHGeatf05yfmOfubNa7G5JDle5NhtBjwHMBz5yFwAWBaRT+0XzP8pZsKwcQiH2fX8Ycojb+kzxUw4ZJn7CSQXqpRPHMKCq7+iZJ71Mvdy/DftXSQ6HcJdSDaqPPKW/mPOBO+lcbvzCU35RCFM2PpwnQKzZQfdgfe0dxH5dLA6uQJ4pC2fIASrkyuA6X6QjxyC1ckVQNn7bNHlI4ZgdXIFUObiJJl8pBCsTjGfuIwA2Cv4FN7xbYjkjqsRAHuIePXoCiDF1Zk2VidXAL+1R5sAq5MrgJb2aBNgdXIF8FV7tAmwOrkCCFs73wysTtYATHFCU3vEEWm6Ci6KvgY/ao86Ik6XogDeaY86Ik6XbjPgSHvkEThCwQy45XpDRK5JbgN4GWkgUyR9H65MRQxgW0SunZ5FezK7pfwd8e8MV8UfAPdF5Jdrg8JrAbPjprZFD2wWyQP6j8ZSEufRmGlgQ9umBBvd5IOgbjFUKLu+XnWBhG+rpsFVZGUo/coJgFVf+aAATAgNACvICpL6jSsAKyH1QcEBmBD2ASwhq+7uF84ALIVWiPUEB7lQsiOEwS2VzQUxmMXSuRCqKpd/zX4rl88FMZg/mLAEcSN+MlP/aKqmpqZmkPkL0hSjwOpNKxwAAAAASUVORK5CYII=',\n    FullscreenEnter: 'data:image/svg+xml;base64,PHN2ZyBmaWxsPSIjRkZGRkZGIiBoZWlnaHQ9IjI0IiB2aWV3Qm94PSIwIDAgMjQgMjQiIHdpZHRoPSIyNCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICAgIDxwYXRoIGQ9Ik0wIDBoMjR2MjRIMHoiIGZpbGw9Im5vbmUiLz4KICAgIDxwYXRoIGQ9Ik03IDE0SDV2NWg1di0ySDd2LTN6bS0yLTRoMlY3aDNWNUg1djV6bTEyIDdoLTN2Mmg1di01aC0ydjN6TTE0IDV2MmgzdjNoMlY1aC01eiIvPgo8L3N2Zz4=',\n    FullscreenLeave: 'data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz48IURPQ1RZUEUgc3ZnIFBVQkxJQyAiLS8vVzNDLy9EVEQgU1ZHIDEuMS8vRU4iICJodHRwOi8vd3d3LnczLm9yZy9HcmFwaGljcy9TVkcvMS4xL0RURC9zdmcxMS5kdGQiPjxzdmcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgdmVyc2lvbj0iMS4xIiB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyNCAyNCI+PHBhdGggc3R5bGU9ImZpbGw6I2ZmZiIgZD0iTTE0LDE0SDE5VjE2SDE2VjE5SDE0VjE0TTUsMTRIMTBWMTlIOFYxNkg1VjE0TTgsNUgxMFYxMEg1VjhIOFY1TTE5LDhWMTBIMTRWNUgxNlY4SDE5WiIgLz48L3N2Zz4=',\n    VideoPlay: 'data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz48IURPQ1RZUEUgc3ZnIFBVQkxJQyAiLS8vVzNDLy9EVEQgU1ZHIDEuMS8vRU4iICJodHRwOi8vd3d3LnczLm9yZy9HcmFwaGljcy9TVkcvMS4xL0RURC9zdmcxMS5kdGQiPjxzdmcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgdmVyc2lvbj0iMS4xIiB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyNCAyNCI+PHBhdGggc3R5bGU9ImZpbGw6I2ZmZiIgZD0iTTgsNS4xNFYxOS4xNEwxOSwxMi4xNEw4LDUuMTRaIiAvPjwvc3ZnPg==',\n    VideoPause: 'data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz48IURPQ1RZUEUgc3ZnIFBVQkxJQyAiLS8vVzNDLy9EVEQgU1ZHIDEuMS8vRU4iICJodHRwOi8vd3d3LnczLm9yZy9HcmFwaGljcy9TVkcvMS4xL0RURC9zdmcxMS5kdGQiPjxzdmcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgdmVyc2lvbj0iMS4xIiB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyNCAyNCI+PHBhdGggc3R5bGU9ImZpbGw6I2ZmZiIgZD0iTTE0LDE5LjE0SDE4VjUuMTRIMTRNNiwxOS4xNEgxMFY1LjE0SDZWMTkuMTRaIiAvPjwvc3ZnPg==',\n    WhiteTile: 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAgAAAAIABAMAAAAGVsnJAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAB1WlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iWE1QIENvcmUgNS40LjAiPgogICA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPgogICAgICA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIgogICAgICAgICAgICB4bWxuczp0aWZmPSJodHRwOi8vbnMuYWRvYmUuY29tL3RpZmYvMS4wLyI+CiAgICAgICAgIDx0aWZmOkNvbXByZXNzaW9uPjE8L3RpZmY6Q29tcHJlc3Npb24+CiAgICAgICAgIDx0aWZmOk9yaWVudGF0aW9uPjE8L3RpZmY6T3JpZW50YXRpb24+CiAgICAgICAgIDx0aWZmOlBob3RvbWV0cmljSW50ZXJwcmV0YXRpb24+MjwvdGlmZjpQaG90b21ldHJpY0ludGVycHJldGF0aW9uPgogICAgICA8L3JkZjpEZXNjcmlwdGlvbj4KICAgPC9yZGY6UkRGPgo8L3g6eG1wbWV0YT4KAtiABQAAACRQTFRFAAAAAAAABgYGBwcHHh4eKysrx8fHy8vLzMzM7OzsAAAABgYG+q7SZgAAAAp0Uk5TAP7+/v7+/v7+/iJx/a8AAAOwSURBVHja7d0hbsNAEAVQo6SFI6XEcALDcgNLvUBvEBQVhpkWVYWlhSsVFS7t5QIshRt695lEASZP+8c7a1kzDL1fz+/zyuvzp6FbvoddrL6uDd1yGZ5eXldeb18N3fIx7A+58prmhm65DfvDcd0952lu6JabFbD/zVprZj1lzcys+fj9z8xTZtbT8rv8yWlu6BYAIgAAAAAAAAAAAABAM6QXEAEAAAAAAAAAgJ2gnaAIiIA3Q2qAGgAAAAAAAAAAAAAAAAAAAAAAAAAAQJsADkVFAAAAAAA8Bj0GRUAEREAEREAEREAEREAEAAAAAAAAAAB2gnaCIiACPplRA9QANUAERAAAAEVQERQBERCBVlfAcZ3aeZobusUKMGBhV6KUElHGKBERJR6/fxExRkQZl9/lT8S1oVsuhqyYMmPKjCkzvfcCpsxohrwY0Q06EAEAAAAAAAAAAACgGdILiAAAAAAAAAAAwE7QTlAERMCbITVADQAAAAAAAAAAAAAAAAAAAAAAAAAAwKmwQ1ERAAAAAACPQY9BERABERABERABERABERABAAAAAAAAAICdoJ2gCIiAT2bUADVADRABEQAAQBFUBEVABERgEyvAlJm+V4ApM6bMmDJjyowpM6bMdN0LmDKjGfJiRDfoQAQAAAAAAAAAAACAZkgvIAIAAAAAAAAAADtBO0EREAFvhtQANQAAAAAAAAAAAAAAAAAAAAAAAAAAAKfCDkVFAAAAAAA8Bj0GRUAEREAEREAEREAEREAEAAAAAAAAAAB2gnaCIiACPplRA9QANUAERAAAAEVQERQBERCBTawAU2b6XgGmzJgyY8qMKTOmzJgy03UvYMqMZsiLEd2gAxEAAAAAAAAAAAAAmiG9gAgAAAAAAAAAAOwE7QRFQAS8GVID1AAAAAAAAAAAAAAAAAAAAAAAAAAAAJwKOxQVAQAAAADwGPQYFAEREAEREAEREAEREAERAAAAAAAAAADYCdoJioAI+GRGDVAD1AAREAEAABRBRVAEREAENrECTJnpewWYMmPKjCkzpsyYMmPKTNe9gCkzmiEvRnSDDkQAAAAAAAAAAAAAaIb0AiIAAAAAAAAAALATtBMUARHwZkgNUAMAAAAAAAAAAAAAAAAAAAAAAAAAAHAq7FBUBAAAAADAY9BjUAREQAREQAREQAREQAREAAAAAAAAAABgJ2gnKAIi4JMZNUANUANEQAQAAFAEFUEREAER2MQKMGWm7xVgyowpM50PWen9ugNGXz1XaocAFgAAAABJRU5ErkJggg==',\n    Setting: 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAABmJLR0QAAAAAAAD5Q7t/AAAACXBIWXMAAABIAAAASABGyWs+AAAACXZwQWcAAABAAAAAQADq8/hgAAADn0lEQVR42u2bzUsVURjGnyO6CPzAMnTjppAo3LTwH1CqTfaxbeOiRS37A0wXtROFVi1aRBs3LWohSIGbQAQXViBGRhG0UIRKUCpK7q/FnOB2uc6cOXNmRnGe3eW+H8/7zLln3vNxpQoVKlQ4wjBFJAFOSRqX1O7osivpvjHmU1nChBZglvSYLYJbS0EanCvIJzWK+gnsyH34/8OuMaYjb265jwCgz6N4SWq3vodbAEmnS/KtBDgoAgyU5BteAOAkMAPcBroc7PskDWfgN+wyDwBdltMMcDI3tYBnde/pHeARMNTErgd4APzweP834oeN1dMkz5DlsFNn/yyv4kdiSK4At4AO4CqwGaDwRmza2B0210qM7YhrXU59ANAq6bWkwQTTn5KO5fIE0uVYlXTeGLOXFMx1DrjlULwKKN41x6DlnIjEEQCckPRe0okCiguJr5LOGGO+xhm5jICJQ1i8LOeJJKPYEQAMKvrtt5ZdjSf2FM0Fq/sZJI2A6UNcvCz36TiDfUcAcE1SPu/U6Mm8k/TFfu6XdFb5iX3dGPM8lQfwNod3+TowBnQ3yddtv1vPIe+b1JIBiwEJ1IAJ208k5W21trWA+V/5CHAcmAtU/A2P/DcCiTAHHE8tgCVhgLvAXgYCk17Jo/yTGfLuWe7Zd72AC8CWB4n3OAz7mLytNkZabAEXMhfeQKYfWEpJZCxA3rGUOZeA/qDF15FpAz47EvlNk9neI2e3jeWCz0BbmvipNkSMMX8kuSZYM8Z8zyqAjbHmaN5mOeYjgIXrU93MWrxHrNQjrqiDkQMLHwG+OdqF3NN3jeXKzU8AoF1SzdH8XKhJUO7HZDXLMbwAwICkJUULFxe0SbqSVQAbw3Xi7Ze0ZLmGAzAKbHs0JGU1QtvAaIjCW4B7ZOvJy2qFa5a730RPtBiaz0CgnkiZi6F5fBZDVMvho7EhcuS3xJJ2hV9IupgTqaLw0hhzab8vq23xOG/r+LDsKjLgYVzxUnU0ltwK2wDezUyJmEwqXgp/PL4rvxthaeCSI+zxuA10J8ZkWdJNSb2SLkvayKHwDRu71+ZajrG941J8agALDQ3GU/a/IvMkYCPzmCbtLNEVmacNtgs5iP9fYVNEV1Q6Hez7yNZSL+J2SarTcpqiyV2iUkG0IvPFvbz5FbEn+KEk3wMjwMeSfCsBXFBdly9CAPk9ydyffpECuB5tZfVJjaKWueOSfinln6YK4lahQoUKRxd/AcRPGTcQCAUQAAAAAElFTkSuQmCC',\n    ChevronRight: 'data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz48IURPQ1RZUEUgc3ZnIFBVQkxJQyAiLS8vVzNDLy9EVEQgU1ZHIDEuMS8vRU4iICJodHRwOi8vd3d3LnczLm9yZy9HcmFwaGljcy9TVkcvMS4xL0RURC9zdmcxMS5kdGQiPjxzdmcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgdmVyc2lvbj0iMS4xIiB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyNCAyNCI+PHBhdGggZD0iTTguNTksMTYuNThMMTMuMTcsMTJMOC41OSw3LjQxTDEwLDZMMTYsMTJMMTAsMThMOC41OSwxNi41OFoiIC8+PC9zdmc+',\n    Check: 'data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz48IURPQ1RZUEUgc3ZnIFBVQkxJQyAiLS8vVzNDLy9EVEQgU1ZHIDEuMS8vRU4iICJodHRwOi8vd3d3LnczLm9yZy9HcmFwaGljcy9TVkcvMS4xL0RURC9zdmcxMS5kdGQiPjxzdmcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgdmVyc2lvbj0iMS4xIiB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyNCAyNCI+PHBhdGggZD0iTTIxLDdMOSwxOUwzLjUsMTMuNUw0LjkxLDEyLjA5TDksMTYuMTdMMTkuNTksNS41OUwyMSw3WiIgLz48L3N2Zz4=',\n    ViewIndicator: 'data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPCFET0NUWVBFIHN2ZyBQVUJMSUMgIi0vL1czQy8vRFREIFNWRyAxLjEvL0VOIiAiaHR0cDovL3d3dy53My5vcmcvR3JhcGhpY3MvU1ZHLzEuMS9EVEQvc3ZnMTEuZHRkIj4KPHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiBpZD0idmlldy1pbmRpY2F0b3IiIGhlaWdodD0iMzAiIHdpZHRoPSIzMCIgdmlld0JveD0iLTIuNSAtMSAzMCAzMCI+Cgk8c3R5bGUgdHlwZT0idGV4dC9jc3MiPi5zdDB7c3Ryb2tlLXdpZHRoOjI7c3Ryb2tlLW1pdGVybGltaXQ6MTA7ZmlsbDpub25lO30uc3Qxe3N0cm9rZS13aWR0aDo2O3N0cm9rZS1taXRlcmxpbWl0OjEwO30KCTwvc3R5bGU+Cgk8Zz4KCQk8cGF0aCBjbGFzcz0ic3QwIiBkPSJNIDEyLjUgMCBBIDEyLjUgMTIuNSAwIDAgMCAtMTIuNSAwIEEgMTIuNSAxMi41IDAgMCAwIDEyLjUgMCIgdHJhbnNmb3JtPSJtYXRyaXgoMSwwLDAsMSwxMywxNS41KSI+PC9wYXRoPgoJCTxwYXRoIGNsYXNzPSJzdDIiIGQ9Ik0gMTMgMCBMIDEwIDIgTCAxNiAyIFoiPjwvcGF0aD4KCQk8cGF0aCBjbGFzcz0ic3QyIiBkPSJNIDIgMCBBIDIgMiAwIDAgMCAtMiAwIEEgMiAyIDAgMCAwIDIgMCIgdHJhbnNmb3JtPSJtYXRyaXgoMSwwLDAsMSwxMywxNS41KSI+PC9wYXRoPgoJCTxwYXRoIGNsYXNzPSJzdDEiIGlkPSJpbmRpY2F0b3IiIHRyYW5zZm9ybT0ibWF0cml4KDEsMCwwLDEsMTMsMTUuNSkiPjwvcGF0aD4KCTwvZz4KPC9zdmc+'\n};\n\n/**\n * @module ImageLoader\n * @description Image loader with progress based on {@link https://github.com/mrdoob/three.js/blob/master/src/loaders/ImageLoader.js}\n */\nconst ImageLoader = {\n\n    /**\n     * Load image\n     * @example PANOLENS.ImageLoader.load( IMAGE_URL )\n     * @method load\n     * @param  {string}   url        - An image url\n     * @param  {function} onLoad     - On load callback\n     * @param  {function} onProgress - In progress callback\n     * @param  {function} onError    - On error callback\n     */\n    load: function ( url, onLoad, onProgress, onError ) {\n\n        // Enable cache\n        THREE.Cache.enabled = true;\n\n        let cached, request, arrayBufferView, blob, urlCreator, image, reference;\n\t\n        // Reference key\n        for ( let iconName in DataImage ) {\n\t\n            if ( DataImage.hasOwnProperty( iconName ) && url === DataImage[ iconName ] ) {\n\t\n                reference = iconName;\n\t\n            }\n\t\n        }\n\t\n        // Cached\n        cached = THREE.Cache.get( reference ? reference : url );\n\t\n        if ( cached !== undefined ) {\n\t\n            if ( onLoad ) {\n\t\n                setTimeout( function () {\n\t\n                    if ( onProgress ) {\n\t\n                        onProgress( { loaded: 1, total: 1 } );\n\t\n                    } \n\t\t\t\t\t\n                    onLoad( cached );\n\t\n                }, 0 );\n\t\n            }\n\t\n            return cached;\n\t\n        }\n\t\t\n        // Construct a new XMLHttpRequest\n        urlCreator = window.URL || window.webkitURL;\n        image = document.createElementNS( 'http://www.w3.org/1999/xhtml', 'img' );\n\t\n        // Add to cache\n        THREE.Cache.add( reference ? reference : url, image );\n\t\n        const onImageLoaded = () => {\n\t\n            urlCreator.revokeObjectURL( image.src );\n            onLoad && onLoad( image );\n\t\n        };\n\t\n        if ( url.indexOf( 'data:' ) === 0 ) {\n\t\n            image.addEventListener( 'load', onImageLoaded, false );\n            image.src = url;\n            return image;\n        }\n\t\n        image.crossOrigin = this.crossOrigin !== undefined ? this.crossOrigin : '';\n\t\n        request = new XMLHttpRequest();\n        request.open( 'GET', url, true );\n        request.responseType = 'arraybuffer';\n        request.onprogress = function ( event ) {\n\t\n            if ( event.lengthComputable ) {\n\t\n                onProgress && onProgress( { loaded: event.loaded, total: event.total } );\n\t\n            }\n\t\n        };\n        request.onloadend = function( event ) {\n\t\n            arrayBufferView = new Uint8Array( this.response );\n            blob = new Blob( [ arrayBufferView ] );\n\t\t\t\t\n            image.addEventListener( 'load', onImageLoaded, false );\n            image.src = urlCreator.createObjectURL( blob );\n\t\n        };\n\t\n        request.send(null);\n\t\n    }\n\n};\n\n/**\n * @module TextureLoader\n * @description Texture loader based on {@link https://github.com/mrdoob/three.js/blob/master/src/loaders/TextureLoader.js}\n */\nconst TextureLoader = {\n\n    /**\n     * Load image texture\n     * @example PANOLENS.TextureLoader.load( IMAGE_URL )\n     * @method load\n     * @param  {string}   url        - An image url\n     * @param  {function} onLoad     - On load callback\n     * @param  {function} onProgress - In progress callback\n     * @param  {function} onError    - On error callback\n     * @return {THREE.Texture}   \t - Image texture\n     */\n    load: function ( url, onLoad, onProgress, onError ) {\n\n        var texture = new THREE.Texture(); \n\n        ImageLoader.load( url, function ( image ) {\n\n            texture.image = image;\n\n            // JPEGs can't have an alpha channel, so memory can be saved by storing them as RGB.\n            const isJPEG = url.search( /\\.(jpg|jpeg)$/ ) > 0 || url.search( /^data\\:image\\/jpeg/ ) === 0;\n\n            texture.format = isJPEG ? THREE.RGBFormat : THREE.RGBAFormat;\n            texture.needsUpdate = true;\n\n            onLoad && onLoad( texture );\n\n        }, onProgress, onError );\n\n        return texture;\n\n    }\n\n};\n\n/**\n * @module CubeTextureLoader\n * @description Cube Texture Loader based on {@link https://github.com/mrdoob/three.js/blob/master/src/loaders/CubeTextureLoader.js}\n */\nconst CubeTextureLoader = {\n\n    /**\n     * Load 6 images as a cube texture\n     * @example PANOLENS.CubeTextureLoader.load( [ 'px.png', 'nx.png', 'py.png', 'ny.png', 'pz.png', 'nz.png' ] )\n     * @method load\n     * @param  {array}   urls        - array of 6 urls to images, one for each side of the CubeTexture. The urls should be specified in the following order: pos-x, neg-x, pos-y, neg-y, pos-z, neg-z\n     * @param  {function} onLoad     - On load callback\n     * @param  {function} onProgress - In progress callback\n     * @param  {function} onError    - On error callback\n     * @return {THREE.CubeTexture}   - Cube texture\n     */\n    load: function ( urls, onLoad, onProgress, onError ) {\n\n\t   var texture, loaded, progress, all, loadings;\n\n\t   texture = new THREE.CubeTexture( [] );\n\n\t   loaded = 0;\n\t   progress = {};\n\t   all = {};\n\n\t   urls.map( function ( url, index ) {\n\n\t\t   ImageLoader.load( url, function ( image ) {\n\n\t\t\t   texture.images[ index ] = image;\n\n\t\t\t   loaded++;\n\n\t\t\t   if ( loaded === 6 ) {\n\n\t\t\t\t   texture.needsUpdate = true;\n\n\t\t\t\t   onLoad && onLoad( texture );\n\n\t\t\t   }\n\n\t\t   }, function ( event ) {\n\n\t\t\t   progress[ index ] = { loaded: event.loaded, total: event.total };\n\n\t\t\t   all.loaded = 0;\n\t\t\t   all.total = 0;\n\t\t\t   loadings = 0;\n\n\t\t\t   for ( var i in progress ) {\n\n\t\t\t\t   loadings++;\n\t\t\t\t   all.loaded += progress[ i ].loaded;\n\t\t\t\t   all.total += progress[ i ].total;\n\n\t\t\t   }\n\n\t\t\t   if ( loadings < 6 ) {\n\n\t\t\t\t   all.total = all.total / loadings * 6;\n\n\t\t\t   }\n\n\t\t\t   onProgress && onProgress( all );\n\n\t\t   }, onError );\n\n\t   } );\n\n\t   return texture;\n\n    }\n\n};\n\n/**\n * @classdesc User Media\n * @constructor\n * @param {object} [constraints={ video: { width: { ideal: 1920 }, height: { ideal: 1080 }, facingMode: { exact: 'environment' } }, audio: false }]\n */\nfunction Media ( constraints ) {\n\n    const defaultConstraints = { video: { width: { ideal: 1920 }, height: { ideal: 1080 }, facingMode: { exact: 'environment' } }, audio: false };\n\n    this.constraints = Object.assign( defaultConstraints, constraints );\n\n    this.container;\n    this.scene;\n    this.element;\n    this.devices = [];\n    this.stream;\n    this.ratioScalar = 1;\n    this.videoDeviceIndex = 0;\n\n}\nObject.assign( Media.prototype, {\n\n    /**\n     * Enumerate devices\n     * @memberOf Media\n     * @instance\n     * @returns {Promise}\n     */\n    enumerateDevices: function () {\n\n        const devices = this.devices;\n        const resolvedPromise = new Promise( resolve => { resolve( devices ); } );\n\n        return devices.length > 0 ? resolvedPromise : navigator.mediaDevices.enumerateDevices();\n\n    },\n\n    /**\n     * Switch to next available video device\n     * @memberOf Media\n     * @instance\n     */\n    switchNextVideoDevice: function () {\n\n        const stop = this.stop.bind( this );\n        const start = this.start.bind( this );\n        const setVideDeviceIndex = this.setVideDeviceIndex.bind( this );\n\n        let index = this.videoDeviceIndex;\n\n        this.getDevices( 'video' )\n            .then( devices => {\n                stop();\n                index++;\n                if ( index >= devices.length ) {\n                    setVideDeviceIndex( 0 );\n                    index--;\n                } else {\n                    setVideDeviceIndex( index );\n                }\n\n                start( devices[ index ] );\n            \n\n            } );\n\n    },\n\n    /**\n     * Get devices\n     * @param {string} type - type keyword to match device.kind\n     * @memberOf Media\n     * @instance\n     */\n    getDevices: function ( type = 'video' ) {\n\n        const devices = this.devices;\n        const validate = _devices => {\n\n            return _devices.map( device => { \n                \n                !devices.includes( device ) && devices.push( device ); \n                return device; \n            \n            } );\n            \n        };\n        const filter = _devices => {\n\n            const reg = new RegExp( type, 'i' );\n            return _devices.filter( device => reg.test( device.kind ) );\n\n        };\n\n        return this.enumerateDevices()\n            .then( validate )\n            .then( filter );\n\n    },\n\n    /**\n     * Get user media\n     * @param {MediaStreamConstraints} constraints\n     * @memberOf Media\n     * @instance\n     */\n    getUserMedia: function ( constraints ) {\n\n        const setMediaStream = this.setMediaStream.bind( this );\n        const playVideo = this.playVideo.bind( this );\n        const onCatchError = error => { console.warn( `PANOLENS.Media: ${error}` ); };\n\n        return navigator.mediaDevices.getUserMedia( constraints )\n            .then( setMediaStream )\n            .then( playVideo )\n            .catch( onCatchError );\n\n    },\n\n    /**\n     * Set video device index\n     * @param {number} index \n     * @memberOf Media\n     * @instance\n     */\n    setVideDeviceIndex: function ( index ) {\n\n        this.videoDeviceIndex = index;\n\n    },\n\n    /**\n     * Start streaming\n     * @param {MediaDeviceInfo} [targetDevice]\n     * @memberOf Media\n     * @instance\n     */\n    start: function( targetDevice ) {\n\n        const constraints = this.constraints;\n        const getUserMedia = this.getUserMedia.bind( this );\n        const onVideoDevices = devices => {\n\n            if ( !devices || devices.length === 0 ) {\n\n                throw Error( 'no video device found' );\n\n            }\n\n            const device = targetDevice || devices[ 0 ];\n            constraints.video.deviceId = device.deviceId;\n\n            return getUserMedia( constraints );\n\n        };\n\n        this.element = this.createVideoElement();\n\n        return this.getDevices().then( onVideoDevices );\n\n    },\n\n    /**\n     * Stop streaming\n     * @memberOf Media\n     * @instance\n     */\n    stop: function () {\n\n        const stream = this.stream;\n\n        if ( stream && stream.active ) {\n\n            const track = stream.getTracks()[ 0 ];\n\n            track.stop();\n\n            window.removeEventListener( 'resize', this.onWindowResize.bind( this ) );\n\n            this.element = null;\n            this.stream = null;\n\n        }\n\n    },\n\n    /**\n     * Set media stream\n     * @param {MediaStream} stream \n     * @memberOf Media\n     * @instance\n     */\n    setMediaStream: function ( stream ) {\n\n        this.stream = stream;\n        this.element.srcObject = stream;\n\n        if ( this.scene ) {\n\n            this.scene.background = this.createVideoTexture();\n\n        }\n        \n        window.addEventListener( 'resize', this.onWindowResize.bind( this ) );\n\n    },\n\n    /**\n     * Play video element\n     * @memberOf Media\n     * @instance\n     */\n    playVideo: function () {\n\n        const { element } = this;\n\n        if ( element ) {\n\n            element.play();\n\n        }\n\n    },\n\n    /**\n     * Pause video element\n     * @memberOf Media\n     * @instance\n     */\n    pauseVideo: function () {\n\n        const { element } = this;\n\n        if ( element ) {\n\n            element.pause();\n\n        }\n\n    },\n\n    /**\n     * Create video texture\n     * @memberOf Media\n     * @instance\n     * @returns {THREE.VideoTexture}\n     */\n    createVideoTexture: function () {\n\n        const video = this.element;\n        const texture = new THREE.VideoTexture( video );\n\n        texture.generateMipmaps = false;\n        texture.minFilter = THREE.LinearFilter;\n        texture.magFilter = THREE.LinearFilter;\n        texture.format = THREE.RGBFormat;\n        texture.center.set( 0.5, 0.5 );\n\n        video.addEventListener( 'canplay', this.onWindowResize.bind( this ) );\n\n        return texture;\n\n    },\n\n    /**\n     * Create video element\n     * @memberOf Media\n     * @instance\n     * @returns {HTMLVideoElement}\n     */\n    createVideoElement: function() {\n\n        const video = document.createElement( 'video' );\n        \n        video.setAttribute( 'autoplay', '' );\n        video.setAttribute( 'muted', '' );\n        video.setAttribute( 'playsinline', '' );\n\n        video.style.position = 'absolute';\n        video.style.top = '0';\n        video.style.left = '0';\n        video.style.width = '100%';\n        video.style.height = '100%';\n        video.style.objectPosition = 'center';\n        video.style.objectFit = 'cover';\n        video.style.display = this.scene ? 'none' : '';\n\n        return video;\n\n    },\n\n    /**\n     * On window resize event\n     * @param {Event} event \n     * @memberOf Media\n     * @instance\n     */\n    onWindowResize: function ( event ) {\n\n        if ( this.element && this.element.videoWidth && this.element.videoHeight && this.scene ) {\n\n            const { clientWidth: width, clientHeight: height } = this.container;\n            const texture = this.scene.background;\n            const { videoWidth, videoHeight } = this.element;\n            const cameraRatio = videoHeight / videoWidth;\n            const viewportRatio = this.container ? width / height : 1.0;\n            const ratio = cameraRatio * viewportRatio * this.ratioScalar;\n\n            if ( width > height ) {\n                texture.repeat.set( ratio, 1 );\n            } else {\n                texture.repeat.set( 1, 1 / ratio );\n            }\n\n        }\n\n    }\n\n} );\n\n/**\n * @classdesc Reticle 3D Sprite\n * @constructor\n * @param {THREE.Color} [color=0xffffff] - Color of the reticle sprite\n * @param {boolean} [autoSelect=true] - Auto selection\n * @param {number} [dwellTime=1500] - Duration for dwelling sequence to complete\n */\n\nfunction Reticle ( color = 0xffffff, autoSelect = true, dwellTime = 1500 ) {\n\n    this.dpr = window.devicePixelRatio;\n\n    const { canvas, context } = this.createCanvas();\n    const material = new THREE.SpriteMaterial( { color, map: this.createCanvasTexture( canvas ) } );\n\n    THREE.Sprite.call( this, material );\n\n    this.canvasWidth = canvas.width;\n    this.canvasHeight = canvas.height;\n    this.context = context;\n    this.color = color instanceof THREE.Color ? color : new THREE.Color( color );    \n\n    this.autoSelect = autoSelect;\n    this.dwellTime = dwellTime;\n    this.position.z = -10;\n    this.center.set( 0.5, 0.5 );\n    this.scale.set( 0.5, 0.5, 1 );\n\n    this.startTimestamp;\n    this.timerId;\n    this.callback;\n\n    this.frustumCulled = false;\n\n    this.updateCanvasArcByProgress( 0 );\n\n}\nReticle.prototype = Object.assign( Object.create( THREE.Sprite.prototype ), {\n\n    constructor: Reticle,\n\n    /**\n     * Set material color\n     * @param {THREE.Color} color \n     * @memberOf Reticle\n     * @instance\n     */\n    setColor: function ( color ) {\n\n        this.material.color.copy( color instanceof THREE.Color ? color : new THREE.Color( color ) );\n\n    },\n\n    /**\n     * Create canvas texture\n     * @param {HTMLCanvasElement} canvas \n     * @memberOf Reticle\n     * @instance\n     * @returns {THREE.CanvasTexture}\n     */\n    createCanvasTexture: function ( canvas ) {\n\n        const texture = new THREE.CanvasTexture( canvas );\n        texture.minFilter = THREE.LinearFilter;\n        texture.magFilter = THREE.LinearFilter;\n        texture.generateMipmaps = false;\n\n        return texture;\n\n    },\n\n    /**\n     * Create canvas element\n     * @memberOf Reticle\n     * @instance\n     * @returns {object} object\n     * @returns {HTMLCanvasElement} object.canvas\n     * @returns {CanvasRenderingContext2D} object.context\n     */\n    createCanvas: function () {\n\n        const width = 32;\n        const height = 32;\n        const canvas = document.createElement( 'canvas' );\n        const context = canvas.getContext( '2d' );\n        const dpr = this.dpr;\n\n        canvas.width = width * dpr;\n        canvas.height = height * dpr;\n        context.scale( dpr, dpr );\n\n        context.shadowBlur = 5;\n        context.shadowColor = 'rgba(200,200,200,0.9)';\n\n        return { canvas, context };\n\n    },\n\n    /**\n     * Update canvas arc by progress\n     * @param {number} progress \n     * @memberOf Reticle\n     * @instance\n     */\n    updateCanvasArcByProgress: function ( progress ) {\n\n        const context = this.context;\n        const { canvasWidth, canvasHeight, material } = this;\n        const dpr = this.dpr;\n        const degree = progress * Math.PI * 2;\n        const color = this.color.getStyle();\n        const x = canvasWidth * 0.5 / dpr;\n        const y = canvasHeight * 0.5 / dpr;\n        const lineWidth = 3;\n        \n        context.clearRect( 0, 0, canvasWidth, canvasHeight );\n        context.beginPath();\n\n        if ( progress === 0 ) {\n            context.arc( x, y, canvasWidth / 16, 0, 2 * Math.PI );\n            context.fillStyle = color;\n            context.fill();\n        } else {\n            context.arc( x, y, canvasWidth / 4 - lineWidth, -Math.PI / 2, -Math.PI / 2 + degree );\n            context.strokeStyle = color;\n            context.lineWidth = lineWidth;\n            context.stroke();\n        }\n\n        context.closePath();\n\n        material.map.needsUpdate = true;\n\n    },\n\n    /**\n     * Ripple effect\n     * @memberOf Reticle\n     * @instance\n     */\n    ripple: function () {\n\n        const context = this.context;\n        const stop = this.stop.bind( this );\n        const { canvasWidth, canvasHeight, material } = this;\n        const duration = 500;\n        const timestamp = performance.now();\n        const color = this.color;\n        const dpr = this.dpr;\n        const x = canvasWidth * 0.5 / dpr;\n        const y = canvasHeight * 0.5 / dpr;\n\n        const update = () => {\n\n            const timerId = requestAnimationFrame( update );\n            const elapsed = performance.now() - timestamp;\n            const progress = elapsed / duration;\n            const opacity = 1.0 - progress > 0 ? 1.0 - progress : 0;\n            const radius = progress * canvasWidth * 0.5 / dpr;\n\n            context.clearRect( 0, 0, canvasWidth, canvasHeight );\n            context.beginPath();\n            context.arc( x, y, radius, 0, Math.PI * 2 );\n            context.fillStyle = `rgba(${color.r * 255}, ${color.g * 255}, ${color.b * 255}, ${opacity})`;\n            context.fill();\n            context.closePath();\n\n            if ( progress > 1.0 ) {\n\n                cancelAnimationFrame( timerId );\n                stop();\n\n            }\n\n            material.map.needsUpdate = true;\n\n        };\n\n        update();\n\n    },\n\n    /**\n     * Make reticle visible\n     * @memberOf Reticle\n     * @instance\n     */\n    show: function () {\n\n        this.visible = true;\n\n    },\n\n    /**\n     * Make reticle invisible\n     * @memberOf Reticle\n     * @instance\n     */\n    hide: function () {\n\n        this.visible = false;\n\n    },\n\n    /**\n     * Start dwelling\n     * @param {function} callback \n     * @memberOf Reticle\n     * @instance\n     */\n    start: function ( callback ) {\n\n        if ( !this.autoSelect ) {\n\n            return;\n\n        }\n\n        this.startTimestamp = performance.now();\n        this.callback = callback;\n        this.update();\n\n    },\n\n    /**\n     * Stop dwelling\n     * @memberOf Reticle\n     * @instance\n     */\n    stop: function(){\n\n        cancelAnimationFrame( this.timerId );\n\n        this.updateCanvasArcByProgress( 0 );\n        this.callback = null;\n        this.timerId = null;\n\n    },\n\n    /**\n     * Update dwelling\n     * @memberOf Reticle\n     * @instance\n     */\n    update: function () {\n\n        this.timerId = requestAnimationFrame( this.update.bind( this ) );\n\n        const elapsed = performance.now() - this.startTimestamp;\n        const progress = elapsed / this.dwellTime;\n\n        this.updateCanvasArcByProgress( progress );\n\n        if ( progress > 1.0 ) {\n\n            cancelAnimationFrame( this.timerId );\n            this.ripple();\n            this.callback && this.callback();\n            this.stop();\n\n        }\n\n    }\n\n} );\n\nvar commonjsGlobal = typeof globalThis !== 'undefined' ? globalThis : typeof window !== 'undefined' ? window : typeof global !== 'undefined' ? global : typeof self !== 'undefined' ? self : {};\n\nfunction createCommonjsModule(fn, module) {\n\treturn module = { exports: {} }, fn(module, module.exports), module.exports;\n}\n\nvar Tween = createCommonjsModule(function (module, exports) {\n/**\n * Tween.js - Licensed under the MIT license\n * https://github.com/tweenjs/tween.js\n * ----------------------------------------------\n *\n * See https://github.com/tweenjs/tween.js/graphs/contributors for the full list of contributors.\n * Thank you all, you're awesome!\n */\n\n\nvar _Group = function () {\n\tthis._tweens = {};\n\tthis._tweensAddedDuringUpdate = {};\n};\n\n_Group.prototype = {\n\tgetAll: function () {\n\n\t\treturn Object.keys(this._tweens).map(function (tweenId) {\n\t\t\treturn this._tweens[tweenId];\n\t\t}.bind(this));\n\n\t},\n\n\tremoveAll: function () {\n\n\t\tthis._tweens = {};\n\n\t},\n\n\tadd: function (tween) {\n\n\t\tthis._tweens[tween.getId()] = tween;\n\t\tthis._tweensAddedDuringUpdate[tween.getId()] = tween;\n\n\t},\n\n\tremove: function (tween) {\n\n\t\tdelete this._tweens[tween.getId()];\n\t\tdelete this._tweensAddedDuringUpdate[tween.getId()];\n\n\t},\n\n\tupdate: function (time, preserve) {\n\n\t\tvar tweenIds = Object.keys(this._tweens);\n\n\t\tif (tweenIds.length === 0) {\n\t\t\treturn false;\n\t\t}\n\n\t\ttime = time !== undefined ? time : TWEEN.now();\n\n\t\t// Tweens are updated in \"batches\". If you add a new tween during an update, then the\n\t\t// new tween will be updated in the next batch.\n\t\t// If you remove a tween during an update, it may or may not be updated. However,\n\t\t// if the removed tween was added during the current batch, then it will not be updated.\n\t\twhile (tweenIds.length > 0) {\n\t\t\tthis._tweensAddedDuringUpdate = {};\n\n\t\t\tfor (var i = 0; i < tweenIds.length; i++) {\n\n\t\t\t\tvar tween = this._tweens[tweenIds[i]];\n\n\t\t\t\tif (tween && tween.update(time) === false) {\n\t\t\t\t\ttween._isPlaying = false;\n\n\t\t\t\t\tif (!preserve) {\n\t\t\t\t\t\tdelete this._tweens[tweenIds[i]];\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\ttweenIds = Object.keys(this._tweensAddedDuringUpdate);\n\t\t}\n\n\t\treturn true;\n\n\t}\n};\n\nvar TWEEN = new _Group();\n\nTWEEN.Group = _Group;\nTWEEN._nextId = 0;\nTWEEN.nextId = function () {\n\treturn TWEEN._nextId++;\n};\n\n\n// Include a performance.now polyfill.\n// In node.js, use process.hrtime.\nif (typeof (self) === 'undefined' && typeof (process) !== 'undefined' && process.hrtime) {\n\tTWEEN.now = function () {\n\t\tvar time = process.hrtime();\n\n\t\t// Convert [seconds, nanoseconds] to milliseconds.\n\t\treturn time[0] * 1000 + time[1] / 1000000;\n\t};\n}\n// In a browser, use self.performance.now if it is available.\nelse if (typeof (self) !== 'undefined' &&\n         self.performance !== undefined &&\n\t\t self.performance.now !== undefined) {\n\t// This must be bound, because directly assigning this function\n\t// leads to an invocation exception in Chrome.\n\tTWEEN.now = self.performance.now.bind(self.performance);\n}\n// Use Date.now if it is available.\nelse if (Date.now !== undefined) {\n\tTWEEN.now = Date.now;\n}\n// Otherwise, use 'new Date().getTime()'.\nelse {\n\tTWEEN.now = function () {\n\t\treturn new Date().getTime();\n\t};\n}\n\n\nTWEEN.Tween = function (object, group) {\n\tthis._object = object;\n\tthis._valuesStart = {};\n\tthis._valuesEnd = {};\n\tthis._valuesStartRepeat = {};\n\tthis._duration = 1000;\n\tthis._repeat = 0;\n\tthis._repeatDelayTime = undefined;\n\tthis._yoyo = false;\n\tthis._isPlaying = false;\n\tthis._reversed = false;\n\tthis._delayTime = 0;\n\tthis._startTime = null;\n\tthis._easingFunction = TWEEN.Easing.Linear.None;\n\tthis._interpolationFunction = TWEEN.Interpolation.Linear;\n\tthis._chainedTweens = [];\n\tthis._onStartCallback = null;\n\tthis._onStartCallbackFired = false;\n\tthis._onUpdateCallback = null;\n\tthis._onRepeatCallback = null;\n\tthis._onCompleteCallback = null;\n\tthis._onStopCallback = null;\n\tthis._group = group || TWEEN;\n\tthis._id = TWEEN.nextId();\n\n};\n\nTWEEN.Tween.prototype = {\n\tgetId: function () {\n\t\treturn this._id;\n\t},\n\n\tisPlaying: function () {\n\t\treturn this._isPlaying;\n\t},\n\n\tto: function (properties, duration) {\n\n\t\tthis._valuesEnd = Object.create(properties);\n\n\t\tif (duration !== undefined) {\n\t\t\tthis._duration = duration;\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tduration: function duration(d) {\n\t\tthis._duration = d;\n\t\treturn this;\n\t},\n\n\tstart: function (time) {\n\n\t\tthis._group.add(this);\n\n\t\tthis._isPlaying = true;\n\n\t\tthis._onStartCallbackFired = false;\n\n\t\tthis._startTime = time !== undefined ? typeof time === 'string' ? TWEEN.now() + parseFloat(time) : time : TWEEN.now();\n\t\tthis._startTime += this._delayTime;\n\n\t\tfor (var property in this._valuesEnd) {\n\n\t\t\t// Check if an Array was provided as property value\n\t\t\tif (this._valuesEnd[property] instanceof Array) {\n\n\t\t\t\tif (this._valuesEnd[property].length === 0) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\n\t\t\t\t// Create a local copy of the Array with the start value at the front\n\t\t\t\tthis._valuesEnd[property] = [this._object[property]].concat(this._valuesEnd[property]);\n\n\t\t\t}\n\n\t\t\t// If `to()` specifies a property that doesn't exist in the source object,\n\t\t\t// we should not set that property in the object\n\t\t\tif (this._object[property] === undefined) {\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\t// Save the starting value.\n\t\t\tthis._valuesStart[property] = this._object[property];\n\n\t\t\tif ((this._valuesStart[property] instanceof Array) === false) {\n\t\t\t\tthis._valuesStart[property] *= 1.0; // Ensures we're using numbers, not strings\n\t\t\t}\n\n\t\t\tthis._valuesStartRepeat[property] = this._valuesStart[property] || 0;\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tstop: function () {\n\n\t\tif (!this._isPlaying) {\n\t\t\treturn this;\n\t\t}\n\n\t\tthis._group.remove(this);\n\t\tthis._isPlaying = false;\n\n\t\tif (this._onStopCallback !== null) {\n\t\t\tthis._onStopCallback(this._object);\n\t\t}\n\n\t\tthis.stopChainedTweens();\n\t\treturn this;\n\n\t},\n\n\tend: function () {\n\n\t\tthis.update(Infinity);\n\t\treturn this;\n\n\t},\n\n\tstopChainedTweens: function () {\n\n\t\tfor (var i = 0, numChainedTweens = this._chainedTweens.length; i < numChainedTweens; i++) {\n\t\t\tthis._chainedTweens[i].stop();\n\t\t}\n\n\t},\n\n\tgroup: function (group) {\n\t\tthis._group = group;\n\t\treturn this;\n\t},\n\n\tdelay: function (amount) {\n\n\t\tthis._delayTime = amount;\n\t\treturn this;\n\n\t},\n\n\trepeat: function (times) {\n\n\t\tthis._repeat = times;\n\t\treturn this;\n\n\t},\n\n\trepeatDelay: function (amount) {\n\n\t\tthis._repeatDelayTime = amount;\n\t\treturn this;\n\n\t},\n\n\tyoyo: function (yoyo) {\n\n\t\tthis._yoyo = yoyo;\n\t\treturn this;\n\n\t},\n\n\teasing: function (easingFunction) {\n\n\t\tthis._easingFunction = easingFunction;\n\t\treturn this;\n\n\t},\n\n\tinterpolation: function (interpolationFunction) {\n\n\t\tthis._interpolationFunction = interpolationFunction;\n\t\treturn this;\n\n\t},\n\n\tchain: function () {\n\n\t\tthis._chainedTweens = arguments;\n\t\treturn this;\n\n\t},\n\n\tonStart: function (callback) {\n\n\t\tthis._onStartCallback = callback;\n\t\treturn this;\n\n\t},\n\n\tonUpdate: function (callback) {\n\n\t\tthis._onUpdateCallback = callback;\n\t\treturn this;\n\n\t},\n\n\tonRepeat: function onRepeat(callback) {\n\n\t\tthis._onRepeatCallback = callback;\n\t\treturn this;\n\n\t},\n\n\tonComplete: function (callback) {\n\n\t\tthis._onCompleteCallback = callback;\n\t\treturn this;\n\n\t},\n\n\tonStop: function (callback) {\n\n\t\tthis._onStopCallback = callback;\n\t\treturn this;\n\n\t},\n\n\tupdate: function (time) {\n\n\t\tvar property;\n\t\tvar elapsed;\n\t\tvar value;\n\n\t\tif (time < this._startTime) {\n\t\t\treturn true;\n\t\t}\n\n\t\tif (this._onStartCallbackFired === false) {\n\n\t\t\tif (this._onStartCallback !== null) {\n\t\t\t\tthis._onStartCallback(this._object);\n\t\t\t}\n\n\t\t\tthis._onStartCallbackFired = true;\n\t\t}\n\n\t\telapsed = (time - this._startTime) / this._duration;\n\t\telapsed = (this._duration === 0 || elapsed > 1) ? 1 : elapsed;\n\n\t\tvalue = this._easingFunction(elapsed);\n\n\t\tfor (property in this._valuesEnd) {\n\n\t\t\t// Don't update properties that do not exist in the source object\n\t\t\tif (this._valuesStart[property] === undefined) {\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tvar start = this._valuesStart[property] || 0;\n\t\t\tvar end = this._valuesEnd[property];\n\n\t\t\tif (end instanceof Array) {\n\n\t\t\t\tthis._object[property] = this._interpolationFunction(end, value);\n\n\t\t\t} else {\n\n\t\t\t\t// Parses relative end values with start as base (e.g.: +10, -3)\n\t\t\t\tif (typeof (end) === 'string') {\n\n\t\t\t\t\tif (end.charAt(0) === '+' || end.charAt(0) === '-') {\n\t\t\t\t\t\tend = start + parseFloat(end);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tend = parseFloat(end);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// Protect against non numeric properties.\n\t\t\t\tif (typeof (end) === 'number') {\n\t\t\t\t\tthis._object[property] = start + (end - start) * value;\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tif (this._onUpdateCallback !== null) {\n\t\t\tthis._onUpdateCallback(this._object, elapsed);\n\t\t}\n\n\t\tif (elapsed === 1) {\n\n\t\t\tif (this._repeat > 0) {\n\n\t\t\t\tif (isFinite(this._repeat)) {\n\t\t\t\t\tthis._repeat--;\n\t\t\t\t}\n\n\t\t\t\t// Reassign starting values, restart by making startTime = now\n\t\t\t\tfor (property in this._valuesStartRepeat) {\n\n\t\t\t\t\tif (typeof (this._valuesEnd[property]) === 'string') {\n\t\t\t\t\t\tthis._valuesStartRepeat[property] = this._valuesStartRepeat[property] + parseFloat(this._valuesEnd[property]);\n\t\t\t\t\t}\n\n\t\t\t\t\tif (this._yoyo) {\n\t\t\t\t\t\tvar tmp = this._valuesStartRepeat[property];\n\n\t\t\t\t\t\tthis._valuesStartRepeat[property] = this._valuesEnd[property];\n\t\t\t\t\t\tthis._valuesEnd[property] = tmp;\n\t\t\t\t\t}\n\n\t\t\t\t\tthis._valuesStart[property] = this._valuesStartRepeat[property];\n\n\t\t\t\t}\n\n\t\t\t\tif (this._yoyo) {\n\t\t\t\t\tthis._reversed = !this._reversed;\n\t\t\t\t}\n\n\t\t\t\tif (this._repeatDelayTime !== undefined) {\n\t\t\t\t\tthis._startTime = time + this._repeatDelayTime;\n\t\t\t\t} else {\n\t\t\t\t\tthis._startTime = time + this._delayTime;\n\t\t\t\t}\n\n\t\t\t\tif (this._onRepeatCallback !== null) {\n\t\t\t\t\tthis._onRepeatCallback(this._object);\n\t\t\t\t}\n\n\t\t\t\treturn true;\n\n\t\t\t} else {\n\n\t\t\t\tif (this._onCompleteCallback !== null) {\n\n\t\t\t\t\tthis._onCompleteCallback(this._object);\n\t\t\t\t}\n\n\t\t\t\tfor (var i = 0, numChainedTweens = this._chainedTweens.length; i < numChainedTweens; i++) {\n\t\t\t\t\t// Make the chained tweens start exactly at the time they should,\n\t\t\t\t\t// even if the `update()` method was called way past the duration of the tween\n\t\t\t\t\tthis._chainedTweens[i].start(this._startTime + this._duration);\n\t\t\t\t}\n\n\t\t\t\treturn false;\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn true;\n\n\t}\n};\n\n\nTWEEN.Easing = {\n\n\tLinear: {\n\n\t\tNone: function (k) {\n\n\t\t\treturn k;\n\n\t\t}\n\n\t},\n\n\tQuadratic: {\n\n\t\tIn: function (k) {\n\n\t\t\treturn k * k;\n\n\t\t},\n\n\t\tOut: function (k) {\n\n\t\t\treturn k * (2 - k);\n\n\t\t},\n\n\t\tInOut: function (k) {\n\n\t\t\tif ((k *= 2) < 1) {\n\t\t\t\treturn 0.5 * k * k;\n\t\t\t}\n\n\t\t\treturn - 0.5 * (--k * (k - 2) - 1);\n\n\t\t}\n\n\t},\n\n\tCubic: {\n\n\t\tIn: function (k) {\n\n\t\t\treturn k * k * k;\n\n\t\t},\n\n\t\tOut: function (k) {\n\n\t\t\treturn --k * k * k + 1;\n\n\t\t},\n\n\t\tInOut: function (k) {\n\n\t\t\tif ((k *= 2) < 1) {\n\t\t\t\treturn 0.5 * k * k * k;\n\t\t\t}\n\n\t\t\treturn 0.5 * ((k -= 2) * k * k + 2);\n\n\t\t}\n\n\t},\n\n\tQuartic: {\n\n\t\tIn: function (k) {\n\n\t\t\treturn k * k * k * k;\n\n\t\t},\n\n\t\tOut: function (k) {\n\n\t\t\treturn 1 - (--k * k * k * k);\n\n\t\t},\n\n\t\tInOut: function (k) {\n\n\t\t\tif ((k *= 2) < 1) {\n\t\t\t\treturn 0.5 * k * k * k * k;\n\t\t\t}\n\n\t\t\treturn - 0.5 * ((k -= 2) * k * k * k - 2);\n\n\t\t}\n\n\t},\n\n\tQuintic: {\n\n\t\tIn: function (k) {\n\n\t\t\treturn k * k * k * k * k;\n\n\t\t},\n\n\t\tOut: function (k) {\n\n\t\t\treturn --k * k * k * k * k + 1;\n\n\t\t},\n\n\t\tInOut: function (k) {\n\n\t\t\tif ((k *= 2) < 1) {\n\t\t\t\treturn 0.5 * k * k * k * k * k;\n\t\t\t}\n\n\t\t\treturn 0.5 * ((k -= 2) * k * k * k * k + 2);\n\n\t\t}\n\n\t},\n\n\tSinusoidal: {\n\n\t\tIn: function (k) {\n\n\t\t\treturn 1 - Math.cos(k * Math.PI / 2);\n\n\t\t},\n\n\t\tOut: function (k) {\n\n\t\t\treturn Math.sin(k * Math.PI / 2);\n\n\t\t},\n\n\t\tInOut: function (k) {\n\n\t\t\treturn 0.5 * (1 - Math.cos(Math.PI * k));\n\n\t\t}\n\n\t},\n\n\tExponential: {\n\n\t\tIn: function (k) {\n\n\t\t\treturn k === 0 ? 0 : Math.pow(1024, k - 1);\n\n\t\t},\n\n\t\tOut: function (k) {\n\n\t\t\treturn k === 1 ? 1 : 1 - Math.pow(2, - 10 * k);\n\n\t\t},\n\n\t\tInOut: function (k) {\n\n\t\t\tif (k === 0) {\n\t\t\t\treturn 0;\n\t\t\t}\n\n\t\t\tif (k === 1) {\n\t\t\t\treturn 1;\n\t\t\t}\n\n\t\t\tif ((k *= 2) < 1) {\n\t\t\t\treturn 0.5 * Math.pow(1024, k - 1);\n\t\t\t}\n\n\t\t\treturn 0.5 * (- Math.pow(2, - 10 * (k - 1)) + 2);\n\n\t\t}\n\n\t},\n\n\tCircular: {\n\n\t\tIn: function (k) {\n\n\t\t\treturn 1 - Math.sqrt(1 - k * k);\n\n\t\t},\n\n\t\tOut: function (k) {\n\n\t\t\treturn Math.sqrt(1 - (--k * k));\n\n\t\t},\n\n\t\tInOut: function (k) {\n\n\t\t\tif ((k *= 2) < 1) {\n\t\t\t\treturn - 0.5 * (Math.sqrt(1 - k * k) - 1);\n\t\t\t}\n\n\t\t\treturn 0.5 * (Math.sqrt(1 - (k -= 2) * k) + 1);\n\n\t\t}\n\n\t},\n\n\tElastic: {\n\n\t\tIn: function (k) {\n\n\t\t\tif (k === 0) {\n\t\t\t\treturn 0;\n\t\t\t}\n\n\t\t\tif (k === 1) {\n\t\t\t\treturn 1;\n\t\t\t}\n\n\t\t\treturn -Math.pow(2, 10 * (k - 1)) * Math.sin((k - 1.1) * 5 * Math.PI);\n\n\t\t},\n\n\t\tOut: function (k) {\n\n\t\t\tif (k === 0) {\n\t\t\t\treturn 0;\n\t\t\t}\n\n\t\t\tif (k === 1) {\n\t\t\t\treturn 1;\n\t\t\t}\n\n\t\t\treturn Math.pow(2, -10 * k) * Math.sin((k - 0.1) * 5 * Math.PI) + 1;\n\n\t\t},\n\n\t\tInOut: function (k) {\n\n\t\t\tif (k === 0) {\n\t\t\t\treturn 0;\n\t\t\t}\n\n\t\t\tif (k === 1) {\n\t\t\t\treturn 1;\n\t\t\t}\n\n\t\t\tk *= 2;\n\n\t\t\tif (k < 1) {\n\t\t\t\treturn -0.5 * Math.pow(2, 10 * (k - 1)) * Math.sin((k - 1.1) * 5 * Math.PI);\n\t\t\t}\n\n\t\t\treturn 0.5 * Math.pow(2, -10 * (k - 1)) * Math.sin((k - 1.1) * 5 * Math.PI) + 1;\n\n\t\t}\n\n\t},\n\n\tBack: {\n\n\t\tIn: function (k) {\n\n\t\t\tvar s = 1.70158;\n\n\t\t\treturn k * k * ((s + 1) * k - s);\n\n\t\t},\n\n\t\tOut: function (k) {\n\n\t\t\tvar s = 1.70158;\n\n\t\t\treturn --k * k * ((s + 1) * k + s) + 1;\n\n\t\t},\n\n\t\tInOut: function (k) {\n\n\t\t\tvar s = 1.70158 * 1.525;\n\n\t\t\tif ((k *= 2) < 1) {\n\t\t\t\treturn 0.5 * (k * k * ((s + 1) * k - s));\n\t\t\t}\n\n\t\t\treturn 0.5 * ((k -= 2) * k * ((s + 1) * k + s) + 2);\n\n\t\t}\n\n\t},\n\n\tBounce: {\n\n\t\tIn: function (k) {\n\n\t\t\treturn 1 - TWEEN.Easing.Bounce.Out(1 - k);\n\n\t\t},\n\n\t\tOut: function (k) {\n\n\t\t\tif (k < (1 / 2.75)) {\n\t\t\t\treturn 7.5625 * k * k;\n\t\t\t} else if (k < (2 / 2.75)) {\n\t\t\t\treturn 7.5625 * (k -= (1.5 / 2.75)) * k + 0.75;\n\t\t\t} else if (k < (2.5 / 2.75)) {\n\t\t\t\treturn 7.5625 * (k -= (2.25 / 2.75)) * k + 0.9375;\n\t\t\t} else {\n\t\t\t\treturn 7.5625 * (k -= (2.625 / 2.75)) * k + 0.984375;\n\t\t\t}\n\n\t\t},\n\n\t\tInOut: function (k) {\n\n\t\t\tif (k < 0.5) {\n\t\t\t\treturn TWEEN.Easing.Bounce.In(k * 2) * 0.5;\n\t\t\t}\n\n\t\t\treturn TWEEN.Easing.Bounce.Out(k * 2 - 1) * 0.5 + 0.5;\n\n\t\t}\n\n\t}\n\n};\n\nTWEEN.Interpolation = {\n\n\tLinear: function (v, k) {\n\n\t\tvar m = v.length - 1;\n\t\tvar f = m * k;\n\t\tvar i = Math.floor(f);\n\t\tvar fn = TWEEN.Interpolation.Utils.Linear;\n\n\t\tif (k < 0) {\n\t\t\treturn fn(v[0], v[1], f);\n\t\t}\n\n\t\tif (k > 1) {\n\t\t\treturn fn(v[m], v[m - 1], m - f);\n\t\t}\n\n\t\treturn fn(v[i], v[i + 1 > m ? m : i + 1], f - i);\n\n\t},\n\n\tBezier: function (v, k) {\n\n\t\tvar b = 0;\n\t\tvar n = v.length - 1;\n\t\tvar pw = Math.pow;\n\t\tvar bn = TWEEN.Interpolation.Utils.Bernstein;\n\n\t\tfor (var i = 0; i <= n; i++) {\n\t\t\tb += pw(1 - k, n - i) * pw(k, i) * v[i] * bn(n, i);\n\t\t}\n\n\t\treturn b;\n\n\t},\n\n\tCatmullRom: function (v, k) {\n\n\t\tvar m = v.length - 1;\n\t\tvar f = m * k;\n\t\tvar i = Math.floor(f);\n\t\tvar fn = TWEEN.Interpolation.Utils.CatmullRom;\n\n\t\tif (v[0] === v[m]) {\n\n\t\t\tif (k < 0) {\n\t\t\t\ti = Math.floor(f = m * (1 + k));\n\t\t\t}\n\n\t\t\treturn fn(v[(i - 1 + m) % m], v[i], v[(i + 1) % m], v[(i + 2) % m], f - i);\n\n\t\t} else {\n\n\t\t\tif (k < 0) {\n\t\t\t\treturn v[0] - (fn(v[0], v[0], v[1], v[1], -f) - v[0]);\n\t\t\t}\n\n\t\t\tif (k > 1) {\n\t\t\t\treturn v[m] - (fn(v[m], v[m], v[m - 1], v[m - 1], f - m) - v[m]);\n\t\t\t}\n\n\t\t\treturn fn(v[i ? i - 1 : 0], v[i], v[m < i + 1 ? m : i + 1], v[m < i + 2 ? m : i + 2], f - i);\n\n\t\t}\n\n\t},\n\n\tUtils: {\n\n\t\tLinear: function (p0, p1, t) {\n\n\t\t\treturn (p1 - p0) * t + p0;\n\n\t\t},\n\n\t\tBernstein: function (n, i) {\n\n\t\t\tvar fc = TWEEN.Interpolation.Utils.Factorial;\n\n\t\t\treturn fc(n) / fc(i) / fc(n - i);\n\n\t\t},\n\n\t\tFactorial: (function () {\n\n\t\t\tvar a = [1];\n\n\t\t\treturn function (n) {\n\n\t\t\t\tvar s = 1;\n\n\t\t\t\tif (a[n]) {\n\t\t\t\t\treturn a[n];\n\t\t\t\t}\n\n\t\t\t\tfor (var i = n; i > 1; i--) {\n\t\t\t\t\ts *= i;\n\t\t\t\t}\n\n\t\t\t\ta[n] = s;\n\t\t\t\treturn s;\n\n\t\t\t};\n\n\t\t})(),\n\n\t\tCatmullRom: function (p0, p1, p2, p3, t) {\n\n\t\t\tvar v0 = (p2 - p0) * 0.5;\n\t\t\tvar v1 = (p3 - p1) * 0.5;\n\t\t\tvar t2 = t * t;\n\t\t\tvar t3 = t * t2;\n\n\t\t\treturn (2 * p1 - 2 * p2 + v0 + v1) * t3 + (- 3 * p1 + 3 * p2 - 2 * v0 - v1) * t2 + v0 * t + p1;\n\n\t\t}\n\n\t}\n\n};\n\n// UMD (Universal Module Definition)\n(function (root) {\n\n\t{\n\n\t\t// Node.js\n\t\tmodule.exports = TWEEN;\n\n\t}\n\n})(commonjsGlobal);\n});\n\n/**\n * @classdesc Information spot attached to panorama\n * @constructor\n * @param {number} [scale=300] - Default scale\n * @param {string} [imageSrc=PANOLENS.DataImage.Info] - Image overlay info\n * @param {boolean} [animated=true] - Enable default hover animation\n */\nfunction Infospot ( scale = 300, imageSrc, animated ) {\n\t\n    const duration = 500, scaleFactor = 1.3;\n\n    imageSrc = imageSrc || DataImage.Info;\n\n    THREE.Sprite.call( this );\n\n    this.type = 'infospot';\n\n    this.animated = animated !== undefined ? animated : true;\n    this.isHovering = false;\n\n    /*\n     * TODO: Three.js bug hotfix for sprite raycasting r104\n     * https://github.com/mrdoob/three.js/issues/14624\n     */\n    this.frustumCulled = false;\n\n    this.element;\n    this.toPanorama;\n    this.cursorStyle;\n\n    this.mode = MODES.UNKNOWN;\n\n    this.scale.set( scale, scale, 1 );\n    this.rotation.y = Math.PI;\n\n    this.container;\n\n    this.originalRaycast = this.raycast;\n\n    // Event Handler\n    this.HANDLER_FOCUS;\t\n\n    this.material.side = THREE.DoubleSide;\n    this.material.depthTest = false;\n    this.material.transparent = true;\n    this.material.opacity = 0;\n\n    const postLoad = function ( texture ) {\n\n        const ratio = texture.image.width / texture.image.height;\n        const textureScale = new THREE.Vector3();\n\n        texture.image.width = texture.image.naturalWidth || 64;\n        texture.image.height = texture.image.naturalHeight || 64;\n\n        this.scale.set( ratio * scale, scale, 1 );\n\n        textureScale.copy( this.scale );\n\n        this.scaleUpAnimation = new Tween.Tween( this.scale )\n            .to( { x: textureScale.x * scaleFactor, y: textureScale.y * scaleFactor }, duration )\n            .easing( Tween.Easing.Elastic.Out );\n\n        this.scaleDownAnimation = new Tween.Tween( this.scale )\n            .to( { x: textureScale.x, y: textureScale.y }, duration )\n            .easing( Tween.Easing.Elastic.Out );\n\n        this.material.map = texture;\n        this.material.needsUpdate = true;\n\n    }.bind( this );\n\n    // Add show and hide animations\n    this.showAnimation = new Tween.Tween( this.material )\n        .to( { opacity: 1 }, duration )\n        .onStart( this.enableRaycast.bind( this, true ) )\n        .easing( Tween.Easing.Quartic.Out );\n\n    this.hideAnimation = new Tween.Tween( this.material )\n        .to( { opacity: 0 }, duration )\n        .onStart( this.enableRaycast.bind( this, false ) )\n        .easing( Tween.Easing.Quartic.Out );\n\n    // Attach event listeners\n    this.addEventListener( 'click', this.onClick );\n    this.addEventListener( 'hover', this.onHover );\n    this.addEventListener( 'hoverenter', this.onHoverStart );\n    this.addEventListener( 'hoverleave', this.onHoverEnd );\n    this.addEventListener( 'panolens-dual-eye-effect', this.onDualEyeEffect );\n    this.addEventListener( 'panolens-container', this.setContainer.bind( this ) );\n    this.addEventListener( 'dismiss', this.onDismiss );\n    this.addEventListener( 'panolens-infospot-focus', this.setFocusMethod );\n\n    TextureLoader.load( imageSrc, postLoad );\t\n\n}\nInfospot.prototype = Object.assign( Object.create( THREE.Sprite.prototype ), {\n\n    constructor: Infospot,\n\n    /**\n     * Set infospot container\n     * @param {HTMLElement|object} data - Data with container information\n     * @memberOf Infospot\n     * @instance\n     */\n    setContainer: function ( data ) {\n\n        let container;\n\t\n        if ( data instanceof HTMLElement ) {\n\t\n            container = data;\n\t\n        } else if ( data && data.container ) {\n\t\n            container = data.container;\n\t\n        }\n\t\n        // Append element if exists\n        if ( container && this.element ) {\n\t\n            container.appendChild( this.element );\n\t\n        }\n\t\n        this.container = container;\n\t\n    },\n\n    /**\n     * Get container\n     * @memberOf Infospot\n     * @instance\n     * @return {HTMLElement} - The container of this infospot\n     */\n    getContainer: function () {\n\n        return this.container;\n\n    },\n\n    /**\n     * This will be called by a click event\n     * Translate and lock the hovering element if any\n     * @param  {object} event - Event containing mouseEvent with clientX and clientY\n     * @memberOf Infospot\n     * @instance\n     */\n    onClick: function ( event ) {\n\n        if ( this.element && this.getContainer() ) {\n\n            this.onHoverStart( event );\n\n            // Lock element\n            this.lockHoverElement();\n\n        }\n\n    },\n\n    /**\n     * Dismiss current element if any\n     * @param  {object} event - Dismiss event\n     * @memberOf Infospot\n     * @instance\n     */\n    onDismiss: function ( event ) {\n\n        if ( this.element ) {\n\n            this.unlockHoverElement();\n            this.onHoverEnd();\n\n        }\n\n    },\n\n    /**\n     * This will be called by a mouse hover event\n     * Translate the hovering element if any\n     * @param  {object} event - Event containing mouseEvent with clientX and clientY\n     * @memberOf Infospot\n     * @instance\n     */\n    onHover: function ( event ) {},\n\n    /**\n     * This will be called on a mouse hover start\n     * Sets cursor style to 'pointer', display the element and scale up the infospot\n     * @param {object} event\n     * @memberOf Infospot\n     * @instance\n     */\n    onHoverStart: function ( event ) {\n\n        if ( !this.getContainer() ) { return; }\n\n        const cursorStyle = this.cursorStyle || ( this.mode === MODES.NORMAL ? 'pointer' : 'default' );\n\n        this.isHovering = true;\n        this.container.style.cursor = cursorStyle;\n\t\t\n        if ( this.animated ) {\n\n            this.scaleDownAnimation && this.scaleDownAnimation.stop();\n            this.scaleUpAnimation && this.scaleUpAnimation.start();\n\n        }\n\t\t\n        if ( this.element && event.mouseEvent.clientX >= 0 && event.mouseEvent.clientY >= 0 ) {\n\n            if ( this.mode === MODES.CARDBOARD || this.mode === MODES.STEREO ) {\n\n                this.element.style.display = 'none';\n                this.element.left && ( this.element.left.style.display = 'block' );\n                this.element.right && ( this.element.right.style.display = 'block' );\n\n                // Store element width for reference\n                this.element._width = this.element.left.clientWidth;\n                this.element._height = this.element.left.clientHeight;\n\n            } else {\n\n                this.element.style.display = 'block';\n                this.element.left && ( this.element.left.style.display = 'none' );\n                this.element.right && ( this.element.right.style.display = 'none' );\n\n                // Store element width for reference\n                this.element._width = this.element.clientWidth;\n                this.element._height = this.element.clientHeight;\n\n            }\n\t\t\t\n        }\n\n    },\n\n    /**\n     * This will be called on a mouse hover end\n     * Sets cursor style to 'default', hide the element and scale down the infospot\n     * @memberOf Infospot\n     * @instance\n     */\n    onHoverEnd: function () {\n\n        if ( !this.getContainer() ) { return; }\n\n        this.isHovering = false;\n        this.container.style.cursor = 'default';\n\n        if ( this.animated ) {\n\n            this.scaleUpAnimation && this.scaleUpAnimation.stop();\n            this.scaleDownAnimation && this.scaleDownAnimation.start();\n\n        }\n\n        if ( this.element && !this.element.locked ) {\n\n            this.element.style.display = 'none';\n            this.element.left && ( this.element.left.style.display = 'none' );\n            this.element.right && ( this.element.right.style.display = 'none' );\n\n            this.unlockHoverElement();\n\n        }\n\n    },\n\n    /**\n     * On dual eye effect handler\n     * Creates duplicate left and right element\n     * @param  {object} event - panolens-dual-eye-effect event\n     * @memberOf Infospot\n     * @instance\n     */\n    onDualEyeEffect: function ( event ) {\n\t\t\n        if ( !this.getContainer() ) { return; }\n\n        let element, halfWidth, halfHeight;\n\n        this.mode = event.mode;\n\n        element = this.element;\n\n        halfWidth = this.container.clientWidth / 2;\n        halfHeight = this.container.clientHeight / 2;\n\n        if ( !element ) {\n\n            return;\n\n        }\n\n        if ( !element.left || !element.right ) {\n\n            element.left = element.cloneNode( true );\n            element.right = element.cloneNode( true );\n\n        }\n\n        if ( this.mode === MODES.CARDBOARD || this.mode === MODES.STEREO ) {\n\n            element.left.style.display = element.style.display;\n            element.right.style.display = element.style.display;\n            element.style.display = 'none';\n\n        } else {\n\n            element.style.display = element.left.style.display;\n            element.left.style.display = 'none';\n            element.right.style.display = 'none';\n\n        }\n\n        // Update elements translation\n        this.translateElement( halfWidth, halfHeight );\n\n        this.container.appendChild( element.left );\n        this.container.appendChild( element.right );\n\n    },\n\n    /**\n     * Translate the hovering element by css transform\n     * @param  {number} x - X position on the window screen\n     * @param  {number} y - Y position on the window screen\n     * @memberOf Infospot\n     * @instance\n     */\n    translateElement: function ( x, y ) {\n\n        if ( !this.element._width || !this.element._height || !this.getContainer() ) {\n\n            return;\n\n        }\n\n        let left, top, element, width, height, delta, container;\n\n        container = this.container;\n        element = this.element;\n        width = element._width / 2;\n        height = element._height / 2;\n        delta = element.verticalDelta !== undefined ? element.verticalDelta : 40;\n\n        left = x - width;\n        top = y - height - delta;\n\n        if ( ( this.mode === MODES.CARDBOARD || this.mode === MODES.STEREO ) \n\t\t\t\t&& element.left && element.right\n\t\t\t\t&& !( x === container.clientWidth / 2 && y === container.clientHeight / 2 ) ) {\n\n            left = container.clientWidth / 4 - width + ( x - container.clientWidth / 2 );\n            top = container.clientHeight / 2 - height - delta + ( y - container.clientHeight / 2 );\n\n            this.setElementStyle( 'transform', element.left, 'translate(' + left + 'px, ' + top + 'px)' );\n\n            left += container.clientWidth / 2;\n\n            this.setElementStyle( 'transform', element.right, 'translate(' + left + 'px, ' + top + 'px)' );\n\n        } else {\n\n            this.setElementStyle( 'transform', element, 'translate(' + left + 'px, ' + top + 'px)' );\n\n        }\n\n    },\n\n    /**\n     * Set vendor specific css\n     * @param {string} type - CSS style name\n     * @param {HTMLElement} element - The element to be modified\n     * @param {string} value - Style value\n     * @memberOf Infospot\n     * @instance\n     */\n    setElementStyle: function ( type, element, value ) {\n\n        const style = element.style;\n\n        if ( type === 'transform' ) {\n\n            style.webkitTransform = style.msTransform = style.transform = value;\n\n        }\n\n    },\n\n    /**\n     * Set hovering text content\n     * @param {string} text - Text to be displayed\n     * @memberOf Infospot\n     * @instance\n     */\n    setText: function ( text ) {\n\n        if ( this.element ) {\n\n            this.element.textContent = text;\n\n        }\n\n    },\n\n    /**\n     * Set cursor css style on hover\n     * @memberOf Infospot\n     * @instance\n     */\n    setCursorHoverStyle: function ( style ) {\n\n        this.cursorStyle = style;\n\n    },\n\n    /**\n     * Add hovering text element\n     * @param {string} text - Text to be displayed\n     * @param {number} [delta=40] - Vertical delta to the infospot\n     * @memberOf Infospot\n     * @instance\n     */\n    addHoverText: function ( text, delta ) {\n\n        if ( !this.element ) {\n\n            this.element = document.createElement( 'div' );\n            this.element.style.display = 'none';\n            this.element.style.color = '#fff';\n            this.element.style.top = 0;\n            this.element.style.maxWidth = '50%';\n            this.element.style.maxHeight = '50%';\n            this.element.style.textShadow = '0 0 3px #000000';\n            this.element.style.fontFamily = '\"Trebuchet MS\", Helvetica, sans-serif';\n            this.element.style.position = 'absolute';\n            this.element.classList.add( 'panolens-infospot' );\n            this.element.verticalDelta = delta !== undefined ? delta : 40;\n\n        }\n\n        this.setText( text );\n\n    },\n\n    /**\n     * Add hovering element by cloning an element\n     * @param {HTMLDOMElement} el - Element to be cloned and displayed\n     * @param {number} [delta=40] - Vertical delta to the infospot\n     * @memberOf Infospot\n     * @instance\n     */\n    addHoverElement: function ( el, delta ) {\n\n        if ( !this.element ) { \n\n            this.element = el.cloneNode( true );\n            this.element.style.display = 'none';\n            this.element.style.top = 0;\n            this.element.style.position = 'absolute';\n            this.element.classList.add( 'panolens-infospot' );\n            this.element.verticalDelta = delta !== undefined ? delta : 40;\n\n        }\n\n    },\n\n    /**\n     * Remove hovering element\n     * @memberOf Infospot\n     * @instance\n     */\n    removeHoverElement: function () {\n\n        if ( this.element ) { \n\n            if ( this.element.left ) {\n\n                this.container.removeChild( this.element.left );\n                this.element.left = null;\n\n            }\n\n            if ( this.element.right ) {\n\n                this.container.removeChild( this.element.right );\n                this.element.right = null;\n\n            }\n\n            this.container.removeChild( this.element );\n            this.element = null;\n\n        }\n\n    },\n\n    /**\n     * Lock hovering element\n     * @memberOf Infospot\n     * @instance\n     */\n    lockHoverElement: function () {\n\n        if ( this.element ) { \n\n            this.element.locked = true;\n\n        }\n\n    },\n\n    /**\n     * Unlock hovering element\n     * @memberOf Infospot\n     * @instance\n     */\n    unlockHoverElement: function () {\n\n        if ( this.element ) { \n\n            this.element.locked = false;\n\n        }\n\n    },\n\n    /**\n     * Enable raycasting\n     * @param {boolean} [enabled=true]\n     * @memberOf Infospot\n     * @instance\n     */\n    enableRaycast: function ( enabled = true ) {\n\n        if ( enabled ) {\n\n            this.raycast = this.originalRaycast;\n\n        } else {\n\n            this.raycast = () => {};\n\n        }\n\n    },\n\n    /**\n     * Show infospot\n     * @param  {number} [delay=0] - Delay time to show\n     * @memberOf Infospot\n     * @instance\n     */\n    show: function ( delay = 0 ) {\n\n        if ( this.animated ) {\n\n            this.hideAnimation && this.hideAnimation.stop();\n            this.showAnimation && this.showAnimation.delay( delay ).start();\n\n        } else {\n\n            this.material.opacity = 1;\n\n        }\n\n    },\n\n    /**\n     * Hide infospot\n     * @param  {number} [delay=0] - Delay time to hide\n     * @memberOf Infospot\n     * @instance\n     */\n    hide: function ( delay = 0 ) {\n\n        if ( this.animated ) {\n\n            this.showAnimation && this.showAnimation.stop();\n            this.hideAnimation && this.hideAnimation.delay( delay ).start();\n\n        } else {\n\n            this.material.opacity = 0;\n\n        }\n\t\t\n    },\n\n    /**\n     * Set focus event handler\n     * @memberOf Infospot\n     * @instance\n     */\n    setFocusMethod: function ( event ) {\n\n        if ( event ) {\n\n            this.HANDLER_FOCUS = event.method;\n\n        }\n\n    },\n\n    /**\n     * Focus camera center to this infospot\n     * @param {number} [duration=1000] - Duration to tween\n     * @param {function} [easing=TWEEN.Easing.Exponential.Out] - Easing function\n     * @memberOf Infospot\n     * @instance\n     */\n    focus: function ( duration, easing ) {\n\n        if ( this.HANDLER_FOCUS ) {\n\n            this.HANDLER_FOCUS( this.position, duration, easing );\n            this.onDismiss();\n\n        }\n\n    },\n\n    /**\n     * Dispose\n     * @memberOf Infospot\n     * @instance\n     */\n    dispose: function () {\n\n        this.removeHoverElement();\n        this.material.dispose();\n\n        if ( this.parent ) {\n\n            this.parent.remove( this );\n\n        }\n\n    }\n\n} );\n\n/**\n * @classdesc Widget for controls\n * @constructor\n * @param {HTMLElement} container - A domElement where default control widget will be attached to\n */\nfunction Widget ( container ) {\n\n    if ( !container ) {\n\n        console.warn( 'PANOLENS.Widget: No container specified' );\n\n    }\n\n    THREE.EventDispatcher.call( this );\n\n    this.DEFAULT_TRANSITION  = 'all 0.27s ease';\n    this.TOUCH_ENABLED = !!(( 'ontouchstart' in window ) || window.DocumentTouch && document instanceof DocumentTouch);\n    this.PREVENT_EVENT_HANDLER = function ( event ) {\n        event.preventDefault();\n        event.stopPropagation();\n    };\n\n    this.container = container;\n\n    this.barElement;\n    this.fullscreenElement;\n    this.videoElement;\n    this.settingElement;\n\n    this.mainMenu;\n\n    this.activeMainItem;\n    this.activeSubMenu;\n    this.mask;\n\n}\n\nWidget.prototype = Object.assign( Object.create( THREE.EventDispatcher.prototype ), {\n\n    constructor: Widget,\n\n    /**\n     * Add control bar\n     * @memberOf Widget\n     * @instance\n     */\n    addControlBar: function () {\n\n        if ( !this.container ) {\n\n            console.warn( 'Widget container not set' ); \n            return; \n        }\n\n        var scope = this, bar, styleTranslate, styleOpacity, gradientStyle;\n\n        gradientStyle = 'linear-gradient(bottom, rgba(0,0,0,0.2), rgba(0,0,0,0))';\n\n        bar = document.createElement( 'div' );\n        bar.style.width = '100%';\n        bar.style.height = '44px';\n        bar.style.float = 'left';\n        bar.style.transform = bar.style.webkitTransform = bar.style.msTransform = 'translateY(-100%)';\n        bar.style.background = '-webkit-' + gradientStyle;\n        bar.style.background = '-moz-' + gradientStyle;\n        bar.style.background = '-o-' + gradientStyle;\n        bar.style.background = '-ms-' + gradientStyle;\n        bar.style.background = gradientStyle;\n        bar.style.transition = this.DEFAULT_TRANSITION;\n        bar.style.pointerEvents = 'none';\n        bar.isHidden = false;\n        bar.toggle = function () {\n            bar.isHidden = !bar.isHidden;\n            styleTranslate = bar.isHidden ? 'translateY(0)' : 'translateY(-100%)';\n            styleOpacity = bar.isHidden ? 0 : 1;\n            bar.style.transform = bar.style.webkitTransform = bar.style.msTransform = styleTranslate;\n            bar.style.opacity = styleOpacity;\n        };\n\n        // Menu\n        var menu = this.createDefaultMenu();\n        this.mainMenu = this.createMainMenu( menu );\n        bar.appendChild( this.mainMenu );\n\n        // Mask\n        var mask = this.createMask();\n        this.mask = mask;\n        this.container.appendChild( mask );\n\n        // Dispose\n        bar.dispose = function () {\n\n            if ( scope.fullscreenElement ) {\n\n                bar.removeChild( scope.fullscreenElement );\n                scope.fullscreenElement.dispose();\n                scope.fullscreenElement = null;\n\n            }\n\n            if ( scope.settingElement ) {\n\n                bar.removeChild( scope.settingElement );\n                scope.settingElement.dispose();\n                scope.settingElement = null;\n\n            }\n\n            if ( scope.videoElement ) {\n\n                bar.removeChild( scope.videoElement );\n                scope.videoElement.dispose();\n                scope.videoElement = null;\n\n            }\n\n        };\n\n        this.container.appendChild( bar );\n\n        // Mask events\n        this.mask.addEventListener( 'mousemove', this.PREVENT_EVENT_HANDLER, true );\n        this.mask.addEventListener( 'mouseup', this.PREVENT_EVENT_HANDLER, true );\n        this.mask.addEventListener( 'mousedown', this.PREVENT_EVENT_HANDLER, true );\n        this.mask.addEventListener( scope.TOUCH_ENABLED ? 'touchend' : 'click', function ( event ) {\n\n            event.preventDefault();\n            event.stopPropagation();\n\n            scope.mask.hide();\n            scope.settingElement.deactivate();\n\n        }, false );\n\n        // Event listener\n        this.addEventListener( 'control-bar-toggle', bar.toggle );\n\n        this.barElement = bar;\n\n    },\n\n    /**\n     * Create default menu\n     * @memberOf Widget\n     * @instance\n     */\n    createDefaultMenu: function () {\n\n        var scope = this, handler;\n\n        handler = function ( method, data ) {\n\n            return function () {\n\n                scope.dispatchEvent( { \n\n                    type: 'panolens-viewer-handler', \n                    method: method, \n                    data: data \n\n                } ); \n\n            };\n\n        };\n\n        return [\n\n            { \n                title: 'Control', \n                subMenu: [ \n                    { \n                        title: this.TOUCH_ENABLED ? 'Touch' : 'Mouse', \n                        handler: handler( 'enableControl', CONTROLS.ORBIT )\n                    },\n                    { \n                        title: 'Sensor', \n                        handler: handler( 'enableControl', CONTROLS.DEVICEORIENTATION ) \n                    } \n                ]\n            },\n\n            { \n                title: 'Mode', \n                subMenu: [ \n                    { \n                        title: 'Normal',\n                        handler: handler( 'disableEffect' )\n                    }, \n                    { \n                        title: 'Cardboard',\n                        handler: handler( 'enableEffect', MODES.CARDBOARD )\n                    },\n                    { \n                        title: 'Stereoscopic',\n                        handler: handler( 'enableEffect', MODES.STEREO )\n                    }\n                ]\n            }\n\n        ];\n\n    },\n\n    /**\n     * Add buttons on top of control bar\n     * @param {string} name - The control button name to be created\n     * @memberOf Widget\n     * @instance\n     */\n    addControlButton: function ( name ) {\n\n        let element;\n\n        switch( name ) {\n\n        case 'fullscreen':\n\n            element = this.createFullscreenButton();\n            this.fullscreenElement = element; \n\n            break;\n\n        case 'setting':\n\n            element = this.createSettingButton();\n            this.settingElement = element;\n\n            break;\n\n        case 'video':\n\n            element = this.createVideoControl();\n            this.videoElement = element;\n\n            break;\n\n        default:\n\n            return;\n\n        }\n\n        if ( !element ) {\n\n            return;\n\n        }\n\n        this.barElement.appendChild( element );\n\n    },\n\n    /**\n     * Create modal mask\n     * @memberOf Widget\n     * @instance\n     */\n    createMask: function () {\n\n        const element = document.createElement( 'div' );\n        element.style.position = 'absolute';\n        element.style.top = 0;\n        element.style.left = 0;\n        element.style.width = '100%';\n        element.style.height = '100%';\n        element.style.background = 'transparent';\n        element.style.display = 'none';\n\n        element.show = function () {\n\n            this.style.display = 'block';\n\n        };\n\n        element.hide = function () {\n\n            this.style.display = 'none';\n\n        };\n\n        return element;\n\n    },\n\n    /**\n     * Create Setting button to toggle menu\n     * @memberOf Widget\n     * @instance\n     */\n    createSettingButton: function () {\n\n        let scope = this, item;\n\n        function onTap ( event ) {\n\n            event.preventDefault();\n            event.stopPropagation();\n\n            scope.mainMenu.toggle();\n\n            if ( this.activated ) {\n\t\n                this.deactivate();\n\n            } else {\n\n                this.activate();\n\n            }\n\n        }\n\n        item = this.createCustomItem( { \n\n            style: { \n\n                backgroundImage: 'url(\"' + DataImage.Setting + '\")',\n                webkitTransition: this.DEFAULT_TRANSITION,\n                transition: this.DEFAULT_TRANSITION\n\n            },\n\n            onTap: onTap\n\n        } );\n\n        item.activate = function () {\n\n            this.style.transform = 'rotate3d(0,0,1,90deg)';\n            this.activated = true;\n            scope.mask.show();\n\n        };\n\n        item.deactivate = function () {\n\n            this.style.transform = 'rotate3d(0,0,0,0)';\n            this.activated = false;\n            scope.mask.hide();\n\n            if ( scope.mainMenu && scope.mainMenu.visible ) {\n\n                scope.mainMenu.hide();\n\t\t\t\t\n            }\n\n            if ( scope.activeSubMenu && scope.activeSubMenu.visible ) {\n\n                scope.activeSubMenu.hide();\n\n            }\n\n            if ( scope.mainMenu && scope.mainMenu._width ) {\n\n                scope.mainMenu.changeSize( scope.mainMenu._width );\n                scope.mainMenu.unslideAll();\n\n            }\n\t\t\t\n        };\n\n        item.activated = false;\n\n        return item;\n\n    },\n\n    /**\n     * Create Fullscreen button\n     * @return {HTMLSpanElement} - The dom element icon for fullscreen\n     * @memberOf Widget\n     * @instance\n     * @fires Widget#panolens-viewer-handler\n     */\n    createFullscreenButton: function () {\n\n        let scope = this, item, isFullscreen = false, tapSkipped = true, stylesheetId;\n\n        stylesheetId = 'panolens-style-addon';\n\n        // Don't create button if no support\n        if ( !document.fullscreenEnabled       && \n\t\t\t!document.webkitFullscreenEnabled &&\n\t\t\t!document.mozFullScreenEnabled    &&\n\t\t\t!document.msFullscreenEnabled ) {\n            return;\n        }\n\n        function onTap ( event ) {\n\n            event.preventDefault();\n            event.stopPropagation();\n\n            tapSkipped = false;\n\n            if ( !isFullscreen ) {\n                scope.container.requestFullscreen && scope.container.requestFullscreen();\n                scope.container.msRequestFullscreen && scope.container.msRequestFullscreen();\n                scope.container.mozRequestFullScreen && scope.container.mozRequestFullScreen();\n                scope.container.webkitRequestFullscreen && scope.container.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT);\n                isFullscreen = true;\n            } else {\n                document.exitFullscreen && document.exitFullscreen();\n                document.msExitFullscreen && document.msExitFullscreen();\n                document.mozCancelFullScreen && document.mozCancelFullScreen();\n                document.webkitExitFullscreen && document.webkitExitFullscreen();\n                isFullscreen = false;\n            }\n\n            this.style.backgroundImage = ( isFullscreen ) \n                ? 'url(\"' + DataImage.FullscreenLeave + '\")' \n                : 'url(\"' + DataImage.FullscreenEnter + '\")';\n\n        }\n\n        function onFullScreenChange (e) {\n\n            if ( tapSkipped ) {\n\n                isFullscreen = !isFullscreen; \n\n                item.style.backgroundImage = ( isFullscreen ) \n                    ? 'url(\"' + DataImage.FullscreenLeave + '\")' \n                    : 'url(\"' + DataImage.FullscreenEnter + '\")';\n\n            }\n\n            /**\n             * Viewer handler event\n             * @type {object}\n             * @event Widget#panolens-dual-eye-effect\n             * @property {string} method - 'onWindowResize' function call on Viewer\n             */\n            scope.dispatchEvent( { type: 'panolens-viewer-handler', method: 'onWindowResize', data: false } );\n\n            tapSkipped = true;\n\n        }\n\n        document.addEventListener( 'fullscreenchange', onFullScreenChange, false );\n        document.addEventListener( 'webkitfullscreenchange', onFullScreenChange, false );\n        document.addEventListener( 'mozfullscreenchange', onFullScreenChange, false );\n        document.addEventListener( 'MSFullscreenChange', onFullScreenChange, false );\n\n        item = this.createCustomItem( { \n\n            style: { \n\n                backgroundImage: 'url(\"' + DataImage.FullscreenEnter + '\")' \n\n            },\n\n            onTap: onTap\n\n        } );\n\n        // Add fullscreen stlye if not exists\n        if ( !document.querySelector( stylesheetId ) ) {\n            const sheet = document.createElement( 'style' );\n            sheet.id = stylesheetId;\n            sheet.innerHTML = ':-webkit-full-screen { width: 100% !important; height: 100% !important }';\n            document.body.appendChild( sheet );\n        }\n\t\t\n        return item;\n\n    },\n\n    /**\n     * Create video control container\n     * @memberOf Widget\n     * @instance\n     * @return {HTMLSpanElement} - The dom element icon for video control\n     */\n    createVideoControl: function () {\n\n        const item = document.createElement( 'span' );\n        item.style.display = 'none';\n        item.show = function () { \n\n            item.style.display = '';\n\n        };\n\n        item.hide = function () { \n\n            item.style.display = 'none';\n            item.controlButton.paused = true;\n            item.controlButton.update();\n\n        };\n\n        item.controlButton = this.createVideoControlButton();\n        item.seekBar = this.createVideoControlSeekbar();\n\t\t\n        item.appendChild( item.controlButton );\n        item.appendChild( item.seekBar );\n\n        item.dispose = function () {\n\n            item.removeChild( item.controlButton );\n            item.removeChild( item.seekBar );\n\n            item.controlButton.dispose();\n            item.controlButton = null;\n\n            item.seekBar.dispose();\n            item.seekBar = null;\n\n        };\n\n        this.addEventListener( 'video-control-show', item.show );\n        this.addEventListener( 'video-control-hide', item.hide );\n\n        return item;\n\n    },\n\n    /**\n     * Create video control button\n     * @memberOf Widget\n     * @instance\n     * @return {HTMLSpanElement} - The dom element icon for video control\n     * @fires Widget#panolens-viewer-handler\n     */\n    createVideoControlButton: function () {\n\n        const scope = this;\n\n        function onTap ( event ) {\n\n            event.preventDefault();\n            event.stopPropagation();\n\n            /**\n             * Viewer handler event\n             * @type {object}\n             * @event Widget#panolens-viewer-handler\n             * @property {string} method - 'toggleVideoPlay' function call on Viewer\n             */\n            scope.dispatchEvent( { type: 'panolens-viewer-handler', method: 'toggleVideoPlay', data: !this.paused } );\n\n            this.paused = !this.paused;\n\n            item.update();\n\n        }\n        const item = this.createCustomItem( { \n\n            style: { \n\n                float: 'left',\n                backgroundImage: 'url(\"' + DataImage.VideoPlay + '\")'\n\n            },\n\n            onTap: onTap\n\n        } );\n\n        item.paused = true;\n\n        item.update = function ( paused ) {\n\n            this.paused = paused !== undefined ? paused : this.paused;\n\n            this.style.backgroundImage = 'url(\"' + ( this.paused \n                ? DataImage.VideoPlay \n                : DataImage.VideoPause ) + '\")';\n\n        };\n\n        return item;\n\n    },\n\n    /**\n     * Create video seekbar\n     * @memberOf Widget\n     * @instance\n     * @return {HTMLSpanElement} - The dom element icon for video seekbar\n     * @fires Widget#panolens-viewer-handler\n     */\n    createVideoControlSeekbar: function () {\n\n        let scope = this, item, progressElement, progressElementControl,\n            isDragging = false, mouseX, percentageNow, percentageNext;\n\n        progressElement = document.createElement( 'div' );\n        progressElement.style.width = '0%';\n        progressElement.style.height = '100%';\n        progressElement.style.backgroundColor = '#fff';\n\n        progressElementControl = document.createElement( 'div' );\n        progressElementControl.style.float = 'right';\n        progressElementControl.style.width = '14px';\n        progressElementControl.style.height = '14px';\n        progressElementControl.style.transform = 'translate(7px, -5px)';\n        progressElementControl.style.borderRadius = '50%';\n        progressElementControl.style.backgroundColor = '#ddd';\n\n        progressElementControl.addEventListener( 'mousedown', onMouseDown, { passive: true } );\n        progressElementControl.addEventListener( 'touchstart', onMouseDown,  { passive: true } );\n\n        function onMouseDown ( event ) {\n\n            event.stopPropagation();\n\t\t\t\n            isDragging = true;\n\t\t\t\n            mouseX = event.clientX || ( event.changedTouches && event.changedTouches[0].clientX );\n\n            percentageNow = parseInt( progressElement.style.width ) / 100;\n\n            addControlListeners();\n        }\n\n        function onVideoControlDrag ( event ) {\n\n            if( isDragging ){\n\n                const clientX = event.clientX || ( event.changedTouches && event.changedTouches[0].clientX );\n\t\t\t\t\n                percentageNext = ( clientX - mouseX ) / item.clientWidth;\n\n                percentageNext = percentageNow + percentageNext;\n\n                percentageNext = percentageNext > 1 ? 1 : ( ( percentageNext < 0 ) ? 0 : percentageNext );\n\n                item.setProgress ( percentageNext );\n\n                /**\n                 * Viewer handler event\n                 * @type {object}\n                 * @event Widget#panolens-viewer-handler\n                 * @property {string} method - 'setVideoCurrentTime' function call on Viewer\n                 * @property {number} data - Percentage of current video. Range from 0.0 to 1.0\n                 */\n                scope.dispatchEvent( { type: 'panolens-viewer-handler', method: 'setVideoCurrentTime', data: percentageNext } );\n\n            }\n\n        }\n\n        function onVideoControlStop ( event ) {\n\n            event.stopPropagation();\n\n            isDragging = false;\n\n            removeControlListeners();\n\n        }\n\n        function addControlListeners () {\n\n            scope.container.addEventListener( 'mousemove', onVideoControlDrag, { passive: true } );\n            scope.container.addEventListener( 'mouseup', onVideoControlStop, { passive: true } );\n            scope.container.addEventListener( 'touchmove', onVideoControlDrag, { passive: true } );\n            scope.container.addEventListener( 'touchend', onVideoControlStop, { passive: true } );\n\n\n        }\n\n        function removeControlListeners () {\n\n            scope.container.removeEventListener( 'mousemove', onVideoControlDrag, false );\n            scope.container.removeEventListener( 'mouseup', onVideoControlStop, false );\n            scope.container.removeEventListener( 'touchmove', onVideoControlDrag, false );\n            scope.container.removeEventListener( 'touchend', onVideoControlStop, false );\n\n        }\n\n        function onTap ( event ) {\n\n            event.preventDefault();\n            event.stopPropagation();\n\n            if ( event.target === progressElementControl ) { return; }\n\n            const percentage = ( event.changedTouches && event.changedTouches.length > 0 )\n                ? ( event.changedTouches[0].pageX - event.target.getBoundingClientRect().left ) / this.clientWidth\n                : event.offsetX / this.clientWidth;\n\n            /**\n             * Viewer handler event\n             * @type {object}\n             * @property {string} method - 'setVideoCurrentTime' function call on Viewer\n             * @property {number} data - Percentage of current video. Range from 0.0 to 1.0\n             */\n            scope.dispatchEvent( { type: 'panolens-viewer-handler', method: 'setVideoCurrentTime', data: percentage } );\n\n            item.setProgress( event.offsetX / this.clientWidth );\n\n        }\n        function onDispose () {\n\n            removeControlListeners();\n            progressElement = null;\n            progressElementControl = null;\n\n        }\n\n        progressElement.appendChild( progressElementControl );\n\n        item = this.createCustomItem( {\n\n            style: { \n\n                float: 'left',\n                width: '30%',\n                height: '4px',\n                marginTop: '20px',\n                backgroundColor: 'rgba(188,188,188,0.8)'\n\n            },\n\n            onTap: onTap,\n            onDispose: onDispose\n\n        } );\n\n        item.appendChild( progressElement );\n\n        item.setProgress = function( percentage ) {\n\n            progressElement.style.width = percentage * 100 + '%';\n\n        };\t\t\n\n        this.addEventListener( 'video-update', function ( event ) { \n\n            item.setProgress( event.percentage ); \n\n        } );\n\n        return item;\n\n    },\n\n    /**\n     * Create menu item\n     * @param  {string} title - Title to display\n     * @memberOf Widget\n     * @instance\n     * @return {HTMLElement} - An anchor tag element\n     */\n    createMenuItem: function ( title ) {\n\n        const scope = this; \n        const item = document.createElement( 'a' );\n        item.textContent = title;\n        item.style.display = 'block';\n        item.style.padding = '10px';\n        item.style.textDecoration = 'none';\n        item.style.cursor = 'pointer';\n        item.style.pointerEvents = 'auto';\n        item.style.transition = this.DEFAULT_TRANSITION;\n\n        item.slide = function ( right ) {\n\n            this.style.transform = 'translateX(' + ( right ? '' : '-' ) + '100%)';\n\n        };\n\n        item.unslide = function () {\n\n            this.style.transform = 'translateX(0)';\n\n        };\n\n        item.setIcon = function ( url ) {\n\n            if ( this.icon ) {\n\n                this.icon.style.backgroundImage = 'url(' + url + ')';\n\n            }\n\n        };\n\n        item.setSelectionTitle = function ( title ) {\n\n            if ( this.selection ) {\n\n                this.selection.textContent = title;\n\n            }\n\n        };\n\n        item.addSelection = function ( name ) {\n\t\t\t\n            const selection = document.createElement( 'span' );\n            selection.style.fontSize = '13px';\n            selection.style.fontWeight = '300';\n            selection.style.float = 'right';\n\n            this.selection = selection;\n            this.setSelectionTitle( name );\n            this.appendChild( selection );\n\t\t\t\n            return this;\n\n        };\n\n        item.addIcon = function ( url = DataImage.ChevronRight, left = false, flip = false ) {\n\t\t\t\n            const element = document.createElement( 'span' );\n            element.style.float = left ? 'left' : 'right';\n            element.style.width = '17px';\n            element.style.height = '17px';\n            element.style[ 'margin' + ( left ? 'Right' : 'Left' ) ] = '12px';\n            element.style.backgroundSize = 'cover';\n\n            if ( flip ) {\n\n                element.style.transform = 'rotateZ(180deg)';\n\n            }\n\n            this.icon = element;\n            this.setIcon( url );\n            this.appendChild( element );\n\n            return this;\n\n        };\n\n        item.addSubMenu = function ( title, items ) {\n\n            this.subMenu = scope.createSubMenu( title, items );\n\n            return this;\n\n        };\n\n        item.addEventListener( 'mouseenter', function () {\n\t\t\t\n            this.style.backgroundColor = '#e0e0e0';\n\n        }, false );\n\n        item.addEventListener( 'mouseleave', function () {\n\t\t\t\n            this.style.backgroundColor = '#fafafa';\n\n        }, false );\n\n        return item;\n\n    },\n\n    /**\n     * Create menu item header\n     * @param  {string} title - Title to display\n     * @memberOf Widget\n     * @instance\n     * @return {HTMLElement} - An anchor tag element\n     */\n    createMenuItemHeader: function ( title ) {\n\n        const header = this.createMenuItem( title );\n\n        header.style.borderBottom = '1px solid #333';\n        header.style.paddingBottom = '15px';\n\n        return header;\n\n    },\n\n    /**\n     * Create main menu\n     * @param  {array} menus - Menu array list\n     * @memberOf Widget\n     * @instance\n     * @return {HTMLElement} - A span element\n     */\n    createMainMenu: function ( menus ) {\n\t\t\n        let scope = this, menu = this.createMenu();\n\n        menu._width = 200;\n        menu.changeSize( menu._width );\n\n        function onTap ( event ) {\n\n            event.preventDefault();\n            event.stopPropagation();\n\n            let mainMenu = scope.mainMenu, subMenu = this.subMenu;\n\n            function onNextTick () {\n\n                mainMenu.changeSize( subMenu.clientWidth );\n                subMenu.show();\n                subMenu.unslideAll();\n\n            }\n\n            mainMenu.hide();\n            mainMenu.slideAll();\n            mainMenu.parentElement.appendChild( subMenu );\n\n            scope.activeMainItem = this;\n            scope.activeSubMenu = subMenu;\n\n            window.requestAnimationFrame( onNextTick );\n\n        }\n        for ( var i = 0; i < menus.length; i++ ) {\n\n            var item = menu.addItem( menus[ i ].title );\n\n            item.style.paddingLeft = '20px';\n\n            item.addIcon()\n                .addEventListener( scope.TOUCH_ENABLED ? 'touchend' : 'click', onTap, false );\n\n            if ( menus[ i ].subMenu && menus[ i ].subMenu.length > 0 ) {\n\n                var title = menus[ i ].subMenu[ 0 ].title;\n\n                item.addSelection( title )\n                    .addSubMenu( menus[ i ].title, menus[ i ].subMenu );\n\n            }\n\n        }\n\n        return menu;\n\n    },\n\n    /**\n     * Create sub menu\n     * @param {string} title - Sub menu title\n     * @param {array} items - Item array list\n     * @memberOf Widget\n     * @instance\n     * @return {HTMLElement} - A span element\n     */\n    createSubMenu: function ( title, items ) {\n\n        let scope = this, menu, subMenu = this.createMenu();\n\n        subMenu.items = items;\n        subMenu.activeItem;\n\n        function onTap ( event ) {\n\n            event.preventDefault();\n            event.stopPropagation();\n\n            menu = scope.mainMenu;\n            menu.changeSize( menu._width );\n            menu.unslideAll();\n            menu.show();\n            subMenu.slideAll( true );\n            subMenu.hide();\n\n            if ( this.type !== 'header' ) {\n\n                subMenu.setActiveItem( this );\n                scope.activeMainItem.setSelectionTitle( this.textContent );\n\n                this.handler && this.handler();\n\n            }\n\n        }\n\n        subMenu.addHeader( title ).addIcon( undefined, true, true ).addEventListener( scope.TOUCH_ENABLED ? 'touchend' : 'click', onTap, false );\n\n        for ( let i = 0; i < items.length; i++ ) {\n\n            const item = subMenu.addItem( items[ i ].title );\n\n            item.style.fontWeight = 300;\n            item.handler = items[ i ].handler;\n            item.addIcon( ' ', true );\n            item.addEventListener( scope.TOUCH_ENABLED ? 'touchend' : 'click', onTap, false );\n\n            if ( !subMenu.activeItem ) {\n\n                subMenu.setActiveItem( item );\n\n            }\n\n        }\n\n        subMenu.slideAll( true );\n\n        return subMenu;\n\t\t\n    },\n\n    /**\n     * Create general menu\n     * @memberOf Widget\n     * @instance\n     * @return {HTMLElement} - A span element\n     */\n    createMenu: function () {\n\n        const scope = this;\n        const menu = document.createElement( 'span' );\n        const style = menu.style;\n\n        style.padding = '5px 0';\n        style.position = 'fixed';\n        style.bottom = '100%';\n        style.right = '14px';\n        style.backgroundColor = '#fafafa';\n        style.fontFamily = 'Helvetica Neue';\n        style.fontSize = '14px';\n        style.visibility = 'hidden';\n        style.opacity = 0;\n        style.boxShadow = '0 0 12pt rgba(0,0,0,0.25)';\n        style.borderRadius = '2px';\n        style.overflow = 'hidden';\n        style.willChange = 'width, height, opacity';\n        style.pointerEvents = 'auto';\n        style.transition = this.DEFAULT_TRANSITION;\n\n        menu.visible = false;\n\n        menu.changeSize = function ( width, height ) {\n\n            if ( width ) {\n\n                this.style.width = width + 'px';\n\n            }\n\n            if ( height ) {\n\n                this.style.height = height + 'px';\n\n            }\n\n        };\n\n        menu.show = function () {\n\n            this.style.opacity = 1;\n            this.style.visibility = 'visible';\n            this.visible = true;\n\n        };\n\n        menu.hide = function () {\n\n            this.style.opacity = 0;\n            this.style.visibility = 'hidden';\n            this.visible = false;\n\n        };\n\n        menu.toggle = function () {\n\n            if ( this.visible ) {\n\n                this.hide();\n\n            } else {\n\n                this.show();\n\n            }\n\n        };\n\n        menu.slideAll = function ( right ) {\n\n            for ( let i = 0; i < menu.children.length; i++ ){\n\n                if ( menu.children[ i ].slide ) {\n\n                    menu.children[ i ].slide( right );\n\n                }\n\n            }\n\n        };\n\n        menu.unslideAll = function () {\n\n            for ( let i = 0; i < menu.children.length; i++ ){\n\n                if ( menu.children[ i ].unslide ) {\n\n                    menu.children[ i ].unslide();\n\n                }\n\n            }\n\n        };\n\n        menu.addHeader = function ( title ) {\n\n            const header = scope.createMenuItemHeader( title );\n            header.type = 'header';\n\n            this.appendChild( header );\n\n            return header;\n\n        };\n\n        menu.addItem = function ( title ) {\n\n            const item = scope.createMenuItem( title );\n            item.type = 'item';\n\n            this.appendChild( item );\n\n            return item;\n\n        };\n\n        menu.setActiveItem = function ( item ) {\n\n            if ( this.activeItem ) {\n\n                this.activeItem.setIcon( ' ' );\n\n            }\n\n            item.setIcon( DataImage.Check );\n\n            this.activeItem = item;\n\n        };\n\n        menu.addEventListener( 'mousemove', this.PREVENT_EVENT_HANDLER, true );\n        menu.addEventListener( 'mouseup', this.PREVENT_EVENT_HANDLER, true );\n        menu.addEventListener( 'mousedown', this.PREVENT_EVENT_HANDLER, true );\n\n        return menu;\n\n    },\n\n    /**\n     * Create custom item element\n     * @memberOf Widget\n     * @instance\n     * @return {HTMLSpanElement} - The dom element icon\n     */\n    createCustomItem: function ( options = {} ) {\n\n        const scope = this;\n        const item = options.element || document.createElement( 'span' );\n\n        item.style.cursor = 'pointer';\n        item.style.float = 'right';\n        item.style.width = '44px';\n        item.style.height = '100%';\n        item.style.backgroundSize = '60%';\n        item.style.backgroundRepeat = 'no-repeat';\n        item.style.backgroundPosition = 'center';\n        item.style.webkitUserSelect = \n\t\titem.style.MozUserSelect = \n\t\titem.style.userSelect = 'none';\n        item.style.position = 'relative';\n        item.style.pointerEvents = 'auto';\n\n        // White glow on icon\n        item.addEventListener( scope.TOUCH_ENABLED ? 'touchstart' : 'mouseenter', function() {\n            item.style.filter = \n\t\t\titem.style.webkitFilter = 'drop-shadow(0 0 5px rgba(255,255,255,1))';\n        }, { passive: true });\n        item.addEventListener( scope.TOUCH_ENABLED ? 'touchend' : 'mouseleave', function() {\n            item.style.filter = \n\t\t\titem.style.webkitFilter = '';\n        }, { passive: true });\n\n        this.mergeStyleOptions( item, options.style );\n\n        if ( options.onTap ) {\n\n            item.addEventListener( scope.TOUCH_ENABLED ? 'touchend' : 'click', options.onTap, false );\n\n        }\n\n        item.dispose = function () {\n\n            item.removeEventListener( scope.TOUCH_ENABLED ? 'touchend' : 'click', options.onTap, false );\n\n            options.onDispose && options.onDispose();\n\n        };\n\t\t\n        return item;\n\n    },\n\n    /**\n     * Merge item css style\n     * @param  {HTMLElement} element - The element to be merged with style\n     * @param  {object} options - The style options\n     * @memberOf Widget\n     * @instance\n     * @return {HTMLElement} - The same element with merged styles\n     */\n    mergeStyleOptions: function ( element, options = {} ) {\n\n        for ( let property in options ){\n\n            if ( options.hasOwnProperty( property ) ) {\n\n                element.style[ property ] = options[ property ];\n\n            }\n\n        }\n\n        return element;\n\n    },\n\n    /**\n     * Dispose widgets by detaching dom elements from container\n     * @memberOf Widget\n     * @instance\n     */\n    dispose: function () {\n\n        if ( this.barElement ) {\n            this.container.removeChild( this.barElement );\n            this.barElement.dispose();\n            this.barElement = null;\n\n        }\n\n    }\n\t\n} );\n\n/**\n * @classdesc Base Panorama\n * @constructor\n * @param {THREE.Geometry} geometry - The geometry for this panorama\n * @param {THREE.Material} material - The material for this panorama\n */\nfunction Panorama ( geometry, material ) {\n\n    THREE.Mesh.call( this, geometry, material );\n\n    this.type = 'panorama';\n\n    this.ImageQualityLow = 1;\n    this.ImageQualityFair = 2;\n    this.ImageQualityMedium = 3;\n    this.ImageQualityHigh = 4;\n    this.ImageQualitySuperHigh = 5;\n\n    this.animationDuration = 1000;\n\n    this.defaultInfospotSize = 350;\n\n    this.container = undefined;\n\n    this.loaded = false;\n\n    this.linkedSpots = [];\n\n    this.isInfospotVisible = false;\n\t\n    this.linkingImageURL = undefined;\n    this.linkingImageScale = undefined;\n\n    this.material.side = THREE.BackSide;\n    this.material.opacity = 0;\n\n    this.scale.x *= -1;\n    this.renderOrder = -1;\n\n    this.active = false;\n\n    this.infospotAnimation = new Tween.Tween( this ).to( {}, this.animationDuration / 2 );\n\n    this.addEventListener( 'load', this.fadeIn.bind( this ) );\n    this.addEventListener( 'panolens-container', this.setContainer.bind( this ) );\n    this.addEventListener( 'click', this.onClick.bind( this ) );\n\n    this.setupTransitions();\n\n}\n\nPanorama.prototype = Object.assign( Object.create( THREE.Mesh.prototype ), {\n\n    constructor: Panorama,\n\n    /**\n     * Adding an object\n     * To counter the scale.x = -1, it will automatically add an \n     * empty object with inverted scale on x\n     * @memberOf Panorama\n     * @instance\n     * @param {THREE.Object3D} object - The object to be added\n     */\n    add: function ( object ) {\n\n        let invertedObject;\n\n        if ( arguments.length > 1 ) {\n\n            for ( var i = 0; i < arguments.length; i ++ ) {\n\n                this.add( arguments[ i ] );\n\n            }\n\n            return this;\n\n        }\n\n        // In case of infospots\n        if ( object instanceof Infospot ) {\n\n            invertedObject = object;\n\n            if ( object.dispatchEvent ) {\n\n                this.container && object.dispatchEvent( { type: 'panolens-container', container: this.container } );\n\t\t\t\t\n                object.dispatchEvent( { type: 'panolens-infospot-focus', method: function ( vector, duration, easing ) {\n\n                    /**\n                     * Infospot focus handler event\n                     * @type {object}\n                     * @event Panorama#panolens-viewer-handler\n                     * @property {string} method - Viewer function name\n                     * @property {*} data - The argument to be passed into the method\n                     */\n                    this.dispatchEvent( { type: 'panolens-viewer-handler', method: 'tweenControlCenter', data: [ vector, duration, easing ] } );\n\n\n                }.bind( this ) } );\n            }\n\n        } else {\n\n            // Counter scale.x = -1 effect\n            invertedObject = new THREE.Object3D();\n            invertedObject.scale.x = -1;\n            invertedObject.scalePlaceHolder = true;\n            invertedObject.add( object );\n\n        }\n\n        THREE.Object3D.prototype.add.call( this, invertedObject );\n\n    },\n\n    load: function () {\n\n        this.onLoad();\n\t\t\n    },\n\n    /**\n     * Click event handler\n     * @param  {object} event - Click event\n     * @memberOf Panorama\n     * @instance\n     * @fires Infospot#dismiss\n     */\n    onClick: function ( event ) {\n\n        if ( event.intersects && event.intersects.length === 0 ) {\n\n            this.traverse( function ( object ) {\n\n                /**\n                 * Dimiss event\n                 * @type {object}\n                 * @event Infospot#dismiss\n                 */\n                object.dispatchEvent( { type: 'dismiss' } );\n\n            } );\n\n        }\n\n    },\n\n    /**\n     * Set container of this panorama \n     * @param {HTMLElement|object} data - Data with container information\n     * @memberOf Panorama\n     * @instance\n     * @fires Infospot#panolens-container\n     */\n    setContainer: function ( data ) {\n\n        let container;\n\n        if ( data instanceof HTMLElement ) {\n\n            container = data;\n\n        } else if ( data && data.container ) {\n\n            container = data.container;\n\n        }\n\n        if ( container ) {\n\n            this.children.forEach( function ( child ) {\n\n                if ( child instanceof Infospot && child.dispatchEvent ) {\n\n                    /**\n                     * Set container event\n                     * @type {object}\n                     * @event Infospot#panolens-container\n                     * @property {HTMLElement} container - The container of this panorama\n                     */\n                    child.dispatchEvent( { type: 'panolens-container', container: container } );\n\n                }\n\n            } );\n\n            this.container = container;\n\n        }\n\n    },\n\n    /**\n     * This will be called when panorama is loaded\n     * @memberOf Panorama\n     * @instance\n     * @fires Panorama#load\n     */\n    onLoad: function () {\n\n        this.loaded = true;\n\n        /**\n         * Load panorama event\n         * @type {object}\n         * @event Panorama#load\n         */\n        this.dispatchEvent( { type: 'load' } );\n\n    },\n\n    /**\n     * This will be called when panorama is in progress\n     * @memberOf Panorama\n     * @instance\n     * @fires Panorama#progress\n     */\n    onProgress: function ( progress ) {\n\n        /**\n         * Loading panorama progress event\n         * @type {object}\n         * @event Panorama#progress\n         * @property {object} progress - The progress object containing loaded and total amount\n         */\n        this.dispatchEvent( { type: 'progress', progress: progress } );\n\n    },\n\n    /**\n     * This will be called when panorama loading has error\n     * @memberOf Panorama\n     * @instance\n     * @fires Panorama#error\n     */\n    onError: function () {\n\n        /**\n         * Loading panorama error event\n         * @type {object}\n         * @event Panorama#error\n         */\n        this.dispatchEvent( { type: 'error' } );\n\n    },\n\n    /**\n     * Get zoom level based on window width\n     * @memberOf Panorama\n     * @instance\n     * @return {number} zoom level indicating image quality\n     */\n    getZoomLevel: function () {\n\n        let zoomLevel;\n\n        if ( window.innerWidth <= 800 ) {\n\n            zoomLevel = this.ImageQualityFair;\n\n        } else if ( window.innerWidth > 800 &&  window.innerWidth <= 1280 ) {\n\n            zoomLevel = this.ImageQualityMedium;\n\n        } else if ( window.innerWidth > 1280 && window.innerWidth <= 1920 ) {\n\n            zoomLevel = this.ImageQualityHigh;\n\n        } else if ( window.innerWidth > 1920 ) {\n\n            zoomLevel = this.ImageQualitySuperHigh;\n\n        } else {\n\n            zoomLevel = this.ImageQualityLow;\n\n        }\n\n        return zoomLevel;\n\n    },\n\n    /**\n     * Update texture of a panorama\n     * @memberOf Panorama\n     * @instance\n     * @param {THREE.Texture} texture - Texture to be updated\n     */\n    updateTexture: function ( texture ) {\n\n        this.material.map = texture;\n        this.material.needsUpdate = true;\n\n    },\n\n    /**\n     * Toggle visibility of infospots in this panorama\n     * @param  {boolean} isVisible - Visibility of infospots\n     * @param  {number} delay - Delay in milliseconds to change visibility\n     * @memberOf Panorama\n     * @instance\n     * @fires Panorama#infospot-animation-complete\n     */\n    toggleInfospotVisibility: function ( isVisible, delay ) {\n\n        delay = ( delay !== undefined ) ? delay : 0;\n\n        const visible = ( isVisible !== undefined ) ? isVisible : ( this.isInfospotVisible ? false : true );\n\n        this.traverse( function ( object ) {\n\n            if ( object instanceof Infospot ) {\n\n                visible ? object.show( delay ) : object.hide( delay );\n\n            }\n\n        } );\n\n        this.isInfospotVisible = visible;\n\n        // Animation complete event\n        this.infospotAnimation.onComplete( function () {\n\n            /**\n             * Complete toggling infospot visibility\n             * @event Panorama#infospot-animation-complete\n             * @type {object} \n             */\n            this.dispatchEvent( { type: 'infospot-animation-complete', visible: visible } );\n\n        }.bind( this ) ).delay( delay ).start();\n\n    },\n\n    /**\n     * Set image of this panorama's linking infospot\n     * @memberOf Panorama\n     * @instance\n     * @param {string} url   - Url to the image asset\n     * @param {number} scale - Scale factor of the infospot\n     */\n    setLinkingImage: function ( url, scale ) {\n\n        this.linkingImageURL = url;\n        this.linkingImageScale = scale;\n\n    },\n\n    /**\n     * Link one-way panorama\n     * @param  {Panorama} pano  - The panorama to be linked to\n     * @param  {THREE.Vector3} position - The position of infospot which navigates to the pano\n     * @param  {number} [imageScale=300] - Image scale of linked infospot\n     * @param  {string} [imageSrc=DataImage.Arrow] - The image source of linked infospot\n     * @memberOf Panorama\n     * @instance\n     */\n    link: function ( pano, position, imageScale, imageSrc ) {\n\n        let scale, img;\n\n        this.visible = true;\n\n        if ( !position ) {\n\n            console.warn( 'Please specify infospot position for linking' );\n\n            return;\n\n        }\n\n        // Infospot scale\n        if ( imageScale !== undefined ) {\n\n            scale = imageScale;\n\n        } else if ( pano.linkingImageScale !== undefined ) {\n\n            scale = pano.linkingImageScale;\n\n        } else {\n\n            scale = 300;\n\n        }\n\n\n        // Infospot image\n        if ( imageSrc ) {\n\n            img = imageSrc;\n\n        } else if ( pano.linkingImageURL ) {\n\n            img = pano.linkingImageURL;\n\n        } else {\n\n            img = DataImage.Arrow;\n\n        }\n\n        // Creates a new infospot\n        const spot = new Infospot( scale, img );\n        spot.position.copy( position );\n        spot.toPanorama = pano;\n        spot.addEventListener( 'click', function () {\n\n            /**\n             * Viewer handler event\n             * @type {object}\n             * @event Panorama#panolens-viewer-handler\n             * @property {string} method - Viewer function name\n             * @property {*} data - The argument to be passed into the method\n             */\n            this.dispatchEvent( { type: 'panolens-viewer-handler', method: 'setPanorama', data: pano } );\n\n        }.bind( this ) );\n\n        this.linkedSpots.push( spot );\n\n        this.add( spot );\n\n        this.visible = false;\n\n    },\n\n    reset: function () {\n\n        this.children.length = 0;\t\n\n    },\n\n    setupTransitions: function () {\n\n        this.fadeInAnimation = new Tween.Tween( this.material )\n            .easing( Tween.Easing.Quartic.Out )\n            .onStart( function () {\n\n                this.visible = true;\n                // this.material.visible = true;\n\n                /**\n                 * Enter panorama fade in start event\n                 * @event Panorama#enter-fade-start\n                 * @type {object} \n                 */\n                this.dispatchEvent( { type: 'enter-fade-start' } );\n\n            }.bind( this ) );\n\n        this.fadeOutAnimation = new Tween.Tween( this.material )\n            .easing( Tween.Easing.Quartic.Out )\n            .onComplete( function () {\n\n                this.visible = false;\n                // this.material.visible = true;\n\n                /**\n                 * Leave panorama complete event\n                 * @event Panorama#leave-complete\n                 * @type {object} \n                 */\n                this.dispatchEvent( { type: 'leave-complete' } );\n\n            }.bind( this ) );\n\n        this.enterTransition = new Tween.Tween( this )\n            .easing( Tween.Easing.Quartic.Out )\n            .onComplete( function () {\n\n                /**\n                 * Enter panorama and animation complete event\n                 * @event Panorama#enter-animation-complete\n                 * @type {object} \n                 */\n                this.dispatchEvent( { type: 'enter-animation-complete' } );\n\n            }.bind ( this ) )\n            .start();\n\n        this.leaveTransition = new Tween.Tween( this )\n            .easing( Tween.Easing.Quartic.Out );\n\n    },\n\n    onFadeAnimationUpdate: function () {\n\n        const alpha = this.material.opacity;\n        const { uniforms } = this.material;\n\n        if ( uniforms && uniforms.opacity ) {\n            uniforms.opacity.value = alpha;\n        }\n\n    },\n\n    /**\n     * Start fading in animation\n     * @memberOf Panorama\n     * @instance\n     * @fires Panorama#enter-fade-complete\n     */\n    fadeIn: function ( duration ) {\n\n        duration = duration >= 0 ? duration : this.animationDuration;\n\n        this.fadeOutAnimation.stop();\n        this.fadeInAnimation\n            .to( { opacity: 1 }, duration )\n            .onUpdate( this.onFadeAnimationUpdate.bind( this ) )\n            .onComplete( function () {\n\n                this.toggleInfospotVisibility( true, duration / 2 );\n\n                /**\n                 * Enter panorama fade complete event\n                 * @event Panorama#enter-fade-complete\n                 * @type {object} \n                 */\n                this.dispatchEvent( { type: 'enter-fade-complete' } );\t\t\t\n\n            }.bind( this ) )\n            .start();\n\n    },\n\n    /**\n     * Start fading out animation\n     * @memberOf Panorama\n     * @instance\n     */\n    fadeOut: function ( duration ) {\n\n        duration = duration >= 0 ? duration : this.animationDuration;\n\n        this.fadeInAnimation.stop();\n        this.fadeOutAnimation\n            .to( { opacity: 0 }, duration )\n            .onUpdate( this.onFadeAnimationUpdate.bind( this ) )\n            .start();\n\n    },\n\n    /**\n     * This will be called when entering a panorama \n     * @memberOf Panorama\n     * @instance\n     * @fires Panorama#enter\n     * @fires Panorama#enter-animation-start\n     */\n    onEnter: function () {\n\n        const duration = this.animationDuration;\n\n        this.leaveTransition.stop();\n        this.enterTransition\n            .to( {}, duration )\n            .onStart( function () {\n\n                /**\n                 * Enter panorama and animation starting event\n                 * @event Panorama#enter-animation-start\n                 * @type {object} \n                 */\n                this.dispatchEvent( { type: 'enter-animation-start' } );\n\t\t\t\t\n                if ( this.loaded ) {\n\n                    this.fadeIn( duration );\n\n                } else {\n\n                    this.load();\n\n                }\n\t\t\t\t\n            }.bind( this ) )\n            .start();\n\n        /**\n         * Enter panorama event\n         * @event Panorama#enter\n         * @type {object} \n         */\n        this.dispatchEvent( { type: 'enter' } );\n\n        this.children.forEach( child => {\n\n            child.dispatchEvent( { type: 'panorama-enter' } );\n\n        } );\n\n        this.active = true;\n\n    },\n\n    /**\n     * This will be called when leaving a panorama\n     * @memberOf Panorama\n     * @instance\n     * @fires Panorama#leave\n     */\n    onLeave: function () {\n\n        const duration = this.animationDuration;\n\n        this.enterTransition.stop();\n        this.leaveTransition\n            .to( {}, duration )\n            .onStart( function () {\n\n                /**\n                 * Leave panorama and animation starting event\n                 * @event Panorama#leave-animation-start\n                 * @type {object} \n                 */\n                this.dispatchEvent( { type: 'leave-animation-start' } );\n\n                this.fadeOut( duration );\n                this.toggleInfospotVisibility( false );\n\n            }.bind( this ) )\n            .start();\n\n        /**\n         * Leave panorama event\n         * @event Panorama#leave\n         * @type {object} \n         */\n        this.dispatchEvent( { type: 'leave' } );\n\n        this.children.forEach( child => {\n\n            child.dispatchEvent( { type: 'panorama-leave' } );\n\n        } );\n\n        this.active = false;\n\n    },\n\n    /**\n     * Dispose panorama\n     * @memberOf Panorama\n     * @instance\n     */\n    dispose: function () {\n\n        /**\n         * On panorama dispose handler\n         * @type {object}\n         * @event Panorama#panolens-viewer-handler\n         * @property {string} method - Viewer function name\n         * @property {*} data - The argument to be passed into the method\n         */\n        this.dispatchEvent( { type: 'panolens-viewer-handler', method: 'onPanoramaDispose', data: this } );\n\n        // recursive disposal on 3d objects\n        function recursiveDispose ( object ) {\n\n            for ( var i = object.children.length - 1; i >= 0; i-- ) {\n\n                recursiveDispose( object.children[i] );\n                object.remove( object.children[i] );\n\n            }\n\n            if ( object instanceof Infospot ) {\n\n                object.dispose();\n\n            }\n\t\t\t\n            object.geometry && object.geometry.dispose();\n            object.material && object.material.dispose();\n        }\n\n        recursiveDispose( this );\n\n        if ( this.parent ) {\n\n            this.parent.remove( this );\n\n        }\n\n    }\n\n} );\n\n/**\n * @classdesc Equirectangular based image panorama\n * @constructor\n * @param {string} image - Image url or HTMLImageElement\n */\nfunction ImagePanorama ( image, _geometry, _material ) {\n\n    const radius = 5000;\n    const geometry = _geometry || new THREE.SphereBufferGeometry( radius, 60, 40 );\n    const material = _material || new THREE.MeshBasicMaterial( { opacity: 0, transparent: true } );\n\n    Panorama.call( this, geometry, material );\n\n    this.src = image;\n    this.radius = radius;\n\n}\n\nImagePanorama.prototype = Object.assign( Object.create( Panorama.prototype ), {\n\n    constructor: ImagePanorama,\n\n    /**\n     * Load image asset\n     * @param  {*} src - Url or image element\n     * @memberOf ImagePanorama\n     * @instance\n     */\n    load: function ( src ) {\n\n        src = src || this.src;\n\n        if ( !src ) { \n\n            console.warn( 'Image source undefined' );\n\n            return; \n\n        } else if ( typeof src === 'string' ) {\n\n            TextureLoader.load( src, this.onLoad.bind( this ), this.onProgress.bind( this ), this.onError.bind( this ) );\n\n        } else if ( src instanceof HTMLImageElement ) {\n\n            this.onLoad( new THREE.Texture( src ) );\n\n        }\n\n    },\n\n    /**\n     * This will be called when image is loaded\n     * @param  {THREE.Texture} texture - Texture to be updated\n     * @memberOf ImagePanorama\n     * @instance\n     */\n    onLoad: function ( texture ) {\n\n        texture.minFilter = texture.magFilter = THREE.LinearFilter;\n        texture.needsUpdate = true;\n\t\t\n        this.updateTexture( texture );\n\n        requestAnimationFrame( Panorama.prototype.onLoad.bind( this ) );\n\n    },\n\n    /**\n     * Reset\n     * @memberOf ImagePanorama\n     * @instance\n     */\n    reset: function () {\n\n        Panorama.prototype.reset.call( this );\n\n    },\n\n    /**\n     * Dispose\n     * @memberOf ImagePanorama\n     * @instance\n     */\n    dispose: function () {\n\n        // Release cached image\n        THREE.Cache.remove( this.src );\n\n        this.material.map && this.material.map.dispose();\n\n        Panorama.prototype.dispose.call( this );\n\n    }\n\n} );\n\n/**\n * @classdesc Empty panorama\n * @constructor\n */\nfunction EmptyPanorama () {\n\n    const geometry = new THREE.BufferGeometry();\n    const material = new THREE.MeshBasicMaterial( { color: 0x000000, opacity: 0, transparent: true } );\n\n    geometry.addAttribute( 'position', new THREE.BufferAttribute( new Float32Array(), 1 ) );\n\n    Panorama.call( this, geometry, material );\n\n}\n\nEmptyPanorama.prototype = Object.assign( Object.create( Panorama.prototype ), {\n\n    constructor: EmptyPanorama\n\n} );\n\n/**\n * @classdesc Cubemap-based panorama\n * @constructor\n * @param {array} images - Array of 6 urls to images, one for each side of the CubeTexture. The urls should be specified in the following order: pos-x, neg-x, pos-y, neg-y, pos-z, neg-z\n */\nfunction CubePanorama ( images = [] ){\n\n    const edgeLength = 10000;\n    const shader = JSON.parse( JSON.stringify( THREE.ShaderLib[ 'cube' ] ) );\n    const geometry = new THREE.BoxBufferGeometry( edgeLength, edgeLength, edgeLength );\n    const material = new THREE.ShaderMaterial( {\n\n        fragmentShader: shader.fragmentShader,\n        vertexShader: shader.vertexShader,\n        uniforms: shader.uniforms,\n        side: THREE.BackSide,\n        transparent: true\n\n    } );\n\n    Panorama.call( this, geometry, material );\n\n    this.images = images;\n    this.edgeLength = edgeLength;\n    this.material.uniforms.opacity.value = 0;\n\n}\n\nCubePanorama.prototype = Object.assign( Object.create( Panorama.prototype ), {\n\n    constructor: CubePanorama,\n\n    /**\n     * Load 6 images and bind listeners\n     * @memberOf CubePanorama\n     * @instance\n     */\n    load: function () {\n\n        CubeTextureLoader.load( \t\n\n            this.images, \n\n            this.onLoad.bind( this ), \n            this.onProgress.bind( this ), \n            this.onError.bind( this ) \n\n        );\n\n    },\n\n    /**\n     * This will be called when 6 textures are ready\n     * @param  {THREE.CubeTexture} texture - Cube texture\n     * @memberOf CubePanorama\n     * @instance\n     */\n    onLoad: function ( texture ) {\n\t\t\n        this.material.uniforms[ 'tCube' ].value = texture;\n\n        Panorama.prototype.onLoad.call( this );\n\n    },\n\n    /**\n     * Dispose\n     * @memberOf CubePanorama\n     * @instance\n     */\n    dispose: function () {\t\n\n        this.images.forEach( ( image ) => { THREE.Cache.remove( image ); } );\n\n        this.material.uniforms[ 'tCube' ] && this.material.uniforms[ 'tCube' ].value.dispose();\n\n        Panorama.prototype.dispose.call( this );\n\n    }\n\n} );\n\n/**\n * @classdesc Basic panorama with 6 pre-defined grid images\n * @constructor\n */\nfunction BasicPanorama () {\n\n    const images = [];\n\n    for ( let i = 0; i < 6; i++ ) {\n\n        images.push( DataImage.WhiteTile );\n\n    }\n\n    CubePanorama.call( this, images );\n\n}\n\nBasicPanorama.prototype = Object.assign( Object.create( CubePanorama.prototype ), {\n\n    constructor: BasicPanorama\n\n} );\n\n/**\n * @classdesc Video Panorama\n * @constructor\n * @param {string} src - Equirectangular video url\n * @param {object} [options] - Option for video settings\n * @param {HTMLElement} [options.videoElement] - HTML5 video element contains the video\n * @param {boolean} [options.loop=true] - Specify if the video should loop in the end\n * @param {boolean} [options.muted=true] - Mute the video or not. Need to be true in order to autoplay on some browsers\n * @param {boolean} [options.autoplay=false] - Specify if the video should auto play\n * @param {boolean} [options.playsinline=true] - Specify if video should play inline for iOS. If you want it to auto play inline, set both autoplay and muted options to true\n * @param {string} [options.crossOrigin=\"anonymous\"] - Sets the cross-origin attribute for the video, which allows for cross-origin videos in some browsers (Firefox, Chrome). Set to either \"anonymous\" or \"use-credentials\".\n * @param {number} [radius=5000] - The minimum radius for this panoram\n */\nfunction VideoPanorama ( src, options = {} ) {\n\n    const radius = 5000;\n    const geometry = new THREE.SphereBufferGeometry( radius, 60, 40 );\n    const material = new THREE.MeshBasicMaterial( { opacity: 0, transparent: true } );\n\n    Panorama.call( this, geometry, material );\n\n    this.src = src;\n\n    this.options = {\n\n        videoElement: document.createElement( 'video' ),\n        loop: true,\n        muted: true,\n        autoplay: false,\n        playsinline: true,\n        crossOrigin: 'anonymous'\n\n    };\n\n    Object.assign( this.options, options );\n\n    this.videoElement = this.options.videoElement;\n    this.videoProgress = 0;\n    this.radius = radius;\n\n    this.addEventListener( 'leave', this.pauseVideo.bind( this ) );\n    this.addEventListener( 'enter-fade-start', this.resumeVideoProgress.bind( this ) );\n    this.addEventListener( 'video-toggle', this.toggleVideo.bind( this ) );\n    this.addEventListener( 'video-time', this.setVideoCurrentTime.bind( this ) );\n\n}\nVideoPanorama.prototype = Object.assign( Object.create( Panorama.prototype ), {\n\n    constructor: VideoPanorama,\n\n    isMobile: function () {\n\n        let check = false;\n        (function(a){if(/(android|bb\\d+|meego).+mobile|avantgo|bada\\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(a)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\\-(n|u)|c55\\/|capi|ccwa|cdm\\-|cell|chtm|cldc|cmd\\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\\-s|devi|dica|dmob|do(c|p)o|ds(12|\\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\\-|_)|g1 u|g560|gene|gf\\-5|g\\-mo|go(\\.w|od)|gr(ad|un)|haie|hcit|hd\\-(m|p|t)|hei\\-|hi(pt|ta)|hp( i|ip)|hs\\-c|ht(c(\\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\\-(20|go|ma)|i230|iac( |\\-|\\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\\/)|klon|kpt |kwc\\-|kyo(c|k)|le(no|xi)|lg( g|\\/(k|l|u)|50|54|\\-[a-w])|libw|lynx|m1\\-w|m3ga|m50\\/|ma(te|ui|xo)|mc(01|21|ca)|m\\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\\-2|po(ck|rt|se)|prox|psio|pt\\-g|qa\\-a|qc(07|12|21|32|60|\\-[2-7]|i\\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\\-|oo|p\\-)|sdk\\/|se(c(\\-|0|1)|47|mc|nd|ri)|sgh\\-|shar|sie(\\-|m)|sk\\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\\-|v\\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\\-|tdg\\-|tel(i|m)|tim\\-|t\\-mo|to(pl|sh)|ts(70|m\\-|m3|m5)|tx\\-9|up(\\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\\-|your|zeto|zte\\-/i.test(a.substr(0,4))) check = true;})( navigator.userAgent || navigator.vendor || window.opera );\n        return check;\n\n    },\n\n    /**\n     * Load video panorama\n     * @memberOf VideoPanorama\n     * @instance\n     * @fires  Panorama#panolens-viewer-handler\n     */\n    load: function () {\n\n        const { muted, loop, autoplay, playsinline, crossOrigin } = this.options;\n        const video = this.videoElement;\n        const material = this.material;\n        const onProgress = this.onProgress.bind( this );\n        const onLoad = this.onLoad.bind( this );\n\n        video.loop = loop;\n        video.autoplay = autoplay;\n        video.playsinline = playsinline;\n        video.crossOrigin = crossOrigin;\n        video.muted = muted;\n\t\t\n        if ( playsinline ) {\n\n            video.setAttribute( 'playsinline', '' );\n            video.setAttribute( 'webkit-playsinline', '' );\n\n        } \n\n        const onloadeddata = function(event) {\n\n            this.setVideoTexture( video );\n\n            if ( autoplay ) {\n\n                /**\n                 * Viewer handler event\n                 * @type {object}\n                 * @property {string} method - 'updateVideoPlayButton'\n                 * @property {boolean} data - Pause video or not\n                 */\n                this.dispatchEvent( { type: 'panolens-viewer-handler', method: 'updateVideoPlayButton', data: false } );\n\n            }\n\n            // For mobile silent autoplay\n            if ( this.isMobile() ) {\n\n                video.pause();\n\n                if ( autoplay && muted ) {\n\n                    /**\n                     * Viewer handler event\n                     * @type {object}\n                     * @property {string} method - 'updateVideoPlayButton'\n                     * @property {boolean} data - Pause video or not\n                     */\n                    this.dispatchEvent( { type: 'panolens-viewer-handler', method: 'updateVideoPlayButton', data: false } );\n\n                } else {\n\n                    /**\n                     * Viewer handler event\n                     * @type {object}\n                     * @property {string} method - 'updateVideoPlayButton'\n                     * @property {boolean} data - Pause video or not\n                     */\n                    this.dispatchEvent( { type: 'panolens-viewer-handler', method: 'updateVideoPlayButton', data: true } );\n\n                }\n\t\t\t\t\n            }\n\n            const loaded = () => {\n\n                // Fix for threejs r89 delayed update\n                material.map.needsUpdate = true;\n\n                onProgress( { loaded: 1, total: 1 } );\n                onLoad();\n\n            };\n\n            requestAnimationFrame( loaded );\n\t\t\t\n        };\n\n        /**\n         * Ready state of the audio/video element\n         * 0 = HAVE_NOTHING - no information whether or not the audio/video is ready\n         * 1 = HAVE_METADATA - metadata for the audio/video is ready\n         * 2 = HAVE_CURRENT_DATA - data for the current playback position is available, but not enough data to play next frame/millisecond\n         * 3 = HAVE_FUTURE_DATA - data for the current and at least the next frame is available\n         * 4 = HAVE_ENOUGH_DATA - enough data available to start playing\n         */\n        if ( video.readyState > 2 ) {\n\n            onloadeddata.call( this );\n\n        } else {\n\n            if ( !video.querySelectorAll( 'source' ).length || !video.src ) {\n\n                video.src = this.src;\n\n            }\n\n            video.load();\n        }\n\n        video.addEventListener( 'loadeddata', onloadeddata.bind( this ) );\n\t\t\n        video.addEventListener( 'timeupdate', function ( event ) {\n\n            this.videoProgress = video.duration >= 0 ? video.currentTime / video.duration : 0;\n\n            /**\n             * Viewer handler event\n             * @type {object}\n             * @property {string} method - 'onVideoUpdate'\n             * @property {number} data - The percentage of video progress. Range from 0.0 to 1.0\n             */\n            this.dispatchEvent( { type: 'panolens-viewer-handler', method: 'onVideoUpdate', data: this.videoProgress } );\n\n        }.bind( this ) );\n\n        video.addEventListener( 'ended', function () {\n\t\t\t\n            if ( !loop ) {\n\n                this.resetVideo();\n                this.dispatchEvent( { type: 'panolens-viewer-handler', method: 'updateVideoPlayButton', data: true } );\n\n            }\n\n        }.bind( this ), false ); \n\n    },\n\n    /**\n     * Set video texture\n     * @memberOf VideoPanorama\n     * @instance\n     * @param {HTMLVideoElement} video  - The html5 video element\n     * @fires Panorama#panolens-viewer-handler\n     */\n    setVideoTexture: function ( video ) {\n\n        if ( !video ) return;\n\n        const videoTexture = new THREE.VideoTexture( video );\n        videoTexture.minFilter = THREE.LinearFilter;\n        videoTexture.magFilter = THREE.LinearFilter;\n        videoTexture.format = THREE.RGBFormat;\n\n        this.updateTexture( videoTexture );\n\t\n    },\n\n    /**\n     * Reset\n     * @memberOf VideoPanorama\n     * @instance\n     */\n    reset: function () {\n\n        this.videoElement = undefined;\t\n\n        Panorama.prototype.reset.call( this );\n\n    },\n\n    /**\n     * Check if video is paused\n     * @memberOf VideoPanorama\n     * @instance\n     * @return {boolean} - is video paused or not\n     */\n    isVideoPaused: function () {\n\n        return this.videoElement.paused;\n\n    },\n\n    /**\n     * Toggle video to play or pause\n     * @memberOf VideoPanorama\n     * @instance\n     */\n    toggleVideo: function () {\n\n        const video = this.videoElement;\n\n        if ( !video ) { return; }\n\n        video[ video.paused ? 'play' : 'pause' ]();\n\n    },\n\n    /**\n     * Set video currentTime\n     * @memberOf VideoPanorama\n     * @instance\n     * @param {object} event - Event contains percentage. Range from 0.0 to 1.0\n     */\n    setVideoCurrentTime: function ( { percentage } ) {\n\n        const video = this.videoElement;\n\n        if ( video && !Number.isNaN( percentage ) && percentage !== 1 ) {\n\n            video.currentTime = video.duration * percentage;\n\n            this.dispatchEvent( { type: 'panolens-viewer-handler', method: 'onVideoUpdate', data: percentage } );\n\n        }\n\n    },\n\n    /**\n     * Play video\n     * @memberOf VideoPanorama\n     * @instance\n     * @fires VideoPanorama#play\n     */\n    playVideo: function () {\n\n        const video = this.videoElement;\n\n        if ( video && video.paused ) {\n\n            video.play();\n\n        }\n\n        /**\n         * Play event\n         * @type {object}\n         * @event VideoPanorama#play\n         *\n         */\n        this.dispatchEvent( { type: 'play' } );\n\n    },\n\n    /**\n     * Pause video\n     * @memberOf VideoPanorama\n     * @instance\n     * @fires VideoPanorama#pause\n     */\n    pauseVideo: function () {\n\n        const video = this.videoElement;\n\n        if ( video && !video.paused ) {\n\n            video.pause();\n\n        }\n\n        /**\n         * Pause event\n         * @type {object}\n         * @event VideoPanorama#pause\n         *\n         */\n        this.dispatchEvent( { type: 'pause' } );\n\n    },\n\n    /**\n     * Resume video\n     * @memberOf VideoPanorama\n     * @instance\n     */\n    resumeVideoProgress: function () {\n\n        const video = this.videoElement;\n\n        if ( video.readyState >= 4 && video.autoplay && !this.isMobile() ) {\n\n            this.playVideo();\n\n            /**\n             * Viewer handler event\n             * @type {object}\n             * @property {string} method - 'updateVideoPlayButton'\n             * @property {boolean} data - Pause video or not\n             */\n            this.dispatchEvent( { type: 'panolens-viewer-handler', method: 'updateVideoPlayButton', data: false } );\n\n        } else {\n\n            this.pauseVideo();\n\n            /**\n             * Viewer handler event\n             * @type {object}\n             * @property {string} method - 'updateVideoPlayButton'\n             * @property {boolean} data - Pause video or not\n             */\n            this.dispatchEvent( { type: 'panolens-viewer-handler', method: 'updateVideoPlayButton', data: true } );\n\n        }\n\n        this.setVideoCurrentTime( { percentage: this.videoProgress } );\n\n    },\n\n    /**\n     * Reset video at stating point\n     * @memberOf VideoPanorama\n     * @instance\n     */\n    resetVideo: function () {\n\n        const video = this.videoElement;\n\n        if ( video ) {\n\n            this.setVideoCurrentTime( { percentage: 0 } );\n\n        }\n\n    },\n\n    /**\n     * Check if video is muted\n     * @memberOf VideoPanorama\n     * @instance\n     * @return {boolean} - is video muted or not\n     */\n    isVideoMuted: function () {\n\n        return this.videoElement.muted;\n\n    },\n\n    /**\n     * Mute video\n     * @memberOf VideoPanorama\n     * @instance\n     */\n    muteVideo: function () {\n\n        const video = this.videoElement;\n\n        if ( video && !video.muted ) {\n\n            video.muted = true;\n\n        }\n\n        this.dispatchEvent( { type: 'volumechange' } );\n\n    },\n\n    /**\n     * Unmute video\n     * @memberOf VideoPanorama\n     * @instance\n     */\n    unmuteVideo: function () {\n\n        const video = this.videoElement;\n\n        if ( this.videoElement && this.isVideoMuted() ) {\n\n            this.videoElement.muted = false;\n\n        }\n\n        this.dispatchEvent( { type: 'volumechange' } );\n\n    },\n\n    /**\n     * Returns the video element\n     * @memberOf VideoPanorama\n     * @instance\n     * @returns {HTMLElement}\n     */\n    getVideoElement: function () {\n\n        return this.videoElement;\n\n    },\n\n    /**\n     * Dispose video panorama\n     * @memberOf VideoPanorama\n     * @instance\n     */\n    dispose: function () {\n\n        this.resetVideo();\n        this.pauseVideo();\n\t\t\n        this.removeEventListener( 'leave', this.pauseVideo.bind( this ) );\n        this.removeEventListener( 'enter-fade-start', this.resumeVideoProgress.bind( this ) );\n        this.removeEventListener( 'video-toggle', this.toggleVideo.bind( this ) );\n        this.removeEventListener( 'video-time', this.setVideoCurrentTime.bind( this ) );\n\n        this.material.map && this.material.map.dispose();\n\n        Panorama.prototype.dispose.call( this );\n\n    }\n\n} );\n\n/**\n * @classdesc Google Street View Loader\n * @constructor\n * @param {object} parameters \n */\nfunction GoogleStreetviewLoader ( parameters = {} ) {\n\n    this._parameters = parameters;\n    this._zoom;\n    this._panoId;\n    this._panoClient = new google.maps.StreetViewService();\n    this._count = 0;\n    this._total = 0;\n    this._canvas = [];\n    this._ctx = [];\n    this._wc = 0;\n    this._hc = 0;\n    this.result = null;\n    this.rotation = 0;\n    this.copyright = '';\n    this.onSizeChange = null;\n    this.onPanoramaLoad = null;\n\n    this.levelsW = [ 1, 2, 4, 7, 13, 26 ];\n    this.levelsH = [ 1, 1, 2, 4, 7, 13 ];\n\n    this.widths = [ 416, 832, 1664, 3328, 6656, 13312 ];\n    this.heights = [ 416, 416, 832, 1664, 3328, 6656 ];\n\n    let gl;\n\n    try {\n\n        const canvas = document.createElement( 'canvas' );\n\n        gl = canvas.getContext( 'experimental-webgl' );\n\n        if( !gl ) {\n\n            gl = canvas.getContext( 'webgl' );\n\n        }\n\n    }\n    catch ( error ) {\n\n    }\n\n    const maxTexSize = Math.max( gl.getParameter( gl.MAX_TEXTURE_SIZE ), 6656 );\n    this.maxW = maxTexSize;\n    this.maxH = maxTexSize;\n\n}\n\nObject.assign( GoogleStreetviewLoader.prototype, {\n\n    constructor: GoogleStreetviewLoader,\n\n    /**\n     * Set progress\n     * @param {number} loaded \n     * @param {number} total \n     * @memberOf GoogleStreetviewLoader\n     * @instance\n     */\n    setProgress: function ( loaded, total ) {\n\n        if ( this.onProgress ) {\n\n            this.onProgress( { loaded: loaded, total: total } );\n\n        }\n\t\t\n    },\n\n    /**\n     * Throw error\n     * @param {string} message \n     * @memberOf GoogleStreetviewLoader\n     * @instance\n     */\n    throwError: function ( message ) {\n\n        if ( this.onError ) {\n\n            this.onError( message );\n\t\t\t\n        } else {\n\n            console.error( message );\n\n        }\n\t\t\n    },\n\n    /**\n     * Adapt texture to zoom\n     * @memberOf GoogleStreetviewLoader\n     * @instance\n     */\n    adaptTextureToZoom: function () {\n\n        const w = this.widths [ this._zoom ];\n        const h = this.heights[ this._zoom ];\n\n        const maxW = this.maxW;\n        const maxH = this.maxH;\n\n        this._wc = Math.ceil( w / maxW );\n        this._hc = Math.ceil( h / maxH );\n\n        for( let y = 0; y < this._hc; y++ ) {\n            for( let x = 0; x < this._wc; x++ ) {\n                const c = document.createElement( 'canvas' );\n                if( x < ( this._wc - 1 ) ) c.width = maxW; else c.width = w - ( maxW * x );\n                if( y < ( this._hc - 1 ) ) c.height = maxH; else c.height = h - ( maxH * y );\n                this._canvas.push( c );\n                this._ctx.push( c.getContext( '2d' ) );\n            }\n        }\n\n    },\n\n    /**\n     * Compose from tile\n     * @param {number} x \n     * @param {number} y \n     * @param {*} texture \n     * @memberOf GoogleStreetviewLoader\n     * @instance\n     */\n    composeFromTile: function ( x, y, texture ) {\n\n        const maxW = this.maxW;\n        const maxH = this.maxH;\n\n        x *= 512;\n        y *= 512;\n\n        const px = Math.floor( x / maxW );\n        const py = Math.floor( y / maxH );\n\n        x -= px * maxW;\n        y -= py * maxH;\n\n        this._ctx[ py * this._wc + px ].drawImage( texture, 0, 0, texture.width, texture.height, x, y, 512, 512 );\n\n        this.progress();\n\t\t\n    },\n\n    /**\n     * Progress\n     * @memberOf GoogleStreetviewLoader\n     * @instance\n     */\n    progress: function() {\n\n        this._count++;\n\t\t\n        this.setProgress( this._count, this._total );\n\t\t\n        if ( this._count === this._total) {\n\n            this.canvas = this._canvas;\n            this.panoId = this._panoId;\n            this.zoom = this._zoom;\n\n            if ( this.onPanoramaLoad ) {\n\n                this.onPanoramaLoad( this._canvas[ 0 ] );\n\n            }\n\n        }\n    },\n\n    /**\n     * Load google street view by id\n     * @param {string} id \n     * @memberOf GoogleStreetviewLoader\n     * @instance\n     */\n    loadFromId: function( id ) {\n\n        this._panoId = id;\n        this.composePanorama();\n\n    },\n\n    /**\n     * Compose panorama\n     * @memberOf GoogleStreetviewLoader\n     * @instance\n     */\n    composePanorama: function () {\n\n        this.setProgress( 0, 1 );\n\t\t\n        const w = this.levelsW[ this._zoom ];\n        const h = this.levelsH[ this._zoom ];\n        const self = this;\n\t\t\t\n        this._count = 0;\n        this._total = w * h;\n\n        const { useWebGL } = this._parameters;\n\n        for( let y = 0; y < h; y++ ) {\n            for( let x = 0; x < w; x++ ) {\n                const url = 'https://geo0.ggpht.com/cbk?cb_client=maps_sv.tactile&authuser=0&hl=en&output=tile&zoom=' + this._zoom + '&x=' + x + '&y=' + y + '&panoid=' + this._panoId + '&nbt&fover=2';\n                ( function( x, y ) { \n                    if( useWebGL ) {\n                        const texture = TextureLoader.load( url, null, function() {\n                            self.composeFromTile( x, y, texture );\n                        } );\n                    } else {\n                        const img = new Image();\n                        img.addEventListener( 'load', function() {\n                            self.composeFromTile( x, y, this );\t\t\t\n                        } );\n                        img.crossOrigin = '';\n                        img.src = url;\n                    }\n                } )( x, y );\n            }\n        }\n\t\t\n    },\n\n    /**\n     * Load\n     * @param {string} panoid \n     * @memberOf GoogleStreetviewLoader\n     * @instance\n     */\n    load: function ( panoid ) {\n\n        this.loadPano( panoid );\n\n    },\n\n    /**\n     * Load panorama\n     * @param {string} id\n     * @memberOf GoogleStreetviewLoader\n     * @instance\n     */\n    loadPano: function( id ) {\n\n        const self = this;\n        this._panoClient.getPanoramaById( id, function (result, status) {\n            if (status === google.maps.StreetViewStatus.OK) {\n                self.result = result;\n                if( self.onPanoramaData ) self.onPanoramaData( result );\n                /*\n                 * var h = google.maps.geometry.spherical.computeHeading(location, result.location.latLng);\n                 * rotation = (result.tiles.centerHeading - h) * Math.PI / 180.0;\n                 */\n                self.copyright = result.copyright;\n                self._panoId = result.location.pano;\n                self.location = location;\n                self.composePanorama();\n            } else {\n                if( self.onNoPanoramaData ) self.onNoPanoramaData( status );\n                self.throwError('Could not retrieve panorama for the following reason: ' + status);\n            }\n        });\n\t\t\n    },\n\n    /**\n     * Set zoom level\n     * @param {number} z \n     * @memberOf GoogleStreetviewLoader\n     * @instance\n     */\n    setZoom: function( z ) {\n        this._zoom = z;\n        this.adaptTextureToZoom();\n    }\n\t\n} );\n\n/**\n * @classdesc Google streetview panorama\n * @description [How to get Panorama ID]{@link http://stackoverflow.com/questions/29916149/google-maps-streetview-how-to-get-panorama-id}\n * @constructor\n * @param {string} panoId - Panorama id from Google Streetview \n * @param {string} [apiKey] - Google Street View API Key\n */\nfunction GoogleStreetviewPanorama ( panoId, apiKey ) {\n\n    ImagePanorama.call( this );\n\n    this.panoId = panoId;\n\n    this.gsvLoader = undefined;\n\n    this.loadRequested = false;\n\n    this.setupGoogleMapAPI( apiKey );\n\n}\n\nGoogleStreetviewPanorama.prototype = Object.assign( Object.create( ImagePanorama.prototype ), {\n\n    constructor: GoogleStreetviewPanorama,\n\n    /**\n     * Load Google Street View by panorama id\n     * @param {string} panoId - Gogogle Street View panorama id\n     * @memberOf GoogleStreetviewPanorama\n     * @instance\n     */\n    load: function ( panoId ) {\n\n        this.loadRequested = true;\n\n        panoId = ( panoId || this.panoId ) || {};\n\n        if ( panoId && this.gsvLoader ) {\n\n            this.loadGSVLoader( panoId );\n\n        } else {\n\n            this.gsvLoader = {};\n\n        }\n\n    },\n\n    /**\n     * Setup Google Map API\n     * @param {string}  apiKey\n     * @memberOf GoogleStreetviewPanorama\n     * @instance\n     */\n    setupGoogleMapAPI: function ( apiKey ) {\n\n        const script = document.createElement( 'script' );\n        script.src = 'https://maps.googleapis.com/maps/api/js?';\n        script.src += apiKey ? 'key=' + apiKey : '';\n        script.onreadystatechange = this.setGSVLoader.bind( this );\n        script.onload = this.setGSVLoader.bind( this );\n\n        document.querySelector( 'head' ).appendChild( script );\n\n    },\n\n    /**\n     * Set GSV Loader\n     * @memberOf GoogleStreetviewPanorama\n     * @instance\n     */\n    setGSVLoader: function () {\n\n        this.gsvLoader = new GoogleStreetviewLoader();\n\n        if ( this.gsvLoader === {} || this.loadRequested ) {\n\n            this.load();\n\n        }\n\n    },\n\n    /**\n     * Get GSV Loader\n     * @memberOf GoogleStreetviewPanorama\n     * @instance\n     * @return {GoogleStreetviewLoader} GSV Loader instance\n     */\n    getGSVLoader: function () {\n\n        return this.gsvLoader;\n\n    },\n\n    /**\n     * Load GSV Loader\n     * @param  {string} panoId - Gogogle Street View panorama id\n     * @memberOf GoogleStreetviewPanorama\n     * @instance\n     */\n    loadGSVLoader: function ( panoId ) {\n\n        this.loadRequested = false;\n\n        this.gsvLoader.onProgress = this.onProgress.bind( this );\n\n        this.gsvLoader.onPanoramaLoad = this.onLoad.bind( this );\n\n        this.gsvLoader.setZoom( this.getZoomLevel() );\n\n        this.gsvLoader.load( panoId );\n\n        this.gsvLoader.loaded = true;\n    },\n\n    /**\n     * This will be called when panorama is loaded\n     * @param  {HTMLCanvasElement} canvas - Canvas where the tiles have been drawn\n     * @memberOf GoogleStreetviewPanorama\n     * @instance\n     */\n    onLoad: function ( canvas ) {\n\n        if ( !this.gsvLoader ) { return; }\n\n        ImagePanorama.prototype.onLoad.call( this, new THREE.Texture( canvas ) );\n\n    },\n\n    /**\n     * Reset\n     * @memberOf GoogleStreetviewPanorama\n     * @instance\n     */\n    reset: function () {\n\n        this.gsvLoader = undefined;\n\n        ImagePanorama.prototype.reset.call( this );\n\n    }\n\n} );\n\n/**\n * Stereographic projection shader\n * based on http://notlion.github.io/streetview-stereographic\n * @author pchen66\n */\n\n/**\n * @description Stereograhpic Shader\n * @module StereographicShader\n * @property {object} uniforms\n * @property {THREE.Texture} uniforms.tDiffuse diffuse map\n * @property {number} uniforms.resolution image resolution\n * @property {THREE.Matrix4} uniforms.transform transformation matrix\n * @property {number} uniforms.zoom image zoom factor\n * @property {number} uniforms.opacity image opacity\n * @property {string} vertexShader vertex shader\n * @property {string} fragmentShader fragment shader\n */\nconst StereographicShader = {\n\n    uniforms: {\n\n        'tDiffuse': { value: new THREE.Texture() },\n        'resolution': { value: 1.0 },\n        'transform': { value: new THREE.Matrix4() },\n        'zoom': { value: 1.0 },\n        'opacity': { value: 1.0 }\n\n    },\n\n    vertexShader: [\n\n        'varying vec2 vUv;',\n\n        'void main() {',\n\n        'vUv = uv;',\n        'gl_Position = vec4( position, 1.0 );',\n\n        '}' \n\n    ].join( '\\n' ),\n\n    fragmentShader: [\n\n        'uniform sampler2D tDiffuse;',\n        'uniform float resolution;',\n        'uniform mat4 transform;',\n        'uniform float zoom;',\n        'uniform float opacity;',\n\n        'varying vec2 vUv;',\n\n        'const float PI = 3.141592653589793;',\n\n        'void main(){',\n\n        'vec2 position = -1.0 +  2.0 * vUv;',\n\n        'position *= vec2( zoom * resolution, zoom * 0.5 );',\n\n        'float x2y2 = position.x * position.x + position.y * position.y;',\n        'vec3 sphere_pnt = vec3( 2. * position, x2y2 - 1. ) / ( x2y2 + 1. );',\n\n        'sphere_pnt = vec3( transform * vec4( sphere_pnt, 1.0 ) );',\n\n        'vec2 sampleUV = vec2(',\n        '(atan(sphere_pnt.y, sphere_pnt.x) / PI + 1.0) * 0.5,',\n        '(asin(sphere_pnt.z) / PI + 0.5)',\n        ');',\n\n        'gl_FragColor = texture2D( tDiffuse, sampleUV );',\n\n        'gl_FragColor.a *= opacity;',\n\n        '}'\n\n    ].join( '\\n' )\n\n};\n\n/**\n * @classdesc Little Planet\n * @constructor\n * @param {string} type \t\t- Type of little planet basic class\n * @param {string} source \t\t- URL for the image source\n * @param {number} [size=10000] - Size of plane geometry\n * @param {number} [ratio=0.5]  - Ratio of plane geometry's height against width\n */\nfunction LittlePlanet ( type = 'image', source, size = 10000, ratio = 0.5 ) {\n\n    if ( type === 'image' ) {\n\n        ImagePanorama.call( this, source, this.createGeometry( size, ratio ), this.createMaterial( size ) );\n\n    }\n\n    this.size = size;\n    this.ratio = ratio;\n    this.EPS = 0.000001;\n    this.frameId;\n\n    this.dragging = false;\n    this.userMouse = new THREE.Vector2();\n\n    this.quatA = new THREE.Quaternion();\n    this.quatB = new THREE.Quaternion();\n    this.quatCur = new THREE.Quaternion();\n    this.quatSlerp = new THREE.Quaternion();\n\n    this.vectorX = new THREE.Vector3( 1, 0, 0 );\n    this.vectorY = new THREE.Vector3( 0, 1, 0 );\n\n    this.addEventListener( 'window-resize', this.onWindowResize );\n\n}\n\nLittlePlanet.prototype = Object.assign( Object.create( ImagePanorama.prototype ), {\n\n    constructor: LittlePlanet,\n\n    add: function ( object ) {\n\n        if ( arguments.length > 1 ) {\n\t\t\t\n            for ( let i = 0; i < arguments.length; i ++ ) {\n\n                this.add( argument );\n\n            }\n\n            return this;\n\n        }\n\n        if ( object instanceof Infospot ) {\n\n            object.material.depthTest = false;\n\t\t\t\n        }\n\n        ImagePanorama.prototype.add.call( this, object );\n\n    },\n\n    createGeometry: function ( size, ratio ) {\n\n        return new THREE.PlaneBufferGeometry( size, size * ratio );\n\n    },\n\n    createMaterial: function ( size ) {\n\n        const shader = StereographicShader, uniforms = shader.uniforms;\n\n        uniforms.zoom.value = size;\n        uniforms.opacity.value = 0.0;\n\n        return new THREE.ShaderMaterial( {\n\n            uniforms: uniforms,\n            vertexShader: shader.vertexShader,\n            fragmentShader: shader.fragmentShader,\n            side: THREE.BackSide,\n            transparent: true\n\n        } );\n\t\t\n    },\n\n    registerMouseEvents: function () {\n\n        this.container.addEventListener( 'mousedown', this.onMouseDown.bind( this ), { passive: true } );\n        this.container.addEventListener( 'mousemove', this.onMouseMove.bind( this ), { passive: true } );\n        this.container.addEventListener( 'mouseup', this.onMouseUp.bind( this ), { passive: true } );\n        this.container.addEventListener( 'touchstart', this.onMouseDown.bind( this ), { passive: true } );\n        this.container.addEventListener( 'touchmove', this.onMouseMove.bind( this ), { passive: true } );\n        this.container.addEventListener( 'touchend', this.onMouseUp.bind( this ), { passive: true } );\n        this.container.addEventListener( 'mousewheel', this.onMouseWheel.bind( this ), { passive: false } );\n        this.container.addEventListener( 'DOMMouseScroll', this.onMouseWheel.bind( this ), { passive: false } );\n        this.container.addEventListener( 'contextmenu', this.onContextMenu.bind( this ), { passive: true } );\n\t\t\n    },\n\n    unregisterMouseEvents: function () {\n\n        this.container.removeEventListener( 'mousedown', this.onMouseDown.bind( this ), false );\n        this.container.removeEventListener( 'mousemove', this.onMouseMove.bind( this ), false );\n        this.container.removeEventListener( 'mouseup', this.onMouseUp.bind( this ), false );\n        this.container.removeEventListener( 'touchstart', this.onMouseDown.bind( this ), false );\n        this.container.removeEventListener( 'touchmove', this.onMouseMove.bind( this ), false );\n        this.container.removeEventListener( 'touchend', this.onMouseUp.bind( this ), false );\n        this.container.removeEventListener( 'mousewheel', this.onMouseWheel.bind( this ), false );\n        this.container.removeEventListener( 'DOMMouseScroll', this.onMouseWheel.bind( this ), false );\n        this.container.removeEventListener( 'contextmenu', this.onContextMenu.bind( this ), false );\n\t\t\n    },\n\n    onMouseDown: function ( event ) {\n\n        const inputCount = ( event.touches && event.touches.length ) || 1 ;\n\n        switch ( inputCount ) {\n\n        case 1:\n\n            const x = ( event.clientX >= 0 ) ? event.clientX : event.touches[ 0 ].clientX;\n            const y = ( event.clientY >= 0 ) ? event.clientY : event.touches[ 0 ].clientY;\n\n            this.dragging = true;\n            this.userMouse.set( x, y );\n\n            break;\n\n        case 2:\n\n            const dx = event.touches[ 0 ].pageX - event.touches[ 1 ].pageX;\n            const dy = event.touches[ 0 ].pageY - event.touches[ 1 ].pageY;\n            const distance = Math.sqrt( dx * dx + dy * dy );\n            this.userMouse.pinchDistance = distance;\n\n            break;\n\n        default:\n\n            break;\n\n        }\n\n        this.onUpdateCallback();\n\n    },\n\n    onMouseMove: function ( event ) {\n\n        const inputCount = ( event.touches && event.touches.length ) || 1 ;\n\n        switch ( inputCount ) {\n\n        case 1:\n\n            const x = ( event.clientX >= 0 ) ? event.clientX : event.touches[ 0 ].clientX;\n            const y = ( event.clientY >= 0 ) ? event.clientY : event.touches[ 0 ].clientY;\n\n            const angleX = THREE.Math.degToRad( x - this.userMouse.x ) * 0.4;\n            const angleY = THREE.Math.degToRad( y - this.userMouse.y ) * 0.4;\n\n            if ( this.dragging ) {\n                this.quatA.setFromAxisAngle( this.vectorY, angleX );\n                this.quatB.setFromAxisAngle( this.vectorX, angleY );\n                this.quatCur.multiply( this.quatA ).multiply( this.quatB );\n                this.userMouse.set( x, y );\n            }\n\n            break;\n\n        case 2:\n\n            const dx = event.touches[ 0 ].pageX - event.touches[ 1 ].pageX;\n            const dy = event.touches[ 0 ].pageY - event.touches[ 1 ].pageY;\n            const distance = Math.sqrt( dx * dx + dy * dy );\n\n            this.addZoomDelta( this.userMouse.pinchDistance - distance );\n\n            break;\n\n        default:\n\n            break;\n\n        }\n\n    },\n\n    onMouseUp: function ( event ) {\n\n        this.dragging = false;\n\n    },\n\n    onMouseWheel: function ( event ) {\n\n        event.preventDefault();\n        event.stopPropagation();\n\n        let delta = 0;\n\n        if ( event.wheelDelta !== undefined ) { // WebKit / Opera / Explorer 9\n\n            delta = event.wheelDelta;\n\n        } else if ( event.detail !== undefined ) { // Firefox\n\n            delta = - event.detail;\n\n        }\n\n        this.addZoomDelta( delta );\n        this.onUpdateCallback();\n\n    },\n\n    addZoomDelta: function ( delta ) {\n\n        const uniforms = this.material.uniforms;\n        const lowerBound = this.size * 0.1;\n        const upperBound = this.size * 10;\n\n        uniforms.zoom.value += delta;\n\n        if ( uniforms.zoom.value <= lowerBound ) {\n\n            uniforms.zoom.value = lowerBound;\n\n        } else if ( uniforms.zoom.value >= upperBound ) {\n\n            uniforms.zoom.value = upperBound;\n\n        }\n\n    },\n\n    onUpdateCallback: function () {\n\n        this.frameId = requestAnimationFrame( this.onUpdateCallback.bind( this ) );\n\n        this.quatSlerp.slerp( this.quatCur, 0.1 );\n        this.material.uniforms.transform.value.makeRotationFromQuaternion( this.quatSlerp );\n\t\t\n        if ( !this.dragging && 1.0 - this.quatSlerp.clone().dot( this.quatCur ) < this.EPS ) {\n\t\t\t\n            cancelAnimationFrame( this.frameId );\n\n        }\n\n    },\n\n    reset: function () {\n\n        this.quatCur.set( 0, 0, 0, 1 );\n        this.quatSlerp.set( 0, 0, 0, 1 );\n        this.onUpdateCallback();\n\n    },\n\n    onLoad: function () {\n\n        this.material.uniforms.resolution.value = this.container.clientWidth / this.container.clientHeight;\n\n        this.registerMouseEvents();\n        this.onUpdateCallback();\n\t\t\n        this.dispatchEvent( { type: 'panolens-viewer-handler', method: 'disableControl' } );\n\t\t\n    },\n\n    onLeave: function () {\n\n        this.unregisterMouseEvents();\n\n        this.dispatchEvent( { type: 'panolens-viewer-handler', method: 'enableControl', data: CONTROLS.ORBIT } );\n\n        cancelAnimationFrame( this.frameId );\n\n        ImagePanorama.prototype.onLeave.call( this );\n\t\t\n    },\n\n    onWindowResize: function () {\n\n        this.material.uniforms.resolution.value = this.container.clientWidth / this.container.clientHeight;\n\n    },\n\n    onContextMenu: function () {\n\n        this.dragging = false;\n\n    },\n\n    dispose: function () {\t\n\n        ImagePanorama.prototype.dispose.call( this );\n\n    }\n\n});\n\n/**\n * @classdesc Image Little Planet\n * @constructor\n * @param {string} source \t\t- URL for the image source\n * @param {number} [size=10000] - Size of plane geometry\n * @param {number} [ratio=0.5]  - Ratio of plane geometry's height against width\n */\nfunction ImageLittlePlanet ( source, size, ratio ) {\n\n    LittlePlanet.call( this, 'image', source, size, ratio );\n\n}\n\nImageLittlePlanet.prototype = Object.assign( Object.create( LittlePlanet.prototype ), {\n\n    constructor: ImageLittlePlanet,\n\n    /**\n     * On loaded with texture\n     * @param {THREE.Texture} texture\n     * @memberOf ImageLittlePlanet\n     * @instance\n     */\n    onLoad: function ( texture ) {\n\n        this.updateTexture( texture );\n\n        LittlePlanet.prototype.onLoad.call( this );\n        ImagePanorama.prototype.onLoad.call( this, texture );\n\n    },\n    \n    /**\n     * Update texture\n     * @param {THREE.Texture} texture \n     * @memberOf ImageLittlePlanet\n     * @instance\n     */\n    updateTexture: function ( texture ) {\n\n        texture.minFilter = texture.magFilter = THREE.LinearFilter;\n\t\t\n        this.material.uniforms[ 'tDiffuse' ].value = texture;\n\n    },\n\n    /**\n     * Dispose\n     * @memberOf ImageLittlePlanet\n     * @instance\n     */\n    dispose: function () {\n\n        const tDiffuse = this.material.uniforms[ 'tDiffuse' ];\n\n        if ( tDiffuse && tDiffuse.value ) {\n\n            tDiffuse.value.dispose();\n\n        }\n\n        LittlePlanet.prototype.dispose.call( this );\n\n    }\n\n} );\n\n/**\n * @classdesc Camera panorama\n * @description See {@link https://developer.mozilla.org/en-US/docs/Web/API/MediaStreamConstraints|MediaStreamConstraints} for constraints\n * @param {object} - camera constraints\n * @constructor\n */\nfunction CameraPanorama ( constraints ) {\n\n    const radius = 5000;\n    const geometry = new THREE.SphereBufferGeometry( radius, 60, 40 );\n    const material = new THREE.MeshBasicMaterial( { visible: false });\n\n    Panorama.call( this, geometry, material );\n\n    this.media = new Media( constraints );\n    this.radius = radius;\n\n    this.addEventListener( 'enter', this.start.bind( this ) );\n    this.addEventListener( 'leave', this.stop.bind( this ) );\n    this.addEventListener( 'panolens-container', this.onPanolensContainer.bind( this ) );\n    this.addEventListener( 'panolens-scene', this.onPanolensScene.bind( this ) );\n\n}\n\nCameraPanorama.prototype = Object.assign( Object.create( Panorama.prototype ), {\n\n    constructor: CameraPanorama,\n\n    /**\n     * On container event\n     * @param {object} event\n     * @memberOf CameraPanorama\n     * @instance\n     */\n    onPanolensContainer: function ( { container } ) {\n\n        this.media.container = container;\n\n    },\n\n    /**\n     * On scene event\n     * @param {object} event \n     * @memberOf CameraPanorama\n     * @instance\n     */\n    onPanolensScene: function ( { scene } ) {\n\n        this.media.scene = scene;\n\n    },\n\n    /**\n     * Start camera streaming\n     * @memberOf CameraPanorama\n     * @instance\n     * @returns {Promise}\n     */\n    start: function () {\n\n        return this.media.start();\n\n    },\n\n    /**\n     * Stop camera streaming\n     * @memberOf CameraPanorama\n     * @instance\n     */\n    stop: function () {\n\n        this.media.stop();\n\n    },\n\n} );\n\n/**\n * @classdesc Orbit Controls\n * @constructor\n * @external OrbitControls\n * @param {THREE.Object} object \n * @param {HTMLElement} domElement \n */\nfunction OrbitControls ( object, domElement ) {\n\n    this.object = object;\n    this.domElement = ( domElement !== undefined ) ? domElement : document;\n    this.frameId;\n\n    // API\n\n    // Set to false to disable this control\n    this.enabled = true;\n\n    /*\n     * \"target\" sets the location of focus, where the control orbits around\n     * and where it pans with respect to.\n     */\n    this.target = new THREE.Vector3();\n\n    // center is old, deprecated; use \"target\" instead\n    this.center = this.target;\n\n    /*\n     * This option actually enables dollying in and out; left as \"zoom\" for\n     * backwards compatibility\n     */\n    this.noZoom = false;\n    this.zoomSpeed = 1.0;\n\n    // Limits to how far you can dolly in and out ( PerspectiveCamera only )\n    this.minDistance = 0;\n    this.maxDistance = Infinity;\n\n    // Limits to how far you can zoom in and out ( OrthographicCamera only )\n    this.minZoom = 0;\n    this.maxZoom = Infinity;\n\n    // Set to true to disable this control\n    this.noRotate = false;\n    this.rotateSpeed = -0.15;\n\n    // Set to true to disable this control\n    this.noPan = true;\n    this.keyPanSpeed = 7.0;\t// pixels moved per arrow key push\n\n    // Set to true to automatically rotate around the target\n    this.autoRotate = false;\n    this.autoRotateSpeed = 2.0; // 30 seconds per round when fps is 60\n\n    /*\n     * How far you can orbit vertically, upper and lower limits.\n     * Range is 0 to Math.PI radians.\n     */\n    this.minPolarAngle = 0; // radians\n    this.maxPolarAngle = Math.PI; // radians\n\n    // Momentum\n  \tthis.momentumDampingFactor = 0.90;\n  \tthis.momentumScalingFactor = -0.005;\n  \tthis.momentumKeydownFactor = 20;\n\n  \t// Fov\n  \tthis.minFov = 30;\n  \tthis.maxFov = 120;\n\n    /*\n     * How far you can orbit horizontally, upper and lower limits.\n     * If set, must be a sub-interval of the interval [ - Math.PI, Math.PI ].\n     */\n    this.minAzimuthAngle = - Infinity; // radians\n    this.maxAzimuthAngle = Infinity; // radians\n\n    // Set to true to disable use of the keys\n    this.noKeys = false;\n\n    // The four arrow keys\n    this.keys = { LEFT: 37, UP: 38, RIGHT: 39, BOTTOM: 40 };\n\n    // Mouse buttons\n    this.mouseButtons = { ORBIT: THREE.MOUSE.LEFT, ZOOM: THREE.MOUSE.MIDDLE, PAN: THREE.MOUSE.RIGHT };\n\n    /*\n     * //////////\n     * internals\n     */\n\n    var scope = this;\n\n    var EPS = 10e-8;\n    var MEPS = 10e-5;\n\n    var rotateStart = new THREE.Vector2();\n    var rotateEnd = new THREE.Vector2();\n    var rotateDelta = new THREE.Vector2();\n\n    var panStart = new THREE.Vector2();\n    var panEnd = new THREE.Vector2();\n    var panDelta = new THREE.Vector2();\n    var panOffset = new THREE.Vector3();\n\n    var offset = new THREE.Vector3();\n\n    var dollyStart = new THREE.Vector2();\n    var dollyEnd = new THREE.Vector2();\n    var dollyDelta = new THREE.Vector2();\n\n    var theta;\n    var phi;\n    var phiDelta = 0;\n    var thetaDelta = 0;\n    var scale = 1;\n    var pan = new THREE.Vector3();\n\n    var lastPosition = new THREE.Vector3();\n    var lastQuaternion = new THREE.Quaternion();\n\n    var momentumLeft = 0, momentumUp = 0;\n    var eventPrevious;\n    var momentumOn = false;\n\n    var keyUp, keyBottom, keyLeft, keyRight;\n\n    var STATE = { NONE: -1, ROTATE: 0, DOLLY: 1, PAN: 2, TOUCH_ROTATE: 3, TOUCH_DOLLY: 4, TOUCH_PAN: 5 };\n\n    var state = STATE.NONE;\n\n    // for reset\n\n    this.target0 = this.target.clone();\n    this.position0 = this.object.position.clone();\n    this.zoom0 = this.object.zoom;\n\n    // so camera.up is the orbit axis\n\n    var quat = new THREE.Quaternion().setFromUnitVectors( object.up, new THREE.Vector3( 0, 1, 0 ) );\n    var quatInverse = quat.clone().inverse();\n\n    // events\n\n    var changeEvent = { type: 'change' };\n    var startEvent = { type: 'start' };\n    var endEvent = { type: 'end' };\n\n    this.setLastQuaternion = function ( quaternion ) {\n        lastQuaternion.copy( quaternion );\n        scope.object.quaternion.copy( quaternion );\n    };\n\n    this.getLastPosition = function () {\n        return lastPosition;\n    };\n\n    this.rotateLeft = function ( angle ) {\n\n        if ( angle === undefined ) {\n\n            angle = getAutoRotationAngle();\n\n        }\n\n        thetaDelta -= angle;\n\n\n    };\n\n    this.rotateUp = function ( angle ) {\n\n        if ( angle === undefined ) {\n\n            angle = getAutoRotationAngle();\n\n        }\n\n        phiDelta -= angle;\n\n    };\n\n    // pass in distance in world space to move left\n    this.panLeft = function ( distance ) {\n\n        var te = this.object.matrix.elements;\n\n        // get X column of matrix\n        panOffset.set( te[ 0 ], te[ 1 ], te[ 2 ] );\n        panOffset.multiplyScalar( - distance );\n\n        pan.add( panOffset );\n\n    };\n\n    // pass in distance in world space to move up\n    this.panUp = function ( distance ) {\n\n        var te = this.object.matrix.elements;\n\n        // get Y column of matrix\n        panOffset.set( te[ 4 ], te[ 5 ], te[ 6 ] );\n        panOffset.multiplyScalar( distance );\n\n        pan.add( panOffset );\n\n    };\n\n    /*\n     * pass in x,y of change desired in pixel space,\n     * right and down are positive\n     */\n    this.pan = function ( deltaX, deltaY ) {\n\n        var element = scope.domElement === document ? scope.domElement.body : scope.domElement;\n\n        if ( scope.object instanceof THREE.PerspectiveCamera ) {\n\n            // perspective\n            var position = scope.object.position;\n            var offset = position.clone().sub( scope.target );\n            var targetDistance = offset.length();\n\n            // half of the fov is center to top of screen\n            targetDistance *= Math.tan( ( scope.object.fov / 2 ) * Math.PI / 180.0 );\n\n            // we actually don't use screenWidth, since perspective camera is fixed to screen height\n            scope.panLeft( 2 * deltaX * targetDistance / element.clientHeight );\n            scope.panUp( 2 * deltaY * targetDistance / element.clientHeight );\n\n        } else if ( scope.object instanceof THREE.OrthographicCamera ) {\n\n            // orthographic\n            scope.panLeft( deltaX * (scope.object.right - scope.object.left) / element.clientWidth );\n            scope.panUp( deltaY * (scope.object.top - scope.object.bottom) / element.clientHeight );\n\n        } else {\n\n            // camera neither orthographic or perspective\n            console.warn( 'WARNING: OrbitControls.js encountered an unknown camera type - pan disabled.' );\n\n        }\n\n    };\n\n    this.momentum = function(){\n\t\t\n        if ( !momentumOn ) return;\n\n        if ( Math.abs( momentumLeft ) < MEPS && Math.abs( momentumUp ) < MEPS ) { \n\n            momentumOn = false; \n            return;\n        }\n\n        momentumUp   *= this.momentumDampingFactor;\n        momentumLeft *= this.momentumDampingFactor;\n\n        thetaDelta -= this.momentumScalingFactor * momentumLeft;\n        phiDelta   -= this.momentumScalingFactor * momentumUp;\n\n    };\n\n    this.dollyIn = function ( dollyScale ) {\n\n        if ( dollyScale === undefined ) {\n\n            dollyScale = getZoomScale();\n\n        }\n\n        if ( scope.object instanceof THREE.PerspectiveCamera ) {\n\n            scale /= dollyScale;\n\n        } else if ( scope.object instanceof THREE.OrthographicCamera ) {\n\n            scope.object.zoom = Math.max( this.minZoom, Math.min( this.maxZoom, this.object.zoom * dollyScale ) );\n            scope.object.updateProjectionMatrix();\n            scope.dispatchEvent( changeEvent );\n\n        } else {\n\n            console.warn( 'WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled.' );\n\n        }\n\n    };\n\n    this.dollyOut = function ( dollyScale ) {\n\n        if ( dollyScale === undefined ) {\n\n            dollyScale = getZoomScale();\n\n        }\n\n        if ( scope.object instanceof THREE.PerspectiveCamera ) {\n\n            scale *= dollyScale;\n\n        } else if ( scope.object instanceof THREE.OrthographicCamera ) {\n\n            scope.object.zoom = Math.max( this.minZoom, Math.min( this.maxZoom, this.object.zoom / dollyScale ) );\n            scope.object.updateProjectionMatrix();\n            scope.dispatchEvent( changeEvent );\n\n        } else {\n\n            console.warn( 'WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled.' );\n\n        }\n\n    };\n\n    this.update = function ( ignoreUpdate ) {\n\n        var position = this.object.position;\n\n        offset.copy( position ).sub( this.target );\n\n        // rotate offset to \"y-axis-is-up\" space\n        offset.applyQuaternion( quat );\n\n        // angle from z-axis around y-axis\n\n        theta = Math.atan2( offset.x, offset.z );\n\n        // angle from y-axis\n\n        phi = Math.atan2( Math.sqrt( offset.x * offset.x + offset.z * offset.z ), offset.y );\n\n        if ( this.autoRotate && state === STATE.NONE ) {\n\n            this.rotateLeft( getAutoRotationAngle() );\n\n        }\n\n        this.momentum();\n\n        theta += thetaDelta;\n        phi += phiDelta;\n\n        // restrict theta to be between desired limits\n        theta = Math.max( this.minAzimuthAngle, Math.min( this.maxAzimuthAngle, theta ) );\n\n        // restrict phi to be between desired limits\n        phi = Math.max( this.minPolarAngle, Math.min( this.maxPolarAngle, phi ) );\n\n        // restrict phi to be betwee EPS and PI-EPS\n        phi = Math.max( EPS, Math.min( Math.PI - EPS, phi ) );\n\n        var radius = offset.length() * scale;\n\n        // restrict radius to be between desired limits\n        radius = Math.max( this.minDistance, Math.min( this.maxDistance, radius ) );\n\n        // move target to panned location\n        this.target.add( pan );\n\n        offset.x = radius * Math.sin( phi ) * Math.sin( theta );\n        offset.y = radius * Math.cos( phi );\n        offset.z = radius * Math.sin( phi ) * Math.cos( theta );\n\n        // rotate offset back to \"camera-up-vector-is-up\" space\n        offset.applyQuaternion( quatInverse );\n\n        position.copy( this.target ).add( offset );\n\n        this.object.lookAt( this.target );\n\n        thetaDelta = 0;\n        phiDelta = 0;\n        scale = 1;\n        pan.set( 0, 0, 0 );\n\n        /*\n         * update condition is:\n         * min(camera displacement, camera rotation in radians)^2 > EPS\n         * using small-angle approximation cos(x/2) = 1 - x^2 / 8\n         */\n        if ( lastPosition.distanceToSquared( this.object.position ) > EPS\n\t\t    || 8 * (1 - lastQuaternion.dot(this.object.quaternion)) > EPS ) {\n\n            ignoreUpdate !== true && this.dispatchEvent( changeEvent );\n\n            lastPosition.copy( this.object.position );\n            lastQuaternion.copy (this.object.quaternion );\n\n        }\n\n    };\n\n\n    this.reset = function () {\n\n        state = STATE.NONE;\n\n        this.target.copy( this.target0 );\n        this.object.position.copy( this.position0 );\n        this.object.zoom = this.zoom0;\n\n        this.object.updateProjectionMatrix();\n        this.dispatchEvent( changeEvent );\n\n        this.update();\n\n    };\n\n    this.getPolarAngle = function () {\n\n        return phi;\n\n    };\n\n    this.getAzimuthalAngle = function () {\n\n        return theta;\n\n    };\n\n    function getAutoRotationAngle() {\n\n        return 2 * Math.PI / 60 / 60 * scope.autoRotateSpeed;\n\n    }\n\n    function getZoomScale() {\n\n        return Math.pow( 0.95, scope.zoomSpeed );\n\n    }\n\n    function onMouseDown( event ) {\n\n        momentumOn = false;\n\n   \t\tmomentumLeft = momentumUp = 0;\n\n        if ( scope.enabled === false ) return;\n        event.preventDefault();\n\n        if ( event.button === scope.mouseButtons.ORBIT ) {\n            if ( scope.noRotate === true ) return;\n\n            state = STATE.ROTATE;\n\n            rotateStart.set( event.clientX, event.clientY );\n\n        } else if ( event.button === scope.mouseButtons.ZOOM ) {\n            if ( scope.noZoom === true ) return;\n\n            state = STATE.DOLLY;\n\n            dollyStart.set( event.clientX, event.clientY );\n\n        } else if ( event.button === scope.mouseButtons.PAN ) {\n            if ( scope.noPan === true ) return;\n\n            state = STATE.PAN;\n\n            panStart.set( event.clientX, event.clientY );\n\n        }\n\n        if ( state !== STATE.NONE ) {\n            document.addEventListener( 'mousemove', onMouseMove, false );\n            document.addEventListener( 'mouseup', onMouseUp, false );\n            scope.dispatchEvent( startEvent );\n        }\n\n        scope.update();\n\n    }\n\n    function onMouseMove( event ) {\n\n        if ( scope.enabled === false ) return;\n\n        event.preventDefault();\n\n        var element = scope.domElement === document ? scope.domElement.body : scope.domElement;\n\n        if ( state === STATE.ROTATE ) {\n\n            if ( scope.noRotate === true ) return;\n\n            rotateEnd.set( event.clientX, event.clientY );\n            rotateDelta.subVectors( rotateEnd, rotateStart );\n\n            // rotating across whole screen goes 360 degrees around\n            scope.rotateLeft( 2 * Math.PI * rotateDelta.x / element.clientWidth * scope.rotateSpeed );\n\n            // rotating up and down along whole screen attempts to go 360, but limited to 180\n            scope.rotateUp( 2 * Math.PI * rotateDelta.y / element.clientHeight * scope.rotateSpeed );\n\n            rotateStart.copy( rotateEnd );\n\n            if( eventPrevious ){\n                momentumLeft = event.clientX - eventPrevious.clientX;\n                momentumUp = event.clientY - eventPrevious.clientY;\n            }\n\n            eventPrevious = event;\n\n        } else if ( state === STATE.DOLLY ) {\n\n            if ( scope.noZoom === true ) return;\n\n            dollyEnd.set( event.clientX, event.clientY );\n            dollyDelta.subVectors( dollyEnd, dollyStart );\n\n            if ( dollyDelta.y > 0 ) {\n\n                scope.dollyIn();\n\n            } else if ( dollyDelta.y < 0 ) {\n\n                scope.dollyOut();\n\n            }\n\n            dollyStart.copy( dollyEnd );\n\n        } else if ( state === STATE.PAN ) {\n\n            if ( scope.noPan === true ) return;\n\n            panEnd.set( event.clientX, event.clientY );\n            panDelta.subVectors( panEnd, panStart );\n\n            scope.pan( panDelta.x, panDelta.y );\n\n            panStart.copy( panEnd );\n\n        }\n\n        if ( state !== STATE.NONE ) scope.update();\n\n    }\n\n    function onMouseUp( /* event */ ) {\n\n        momentumOn = true;\n\n        eventPrevious = undefined;\n\n        if ( scope.enabled === false ) return;\n\n        document.removeEventListener( 'mousemove', onMouseMove, false );\n        document.removeEventListener( 'mouseup', onMouseUp, false );\n        scope.dispatchEvent( endEvent );\n        state = STATE.NONE;\n\n    }\n\n    function onMouseWheel( event ) {\n\n        if ( scope.enabled === false || scope.noZoom === true || state !== STATE.NONE ) return;\n\n        event.preventDefault();\n        event.stopPropagation();\n\n        var delta = 0;\n\n        if ( event.wheelDelta !== undefined ) { // WebKit / Opera / Explorer 9\n\n            delta = event.wheelDelta;\n\n        } else if ( event.detail !== undefined ) { // Firefox\n\n            delta = - event.detail;\n\n        }\n\n        if ( delta > 0 ) {\n\n            // scope.dollyOut();\n            scope.object.fov = ( scope.object.fov < scope.maxFov ) \n                ? scope.object.fov + 1\n                : scope.maxFov;\n            scope.object.updateProjectionMatrix();\n\n        } else if ( delta < 0 ) {\n\n            // scope.dollyIn();\n            scope.object.fov = ( scope.object.fov > scope.minFov ) \n                ? scope.object.fov - 1\n                : scope.minFov;\n            scope.object.updateProjectionMatrix();\n\n        }\n\n        scope.update();\n        scope.dispatchEvent( changeEvent );\n        scope.dispatchEvent( startEvent );\n        scope.dispatchEvent( endEvent );\n\n    }\n\n    function onKeyUp ( event ) {\n\n        switch ( event.keyCode ) {\n\n        case scope.keys.UP:\n            keyUp = false;\n            break;\n\n        case scope.keys.BOTTOM:\n            keyBottom = false;\n            break;\n\n        case scope.keys.LEFT:\n            keyLeft = false;\n            break;\n\n        case scope.keys.RIGHT:\n            keyRight = false;\n            break;\n\n        }\n\n    }\n\n    function onKeyDown( event ) {\n\n        if ( scope.enabled === false || scope.noKeys === true || scope.noRotate === true ) return;\n\n        switch ( event.keyCode ) {\n\n        case scope.keys.UP:\n            keyUp = true;\n            break;\n\n        case scope.keys.BOTTOM:\n            keyBottom = true;\n            break;\n\n        case scope.keys.LEFT:\n            keyLeft = true;\n            break;\n\n        case scope.keys.RIGHT:\n            keyRight = true;\n            break;\n\n        }\n\n        if (keyUp || keyBottom || keyLeft || keyRight) {\n\n            momentumOn = true;\n\n            if (keyUp) momentumUp = - scope.rotateSpeed * scope.momentumKeydownFactor;\n            if (keyBottom) momentumUp = scope.rotateSpeed * scope.momentumKeydownFactor;\n            if (keyLeft) momentumLeft = - scope.rotateSpeed * scope.momentumKeydownFactor;\n            if (keyRight) momentumLeft = scope.rotateSpeed * scope.momentumKeydownFactor;\n\n        }\n\n    }\n\n    function touchstart( event ) {\n\n        momentumOn = false;\n\n        momentumLeft = momentumUp = 0;\n\n        if ( scope.enabled === false ) return;\n\n        switch ( event.touches.length ) {\n\n        case 1:\t// one-fingered touch: rotate\n\n            if ( scope.noRotate === true ) return;\n\n            state = STATE.TOUCH_ROTATE;\n\n            rotateStart.set( event.touches[ 0 ].pageX, event.touches[ 0 ].pageY );\n            break;\n\n        case 2:\t// two-fingered touch: dolly\n\n            if ( scope.noZoom === true ) return;\n\n            state = STATE.TOUCH_DOLLY;\n\n            var dx = event.touches[ 0 ].pageX - event.touches[ 1 ].pageX;\n            var dy = event.touches[ 0 ].pageY - event.touches[ 1 ].pageY;\n            var distance = Math.sqrt( dx * dx + dy * dy );\n\n            dollyStart.set( 0, distance );\n\n            break;\n\n        case 3: // three-fingered touch: pan\n\n            if ( scope.noPan === true ) return;\n\n            state = STATE.TOUCH_PAN;\n\n            panStart.set( event.touches[ 0 ].pageX, event.touches[ 0 ].pageY );\n            break;\n\n        default:\n\n            state = STATE.NONE;\n\n        }\n\n        if ( state !== STATE.NONE ) scope.dispatchEvent( startEvent );\n\n    }\n\n    function touchmove( event ) {\n\n        if ( scope.enabled === false ) return;\n\n        event.preventDefault();\n        event.stopPropagation();\n\n        var element = scope.domElement === document ? scope.domElement.body : scope.domElement;\n\n        switch ( event.touches.length ) {\n\n        case 1: // one-fingered touch: rotate\n\n            if ( scope.noRotate === true ) return;\n            if ( state !== STATE.TOUCH_ROTATE ) return;\n\n            rotateEnd.set( event.touches[ 0 ].pageX, event.touches[ 0 ].pageY );\n            rotateDelta.subVectors( rotateEnd, rotateStart );\n\n            // rotating across whole screen goes 360 degrees around\n            scope.rotateLeft( 2 * Math.PI * rotateDelta.x / element.clientWidth * scope.rotateSpeed );\n            // rotating up and down along whole screen attempts to go 360, but limited to 180\n            scope.rotateUp( 2 * Math.PI * rotateDelta.y / element.clientHeight * scope.rotateSpeed );\n\n            rotateStart.copy( rotateEnd );\n\n            if( eventPrevious ){\n                momentumLeft = event.touches[ 0 ].pageX - eventPrevious.pageX;\n                momentumUp = event.touches[ 0 ].pageY - eventPrevious.pageY;\n            }\n\n            eventPrevious = {\n                pageX: event.touches[ 0 ].pageX,\n                pageY: event.touches[ 0 ].pageY,\n            };\n\n            scope.update();\n            break;\n\n        case 2: // two-fingered touch: dolly\n\n            if ( scope.noZoom === true ) return;\n            if ( state !== STATE.TOUCH_DOLLY ) return;\n\n            var dx = event.touches[ 0 ].pageX - event.touches[ 1 ].pageX;\n            var dy = event.touches[ 0 ].pageY - event.touches[ 1 ].pageY;\n            var distance = Math.sqrt( dx * dx + dy * dy );\n\n            dollyEnd.set( 0, distance );\n            dollyDelta.subVectors( dollyEnd, dollyStart );\n\n            if ( dollyDelta.y < 0 ) {\n\n                scope.object.fov = ( scope.object.fov < scope.maxFov ) \n                    ? scope.object.fov + 1\n                    : scope.maxFov;\n                scope.object.updateProjectionMatrix();\n\n            } else if ( dollyDelta.y > 0 ) {\n\n                scope.object.fov = ( scope.object.fov > scope.minFov ) \n                    ? scope.object.fov - 1\n                    : scope.minFov;\n                scope.object.updateProjectionMatrix();\n\n            }\n\n            dollyStart.copy( dollyEnd );\n\n            scope.update();\n            scope.dispatchEvent( changeEvent );\n            break;\n\n        case 3: // three-fingered touch: pan\n\n            if ( scope.noPan === true ) return;\n            if ( state !== STATE.TOUCH_PAN ) return;\n\n            panEnd.set( event.touches[ 0 ].pageX, event.touches[ 0 ].pageY );\n            panDelta.subVectors( panEnd, panStart );\n\n            scope.pan( panDelta.x, panDelta.y );\n\n            panStart.copy( panEnd );\n\n            scope.update();\n            break;\n\n        default:\n\n            state = STATE.NONE;\n\n        }\n\n    }\n\n    function touchend( /* event */ ) {\n\n        momentumOn = true;\n\n        eventPrevious = undefined;\n\n        if ( scope.enabled === false ) return;\n\n        scope.dispatchEvent( endEvent );\n        state = STATE.NONE;\n\n    }\n\n    // this.domElement.addEventListener( 'contextmenu', function ( event ) { event.preventDefault(); }, false );\n    this.domElement.addEventListener( 'mousedown', onMouseDown, { passive: false } );\n    this.domElement.addEventListener( 'mousewheel', onMouseWheel, { passive: false } );\n    this.domElement.addEventListener( 'DOMMouseScroll', onMouseWheel, { passive: false } ); // firefox\n\n    this.domElement.addEventListener( 'touchstart', touchstart, { passive: false } );\n    this.domElement.addEventListener( 'touchend', touchend, { passive: false } );\n    this.domElement.addEventListener( 'touchmove', touchmove, { passive: false } );\n\n    window.addEventListener( 'keyup', onKeyUp, { passive: false } );\n    window.addEventListener( 'keydown', onKeyDown, { passive: false } );\n\n    // force an update at start\n    this.update();\n\n}\nOrbitControls.prototype = Object.assign( Object.create( THREE.EventDispatcher.prototype ), {\n\n    constructor: OrbitControls\n\n} );\n\n/**\n * @classdesc Device Orientation Control\n * @constructor\n * @external DeviceOrientationControls\n * @param {THREE.Camera} camera \n * @param {HTMLElement} domElement \n */\nfunction DeviceOrientationControls ( camera, domElement ) {\n\n    var scope = this;\n    var changeEvent = { type: 'change' };\n\n    var rotY = 0;\n    var rotX = 0;\n    var tempX = 0;\n    var tempY = 0;\n\n    this.camera = camera;\n    this.camera.rotation.reorder( 'YXZ' );\n    this.domElement = ( domElement !== undefined ) ? domElement : document;\n\n    this.enabled = true;\n\n    this.deviceOrientation = {};\n    this.screenOrientation = 0;\n\n    this.alpha = 0;\n    this.alphaOffsetAngle = 0;\n\n\n    var onDeviceOrientationChangeEvent = function( event ) {\n\n        scope.deviceOrientation = event;\n\n    };\n\n    var onScreenOrientationChangeEvent = function() {\n\n        scope.screenOrientation = window.orientation || 0;\n\n    };\n\n    var onTouchStartEvent = function (event) {\n\n        event.preventDefault();\n        event.stopPropagation();\n\n        tempX = event.touches[ 0 ].pageX;\n        tempY = event.touches[ 0 ].pageY;\n\n    };\n\n    var onTouchMoveEvent = function (event) {\n\n        event.preventDefault();\n        event.stopPropagation();\n\n        rotY += THREE.Math.degToRad( ( event.touches[ 0 ].pageX - tempX ) / 4 );\n        rotX += THREE.Math.degToRad( ( tempY - event.touches[ 0 ].pageY ) / 4 );\n\n        scope.updateAlphaOffsetAngle( rotY );\n\n        tempX = event.touches[ 0 ].pageX;\n        tempY = event.touches[ 0 ].pageY;\n\n    };\n\n    // The angles alpha, beta and gamma form a set of intrinsic Tait-Bryan angles of type Z-X'-Y''\n\n    var setCameraQuaternion = function( quaternion, alpha, beta, gamma, orient ) {\n\n        var zee = new THREE.Vector3( 0, 0, 1 );\n\n        var euler = new THREE.Euler();\n\n        var q0 = new THREE.Quaternion();\n\n        var q1 = new THREE.Quaternion( - Math.sqrt( 0.5 ), 0, 0, Math.sqrt( 0.5 ) ); // - PI/2 around the x-axis\n\n        var vectorFingerY;\n        var fingerQY = new THREE.Quaternion();\n        var fingerQX = new THREE.Quaternion();\n\n        if ( scope.screenOrientation == 0 ) {\n\n            vectorFingerY = new THREE.Vector3( 1, 0, 0 );\n            fingerQY.setFromAxisAngle( vectorFingerY, -rotX );\n\n        } else if ( scope.screenOrientation == 180 ) {\n\n            vectorFingerY = new THREE.Vector3( 1, 0, 0 );\n            fingerQY.setFromAxisAngle( vectorFingerY, rotX );\n\n        } else if ( scope.screenOrientation == 90 ) {\n\n            vectorFingerY = new THREE.Vector3( 0, 1, 0 );\n            fingerQY.setFromAxisAngle( vectorFingerY, rotX );\n\n        } else if ( scope.screenOrientation == - 90) {\n\n            vectorFingerY = new THREE.Vector3( 0, 1, 0 );\n            fingerQY.setFromAxisAngle( vectorFingerY, -rotX );\n\n        }\n\n        q1.multiply( fingerQY );\n        q1.multiply( fingerQX );\n\n        euler.set( beta, alpha, - gamma, 'YXZ' ); // 'ZXY' for the device, but 'YXZ' for us\n\n        quaternion.setFromEuler( euler ); // orient the device\n\n        quaternion.multiply( q1 ); // camera looks out the back of the device, not the top\n\n        quaternion.multiply( q0.setFromAxisAngle( zee, - orient ) ); // adjust for screen orientation\n\n    };\n\n    this.connect = function() {\n\n        onScreenOrientationChangeEvent(); // run once on load\n\n        window.addEventListener( 'orientationchange', onScreenOrientationChangeEvent, { passive: true } );\n        window.addEventListener( 'deviceorientation', onDeviceOrientationChangeEvent, { passive: true } );\n        window.addEventListener( 'deviceorientation', this.update.bind( this ), { passive: true } );\n\n        scope.domElement.addEventListener( 'touchstart', onTouchStartEvent, { passive: false } );\n        scope.domElement.addEventListener( 'touchmove', onTouchMoveEvent, { passive: false } );\n\n        scope.enabled = true;\n\n    };\n\n    this.disconnect = function() {\n\n        window.removeEventListener( 'orientationchange', onScreenOrientationChangeEvent, false );\n        window.removeEventListener( 'deviceorientation', onDeviceOrientationChangeEvent, false );\n        window.removeEventListener( 'deviceorientation', this.update.bind( this ), false );\n\n        scope.domElement.removeEventListener( 'touchstart', onTouchStartEvent, false );\n        scope.domElement.removeEventListener( 'touchmove', onTouchMoveEvent, false );\n\n        scope.enabled = false;\n\n    };\n\n    this.update = function( ignoreUpdate ) {\n\n        if ( scope.enabled === false ) return;\n\n        var alpha = scope.deviceOrientation.alpha ? THREE.Math.degToRad( scope.deviceOrientation.alpha ) + scope.alphaOffsetAngle : 0; // Z\n        var beta = scope.deviceOrientation.beta ? THREE.Math.degToRad( scope.deviceOrientation.beta ) : 0; // X'\n        var gamma = scope.deviceOrientation.gamma ? THREE.Math.degToRad( scope.deviceOrientation.gamma ) : 0; // Y''\n        var orient = scope.screenOrientation ? THREE.Math.degToRad( scope.screenOrientation ) : 0; // O\n\n        setCameraQuaternion( scope.camera.quaternion, alpha, beta, gamma, orient );\n        scope.alpha = alpha;\n\n        ignoreUpdate !== true && scope.dispatchEvent( changeEvent );\n\n    };\n\n    this.updateAlphaOffsetAngle = function( angle ) {\n\n        this.alphaOffsetAngle = angle;\n        this.update();\n\n    };\n\n    this.dispose = function() {\n\n        this.disconnect();\n\n    };\n\n    this.connect();\n\n}\nDeviceOrientationControls.prototype = Object.assign( Object.create( THREE.EventDispatcher.prototype), {\n\n    constructor: DeviceOrientationControls\n\n} );\n\n/**\n * @classdesc Google Cardboard Effect Composer\n * @constructor\n * @external CardboardEffect\n * @param {THREE.WebGLRenderer} renderer \n */\nfunction CardboardEffect ( renderer ) {\n\n    var _camera = new THREE.OrthographicCamera( - 1, 1, 1, - 1, 0, 1 );\n\n    var _scene = new THREE.Scene();\n\n    var _stereo = new THREE.StereoCamera();\n    _stereo.aspect = 0.5;\n\n    var _params = { minFilter: THREE.LinearFilter, magFilter: THREE.NearestFilter, format: THREE.RGBAFormat };\n\n    var _renderTarget = new THREE.WebGLRenderTarget( 512, 512, _params );\n    _renderTarget.scissorTest = true;\n    _renderTarget.texture.generateMipmaps = false;\n\n    /*\n     * Distortion Mesh ported from:\n     * https://github.com/borismus/webvr-boilerplate/blob/master/src/distortion/barrel-distortion-fragment.js\n     */\n\n    var distortion = new THREE.Vector2( 0.441, 0.156 );\n\n    var geometry = new THREE.PlaneBufferGeometry( 1, 1, 10, 20 ).removeAttribute( 'normal' ).toNonIndexed();\n\n    var positions = geometry.attributes.position.array;\n    var uvs = geometry.attributes.uv.array;\n\n    // duplicate\n    geometry.attributes.position.count *= 2;\n    geometry.attributes.uv.count *= 2;\n\n    var positions2 = new Float32Array( positions.length * 2 );\n    positions2.set( positions );\n    positions2.set( positions, positions.length );\n\n    var uvs2 = new Float32Array( uvs.length * 2 );\n    uvs2.set( uvs );\n    uvs2.set( uvs, uvs.length );\n\n    var vector = new THREE.Vector2();\n    var length = positions.length / 3;\n\n    for ( var i = 0, l = positions2.length / 3; i < l; i ++ ) {\n\n        vector.x = positions2[ i * 3 + 0 ];\n        vector.y = positions2[ i * 3 + 1 ];\n\n        var dot = vector.dot( vector );\n        var scalar = 1.5 + ( distortion.x + distortion.y * dot ) * dot;\n\n        var offset = i < length ? 0 : 1;\n\n        positions2[ i * 3 + 0 ] = ( vector.x / scalar ) * 1.5 - 0.5 + offset;\n        positions2[ i * 3 + 1 ] = ( vector.y / scalar ) * 3.0;\n\n        uvs2[ i * 2 ] = ( uvs2[ i * 2 ] + offset ) * 0.5;\n\n    }\n\n    geometry.attributes.position.array = positions2;\n    geometry.attributes.uv.array = uvs2;\n\n    //\n\n    var material = new THREE.MeshBasicMaterial( { map: _renderTarget.texture } );\n    var mesh = new THREE.Mesh( geometry, material );\n    _scene.add( mesh );\n\n    //\n\n    this.setSize = function ( width, height ) {\n\n        renderer.setSize( width, height );\n\n        var pixelRatio = renderer.getPixelRatio();\n\n        _renderTarget.setSize( width * pixelRatio, height * pixelRatio );\n\n    };\n\n    this.render = function ( scene, camera ) {\n\n        scene.updateMatrixWorld();\n\n        if ( camera.parent === null ) camera.updateMatrixWorld();\n\n        _stereo.update( camera );\n\n        var width = _renderTarget.width / 2;\n        var height = _renderTarget.height;\n\n        if ( renderer.autoClear ) renderer.clear();\n\n        _renderTarget.scissor.set( 0, 0, width, height );\n        _renderTarget.viewport.set( 0, 0, width, height );\n        renderer.setRenderTarget( _renderTarget );\n        renderer.render( scene, _stereo.cameraL );\n\n        renderer.clearDepth();\n\n        _renderTarget.scissor.set( width, 0, width, height );\n        _renderTarget.viewport.set( width, 0, width, height );\n        renderer.setRenderTarget( _renderTarget );\n        renderer.render( scene, _stereo.cameraR );\n\n        renderer.clearDepth();\n\n        renderer.setRenderTarget( null );\n        renderer.render( _scene, _camera );\n    };\n\n}\n\n/**\n * @classdesc Stereo Effect Composer\n * @constructor\n * @external StereoEffect\n * @param {THREE.WebGLRenderer} renderer \n */\nconst StereoEffect = function ( renderer ) {\n\n    var _stereo = new THREE.StereoCamera();\n    _stereo.aspect = 0.5;\n    var size = new THREE.Vector2();\n\n    this.setEyeSeparation = function ( eyeSep ) {\n\n        _stereo.eyeSep = eyeSep;\n\n    };\n\n    this.setSize = function ( width, height ) {\n\n        renderer.setSize( width, height );\n\n    };\n\n    this.render = function ( scene, camera ) {\n\n        scene.updateMatrixWorld();\n\n        if ( camera.parent === null ) camera.updateMatrixWorld();\n\n        _stereo.update( camera );\n\n        renderer.getSize( size );\n\n        if ( renderer.autoClear ) renderer.clear();\n        renderer.setScissorTest( true );\n\n        renderer.setScissor( 0, 0, size.width / 2, size.height );\n        renderer.setViewport( 0, 0, size.width / 2, size.height );\n        renderer.render( scene, _stereo.cameraL );\n\n        renderer.setScissor( size.width / 2, 0, size.width / 2, size.height );\n        renderer.setViewport( size.width / 2, 0, size.width / 2, size.height );\n        renderer.render( scene, _stereo.cameraR );\n\n        renderer.setScissorTest( false );\n\n    };\n\n};\n\n/**\n * @classdesc Viewer contains pre-defined scene, camera and renderer\n * @constructor\n * @param {object} [options] - Use custom or default config options\n * @param {HTMLElement} [options.container] - A HTMLElement to host the canvas\n * @param {THREE.Scene} [options.scene=THREE.Scene] - A THREE.Scene which contains panorama and 3D objects\n * @param {THREE.Camera} [options.camera=THREE.PerspectiveCamera] - A THREE.Camera to view the scene\n * @param {THREE.WebGLRenderer} [options.renderer=THREE.WebGLRenderer] - A THREE.WebGLRenderer to render canvas\n * @param {boolean} [options.controlBar=true] - Show/hide control bar on the bottom of the container\n * @param {array}   [options.controlButtons=[]] - Button names to mount on controlBar if controlBar exists, Defaults to ['fullscreen', 'setting', 'video']\n * @param {boolean} [options.autoHideControlBar=false] - Auto hide control bar when click on non-active area\n * @param {boolean} [options.autoHideInfospot=true] - Auto hide infospots when click on non-active area\n * @param {boolean} [options.horizontalView=false] - Allow only horizontal camera control\n * @param {number}  [options.clickTolerance=10] - Distance tolerance to tigger click / tap event\n * @param {number}  [options.cameraFov=60] - Camera field of view value\n * @param {boolean} [options.reverseDragging=false] - Reverse dragging direction\n * @param {boolean} [options.enableReticle=false] - Enable reticle for mouseless interaction other than VR mode\n * @param {number}  [options.dwellTime=1500] - Dwell time for reticle selection in ms\n * @param {boolean} [options.autoReticleSelect=true] - Auto select a clickable target after dwellTime\n * @param {boolean} [options.viewIndicator=false] - Adds an angle view indicator in upper left corner\n * @param {number}  [options.indicatorSize=30] - Size of View Indicator\n * @param {string}  [options.output='none'] - Whether and where to output raycast position. Could be 'console' or 'overlay'\n * @param {boolean} [options.autoRotate=false] - Auto rotate\n * @param {number}  [options.autoRotateSpeed=2.0] - Auto rotate speed as in degree per second. Positive is counter-clockwise and negative is clockwise.\n * @param {number}  [options.autoRotateActivationDuration=5000] - Duration before auto rotatation when no user interactivity in ms\n */\nfunction Viewer ( options ) {\n\n    THREE.EventDispatcher.call( this );\n\n    let container;\n\n    options = options || {};\n    options.controlBar = options.controlBar !== undefined ? options.controlBar : true;\n    options.controlButtons = options.controlButtons || [ 'fullscreen', 'setting', 'video' ];\n    options.autoHideControlBar = options.autoHideControlBar !== undefined ? options.autoHideControlBar : false;\n    options.autoHideInfospot = options.autoHideInfospot !== undefined ? options.autoHideInfospot : true;\n    options.horizontalView = options.horizontalView !== undefined ? options.horizontalView : false;\n    options.clickTolerance = options.clickTolerance || 10;\n    options.cameraFov = options.cameraFov || 60;\n    options.reverseDragging = options.reverseDragging || false;\n    options.enableReticle = options.enableReticle || false;\n    options.dwellTime = options.dwellTime || 1500;\n    options.autoReticleSelect = options.autoReticleSelect !== undefined ? options.autoReticleSelect : true;\n    options.viewIndicator = options.viewIndicator !== undefined ? options.viewIndicator : false;\n    options.indicatorSize = options.indicatorSize || 30;\n    options.output = options.output ? options.output : 'none';\n    options.autoRotate = options.autoRotate || false;\n    options.autoRotateSpeed = options.autoRotateSpeed || 2.0;\n    options.autoRotateActivationDuration = options.autoRotateActivationDuration || 5000;\n\n    this.options = options;\n\n    /*\n     * CSS Icon\n     * const styleLoader = new StyleLoader();\n     * styleLoader.inject( 'icono' );\n     */\n\n    // Container\n    if ( options.container ) {\n\n        container = options.container;\n        container._width = container.clientWidth;\n        container._height = container.clientHeight;\n\n    } else {\n\n        container = document.createElement( 'div' );\n        container.classList.add( 'panolens-container' );\n        container.style.width = '100%';\n        container.style.height = '100%';\n        container._width = window.innerWidth;\n        container._height = window.innerHeight;\n        document.body.appendChild( container );\n\n    }\n\n    this.container = container;\n\n    this.camera = options.camera || new THREE.PerspectiveCamera( this.options.cameraFov, this.container.clientWidth / this.container.clientHeight, 1, 10000 );\n    this.scene = options.scene || new THREE.Scene();\n    this.renderer = options.renderer || new THREE.WebGLRenderer( { alpha: true, antialias: false } );\n    this.sceneReticle = new THREE.Scene();\n\n    this.viewIndicatorSize = this.options.indicatorSize;\n\n    this.reticle = {};\n    this.tempEnableReticle = this.options.enableReticle;\n\n    this.mode = MODES.NORMAL;\n\n    this.OrbitControls;\n    this.DeviceOrientationControls;\n\n    this.CardboardEffect;\n    this.StereoEffect;\n\n    this.controls;\n    this.effect;\n    this.panorama;\n    this.widget;\n\n    this.hoverObject;\n    this.infospot;\n    this.pressEntityObject;\n    this.pressObject;\n\n    this.raycaster = new THREE.Raycaster();\n    this.raycasterPoint = new THREE.Vector2();\n    this.userMouse = new THREE.Vector2();\n    this.updateCallbacks = [];\n    this.requestAnimationId;\n\n    this.cameraFrustum = new THREE.Frustum();\n    this.cameraViewProjectionMatrix = new THREE.Matrix4();\n\n    this.autoRotateRequestId;\n\n    this.outputDivElement;\n\n    this.touchSupported = 'ontouchstart' in window || window.DocumentTouch && document instanceof DocumentTouch;\n\n    // Handler references\n    this.HANDLER_MOUSE_DOWN = this.onMouseDown.bind( this );\n    this.HANDLER_MOUSE_UP = this.onMouseUp.bind( this );\n    this.HANDLER_MOUSE_MOVE = this.onMouseMove.bind( this );\n    this.HANDLER_WINDOW_RESIZE = this.onWindowResize.bind( this );\n    this.HANDLER_KEY_DOWN = this.onKeyDown.bind( this );\n    this.HANDLER_KEY_UP = this.onKeyUp.bind( this );\n    this.HANDLER_TAP = this.onTap.bind( this, {\n        clientX: this.container.clientWidth / 2,\n        clientY: this.container.clientHeight / 2\n    } );\n\n    // Flag for infospot output\n    this.OUTPUT_INFOSPOT = false;\n\n    // Animations\n    this.tweenLeftAnimation = new TWEEN.Tween();\n    this.tweenUpAnimation = new TWEEN.Tween();\n\n    // Renderer\n    this.renderer.setPixelRatio( window.devicePixelRatio );\n    this.renderer.setSize( this.container.clientWidth, this.container.clientHeight );\n    this.renderer.setClearColor( 0x000000, 0 );\n    this.renderer.autoClear = false;\n\n    // Append Renderer Element to container\n    this.renderer.domElement.classList.add( 'panolens-canvas' );\n    this.renderer.domElement.style.display = 'block';\n    this.container.style.backgroundColor = '#000';\n    this.container.appendChild( this.renderer.domElement );\n\n    // Camera Controls\n    this.OrbitControls = new OrbitControls( this.camera, this.container );\n    this.OrbitControls.id = 'orbit';\n    this.OrbitControls.minDistance = 1;\n    this.OrbitControls.noPan = true;\n    this.OrbitControls.autoRotate = this.options.autoRotate;\n    this.OrbitControls.autoRotateSpeed = this.options.autoRotateSpeed;\n\n    this.DeviceOrientationControls = new DeviceOrientationControls( this.camera, this.container );\n    this.DeviceOrientationControls.id = 'device-orientation';\n    this.DeviceOrientationControls.enabled = false;\n    this.camera.position.z = 1;\n\n    // Register change event if passiveRenering\n    if ( this.options.passiveRendering ) {\n\n        console.warn( 'passiveRendering is now deprecated' );\n\n    }\n\n    // Controls\n    this.controls = [ this.OrbitControls, this.DeviceOrientationControls ];\n    this.control = this.OrbitControls;\n\n    // Cardboard effect\n    this.CardboardEffect = new CardboardEffect( this.renderer );\n    this.CardboardEffect.setSize( this.container.clientWidth, this.container.clientHeight );\n\n    // Stereo effect\n    this.StereoEffect = new StereoEffect( this.renderer );\n    this.StereoEffect.setSize( this.container.clientWidth, this.container.clientHeight );\n\n    this.effect = this.CardboardEffect;\n\n    // Add default hidden reticle\n    this.addReticle();\n\n    // Lock horizontal view\n    if ( this.options.horizontalView ) {\n        this.OrbitControls.minPolarAngle = Math.PI / 2;\n        this.OrbitControls.maxPolarAngle = Math.PI / 2;\n    }\n\n    // Add Control UI\n    if ( this.options.controlBar !== false ) {\n        this.addDefaultControlBar( this.options.controlButtons );\n    }\n\n    // Add View Indicator\n    if ( this.options.viewIndicator ) {\n        this.addViewIndicator();\n    }\n\n    // Reverse dragging direction\n    if ( this.options.reverseDragging ) {\n        this.reverseDraggingDirection();\n    }\n\n    // Register event if reticle is enabled, otherwise defaults to mouse\n    if ( this.options.enableReticle ) {\n        this.enableReticleControl();\n    } else {\n        this.registerMouseAndTouchEvents();\n    }\n\n    // Output infospot position to an overlay container if specified\n    if ( this.options.output === 'overlay' ) {\n        this.addOutputElement();\n    }\n\n    // Register dom event listeners\n    this.registerEventListeners();\n\n    // Animate\n    this.animate.call( this );\n\n}\nViewer.prototype = Object.assign( Object.create( THREE.EventDispatcher.prototype ), {\n\n    constructor: Viewer,\n\n    /**\n     * Add an object to the scene\n     * Automatically hookup with panolens-viewer-handler listener\n     * to communicate with viewer method\n     * @param {THREE.Object3D} object - The object to be added\n     * @memberOf Viewer\n     * @instance\n     */\n    add: function ( object ) {\n\n        if ( arguments.length > 1 ) {\n\n            for ( var i = 0; i < arguments.length; i ++ ) {\n\n                this.add( arguments[ i ] );\n\n            }\n\n            return this;\n\n        }\n\n        this.scene.add( object );\n\n        // All object added to scene has 'panolens-viewer-handler' event to handle viewer communication\n        if ( object.addEventListener ) {\n\n            object.addEventListener( 'panolens-viewer-handler', this.eventHandler.bind( this ) );\n\n        }\n\n        // All object added to scene being passed with container\n        if ( object instanceof Panorama && object.dispatchEvent ) {\n\n            object.dispatchEvent( { type: 'panolens-container', container: this.container } );\n\n        }\n\n        if ( object instanceof CameraPanorama ) {\n\n            object.dispatchEvent( { type: 'panolens-scene', scene: this.scene } );\n\n        }\n\n        // Hookup default panorama event listeners\n        if ( object.type === 'panorama' ) {\n\n            this.addPanoramaEventListener( object );\n\n            if ( !this.panorama ) {\n\n                this.setPanorama( object );\n\n            }\n\n        }\n\n    },\n\n    /**\n     * Remove an object from the scene\n     * @param  {THREE.Object3D} object - Object to be removed\n     * @memberOf Viewer\n     * @instance\n     */\n    remove: function ( object ) {\n\n        if ( object.removeEventListener ) {\n\n            object.removeEventListener( 'panolens-viewer-handler', this.eventHandler.bind( this ) );\n\n        }\n\n        this.scene.remove( object );\n\n    },\n\n    /**\n     * Add default control bar\n     * @param {array} array - The control buttons array\n     * @memberOf Viewer\n     * @instance\n     */\n    addDefaultControlBar: function ( array ) {\n\n        if ( this.widget ) {\n\n            console.warn( 'Default control bar exists' );\n            return;\n\n        }\n\n        const widget = new Widget( this.container );\n        widget.addEventListener( 'panolens-viewer-handler', this.eventHandler.bind( this ) );\n        widget.addControlBar();\n        array.forEach( buttonName => {\n\n            widget.addControlButton( buttonName );\n\n        } );\n\n        this.widget = widget;\n\n    },\n\n    /**\n     * Set a panorama to be the current one\n     * @param {Panorama} pano - Panorama to be set\n     * @memberOf Viewer\n     * @instance\n     */\n    setPanorama: function ( pano ) {\n\n        const leavingPanorama = this.panorama;\n\n        if ( pano.type === 'panorama' && leavingPanorama !== pano ) {\n\n            // Clear exisiting infospot\n            this.hideInfospot();\n\n            const afterEnterComplete = function () {\n\n                leavingPanorama && leavingPanorama.onLeave();\n                pano.removeEventListener( 'enter-fade-start', afterEnterComplete );\n\n            };\n\n            pano.addEventListener( 'enter-fade-start', afterEnterComplete );\n\n            // Assign and enter panorama\n            (this.panorama = pano).onEnter();\n\t\t\t\n        }\n\n    },\n\n    /**\n     * Event handler to execute commands from child objects\n     * @param {object} event - The dispatched event with method as function name and data as an argument\n     * @memberOf Viewer\n     * @instance\n     */\n    eventHandler: function ( event ) {\n\n        if ( event.method && this[ event.method ] ) {\n\n            this[ event.method ]( event.data );\n\n        }\n\n    },\n\n    /**\n     * Dispatch event to all descendants\n     * @param  {object} event - Event to be passed along\n     * @memberOf Viewer\n     * @instance\n     */\n    dispatchEventToChildren: function ( event ) {\n\n        this.scene.traverse( function ( object ) {\n\n            if ( object.dispatchEvent ) {\n\n                object.dispatchEvent( event );\n\n            }\n\n        });\n\n    },\n\n    /**\n     * Set widget content\n     * @method activateWidgetItem\n     * @param  {integer} controlIndex - Control index\n     * @param  {MODES} mode - Modes for effects\n     * @memberOf Viewer\n     * @instance\n     */\n    activateWidgetItem: function ( controlIndex, mode ) {\n\n        const mainMenu = this.widget.mainMenu;\n        const ControlMenuItem = mainMenu.children[ 0 ];\n        const ModeMenuItem = mainMenu.children[ 1 ];\n\n        let item;\n\n        if ( controlIndex !== undefined ) {\n\n            switch ( controlIndex ) {\n\n            case 0:\n\n                item = ControlMenuItem.subMenu.children[ 1 ];\n\n                break;\n\n            case 1:\n\n                item = ControlMenuItem.subMenu.children[ 2 ];\n\n                break;\n\t\t\t\t\t\n            default:\n\n                item = ControlMenuItem.subMenu.children[ 1 ];\n\n                break;\t\n\n            }\n\n            ControlMenuItem.subMenu.setActiveItem( item );\n            ControlMenuItem.setSelectionTitle( item.textContent );\n\n        }\n\n        if ( mode !== undefined ) {\n\n            switch( mode ) {\n\n            case MODES.CARDBOARD:\n\n                item = ModeMenuItem.subMenu.children[ 2 ];\n\n                break;\n\n            case MODES.STEREO:\n\n                item = ModeMenuItem.subMenu.children[ 3 ];\n\t\t\t\t\t\n                break;\n\n            default:\n\n                item = ModeMenuItem.subMenu.children[ 1 ];\n\n                break;\n            }\n\n            ModeMenuItem.subMenu.setActiveItem( item );\n            ModeMenuItem.setSelectionTitle( item.textContent );\n\n        }\n\n    },\n\n    /**\n     * Enable rendering effect\n     * @param  {MODES} mode - Modes for effects\n     * @memberOf Viewer\n     * @instance\n     */\n    enableEffect: function ( mode ) {\n\n        if ( this.mode === mode ) { return; }\n        if ( mode === MODES.NORMAL ) { this.disableEffect(); return; }\n        else { this.mode = mode; }\n\n        const fov = this.camera.fov;\n\n        switch( mode ) {\n\n        case MODES.CARDBOARD:\n\n            this.effect = this.CardboardEffect;\n            this.enableReticleControl();\n\n            break;\n\n        case MODES.STEREO:\n\n            this.effect = this.StereoEffect;\n            this.enableReticleControl();\n\t\t\t\t\n            break;\n\n        default:\n\n            this.effect = null;\n            this.disableReticleControl();\n\n            break;\n\n        }\n\n        this.activateWidgetItem( undefined, this.mode );\n\n        /**\n         * Dual eye effect event\n         * @type {object}\n         * @event Infospot#panolens-dual-eye-effect\n         * @property {MODES} mode - Current display mode\n         */\n        this.dispatchEventToChildren( { type: 'panolens-dual-eye-effect', mode: this.mode } );\n\n        // Force effect stereo camera to update by refreshing fov\n        this.camera.fov = fov + 10e-3;\n        this.effect.setSize( this.container.clientWidth, this.container.clientHeight );\n        this.render();\n        this.camera.fov = fov;\n\n        /**\n         * Dispatch mode change event\n         * @type {object}\n         * @event Viewer#mode-change\n         * @property {MODES} mode - Current display mode\n         */\n        this.dispatchEvent( { type: 'mode-change', mode: this.mode } );\n\n    },\n\n    /**\n     * Disable additional rendering effect\n     * @memberOf Viewer\n     * @instance\n     */\n    disableEffect: function () {\n\n        if ( this.mode === MODES.NORMAL ) { return; }\n\n        this.mode = MODES.NORMAL;\n        this.disableReticleControl();\n\n        this.activateWidgetItem( undefined, this.mode );\n\n        /**\n         * Dual eye effect event\n         * @type {object}\n         * @event Infospot#panolens-dual-eye-effect\n         * @property {MODES} mode - Current display mode\n         */\n        this.dispatchEventToChildren( { type: 'panolens-dual-eye-effect', mode: this.mode } );\n\n        this.renderer.setSize( this.container.clientWidth, this.container.clientHeight );\n        this.render();\n\n        /**\n         * Dispatch mode change event\n         * @type {object}\n         * @event Viewer#mode-change\n         * @property {MODES} mode - Current display mode\n         */\n        this.dispatchEvent( { type: 'mode-change', mode: this.mode } );\n    },\n\n    /**\n     * Enable reticle control\n     * @memberOf Viewer\n     * @instance\n     */\n    enableReticleControl: function () {\n\n        if ( this.reticle.visible ) { return; }\n\n        this.tempEnableReticle = true;\n\n        // Register reticle event and unregister mouse event\n        this.unregisterMouseAndTouchEvents();\n        this.reticle.show();\n        this.registerReticleEvent();\n        this.updateReticleEvent();\n\n    },\n\n    /**\n     * Disable reticle control\n     * @memberOf Viewer\n     * @instance\n     */\n    disableReticleControl: function () {\n\n        this.tempEnableReticle = false;\n\n        // Register mouse event and unregister reticle event\n        if ( !this.options.enableReticle ) {\n\n            this.reticle.hide();\n            this.unregisterReticleEvent();\n            this.registerMouseAndTouchEvents();\n\n        } else {\n\n            this.updateReticleEvent();\n\n        }\n\n    },\n\n    /**\n     * Enable auto rotation\n     * @memberOf Viewer\n     * @instance\n     */\n    enableAutoRate: function () {\n\n        this.options.autoRotate = true;\n        this.OrbitControls.autoRotate = true;\n\n    },\n\n    /**\n     * Disable auto rotation\n     * @memberOf Viewer\n     * @instance\n     */\n    disableAutoRate: function () {\n\n        clearTimeout( this.autoRotateRequestId );\n        this.options.autoRotate = false;\n        this.OrbitControls.autoRotate = false;\n\n    },\n\n    /**\n     * Toggle video play or stop\n     * @param {boolean} pause\n     * @memberOf Viewer\n     * @instance\n     * @fires Viewer#video-toggle\n     */\n    toggleVideoPlay: function ( pause ) {\n\n        if ( this.panorama instanceof VideoPanorama ) {\n\n            /**\n             * Toggle video event\n             * @type {object}\n             * @event Viewer#video-toggle\n             */\n            this.panorama.dispatchEvent( { type: 'video-toggle', pause: pause } );\n\n        }\n\n    },\n\n    /**\n     * Set currentTime in a video\n     * @param {number} percentage - Percentage of a video. Range from 0.0 to 1.0\n     * @memberOf Viewer\n     * @instance\n     * @fires Viewer#video-time\n     */\n    setVideoCurrentTime: function ( percentage ) {\n\n        if ( this.panorama instanceof VideoPanorama ) {\n\n            /**\n             * Setting video time event\n             * @type {object}\n             * @event Viewer#video-time\n             * @property {number} percentage - Percentage of a video. Range from 0.0 to 1.0\n             */\n            this.panorama.dispatchEvent( { type: 'video-time', percentage: percentage } );\n\n        }\n\n    },\n\n    /**\n     * This will be called when video updates if an widget is present\n     * @param {number} percentage - Percentage of a video. Range from 0.0 to 1.0\n     * @memberOf Viewer\n     * @instance\n     * @fires Viewer#video-update\n     */\n    onVideoUpdate: function ( percentage ) {\n\n        /**\n         * Video update event\n         * @type {object}\n         * @event Viewer#video-update\n         * @property {number} percentage - Percentage of a video. Range from 0.0 to 1.0\n         */\n        this.widget && this.widget.dispatchEvent( { type: 'video-update', percentage: percentage } );\n\n    },\n\n    /**\n     * Add update callback to be called every animation frame\n     * @param {function} callback\n     * @memberOf Viewer\n     * @instance\n     */\n    addUpdateCallback: function ( fn ) {\n\n        if ( fn ) {\n\n            this.updateCallbacks.push( fn );\n\n        }\n\n    },\n\n    /**\n     * Remove update callback\n     * @param  {function} fn - The function to be removed\n     * @memberOf Viewer\n     * @instance\n     */\n    removeUpdateCallback: function ( fn ) {\n\n        const index = this.updateCallbacks.indexOf( fn );\n\n        if ( fn && index >= 0 ) {\n\n            this.updateCallbacks.splice( index, 1 );\n\n        }\n\n    },\n\n    /**\n     * Show video widget\n     * @memberOf Viewer\n     * @instance\n     */\n    showVideoWidget: function () {\n\n        /**\n         * Show video widget event\n         * @type {object}\n         * @event Viewer#video-control-show\n         */\n        this.widget && this.widget.dispatchEvent( { type: 'video-control-show' } );\n\n    },\n\n    /**\n     * Hide video widget\n     * @memberOf Viewer\n     * @instance\n     */\n    hideVideoWidget: function () {\n\n        /**\n         * Hide video widget\n         * @type {object}\n         * @event Viewer#video-control-hide\n         */\n        this.widget && this.widget.dispatchEvent( { type: 'video-control-hide' } );\n\n    },\n\n    /**\n     * Update video play button\n     * @param {boolean} paused \n     * @memberOf Viewer\n     * @instance\n     */\n    updateVideoPlayButton: function ( paused ) {\n\n        if ( this.widget && \n\t\t\t\tthis.widget.videoElement && \n\t\t\t\tthis.widget.videoElement.controlButton ) {\n\n            this.widget.videoElement.controlButton.update( paused );\n\n        }\n\n    },\n\n    /**\n     * Add default panorama event listeners\n     * @param {Panorama} pano - The panorama to be added with event listener\n     * @memberOf Viewer\n     * @instance\n     */\n    addPanoramaEventListener: function ( pano ) {\n\n        // Set camera control on every panorama\n        pano.addEventListener( 'enter-fade-start', this.setCameraControl.bind( this ) );\n\n        // Show and hide widget event only when it's VideoPanorama\n        if ( pano instanceof VideoPanorama ) {\n\n            pano.addEventListener( 'enter-fade-start', this.showVideoWidget.bind( this ) );\n            pano.addEventListener( 'leave', function () {\n\n                if ( !(this.panorama instanceof VideoPanorama) ) {\n\n                    this.hideVideoWidget.call( this );\n\n                }\n\t\t\t\t\n            }.bind( this ) );\n\n        }\n\n    },\n\n    /**\n     * Set camera control\n     * @memberOf Viewer\n     * @instance\n     */\n    setCameraControl: function () {\n\n        this.OrbitControls.target.copy( this.panorama.position );\n\n    },\n\n    /**\n     * Get current camera control\n     * @return {object} - Current navigation control\n     * @memberOf Viewer\n     * @instance\n     * @returns {THREE.OrbitControls|THREE.DeviceOrientationControls}\n     */\n    getControl: function () {\n\n        return this.control;\n\n    },\n\n    /**\n     * Get scene\n     * @memberOf Viewer\n     * @instance\n     * @return {THREE.Scene} - Current scene which the viewer is built on\n     */\n    getScene: function () {\n\n        return this.scene;\n\n    },\n\n    /**\n     * Get camera\n     * @memberOf Viewer\n     * @instance\n     * @return {THREE.Camera} - The scene camera\n     */\n    getCamera: function () {\n\n        return this.camera;\n\n    },\n\n    /**\n     * Get renderer\n     * @memberOf Viewer\n     * @instance\n     * @return {THREE.WebGLRenderer} - The renderer using webgl\n     */\n    getRenderer: function () {\n\n        return this.renderer;\n\n    },\n\n    /**\n     * Get container\n     * @memberOf Viewer\n     * @instance\n     * @return {HTMLElement} - The container holds rendererd canvas\n     */\n    getContainer: function () {\n\n        return this.container;\n\n    },\n\n    /**\n     * Get control id\n     * @memberOf Viewer\n     * @instance\n     * @return {string} - Control id. 'orbit' or 'device-orientation'\n     */\n    getControlId: function () {\n\n        return this.control.id;\n\n    },\n\n    /**\n     * Get next navigation control id\n     * @memberOf Viewer\n     * @instance\n     * @return {string} - Next control id\n     */\n    getNextControlName: function () {\n\n        return this.controls[ this.getNextControlIndex() ].id;\n\n    },\n\n    /**\n     * Get next navigation control index\n     * @memberOf Viewer\n     * @instance\n     * @return {number} - Next control index\n     */\n    getNextControlIndex: function () {\n\n        const controls = this.controls;\n        const control = this.control;\n        const nextIndex = controls.indexOf( control ) + 1;\n\n        return ( nextIndex >= controls.length ) ? 0 : nextIndex;\n\n    },\n\n    /**\n     * Set field of view of camera\n     * @param {number} fov\n     * @memberOf Viewer\n     * @instance\n     */\n    setCameraFov: function ( fov ) {\n\n        this.camera.fov = fov;\n        this.camera.updateProjectionMatrix();\n\n    },\n\n    /**\n     * Enable control by index\n     * @param  {CONTROLS} index - Index of camera control\n     * @memberOf Viewer\n     * @instance\n     */\n    enableControl: function ( index ) {\n\n        index = ( index >= 0 && index < this.controls.length ) ? index : 0;\n\n        this.control.enabled = false;\n\n        this.control = this.controls[ index ];\n\n        this.control.enabled = true;\n\n        switch ( index ) {\n\n        case CONTROLS.ORBIT:\n\n            this.camera.position.copy( this.panorama.position );\n            this.camera.position.z += 1;\n\n            break;\n\n        case CONTROLS.DEVICEORIENTATION:\n\n            this.camera.position.copy( this.panorama.position );\n\n            break;\n\n        default:\n\n            break;\n        }\n\n        this.control.update();\n\n        this.activateWidgetItem( index, undefined );\n\n    },\n\n    /**\n     * Disable current control\n     * @memberOf Viewer\n     * @instance\n     */\n    disableControl: function () {\n\n        this.control.enabled = false;\n\n    },\n\n    /**\n     * Toggle next control\n     * @memberOf Viewer\n     * @instance\n     */\n    toggleNextControl: function () {\n\n        this.enableControl( this.getNextControlIndex() );\n\n    },\n\n    /**\n     * Screen Space Projection\n     * @memberOf Viewer\n     * @instance\n     */\n    getScreenVector: function ( worldVector ) {\n\n        const vector = worldVector.clone();\n        const widthHalf = ( this.container.clientWidth ) / 2;\n        const heightHalf = this.container.clientHeight / 2;\n\n        vector.project( this.camera );\n\n        vector.x = ( vector.x * widthHalf ) + widthHalf;\n        vector.y = - ( vector.y * heightHalf ) + heightHalf;\n        vector.z = 0;\n\n        return vector;\n\n    },\n\n    /**\n     * Check Sprite in Viewport\n     * @memberOf Viewer\n     * @instance\n     */\n    checkSpriteInViewport: function ( sprite ) {\n\n        this.camera.matrixWorldInverse.getInverse( this.camera.matrixWorld );\n        this.cameraViewProjectionMatrix.multiplyMatrices( this.camera.projectionMatrix, this.camera.matrixWorldInverse );\n        this.cameraFrustum.setFromMatrix( this.cameraViewProjectionMatrix );\n\n        return sprite.visible && this.cameraFrustum.intersectsSprite( sprite );\n\n    },\n\n    /**\n     * Reverse dragging direction\n     * @memberOf Viewer\n     * @instance\n     */\n    reverseDraggingDirection: function () {\n\n        this.OrbitControls.rotateSpeed *= -1;\n        this.OrbitControls.momentumScalingFactor *= -1;\n\n    },\n\n    /**\n     * Add reticle \n     * @memberOf Viewer\n     * @instance\n     */\n    addReticle: function () {\n\n        this.reticle = new Reticle( 0xffffff, true, this.options.dwellTime );\n        this.reticle.hide();\n        this.camera.add( this.reticle );\n        this.sceneReticle.add( this.camera );\n\n    },\n\n    /**\n     * Tween control looking center\n     * @param {THREE.Vector3} vector - Vector to be looked at the center\n     * @param {number} [duration=1000] - Duration to tween\n     * @param {function} [easing=TWEEN.Easing.Exponential.Out] - Easing function\n     * @memberOf Viewer\n     * @instance\n     */\n    tweenControlCenter: function ( vector, duration, easing ) {\n\n        if ( this.control !== this.OrbitControls ) {\n\n            return;\n\n        }\n\n        // Pass in arguments as array\n        if ( vector instanceof Array ) {\n\n            duration = vector[ 1 ];\n            easing = vector[ 2 ];\n            vector = vector[ 0 ];\n\n        }\n\n        duration = duration !== undefined ? duration : 1000;\n        easing = easing || TWEEN.Easing.Exponential.Out;\n\n        var scope, ha, va, chv, cvv, hv, vv, vptc, ov, nv;\n\n        scope = this;\n\n        chv = this.camera.getWorldDirection( new THREE.Vector3() );\n        cvv = chv.clone();\n\n        vptc = this.panorama.getWorldPosition( new THREE.Vector3() ).sub( this.camera.getWorldPosition( new THREE.Vector3() ) );\n\n        hv = vector.clone();\n        // Scale effect\n        hv.x *= -1;\n        hv.add( vptc ).normalize();\n        vv = hv.clone();\n\n        chv.y = 0;\n        hv.y = 0;\n\n        ha = Math.atan2( hv.z, hv.x ) - Math.atan2( chv.z, chv.x );\n        ha = ha > Math.PI ? ha - 2 * Math.PI : ha;\n        ha = ha < -Math.PI ? ha + 2 * Math.PI : ha;\n        va = Math.abs( cvv.angleTo( chv ) + ( cvv.y * vv.y <= 0 ? vv.angleTo( hv ) : -vv.angleTo( hv ) ) );\n        va *= vv.y < cvv.y ? 1 : -1;\n\n        ov = { left: 0, up: 0 };\n        nv = { left: 0, up: 0 };\n\n        this.tweenLeftAnimation.stop();\n        this.tweenUpAnimation.stop();\n\n        this.tweenLeftAnimation = new TWEEN.Tween( ov )\n            .to( { left: ha }, duration )\n            .easing( easing )\n            .onUpdate(function(ov){\n                scope.control.rotateLeft( ov.left - nv.left );\n                nv.left = ov.left;\n            })\n            .start();\n\n        this.tweenUpAnimation = new TWEEN.Tween( ov )\n            .to( { up: va }, duration )\n            .easing( easing )\n            .onUpdate(function(ov){\n                scope.control.rotateUp( ov.up - nv.up );\n                nv.up = ov.up;\n            })\n            .start();\n\n    },\n\n    /**\n     * Tween control looking center by object\n     * @param {THREE.Object3D} object - Object to be looked at the center\n     * @param {number} [duration=1000] - Duration to tween\n     * @param {function} [easing=TWEEN.Easing.Exponential.Out] - Easing function\n     * @memberOf Viewer\n     * @instance\n     */\n    tweenControlCenterByObject: function ( object, duration, easing ) {\n\n        let isUnderScalePlaceHolder = false;\n\n        object.traverseAncestors( function ( ancestor ) {\n\n            if ( ancestor.scalePlaceHolder ) {\n\n                isUnderScalePlaceHolder = true;\n\n            }\n        } );\n\n        if ( isUnderScalePlaceHolder ) {\n\n            var invertXVector = new THREE.Vector3( -1, 1, 1 );\n\n            this.tweenControlCenter( object.getWorldPosition( new THREE.Vector3() ).multiply( invertXVector ), duration, easing );\n\n        } else {\n\n            this.tweenControlCenter( object.getWorldPosition( new THREE.Vector3() ), duration, easing );\n\n        }\n\n    },\n\n    /**\n     * This is called when window size is changed\n     * @fires Viewer#window-resize\n     * @param {number} [windowWidth] - Specify if custom element has changed width\n     * @param {number} [windowHeight] - Specify if custom element has changed height\n     * @memberOf Viewer\n     * @instance\n     */\n    onWindowResize: function ( windowWidth, windowHeight ) {\n\n        let width, height;\n\n        const expand = this.container.classList.contains( 'panolens-container' ) || this.container.isFullscreen;\n\n        if ( windowWidth !== undefined && windowHeight !== undefined ) {\n\n            width = windowWidth;\n            height = windowHeight;\n            this.container._width = windowWidth;\n            this.container._height = windowHeight;\n\n        } else {\n\n            const isAndroid = /(android)/i.test(navigator.userAgent);\n\n            const adjustWidth = isAndroid \n                ? Math.min(document.documentElement.clientWidth, window.innerWidth || 0) \n                : Math.max(document.documentElement.clientWidth, window.innerWidth || 0);\n\n            const adjustHeight = isAndroid \n                ? Math.min(document.documentElement.clientHeight, window.innerHeight || 0) \n                : Math.max(document.documentElement.clientHeight, window.innerHeight || 0);\n\n            width = expand ? adjustWidth : this.container.clientWidth;\n            height = expand ? adjustHeight : this.container.clientHeight;\n\n            this.container._width = width;\n            this.container._height = height;\n\n        }\n\n        this.camera.aspect = width / height;\n        this.camera.updateProjectionMatrix();\n\n        this.renderer.setSize( width, height );\n\n        // Update reticle\n        if ( this.options.enableReticle || this.tempEnableReticle ) {\n\n            this.updateReticleEvent();\n\n        }\n\n        /**\n         * Window resizing event\n         * @type {object}\n         * @event Viewer#window-resize\n         * @property {number} width  - Width of the window\n         * @property {number} height - Height of the window\n         */\n        this.dispatchEvent( { type: 'window-resize', width: width, height: height });\n        this.scene.traverse( function ( object ) {\n\n            if ( object.dispatchEvent ) {\n\n                object.dispatchEvent( { type: 'window-resize', width: width, height: height });\n\n            }\n\n        } );\n\n    },\n\n    /**\n     * Add output element\n     * @memberOf Viewer\n     * @instance\n     */\n    addOutputElement: function () {\n\n        const element = document.createElement( 'div' );\n        element.style.position = 'absolute';\n        element.style.right = '10px';\n        element.style.top = '10px';\n        element.style.color = '#fff';\n        this.container.appendChild( element );\n        this.outputDivElement = element;\n\n    },\n\n    /**\n     * Output infospot attach position in developer console by holding down Ctrl button\n     * @memberOf Viewer\n     * @instance\n     */\n    outputInfospotPosition: function () {\n\n        const intersects = this.raycaster.intersectObject( this.panorama, true );\n\n        if ( intersects.length > 0 ) {\n\n            const point = intersects[ 0 ].point.clone();\n            const converter = new THREE.Vector3( -1, 1, 1 );\n            const world = this.panorama.getWorldPosition( new THREE.Vector3() );\n            point.sub( world ).multiply( converter );\n\n            const message = `${point.x.toFixed(2)}, ${point.y.toFixed(2)}, ${point.z.toFixed(2)}`;\n\n            if ( point.length() === 0 ) { return; }\n\n            switch ( this.options.output ) {\n\n            case 'console':\n                console.info( message );\n                break;\n\n            case 'overlay':\n                this.outputDivElement.textContent = message;\n                break;\n\n            default:\n                break;\n\n            }\n\n        }\n\n    },\n\n    /**\n     * On mouse down\n     * @param {MouseEvent} event \n     * @memberOf Viewer\n     * @instance\n     */\n    onMouseDown: function ( event ) {\n\n        event.preventDefault();\n\n        this.userMouse.x = ( event.clientX >= 0 ) ? event.clientX : event.touches[0].clientX;\n        this.userMouse.y = ( event.clientY >= 0 ) ? event.clientY : event.touches[0].clientY;\n        this.userMouse.type = 'mousedown';\n        this.onTap( event );\n\n    },\n\n    /**\n     * On mouse move\n     * @param {MouseEvent} event \n     * @memberOf Viewer\n     * @instance\n     */\n    onMouseMove: function ( event ) {\n\n        event.preventDefault();\n        this.userMouse.type = 'mousemove';\n        this.onTap( event );\n\n    },\n\n    /**\n     * On mouse up\n     * @param {MouseEvent} event \n     * @memberOf Viewer\n     * @instance\n     */\n    onMouseUp: function ( event ) {\n\n        let onTarget = false;\n\n        this.userMouse.type = 'mouseup';\n\n        const type = ( this.userMouse.x >= event.clientX - this.options.clickTolerance \n\t\t\t\t&& this.userMouse.x <= event.clientX + this.options.clickTolerance\n\t\t\t\t&& this.userMouse.y >= event.clientY - this.options.clickTolerance\n\t\t\t\t&& this.userMouse.y <= event.clientY + this.options.clickTolerance ) \n\t\t\t\t||  ( event.changedTouches \n\t\t\t\t&& this.userMouse.x >= event.changedTouches[0].clientX - this.options.clickTolerance\n\t\t\t\t&& this.userMouse.x <= event.changedTouches[0].clientX + this.options.clickTolerance \n\t\t\t\t&& this.userMouse.y >= event.changedTouches[0].clientY - this.options.clickTolerance\n\t\t\t\t&& this.userMouse.y <= event.changedTouches[0].clientY + this.options.clickTolerance ) \n            ? 'click' : undefined;\n\n        // Event should happen on canvas\n        if ( event && event.target && !event.target.classList.contains( 'panolens-canvas' ) ) { return; }\n\n        event.preventDefault();\n\n        if ( event.changedTouches && event.changedTouches.length === 1 ) {\n\n            onTarget = this.onTap( { clientX: event.changedTouches[0].clientX, clientY: event.changedTouches[0].clientY }, type );\n\t\t\n        } else {\n\n            onTarget = this.onTap( event, type );\n\n        }\n\n        this.userMouse.type = 'none';\n\n        if ( onTarget ) { \n\n            return; \n\n        }\n\n        if ( type === 'click' ) {\n\n            this.options.autoHideInfospot && this.panorama && this.panorama.toggleInfospotVisibility();\n            this.options.autoHideControlBar && this.toggleControlBar();\n\n        }\n\n    },\n\n    /**\n     * On tap eveny frame\n     * @param {MouseEvent} event \n     * @param {string} type \n     * @memberOf Viewer\n     * @instance\n     */\n    onTap: function ( event, type ) {\n\n        const { left, top } = this.container.getBoundingClientRect();\n        const { clientWidth, clientHeight } = this.container;\n\n        this.raycasterPoint.x = ( ( event.clientX - left ) / clientWidth ) * 2 - 1;\n        this.raycasterPoint.y = - ( ( event.clientY - top ) / clientHeight ) * 2 + 1;\n\n        this.raycaster.setFromCamera( this.raycasterPoint, this.camera );\n\n        // Return if no panorama \n        if ( !this.panorama ) { \n\n            return; \n\n        }\n\n        // output infospot information\n        if ( event.type !== 'mousedown' && this.touchSupported || this.OUTPUT_INFOSPOT ) { \n\n            this.outputInfospotPosition(); \n\n        }\n\n        const intersects = this.raycaster.intersectObjects( this.panorama.children, true );\n        const intersect_entity = this.getConvertedIntersect( intersects );\n        const intersect = ( intersects.length > 0 ) ? intersects[0].object : undefined;\n\n        if ( this.userMouse.type === 'mouseup'  ) {\n\n            if ( intersect_entity && this.pressEntityObject === intersect_entity && this.pressEntityObject.dispatchEvent ) {\n\n                this.pressEntityObject.dispatchEvent( { type: 'pressstop-entity', mouseEvent: event } );\n\n            }\n\n            this.pressEntityObject = undefined;\n\n        }\n\n        if ( this.userMouse.type === 'mouseup'  ) {\n\n            if ( intersect && this.pressObject === intersect && this.pressObject.dispatchEvent ) {\n\n                this.pressObject.dispatchEvent( { type: 'pressstop', mouseEvent: event } );\n\n            }\n\n            this.pressObject = undefined;\n\n        }\n\n        if ( type === 'click' ) {\n\n            this.panorama.dispatchEvent( { type: 'click', intersects: intersects, mouseEvent: event } );\n\n            if ( intersect_entity && intersect_entity.dispatchEvent ) {\n\n                intersect_entity.dispatchEvent( { type: 'click-entity', mouseEvent: event } );\n\n            }\n\n            if ( intersect && intersect.dispatchEvent ) {\n\n                intersect.dispatchEvent( { type: 'click', mouseEvent: event } );\n\n            }\n\n        } else {\n\n            this.panorama.dispatchEvent( { type: 'hover', intersects: intersects, mouseEvent: event } );\n\n            if ( ( this.hoverObject && intersects.length > 0 && this.hoverObject !== intersect_entity )\n\t\t\t\t|| ( this.hoverObject && intersects.length === 0 ) ){\n\n                if ( this.hoverObject.dispatchEvent ) {\n\n                    this.hoverObject.dispatchEvent( { type: 'hoverleave', mouseEvent: event } );\n\n                    this.reticle.stop();\n\n                }\n\n                this.hoverObject = undefined;\n\n            }\n\n            if ( intersect_entity && intersects.length > 0 ) {\n\n                if ( this.hoverObject !== intersect_entity ) {\n\n                    this.hoverObject = intersect_entity;\n\n                    if ( this.hoverObject.dispatchEvent ) {\n\n                        this.hoverObject.dispatchEvent( { type: 'hoverenter', mouseEvent: event } );\n\n                        // Start reticle timer\n                        if ( this.options.autoReticleSelect && this.options.enableReticle || this.tempEnableReticle ) {\n                            this.reticle.start( this.onTap.bind( this, event, 'click' ) );\n                        }\n\n                    }\n\n                }\n\n                if ( this.userMouse.type === 'mousedown' && this.pressEntityObject != intersect_entity ) {\n\n                    this.pressEntityObject = intersect_entity;\n\n                    if ( this.pressEntityObject.dispatchEvent ) {\n\n                        this.pressEntityObject.dispatchEvent( { type: 'pressstart-entity', mouseEvent: event } );\n\n                    }\n\n                }\n\n                if ( this.userMouse.type === 'mousedown' && this.pressObject != intersect ) {\n\n                    this.pressObject = intersect;\n\n                    if ( this.pressObject.dispatchEvent ) {\n\n                        this.pressObject.dispatchEvent( { type: 'pressstart', mouseEvent: event } );\n\n                    }\n\n                }\n\n                if ( this.userMouse.type === 'mousemove' || this.options.enableReticle ) {\n\n                    if ( intersect && intersect.dispatchEvent ) {\n\n                        intersect.dispatchEvent( { type: 'hover', mouseEvent: event } );\n\n                    }\n\n                    if ( this.pressEntityObject && this.pressEntityObject.dispatchEvent ) {\n\n                        this.pressEntityObject.dispatchEvent( { type: 'pressmove-entity', mouseEvent: event } );\n\n                    }\n\n                    if ( this.pressObject && this.pressObject.dispatchEvent ) {\n\n                        this.pressObject.dispatchEvent( { type: 'pressmove', mouseEvent: event } );\n\n                    }\n\n                }\n\n            }\n\n            if ( !intersect_entity && this.pressEntityObject && this.pressEntityObject.dispatchEvent ) {\n\n                this.pressEntityObject.dispatchEvent( { type: 'pressstop-entity', mouseEvent: event } );\n\n                this.pressEntityObject = undefined;\n\n            }\n\n            if ( !intersect && this.pressObject && this.pressObject.dispatchEvent ) {\n\n                this.pressObject.dispatchEvent( { type: 'pressstop', mouseEvent: event } );\n\n                this.pressObject = undefined;\n\n            }\n\n        }\n\n        // Infospot handler\n        if ( intersect && intersect instanceof Infospot ) {\n\n            this.infospot = intersect;\n\t\t\t\n            if ( type === 'click' ) {\n\n                return true;\n\n            }\n\t\t\t\n\n        } else if ( this.infospot ) {\n\n            this.hideInfospot();\n\n        }\n\n        // Auto rotate\n        if ( this.options.autoRotate && this.userMouse.type !== 'mousemove' ) {\n\n            // Auto-rotate idle timer\n            clearTimeout( this.autoRotateRequestId );\n\n            if ( this.control === this.OrbitControls ) {\n\n                this.OrbitControls.autoRotate = false;\n                this.autoRotateRequestId = window.setTimeout( this.enableAutoRate.bind( this ), this.options.autoRotateActivationDuration );\n\n            }\n\n        }\t\t\n\n    },\n\n    /**\n     * Get converted intersect\n     * @param {array} intersects \n     * @memberOf Viewer\n     * @instance\n     */\n    getConvertedIntersect: function ( intersects ) {\n\n        let intersect;\n\n        for ( var i = 0; i < intersects.length; i++ ) {\n\n            if ( intersects[i].distance >= 0 && intersects[i].object && !intersects[i].object.passThrough ) {\n\n                if ( intersects[i].object.entity && intersects[i].object.entity.passThrough ) {\n                    continue;\n                } else if ( intersects[i].object.entity && !intersects[i].object.entity.passThrough ) {\n                    intersect = intersects[i].object.entity;\n                    break;\n                } else {\n                    intersect = intersects[i].object;\n                    break;\n                }\n\n            }\n\n        }\n\n        return intersect;\n\n    },\n\n    /**\n     * Hide infospot\n     * @memberOf Viewer\n     * @instance\n     */\n    hideInfospot: function () {\n\n        if ( this.infospot ) {\n\n            this.infospot.onHoverEnd();\n\n            this.infospot = undefined;\n\n        }\n\n    },\n\n    /**\n     * Toggle control bar\n     * @memberOf Viewer\n     * @instance\n     * @fires Viewer#control-bar-toggle\n     */\n    toggleControlBar: function () {\n\n        /**\n         * Toggle control bar event\n         * @type {object}\n         * @event Viewer#control-bar-toggle\n         */\n        this.widget && this.widget.dispatchEvent( { type: 'control-bar-toggle' } );\n\n    },\n\n    /**\n     * On key down\n     * @param {KeyboardEvent} event \n     * @memberOf Viewer\n     * @instance\n     */\n    onKeyDown: function ( event ) {\n\n        if ( this.options.output && this.options.output !== 'none' && event.key === 'Control' ) {\n\n            this.OUTPUT_INFOSPOT = true;\n\n        }\n\n    },\n\n    /**\n     * On key up\n     * @param {KeyboardEvent} event \n     * @memberOf Viewer\n     * @instance\n     */\n    onKeyUp: function () {\n\n        this.OUTPUT_INFOSPOT = false;\n\n    },\n\n    /**\n     * Update control and callbacks\n     * @memberOf Viewer\n     * @instance\n     */\n    update: function () {\n\n        TWEEN.update();\n\n        this.updateCallbacks.forEach( function( callback ){ callback(); } );\n\n        this.control.update();\n\n        this.scene.traverse( function( child ){\n            if ( child instanceof Infospot \n\t\t\t\t&& child.element \n\t\t\t\t&& ( this.hoverObject === child \n\t\t\t\t\t|| child.element.style.display !== 'none' \n\t\t\t\t\t|| (child.element.left && child.element.left.style.display !== 'none')\n\t\t\t\t\t|| (child.element.right && child.element.right.style.display !== 'none') ) ) {\n                if ( this.checkSpriteInViewport( child ) ) {\n                    const { x, y } = this.getScreenVector( child.getWorldPosition( new THREE.Vector3() ) );\n                    child.translateElement( x, y );\n                } else {\n                    child.onDismiss();\n                }\n\t\t\t\t\n            }\n        }.bind( this ) );\n\n    },\n\n    /**\n     * Rendering function to be called on every animation frame\n     * Render reticle last\n     * @memberOf Viewer\n     * @instance\n     */\n    render: function () {\n\n        if ( this.mode === MODES.CARDBOARD || this.mode === MODES.STEREO ) {\n\n            this.renderer.clear();\n            this.effect.render( this.scene, this.camera );\n            this.effect.render( this.sceneReticle, this.camera );\n\t\t\t\n\n        } else {\n\n            this.renderer.clear();\n            this.renderer.render( this.scene, this.camera );\n            this.renderer.clearDepth();\n            this.renderer.render( this.sceneReticle, this.camera );\n\n        }\n\n    },\n\n    /**\n     * Animate\n     * @memberOf Viewer\n     * @instance\n     */\n    animate: function () {\n\n        this.requestAnimationId = requestAnimationFrame( this.animate.bind( this ) );\n\n        this.onChange();\n\n    },\n\n    /**\n     * On change\n     * @memberOf Viewer\n     * @instance\n     */\n    onChange: function () {\n\n        this.update();\n        this.render();\n\n    },\n\n    /**\n     * Register mouse and touch event on container\n     * @memberOf Viewer\n     * @instance\n     */\n    registerMouseAndTouchEvents: function () {\n\n        const options = { passive: false };\n\n        this.container.addEventListener( 'mousedown' , \tthis.HANDLER_MOUSE_DOWN, options );\n        this.container.addEventListener( 'mousemove' , \tthis.HANDLER_MOUSE_MOVE, options );\n        this.container.addEventListener( 'mouseup'\t , \tthis.HANDLER_MOUSE_UP  , options );\n        this.container.addEventListener( 'touchstart', \tthis.HANDLER_MOUSE_DOWN, options );\n        this.container.addEventListener( 'touchend'  , \tthis.HANDLER_MOUSE_UP  , options );\n\n    },\n\n    /**\n     * Unregister mouse and touch event on container\n     * @memberOf Viewer\n     * @instance\n     */\n    unregisterMouseAndTouchEvents: function () {\n\n        this.container.removeEventListener( 'mousedown' ,  this.HANDLER_MOUSE_DOWN, false );\n        this.container.removeEventListener( 'mousemove' ,  this.HANDLER_MOUSE_MOVE, false );\n        this.container.removeEventListener( 'mouseup'\t,  this.HANDLER_MOUSE_UP  , false );\n        this.container.removeEventListener( 'touchstart',  this.HANDLER_MOUSE_DOWN, false );\n        this.container.removeEventListener( 'touchend'  ,  this.HANDLER_MOUSE_UP  , false );\n\n    },\n\n    /**\n     * Register reticle event\n     * @memberOf Viewer\n     * @instance\n     */\n    registerReticleEvent: function () {\n\n        this.addUpdateCallback( this.HANDLER_TAP );\n\n    },\n\n    /**\n     * Unregister reticle event\n     * @memberOf Viewer\n     * @instance\n     */\n    unregisterReticleEvent: function () {\n\n        this.removeUpdateCallback( this.HANDLER_TAP );\n\n    },\n\n    /**\n     * Update reticle event\n     * @memberOf Viewer\n     * @instance\n     */\n    updateReticleEvent: function () {\n\n        const clientX = this.container.clientWidth / 2 + this.container.offsetLeft;\n        const clientY = this.container.clientHeight / 2;\n\n        this.removeUpdateCallback( this.HANDLER_TAP );\n        this.HANDLER_TAP = this.onTap.bind( this, { clientX, clientY } );\n        this.addUpdateCallback( this.HANDLER_TAP );\n\n    },\n\n    /**\n     * Register container and window listeners\n     * @memberOf Viewer\n     * @instance\n     */\n    registerEventListeners: function () {\n\n        // Resize Event\n        window.addEventListener( 'resize' , this.HANDLER_WINDOW_RESIZE, true );\n\n        // Keyboard Event\n        window.addEventListener( 'keydown', this.HANDLER_KEY_DOWN, true );\n        window.addEventListener( 'keyup'  , this.HANDLER_KEY_UP\t , true );\n\n    },\n\n    /**\n     * Unregister container and window listeners\n     * @memberOf Viewer\n     * @instance\n     */\n    unregisterEventListeners: function () {\n\n        // Resize Event\n        window.removeEventListener( 'resize' , this.HANDLER_WINDOW_RESIZE, true );\n\n        // Keyboard Event\n        window.removeEventListener( 'keydown', this.HANDLER_KEY_DOWN, true );\n        window.removeEventListener( 'keyup'  , this.HANDLER_KEY_UP  , true );\n\n    },\n\n    /**\n     * Dispose all scene objects and clear cache\n     * @memberOf Viewer\n     * @instance\n     */\n    dispose: function () {\n\n        // Unregister dom event listeners\n        this.unregisterEventListeners();\n\n        // recursive disposal on 3d objects\n        function recursiveDispose ( object ) {\n\n            for ( var i = object.children.length - 1; i >= 0; i-- ) {\n\n                recursiveDispose( object.children[i] );\n                object.remove( object.children[i] );\n\n            }\n\n            if ( object instanceof Infospot ) {\n\n                object.dispose();\n\n            }\n\n            object.geometry && object.geometry.dispose();\n            object.material && object.material.dispose();\n        }\n\n        recursiveDispose( this.scene );\n\n        // dispose widget\n        if ( this.widget ) {\n\n            this.widget.dispose();\n            this.widget = null;\n\n        }\n\n        // clear cache\n        if ( Cache && Cache.enabled ) {\n\n            Cache.clear();\n\n        }\n\n    },\n\n    /**\n     * Destory viewer by disposing and stopping requestAnimationFrame\n     * @memberOf Viewer\n     * @instance\n     */\n    destory: function () {\n\n        this.dispose();\n        this.render();\n        cancelAnimationFrame( this.requestAnimationId );\t\t\n\n    },\n\n    /**\n     * On panorama dispose\n     * @memberOf Viewer\n     * @instance\n     */\n    onPanoramaDispose: function ( panorama ) {\n\n        if ( panorama instanceof VideoPanorama ) {\n\n            this.hideVideoWidget();\n\n        }\n\n        if ( panorama === this.panorama ) {\n\n            this.panorama = null;\n\n        }\n\n    },\n\n    /**\n     * Load ajax call\n     * @param {string} url - URL to be requested\n     * @param {function} [callback] - Callback after request completes\n     * @memberOf Viewer\n     * @instance\n     */\n    loadAsyncRequest: function ( url, callback ) {\n\n        const request = new XMLHttpRequest();\n        request.onloadend = function ( event ) {\n            callback && callback( event );\n        };\n        request.open( 'GET', url, true );\n        request.send( null );\n\n    },\n\n    /**\n     * View indicator in upper left\n     * @memberOf Viewer\n     * @instance\n     */\n    addViewIndicator: function () {\n\n        const scope = this;\n\n        function loadViewIndicator ( asyncEvent ) {\n\n            if ( asyncEvent.loaded === 0 ) return;\n\n            const viewIndicatorDiv = asyncEvent.target.responseXML.documentElement;\n            viewIndicatorDiv.style.width = scope.viewIndicatorSize + 'px';\n            viewIndicatorDiv.style.height = scope.viewIndicatorSize + 'px';\n            viewIndicatorDiv.style.position = 'absolute';\n            viewIndicatorDiv.style.top = '10px';\n            viewIndicatorDiv.style.left = '10px';\n            viewIndicatorDiv.style.opacity = '0.5';\n            viewIndicatorDiv.style.cursor = 'pointer';\n            viewIndicatorDiv.id = 'panolens-view-indicator-container';\n\n            scope.container.appendChild( viewIndicatorDiv );\n\n            const indicator = viewIndicatorDiv.querySelector( '#indicator' );\n            const setIndicatorD = function () {\n\n                scope.radius = scope.viewIndicatorSize * 0.225;\n                scope.currentPanoAngle = scope.camera.rotation.y - THREE.Math.degToRad( 90 );\n                scope.fovAngle = THREE.Math.degToRad( scope.camera.fov ) ;\n                scope.leftAngle = -scope.currentPanoAngle - scope.fovAngle / 2;\n                scope.rightAngle = -scope.currentPanoAngle + scope.fovAngle / 2;\n                scope.leftX = scope.radius * Math.cos( scope.leftAngle );\n                scope.leftY = scope.radius * Math.sin( scope.leftAngle );\n                scope.rightX = scope.radius * Math.cos( scope.rightAngle );\n                scope.rightY = scope.radius * Math.sin( scope.rightAngle );\n                scope.indicatorD = 'M ' + scope.leftX + ' ' + scope.leftY + ' A ' + scope.radius + ' ' + scope.radius + ' 0 0 1 ' + scope.rightX + ' ' + scope.rightY;\n\n                if ( scope.leftX && scope.leftY && scope.rightX && scope.rightY && scope.radius ) {\n\n                    indicator.setAttribute( 'd', scope.indicatorD );\n\n                }\n\n            };\n\n            scope.addUpdateCallback( setIndicatorD );\n\n            const indicatorOnMouseEnter = function () {\n\n                this.style.opacity = '1';\n\n            };\n\n            const indicatorOnMouseLeave = function () {\n\n                this.style.opacity = '0.5';\n\n            };\n\n            viewIndicatorDiv.addEventListener( 'mouseenter', indicatorOnMouseEnter );\n            viewIndicatorDiv.addEventListener( 'mouseleave', indicatorOnMouseLeave );\n        }\n\n        this.loadAsyncRequest( DataImage.ViewIndicator, loadViewIndicator );\n\n    },\n\n    /**\n     * Append custom control item to existing control bar\n     * @param {object} [option={}] - Style object to overwirte default element style. It takes 'style', 'onTap' and 'group' properties.\n     * @memberOf Viewer\n     * @instance\n     */\n    appendControlItem: function ( option ) {\n\n        const item = this.widget.createCustomItem( option );\t\t\n\n        if ( option.group === 'video' ) {\n\n            this.widget.videoElement.appendChild( item );\n\n        } else {\n\n            this.widget.barElement.appendChild( item );\n\n        }\n\n        return item;\n\n    },\n\n    /**\n     * Clear all cached files\n     * @memberOf Viewer\n     * @instance\n     */\n    clearAllCache: function () {\n\n        Cache.clear();\n\n    }\n\n} );\n\n/**\n * Panolens.js\n * @author pchen66\n * @namespace PANOLENS\n */\nwindow.TWEEN = Tween;\n\nexport { BasicPanorama, CONTROLS, CameraPanorama, CubePanorama, CubeTextureLoader, DataImage, EmptyPanorama, GoogleStreetviewPanorama, ImageLittlePlanet, ImageLoader, ImagePanorama, Infospot, LittlePlanet, MODES, Media, Panorama, REVISION, Reticle, TextureLoader, VideoPanorama, Viewer, Widget };\n","// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\n(function () {\n    try {\n        if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\nprocess.prependListener = noop;\nprocess.prependOnceListener = noop;\n\nprocess.listeners = function (name) { return [] }\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n","// Polyfills\n\nif ( Number.EPSILON === undefined ) {\n\n\tNumber.EPSILON = Math.pow( 2, - 52 );\n\n}\n\nif ( Number.isInteger === undefined ) {\n\n\t// Missing in IE\n\t// https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number/isInteger\n\n\tNumber.isInteger = function ( value ) {\n\n\t\treturn typeof value === 'number' && isFinite( value ) && Math.floor( value ) === value;\n\n\t};\n\n}\n\n//\n\nif ( Math.sign === undefined ) {\n\n\t// https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Math/sign\n\n\tMath.sign = function ( x ) {\n\n\t\treturn ( x < 0 ) ? - 1 : ( x > 0 ) ? 1 : + x;\n\n\t};\n\n}\n\nif ( 'name' in Function.prototype === false ) {\n\n\t// Missing in IE\n\t// https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function/name\n\n\tObject.defineProperty( Function.prototype, 'name', {\n\n\t\tget: function () {\n\n\t\t\treturn this.toString().match( /^\\s*function\\s*([^\\(\\s]*)/ )[ 1 ];\n\n\t\t}\n\n\t} );\n\n}\n\nif ( Object.assign === undefined ) {\n\n\t// Missing in IE\n\t// https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/assign\n\n\t( function () {\n\n\t\tObject.assign = function ( target ) {\n\n\t\t\tif ( target === undefined || target === null ) {\n\n\t\t\t\tthrow new TypeError( 'Cannot convert undefined or null to object' );\n\n\t\t\t}\n\n\t\t\tvar output = Object( target );\n\n\t\t\tfor ( var index = 1; index < arguments.length; index ++ ) {\n\n\t\t\t\tvar source = arguments[ index ];\n\n\t\t\t\tif ( source !== undefined && source !== null ) {\n\n\t\t\t\t\tfor ( var nextKey in source ) {\n\n\t\t\t\t\t\tif ( Object.prototype.hasOwnProperty.call( source, nextKey ) ) {\n\n\t\t\t\t\t\t\toutput[ nextKey ] = source[ nextKey ];\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\treturn output;\n\n\t\t};\n\n\t} )();\n\n}\n\n/**\n * https://github.com/mrdoob/eventdispatcher.js/\n */\n\nfunction EventDispatcher() {}\n\nObject.assign( EventDispatcher.prototype, {\n\n\taddEventListener: function ( type, listener ) {\n\n\t\tif ( this._listeners === undefined ) this._listeners = {};\n\n\t\tvar listeners = this._listeners;\n\n\t\tif ( listeners[ type ] === undefined ) {\n\n\t\t\tlisteners[ type ] = [];\n\n\t\t}\n\n\t\tif ( listeners[ type ].indexOf( listener ) === - 1 ) {\n\n\t\t\tlisteners[ type ].push( listener );\n\n\t\t}\n\n\t},\n\n\thasEventListener: function ( type, listener ) {\n\n\t\tif ( this._listeners === undefined ) return false;\n\n\t\tvar listeners = this._listeners;\n\n\t\treturn listeners[ type ] !== undefined && listeners[ type ].indexOf( listener ) !== - 1;\n\n\t},\n\n\tremoveEventListener: function ( type, listener ) {\n\n\t\tif ( this._listeners === undefined ) return;\n\n\t\tvar listeners = this._listeners;\n\t\tvar listenerArray = listeners[ type ];\n\n\t\tif ( listenerArray !== undefined ) {\n\n\t\t\tvar index = listenerArray.indexOf( listener );\n\n\t\t\tif ( index !== - 1 ) {\n\n\t\t\t\tlistenerArray.splice( index, 1 );\n\n\t\t\t}\n\n\t\t}\n\n\t},\n\n\tdispatchEvent: function ( event ) {\n\n\t\tif ( this._listeners === undefined ) return;\n\n\t\tvar listeners = this._listeners;\n\t\tvar listenerArray = listeners[ event.type ];\n\n\t\tif ( listenerArray !== undefined ) {\n\n\t\t\tevent.target = this;\n\n\t\t\tvar array = listenerArray.slice( 0 );\n\n\t\t\tfor ( var i = 0, l = array.length; i < l; i ++ ) {\n\n\t\t\t\tarray[ i ].call( this, event );\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n} );\n\nvar REVISION = '105';\nvar MOUSE = { LEFT: 0, MIDDLE: 1, RIGHT: 2 };\nvar CullFaceNone = 0;\nvar CullFaceBack = 1;\nvar CullFaceFront = 2;\nvar CullFaceFrontBack = 3;\nvar FrontFaceDirectionCW = 0;\nvar FrontFaceDirectionCCW = 1;\nvar BasicShadowMap = 0;\nvar PCFShadowMap = 1;\nvar PCFSoftShadowMap = 2;\nvar FrontSide = 0;\nvar BackSide = 1;\nvar DoubleSide = 2;\nvar FlatShading = 1;\nvar SmoothShading = 2;\nvar NoColors = 0;\nvar FaceColors = 1;\nvar VertexColors = 2;\nvar NoBlending = 0;\nvar NormalBlending = 1;\nvar AdditiveBlending = 2;\nvar SubtractiveBlending = 3;\nvar MultiplyBlending = 4;\nvar CustomBlending = 5;\nvar AddEquation = 100;\nvar SubtractEquation = 101;\nvar ReverseSubtractEquation = 102;\nvar MinEquation = 103;\nvar MaxEquation = 104;\nvar ZeroFactor = 200;\nvar OneFactor = 201;\nvar SrcColorFactor = 202;\nvar OneMinusSrcColorFactor = 203;\nvar SrcAlphaFactor = 204;\nvar OneMinusSrcAlphaFactor = 205;\nvar DstAlphaFactor = 206;\nvar OneMinusDstAlphaFactor = 207;\nvar DstColorFactor = 208;\nvar OneMinusDstColorFactor = 209;\nvar SrcAlphaSaturateFactor = 210;\nvar NeverDepth = 0;\nvar AlwaysDepth = 1;\nvar LessDepth = 2;\nvar LessEqualDepth = 3;\nvar EqualDepth = 4;\nvar GreaterEqualDepth = 5;\nvar GreaterDepth = 6;\nvar NotEqualDepth = 7;\nvar MultiplyOperation = 0;\nvar MixOperation = 1;\nvar AddOperation = 2;\nvar NoToneMapping = 0;\nvar LinearToneMapping = 1;\nvar ReinhardToneMapping = 2;\nvar Uncharted2ToneMapping = 3;\nvar CineonToneMapping = 4;\nvar ACESFilmicToneMapping = 5;\n\nvar UVMapping = 300;\nvar CubeReflectionMapping = 301;\nvar CubeRefractionMapping = 302;\nvar EquirectangularReflectionMapping = 303;\nvar EquirectangularRefractionMapping = 304;\nvar SphericalReflectionMapping = 305;\nvar CubeUVReflectionMapping = 306;\nvar CubeUVRefractionMapping = 307;\nvar RepeatWrapping = 1000;\nvar ClampToEdgeWrapping = 1001;\nvar MirroredRepeatWrapping = 1002;\nvar NearestFilter = 1003;\nvar NearestMipMapNearestFilter = 1004;\nvar NearestMipMapLinearFilter = 1005;\nvar LinearFilter = 1006;\nvar LinearMipMapNearestFilter = 1007;\nvar LinearMipMapLinearFilter = 1008;\nvar UnsignedByteType = 1009;\nvar ByteType = 1010;\nvar ShortType = 1011;\nvar UnsignedShortType = 1012;\nvar IntType = 1013;\nvar UnsignedIntType = 1014;\nvar FloatType = 1015;\nvar HalfFloatType = 1016;\nvar UnsignedShort4444Type = 1017;\nvar UnsignedShort5551Type = 1018;\nvar UnsignedShort565Type = 1019;\nvar UnsignedInt248Type = 1020;\nvar AlphaFormat = 1021;\nvar RGBFormat = 1022;\nvar RGBAFormat = 1023;\nvar LuminanceFormat = 1024;\nvar LuminanceAlphaFormat = 1025;\nvar RGBEFormat = RGBAFormat;\nvar DepthFormat = 1026;\nvar DepthStencilFormat = 1027;\nvar RedFormat = 1028;\nvar RGB_S3TC_DXT1_Format = 33776;\nvar RGBA_S3TC_DXT1_Format = 33777;\nvar RGBA_S3TC_DXT3_Format = 33778;\nvar RGBA_S3TC_DXT5_Format = 33779;\nvar RGB_PVRTC_4BPPV1_Format = 35840;\nvar RGB_PVRTC_2BPPV1_Format = 35841;\nvar RGBA_PVRTC_4BPPV1_Format = 35842;\nvar RGBA_PVRTC_2BPPV1_Format = 35843;\nvar RGB_ETC1_Format = 36196;\nvar RGBA_ASTC_4x4_Format = 37808;\nvar RGBA_ASTC_5x4_Format = 37809;\nvar RGBA_ASTC_5x5_Format = 37810;\nvar RGBA_ASTC_6x5_Format = 37811;\nvar RGBA_ASTC_6x6_Format = 37812;\nvar RGBA_ASTC_8x5_Format = 37813;\nvar RGBA_ASTC_8x6_Format = 37814;\nvar RGBA_ASTC_8x8_Format = 37815;\nvar RGBA_ASTC_10x5_Format = 37816;\nvar RGBA_ASTC_10x6_Format = 37817;\nvar RGBA_ASTC_10x8_Format = 37818;\nvar RGBA_ASTC_10x10_Format = 37819;\nvar RGBA_ASTC_12x10_Format = 37820;\nvar RGBA_ASTC_12x12_Format = 37821;\nvar LoopOnce = 2200;\nvar LoopRepeat = 2201;\nvar LoopPingPong = 2202;\nvar InterpolateDiscrete = 2300;\nvar InterpolateLinear = 2301;\nvar InterpolateSmooth = 2302;\nvar ZeroCurvatureEnding = 2400;\nvar ZeroSlopeEnding = 2401;\nvar WrapAroundEnding = 2402;\nvar TrianglesDrawMode = 0;\nvar TriangleStripDrawMode = 1;\nvar TriangleFanDrawMode = 2;\nvar LinearEncoding = 3000;\nvar sRGBEncoding = 3001;\nvar GammaEncoding = 3007;\nvar RGBEEncoding = 3002;\nvar LogLuvEncoding = 3003;\nvar RGBM7Encoding = 3004;\nvar RGBM16Encoding = 3005;\nvar RGBDEncoding = 3006;\nvar BasicDepthPacking = 3200;\nvar RGBADepthPacking = 3201;\nvar TangentSpaceNormalMap = 0;\nvar ObjectSpaceNormalMap = 1;\n\n/**\n * @author alteredq / http://alteredqualia.com/\n * @author mrdoob / http://mrdoob.com/\n */\n\nvar _Math = {\n\n\tDEG2RAD: Math.PI / 180,\n\tRAD2DEG: 180 / Math.PI,\n\n\tgenerateUUID: ( function () {\n\n\t\t// http://stackoverflow.com/questions/105034/how-to-create-a-guid-uuid-in-javascript/21963136#21963136\n\n\t\tvar lut = [];\n\n\t\tfor ( var i = 0; i < 256; i ++ ) {\n\n\t\t\tlut[ i ] = ( i < 16 ? '0' : '' ) + ( i ).toString( 16 );\n\n\t\t}\n\n\t\treturn function generateUUID() {\n\n\t\t\tvar d0 = Math.random() * 0xffffffff | 0;\n\t\t\tvar d1 = Math.random() * 0xffffffff | 0;\n\t\t\tvar d2 = Math.random() * 0xffffffff | 0;\n\t\t\tvar d3 = Math.random() * 0xffffffff | 0;\n\t\t\tvar uuid = lut[ d0 & 0xff ] + lut[ d0 >> 8 & 0xff ] + lut[ d0 >> 16 & 0xff ] + lut[ d0 >> 24 & 0xff ] + '-' +\n\t\t\t\tlut[ d1 & 0xff ] + lut[ d1 >> 8 & 0xff ] + '-' + lut[ d1 >> 16 & 0x0f | 0x40 ] + lut[ d1 >> 24 & 0xff ] + '-' +\n\t\t\t\tlut[ d2 & 0x3f | 0x80 ] + lut[ d2 >> 8 & 0xff ] + '-' + lut[ d2 >> 16 & 0xff ] + lut[ d2 >> 24 & 0xff ] +\n\t\t\t\tlut[ d3 & 0xff ] + lut[ d3 >> 8 & 0xff ] + lut[ d3 >> 16 & 0xff ] + lut[ d3 >> 24 & 0xff ];\n\n\t\t\t// .toUpperCase() here flattens concatenated strings to save heap memory space.\n\t\t\treturn uuid.toUpperCase();\n\n\t\t};\n\n\t} )(),\n\n\tclamp: function ( value, min, max ) {\n\n\t\treturn Math.max( min, Math.min( max, value ) );\n\n\t},\n\n\t// compute euclidian modulo of m % n\n\t// https://en.wikipedia.org/wiki/Modulo_operation\n\n\teuclideanModulo: function ( n, m ) {\n\n\t\treturn ( ( n % m ) + m ) % m;\n\n\t},\n\n\t// Linear mapping from range <a1, a2> to range <b1, b2>\n\n\tmapLinear: function ( x, a1, a2, b1, b2 ) {\n\n\t\treturn b1 + ( x - a1 ) * ( b2 - b1 ) / ( a2 - a1 );\n\n\t},\n\n\t// https://en.wikipedia.org/wiki/Linear_interpolation\n\n\tlerp: function ( x, y, t ) {\n\n\t\treturn ( 1 - t ) * x + t * y;\n\n\t},\n\n\t// http://en.wikipedia.org/wiki/Smoothstep\n\n\tsmoothstep: function ( x, min, max ) {\n\n\t\tif ( x <= min ) return 0;\n\t\tif ( x >= max ) return 1;\n\n\t\tx = ( x - min ) / ( max - min );\n\n\t\treturn x * x * ( 3 - 2 * x );\n\n\t},\n\n\tsmootherstep: function ( x, min, max ) {\n\n\t\tif ( x <= min ) return 0;\n\t\tif ( x >= max ) return 1;\n\n\t\tx = ( x - min ) / ( max - min );\n\n\t\treturn x * x * x * ( x * ( x * 6 - 15 ) + 10 );\n\n\t},\n\n\t// Random integer from <low, high> interval\n\n\trandInt: function ( low, high ) {\n\n\t\treturn low + Math.floor( Math.random() * ( high - low + 1 ) );\n\n\t},\n\n\t// Random float from <low, high> interval\n\n\trandFloat: function ( low, high ) {\n\n\t\treturn low + Math.random() * ( high - low );\n\n\t},\n\n\t// Random float from <-range/2, range/2> interval\n\n\trandFloatSpread: function ( range ) {\n\n\t\treturn range * ( 0.5 - Math.random() );\n\n\t},\n\n\tdegToRad: function ( degrees ) {\n\n\t\treturn degrees * _Math.DEG2RAD;\n\n\t},\n\n\tradToDeg: function ( radians ) {\n\n\t\treturn radians * _Math.RAD2DEG;\n\n\t},\n\n\tisPowerOfTwo: function ( value ) {\n\n\t\treturn ( value & ( value - 1 ) ) === 0 && value !== 0;\n\n\t},\n\n\tceilPowerOfTwo: function ( value ) {\n\n\t\treturn Math.pow( 2, Math.ceil( Math.log( value ) / Math.LN2 ) );\n\n\t},\n\n\tfloorPowerOfTwo: function ( value ) {\n\n\t\treturn Math.pow( 2, Math.floor( Math.log( value ) / Math.LN2 ) );\n\n\t}\n\n};\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author philogb / http://blog.thejit.org/\n * @author egraether / http://egraether.com/\n * @author zz85 / http://www.lab4games.net/zz85/blog\n */\n\nfunction Vector2( x, y ) {\n\n\tthis.x = x || 0;\n\tthis.y = y || 0;\n\n}\n\nObject.defineProperties( Vector2.prototype, {\n\n\t\"width\": {\n\n\t\tget: function () {\n\n\t\t\treturn this.x;\n\n\t\t},\n\n\t\tset: function ( value ) {\n\n\t\t\tthis.x = value;\n\n\t\t}\n\n\t},\n\n\t\"height\": {\n\n\t\tget: function () {\n\n\t\t\treturn this.y;\n\n\t\t},\n\n\t\tset: function ( value ) {\n\n\t\t\tthis.y = value;\n\n\t\t}\n\n\t}\n\n} );\n\nObject.assign( Vector2.prototype, {\n\n\tisVector2: true,\n\n\tset: function ( x, y ) {\n\n\t\tthis.x = x;\n\t\tthis.y = y;\n\n\t\treturn this;\n\n\t},\n\n\tsetScalar: function ( scalar ) {\n\n\t\tthis.x = scalar;\n\t\tthis.y = scalar;\n\n\t\treturn this;\n\n\t},\n\n\tsetX: function ( x ) {\n\n\t\tthis.x = x;\n\n\t\treturn this;\n\n\t},\n\n\tsetY: function ( y ) {\n\n\t\tthis.y = y;\n\n\t\treturn this;\n\n\t},\n\n\tsetComponent: function ( index, value ) {\n\n\t\tswitch ( index ) {\n\n\t\t\tcase 0: this.x = value; break;\n\t\t\tcase 1: this.y = value; break;\n\t\t\tdefault: throw new Error( 'index is out of range: ' + index );\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tgetComponent: function ( index ) {\n\n\t\tswitch ( index ) {\n\n\t\t\tcase 0: return this.x;\n\t\t\tcase 1: return this.y;\n\t\t\tdefault: throw new Error( 'index is out of range: ' + index );\n\n\t\t}\n\n\t},\n\n\tclone: function () {\n\n\t\treturn new this.constructor( this.x, this.y );\n\n\t},\n\n\tcopy: function ( v ) {\n\n\t\tthis.x = v.x;\n\t\tthis.y = v.y;\n\n\t\treturn this;\n\n\t},\n\n\tadd: function ( v, w ) {\n\n\t\tif ( w !== undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Vector2: .add() now only accepts one argument. Use .addVectors( a, b ) instead.' );\n\t\t\treturn this.addVectors( v, w );\n\n\t\t}\n\n\t\tthis.x += v.x;\n\t\tthis.y += v.y;\n\n\t\treturn this;\n\n\t},\n\n\taddScalar: function ( s ) {\n\n\t\tthis.x += s;\n\t\tthis.y += s;\n\n\t\treturn this;\n\n\t},\n\n\taddVectors: function ( a, b ) {\n\n\t\tthis.x = a.x + b.x;\n\t\tthis.y = a.y + b.y;\n\n\t\treturn this;\n\n\t},\n\n\taddScaledVector: function ( v, s ) {\n\n\t\tthis.x += v.x * s;\n\t\tthis.y += v.y * s;\n\n\t\treturn this;\n\n\t},\n\n\tsub: function ( v, w ) {\n\n\t\tif ( w !== undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Vector2: .sub() now only accepts one argument. Use .subVectors( a, b ) instead.' );\n\t\t\treturn this.subVectors( v, w );\n\n\t\t}\n\n\t\tthis.x -= v.x;\n\t\tthis.y -= v.y;\n\n\t\treturn this;\n\n\t},\n\n\tsubScalar: function ( s ) {\n\n\t\tthis.x -= s;\n\t\tthis.y -= s;\n\n\t\treturn this;\n\n\t},\n\n\tsubVectors: function ( a, b ) {\n\n\t\tthis.x = a.x - b.x;\n\t\tthis.y = a.y - b.y;\n\n\t\treturn this;\n\n\t},\n\n\tmultiply: function ( v ) {\n\n\t\tthis.x *= v.x;\n\t\tthis.y *= v.y;\n\n\t\treturn this;\n\n\t},\n\n\tmultiplyScalar: function ( scalar ) {\n\n\t\tthis.x *= scalar;\n\t\tthis.y *= scalar;\n\n\t\treturn this;\n\n\t},\n\n\tdivide: function ( v ) {\n\n\t\tthis.x /= v.x;\n\t\tthis.y /= v.y;\n\n\t\treturn this;\n\n\t},\n\n\tdivideScalar: function ( scalar ) {\n\n\t\treturn this.multiplyScalar( 1 / scalar );\n\n\t},\n\n\tapplyMatrix3: function ( m ) {\n\n\t\tvar x = this.x, y = this.y;\n\t\tvar e = m.elements;\n\n\t\tthis.x = e[ 0 ] * x + e[ 3 ] * y + e[ 6 ];\n\t\tthis.y = e[ 1 ] * x + e[ 4 ] * y + e[ 7 ];\n\n\t\treturn this;\n\n\t},\n\n\tmin: function ( v ) {\n\n\t\tthis.x = Math.min( this.x, v.x );\n\t\tthis.y = Math.min( this.y, v.y );\n\n\t\treturn this;\n\n\t},\n\n\tmax: function ( v ) {\n\n\t\tthis.x = Math.max( this.x, v.x );\n\t\tthis.y = Math.max( this.y, v.y );\n\n\t\treturn this;\n\n\t},\n\n\tclamp: function ( min, max ) {\n\n\t\t// assumes min < max, componentwise\n\n\t\tthis.x = Math.max( min.x, Math.min( max.x, this.x ) );\n\t\tthis.y = Math.max( min.y, Math.min( max.y, this.y ) );\n\n\t\treturn this;\n\n\t},\n\n\tclampScalar: function ( minVal, maxVal ) {\n\n\t\tthis.x = Math.max( minVal, Math.min( maxVal, this.x ) );\n\t\tthis.y = Math.max( minVal, Math.min( maxVal, this.y ) );\n\n\t\treturn this;\n\n\t},\n\n\tclampLength: function ( min, max ) {\n\n\t\tvar length = this.length();\n\n\t\treturn this.divideScalar( length || 1 ).multiplyScalar( Math.max( min, Math.min( max, length ) ) );\n\n\t},\n\n\tfloor: function () {\n\n\t\tthis.x = Math.floor( this.x );\n\t\tthis.y = Math.floor( this.y );\n\n\t\treturn this;\n\n\t},\n\n\tceil: function () {\n\n\t\tthis.x = Math.ceil( this.x );\n\t\tthis.y = Math.ceil( this.y );\n\n\t\treturn this;\n\n\t},\n\n\tround: function () {\n\n\t\tthis.x = Math.round( this.x );\n\t\tthis.y = Math.round( this.y );\n\n\t\treturn this;\n\n\t},\n\n\troundToZero: function () {\n\n\t\tthis.x = ( this.x < 0 ) ? Math.ceil( this.x ) : Math.floor( this.x );\n\t\tthis.y = ( this.y < 0 ) ? Math.ceil( this.y ) : Math.floor( this.y );\n\n\t\treturn this;\n\n\t},\n\n\tnegate: function () {\n\n\t\tthis.x = - this.x;\n\t\tthis.y = - this.y;\n\n\t\treturn this;\n\n\t},\n\n\tdot: function ( v ) {\n\n\t\treturn this.x * v.x + this.y * v.y;\n\n\t},\n\n\tcross: function ( v ) {\n\n\t\treturn this.x * v.y - this.y * v.x;\n\n\t},\n\n\tlengthSq: function () {\n\n\t\treturn this.x * this.x + this.y * this.y;\n\n\t},\n\n\tlength: function () {\n\n\t\treturn Math.sqrt( this.x * this.x + this.y * this.y );\n\n\t},\n\n\tmanhattanLength: function () {\n\n\t\treturn Math.abs( this.x ) + Math.abs( this.y );\n\n\t},\n\n\tnormalize: function () {\n\n\t\treturn this.divideScalar( this.length() || 1 );\n\n\t},\n\n\tangle: function () {\n\n\t\t// computes the angle in radians with respect to the positive x-axis\n\n\t\tvar angle = Math.atan2( this.y, this.x );\n\n\t\tif ( angle < 0 ) angle += 2 * Math.PI;\n\n\t\treturn angle;\n\n\t},\n\n\tdistanceTo: function ( v ) {\n\n\t\treturn Math.sqrt( this.distanceToSquared( v ) );\n\n\t},\n\n\tdistanceToSquared: function ( v ) {\n\n\t\tvar dx = this.x - v.x, dy = this.y - v.y;\n\t\treturn dx * dx + dy * dy;\n\n\t},\n\n\tmanhattanDistanceTo: function ( v ) {\n\n\t\treturn Math.abs( this.x - v.x ) + Math.abs( this.y - v.y );\n\n\t},\n\n\tsetLength: function ( length ) {\n\n\t\treturn this.normalize().multiplyScalar( length );\n\n\t},\n\n\tlerp: function ( v, alpha ) {\n\n\t\tthis.x += ( v.x - this.x ) * alpha;\n\t\tthis.y += ( v.y - this.y ) * alpha;\n\n\t\treturn this;\n\n\t},\n\n\tlerpVectors: function ( v1, v2, alpha ) {\n\n\t\treturn this.subVectors( v2, v1 ).multiplyScalar( alpha ).add( v1 );\n\n\t},\n\n\tequals: function ( v ) {\n\n\t\treturn ( ( v.x === this.x ) && ( v.y === this.y ) );\n\n\t},\n\n\tfromArray: function ( array, offset ) {\n\n\t\tif ( offset === undefined ) offset = 0;\n\n\t\tthis.x = array[ offset ];\n\t\tthis.y = array[ offset + 1 ];\n\n\t\treturn this;\n\n\t},\n\n\ttoArray: function ( array, offset ) {\n\n\t\tif ( array === undefined ) array = [];\n\t\tif ( offset === undefined ) offset = 0;\n\n\t\tarray[ offset ] = this.x;\n\t\tarray[ offset + 1 ] = this.y;\n\n\t\treturn array;\n\n\t},\n\n\tfromBufferAttribute: function ( attribute, index, offset ) {\n\n\t\tif ( offset !== undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Vector2: offset has been removed from .fromBufferAttribute().' );\n\n\t\t}\n\n\t\tthis.x = attribute.getX( index );\n\t\tthis.y = attribute.getY( index );\n\n\t\treturn this;\n\n\t},\n\n\trotateAround: function ( center, angle ) {\n\n\t\tvar c = Math.cos( angle ), s = Math.sin( angle );\n\n\t\tvar x = this.x - center.x;\n\t\tvar y = this.y - center.y;\n\n\t\tthis.x = x * c - y * s + center.x;\n\t\tthis.y = x * s + y * c + center.y;\n\n\t\treturn this;\n\n\t}\n\n} );\n\n/**\n * @author mikael emtinger / http://gomo.se/\n * @author alteredq / http://alteredqualia.com/\n * @author WestLangley / http://github.com/WestLangley\n * @author bhouston / http://clara.io\n */\n\nfunction Quaternion( x, y, z, w ) {\n\n\tthis._x = x || 0;\n\tthis._y = y || 0;\n\tthis._z = z || 0;\n\tthis._w = ( w !== undefined ) ? w : 1;\n\n}\n\nObject.assign( Quaternion, {\n\n\tslerp: function ( qa, qb, qm, t ) {\n\n\t\treturn qm.copy( qa ).slerp( qb, t );\n\n\t},\n\n\tslerpFlat: function ( dst, dstOffset, src0, srcOffset0, src1, srcOffset1, t ) {\n\n\t\t// fuzz-free, array-based Quaternion SLERP operation\n\n\t\tvar x0 = src0[ srcOffset0 + 0 ],\n\t\t\ty0 = src0[ srcOffset0 + 1 ],\n\t\t\tz0 = src0[ srcOffset0 + 2 ],\n\t\t\tw0 = src0[ srcOffset0 + 3 ],\n\n\t\t\tx1 = src1[ srcOffset1 + 0 ],\n\t\t\ty1 = src1[ srcOffset1 + 1 ],\n\t\t\tz1 = src1[ srcOffset1 + 2 ],\n\t\t\tw1 = src1[ srcOffset1 + 3 ];\n\n\t\tif ( w0 !== w1 || x0 !== x1 || y0 !== y1 || z0 !== z1 ) {\n\n\t\t\tvar s = 1 - t,\n\n\t\t\t\tcos = x0 * x1 + y0 * y1 + z0 * z1 + w0 * w1,\n\n\t\t\t\tdir = ( cos >= 0 ? 1 : - 1 ),\n\t\t\t\tsqrSin = 1 - cos * cos;\n\n\t\t\t// Skip the Slerp for tiny steps to avoid numeric problems:\n\t\t\tif ( sqrSin > Number.EPSILON ) {\n\n\t\t\t\tvar sin = Math.sqrt( sqrSin ),\n\t\t\t\t\tlen = Math.atan2( sin, cos * dir );\n\n\t\t\t\ts = Math.sin( s * len ) / sin;\n\t\t\t\tt = Math.sin( t * len ) / sin;\n\n\t\t\t}\n\n\t\t\tvar tDir = t * dir;\n\n\t\t\tx0 = x0 * s + x1 * tDir;\n\t\t\ty0 = y0 * s + y1 * tDir;\n\t\t\tz0 = z0 * s + z1 * tDir;\n\t\t\tw0 = w0 * s + w1 * tDir;\n\n\t\t\t// Normalize in case we just did a lerp:\n\t\t\tif ( s === 1 - t ) {\n\n\t\t\t\tvar f = 1 / Math.sqrt( x0 * x0 + y0 * y0 + z0 * z0 + w0 * w0 );\n\n\t\t\t\tx0 *= f;\n\t\t\t\ty0 *= f;\n\t\t\t\tz0 *= f;\n\t\t\t\tw0 *= f;\n\n\t\t\t}\n\n\t\t}\n\n\t\tdst[ dstOffset ] = x0;\n\t\tdst[ dstOffset + 1 ] = y0;\n\t\tdst[ dstOffset + 2 ] = z0;\n\t\tdst[ dstOffset + 3 ] = w0;\n\n\t}\n\n} );\n\nObject.defineProperties( Quaternion.prototype, {\n\n\tx: {\n\n\t\tget: function () {\n\n\t\t\treturn this._x;\n\n\t\t},\n\n\t\tset: function ( value ) {\n\n\t\t\tthis._x = value;\n\t\t\tthis.onChangeCallback();\n\n\t\t}\n\n\t},\n\n\ty: {\n\n\t\tget: function () {\n\n\t\t\treturn this._y;\n\n\t\t},\n\n\t\tset: function ( value ) {\n\n\t\t\tthis._y = value;\n\t\t\tthis.onChangeCallback();\n\n\t\t}\n\n\t},\n\n\tz: {\n\n\t\tget: function () {\n\n\t\t\treturn this._z;\n\n\t\t},\n\n\t\tset: function ( value ) {\n\n\t\t\tthis._z = value;\n\t\t\tthis.onChangeCallback();\n\n\t\t}\n\n\t},\n\n\tw: {\n\n\t\tget: function () {\n\n\t\t\treturn this._w;\n\n\t\t},\n\n\t\tset: function ( value ) {\n\n\t\t\tthis._w = value;\n\t\t\tthis.onChangeCallback();\n\n\t\t}\n\n\t}\n\n} );\n\nObject.assign( Quaternion.prototype, {\n\n\tisQuaternion: true,\n\n\tset: function ( x, y, z, w ) {\n\n\t\tthis._x = x;\n\t\tthis._y = y;\n\t\tthis._z = z;\n\t\tthis._w = w;\n\n\t\tthis.onChangeCallback();\n\n\t\treturn this;\n\n\t},\n\n\tclone: function () {\n\n\t\treturn new this.constructor( this._x, this._y, this._z, this._w );\n\n\t},\n\n\tcopy: function ( quaternion ) {\n\n\t\tthis._x = quaternion.x;\n\t\tthis._y = quaternion.y;\n\t\tthis._z = quaternion.z;\n\t\tthis._w = quaternion.w;\n\n\t\tthis.onChangeCallback();\n\n\t\treturn this;\n\n\t},\n\n\tsetFromEuler: function ( euler, update ) {\n\n\t\tif ( ! ( euler && euler.isEuler ) ) {\n\n\t\t\tthrow new Error( 'THREE.Quaternion: .setFromEuler() now expects an Euler rotation rather than a Vector3 and order.' );\n\n\t\t}\n\n\t\tvar x = euler._x, y = euler._y, z = euler._z, order = euler.order;\n\n\t\t// http://www.mathworks.com/matlabcentral/fileexchange/\n\t\t// \t20696-function-to-convert-between-dcm-euler-angles-quaternions-and-euler-vectors/\n\t\t//\tcontent/SpinCalc.m\n\n\t\tvar cos = Math.cos;\n\t\tvar sin = Math.sin;\n\n\t\tvar c1 = cos( x / 2 );\n\t\tvar c2 = cos( y / 2 );\n\t\tvar c3 = cos( z / 2 );\n\n\t\tvar s1 = sin( x / 2 );\n\t\tvar s2 = sin( y / 2 );\n\t\tvar s3 = sin( z / 2 );\n\n\t\tif ( order === 'XYZ' ) {\n\n\t\t\tthis._x = s1 * c2 * c3 + c1 * s2 * s3;\n\t\t\tthis._y = c1 * s2 * c3 - s1 * c2 * s3;\n\t\t\tthis._z = c1 * c2 * s3 + s1 * s2 * c3;\n\t\t\tthis._w = c1 * c2 * c3 - s1 * s2 * s3;\n\n\t\t} else if ( order === 'YXZ' ) {\n\n\t\t\tthis._x = s1 * c2 * c3 + c1 * s2 * s3;\n\t\t\tthis._y = c1 * s2 * c3 - s1 * c2 * s3;\n\t\t\tthis._z = c1 * c2 * s3 - s1 * s2 * c3;\n\t\t\tthis._w = c1 * c2 * c3 + s1 * s2 * s3;\n\n\t\t} else if ( order === 'ZXY' ) {\n\n\t\t\tthis._x = s1 * c2 * c3 - c1 * s2 * s3;\n\t\t\tthis._y = c1 * s2 * c3 + s1 * c2 * s3;\n\t\t\tthis._z = c1 * c2 * s3 + s1 * s2 * c3;\n\t\t\tthis._w = c1 * c2 * c3 - s1 * s2 * s3;\n\n\t\t} else if ( order === 'ZYX' ) {\n\n\t\t\tthis._x = s1 * c2 * c3 - c1 * s2 * s3;\n\t\t\tthis._y = c1 * s2 * c3 + s1 * c2 * s3;\n\t\t\tthis._z = c1 * c2 * s3 - s1 * s2 * c3;\n\t\t\tthis._w = c1 * c2 * c3 + s1 * s2 * s3;\n\n\t\t} else if ( order === 'YZX' ) {\n\n\t\t\tthis._x = s1 * c2 * c3 + c1 * s2 * s3;\n\t\t\tthis._y = c1 * s2 * c3 + s1 * c2 * s3;\n\t\t\tthis._z = c1 * c2 * s3 - s1 * s2 * c3;\n\t\t\tthis._w = c1 * c2 * c3 - s1 * s2 * s3;\n\n\t\t} else if ( order === 'XZY' ) {\n\n\t\t\tthis._x = s1 * c2 * c3 - c1 * s2 * s3;\n\t\t\tthis._y = c1 * s2 * c3 - s1 * c2 * s3;\n\t\t\tthis._z = c1 * c2 * s3 + s1 * s2 * c3;\n\t\t\tthis._w = c1 * c2 * c3 + s1 * s2 * s3;\n\n\t\t}\n\n\t\tif ( update !== false ) this.onChangeCallback();\n\n\t\treturn this;\n\n\t},\n\n\tsetFromAxisAngle: function ( axis, angle ) {\n\n\t\t// http://www.euclideanspace.com/maths/geometry/rotations/conversions/angleToQuaternion/index.htm\n\n\t\t// assumes axis is normalized\n\n\t\tvar halfAngle = angle / 2, s = Math.sin( halfAngle );\n\n\t\tthis._x = axis.x * s;\n\t\tthis._y = axis.y * s;\n\t\tthis._z = axis.z * s;\n\t\tthis._w = Math.cos( halfAngle );\n\n\t\tthis.onChangeCallback();\n\n\t\treturn this;\n\n\t},\n\n\tsetFromRotationMatrix: function ( m ) {\n\n\t\t// http://www.euclideanspace.com/maths/geometry/rotations/conversions/matrixToQuaternion/index.htm\n\n\t\t// assumes the upper 3x3 of m is a pure rotation matrix (i.e, unscaled)\n\n\t\tvar te = m.elements,\n\n\t\t\tm11 = te[ 0 ], m12 = te[ 4 ], m13 = te[ 8 ],\n\t\t\tm21 = te[ 1 ], m22 = te[ 5 ], m23 = te[ 9 ],\n\t\t\tm31 = te[ 2 ], m32 = te[ 6 ], m33 = te[ 10 ],\n\n\t\t\ttrace = m11 + m22 + m33,\n\t\t\ts;\n\n\t\tif ( trace > 0 ) {\n\n\t\t\ts = 0.5 / Math.sqrt( trace + 1.0 );\n\n\t\t\tthis._w = 0.25 / s;\n\t\t\tthis._x = ( m32 - m23 ) * s;\n\t\t\tthis._y = ( m13 - m31 ) * s;\n\t\t\tthis._z = ( m21 - m12 ) * s;\n\n\t\t} else if ( m11 > m22 && m11 > m33 ) {\n\n\t\t\ts = 2.0 * Math.sqrt( 1.0 + m11 - m22 - m33 );\n\n\t\t\tthis._w = ( m32 - m23 ) / s;\n\t\t\tthis._x = 0.25 * s;\n\t\t\tthis._y = ( m12 + m21 ) / s;\n\t\t\tthis._z = ( m13 + m31 ) / s;\n\n\t\t} else if ( m22 > m33 ) {\n\n\t\t\ts = 2.0 * Math.sqrt( 1.0 + m22 - m11 - m33 );\n\n\t\t\tthis._w = ( m13 - m31 ) / s;\n\t\t\tthis._x = ( m12 + m21 ) / s;\n\t\t\tthis._y = 0.25 * s;\n\t\t\tthis._z = ( m23 + m32 ) / s;\n\n\t\t} else {\n\n\t\t\ts = 2.0 * Math.sqrt( 1.0 + m33 - m11 - m22 );\n\n\t\t\tthis._w = ( m21 - m12 ) / s;\n\t\t\tthis._x = ( m13 + m31 ) / s;\n\t\t\tthis._y = ( m23 + m32 ) / s;\n\t\t\tthis._z = 0.25 * s;\n\n\t\t}\n\n\t\tthis.onChangeCallback();\n\n\t\treturn this;\n\n\t},\n\n\tsetFromUnitVectors: function ( vFrom, vTo ) {\n\n\t\t// assumes direction vectors vFrom and vTo are normalized\n\n\t\tvar EPS = 0.000001;\n\n\t\tvar r = vFrom.dot( vTo ) + 1;\n\n\t\tif ( r < EPS ) {\n\n\t\t\tr = 0;\n\n\t\t\tif ( Math.abs( vFrom.x ) > Math.abs( vFrom.z ) ) {\n\n\t\t\t\tthis._x = - vFrom.y;\n\t\t\t\tthis._y = vFrom.x;\n\t\t\t\tthis._z = 0;\n\t\t\t\tthis._w = r;\n\n\t\t\t} else {\n\n\t\t\t\tthis._x = 0;\n\t\t\t\tthis._y = - vFrom.z;\n\t\t\t\tthis._z = vFrom.y;\n\t\t\t\tthis._w = r;\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\t// crossVectors( vFrom, vTo ); // inlined to avoid cyclic dependency on Vector3\n\n\t\t\tthis._x = vFrom.y * vTo.z - vFrom.z * vTo.y;\n\t\t\tthis._y = vFrom.z * vTo.x - vFrom.x * vTo.z;\n\t\t\tthis._z = vFrom.x * vTo.y - vFrom.y * vTo.x;\n\t\t\tthis._w = r;\n\n\t\t}\n\n\t\treturn this.normalize();\n\n\t},\n\n\tangleTo: function ( q ) {\n\n\t\treturn 2 * Math.acos( Math.abs( _Math.clamp( this.dot( q ), - 1, 1 ) ) );\n\n\t},\n\n\trotateTowards: function ( q, step ) {\n\n\t\tvar angle = this.angleTo( q );\n\n\t\tif ( angle === 0 ) return this;\n\n\t\tvar t = Math.min( 1, step / angle );\n\n\t\tthis.slerp( q, t );\n\n\t\treturn this;\n\n\t},\n\n\tinverse: function () {\n\n\t\t// quaternion is assumed to have unit length\n\n\t\treturn this.conjugate();\n\n\t},\n\n\tconjugate: function () {\n\n\t\tthis._x *= - 1;\n\t\tthis._y *= - 1;\n\t\tthis._z *= - 1;\n\n\t\tthis.onChangeCallback();\n\n\t\treturn this;\n\n\t},\n\n\tdot: function ( v ) {\n\n\t\treturn this._x * v._x + this._y * v._y + this._z * v._z + this._w * v._w;\n\n\t},\n\n\tlengthSq: function () {\n\n\t\treturn this._x * this._x + this._y * this._y + this._z * this._z + this._w * this._w;\n\n\t},\n\n\tlength: function () {\n\n\t\treturn Math.sqrt( this._x * this._x + this._y * this._y + this._z * this._z + this._w * this._w );\n\n\t},\n\n\tnormalize: function () {\n\n\t\tvar l = this.length();\n\n\t\tif ( l === 0 ) {\n\n\t\t\tthis._x = 0;\n\t\t\tthis._y = 0;\n\t\t\tthis._z = 0;\n\t\t\tthis._w = 1;\n\n\t\t} else {\n\n\t\t\tl = 1 / l;\n\n\t\t\tthis._x = this._x * l;\n\t\t\tthis._y = this._y * l;\n\t\t\tthis._z = this._z * l;\n\t\t\tthis._w = this._w * l;\n\n\t\t}\n\n\t\tthis.onChangeCallback();\n\n\t\treturn this;\n\n\t},\n\n\tmultiply: function ( q, p ) {\n\n\t\tif ( p !== undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Quaternion: .multiply() now only accepts one argument. Use .multiplyQuaternions( a, b ) instead.' );\n\t\t\treturn this.multiplyQuaternions( q, p );\n\n\t\t}\n\n\t\treturn this.multiplyQuaternions( this, q );\n\n\t},\n\n\tpremultiply: function ( q ) {\n\n\t\treturn this.multiplyQuaternions( q, this );\n\n\t},\n\n\tmultiplyQuaternions: function ( a, b ) {\n\n\t\t// from http://www.euclideanspace.com/maths/algebra/realNormedAlgebra/quaternions/code/index.htm\n\n\t\tvar qax = a._x, qay = a._y, qaz = a._z, qaw = a._w;\n\t\tvar qbx = b._x, qby = b._y, qbz = b._z, qbw = b._w;\n\n\t\tthis._x = qax * qbw + qaw * qbx + qay * qbz - qaz * qby;\n\t\tthis._y = qay * qbw + qaw * qby + qaz * qbx - qax * qbz;\n\t\tthis._z = qaz * qbw + qaw * qbz + qax * qby - qay * qbx;\n\t\tthis._w = qaw * qbw - qax * qbx - qay * qby - qaz * qbz;\n\n\t\tthis.onChangeCallback();\n\n\t\treturn this;\n\n\t},\n\n\tslerp: function ( qb, t ) {\n\n\t\tif ( t === 0 ) return this;\n\t\tif ( t === 1 ) return this.copy( qb );\n\n\t\tvar x = this._x, y = this._y, z = this._z, w = this._w;\n\n\t\t// http://www.euclideanspace.com/maths/algebra/realNormedAlgebra/quaternions/slerp/\n\n\t\tvar cosHalfTheta = w * qb._w + x * qb._x + y * qb._y + z * qb._z;\n\n\t\tif ( cosHalfTheta < 0 ) {\n\n\t\t\tthis._w = - qb._w;\n\t\t\tthis._x = - qb._x;\n\t\t\tthis._y = - qb._y;\n\t\t\tthis._z = - qb._z;\n\n\t\t\tcosHalfTheta = - cosHalfTheta;\n\n\t\t} else {\n\n\t\t\tthis.copy( qb );\n\n\t\t}\n\n\t\tif ( cosHalfTheta >= 1.0 ) {\n\n\t\t\tthis._w = w;\n\t\t\tthis._x = x;\n\t\t\tthis._y = y;\n\t\t\tthis._z = z;\n\n\t\t\treturn this;\n\n\t\t}\n\n\t\tvar sqrSinHalfTheta = 1.0 - cosHalfTheta * cosHalfTheta;\n\n\t\tif ( sqrSinHalfTheta <= Number.EPSILON ) {\n\n\t\t\tvar s = 1 - t;\n\t\t\tthis._w = s * w + t * this._w;\n\t\t\tthis._x = s * x + t * this._x;\n\t\t\tthis._y = s * y + t * this._y;\n\t\t\tthis._z = s * z + t * this._z;\n\n\t\t\treturn this.normalize();\n\n\t\t}\n\n\t\tvar sinHalfTheta = Math.sqrt( sqrSinHalfTheta );\n\t\tvar halfTheta = Math.atan2( sinHalfTheta, cosHalfTheta );\n\t\tvar ratioA = Math.sin( ( 1 - t ) * halfTheta ) / sinHalfTheta,\n\t\t\tratioB = Math.sin( t * halfTheta ) / sinHalfTheta;\n\n\t\tthis._w = ( w * ratioA + this._w * ratioB );\n\t\tthis._x = ( x * ratioA + this._x * ratioB );\n\t\tthis._y = ( y * ratioA + this._y * ratioB );\n\t\tthis._z = ( z * ratioA + this._z * ratioB );\n\n\t\tthis.onChangeCallback();\n\n\t\treturn this;\n\n\t},\n\n\tequals: function ( quaternion ) {\n\n\t\treturn ( quaternion._x === this._x ) && ( quaternion._y === this._y ) && ( quaternion._z === this._z ) && ( quaternion._w === this._w );\n\n\t},\n\n\tfromArray: function ( array, offset ) {\n\n\t\tif ( offset === undefined ) offset = 0;\n\n\t\tthis._x = array[ offset ];\n\t\tthis._y = array[ offset + 1 ];\n\t\tthis._z = array[ offset + 2 ];\n\t\tthis._w = array[ offset + 3 ];\n\n\t\tthis.onChangeCallback();\n\n\t\treturn this;\n\n\t},\n\n\ttoArray: function ( array, offset ) {\n\n\t\tif ( array === undefined ) array = [];\n\t\tif ( offset === undefined ) offset = 0;\n\n\t\tarray[ offset ] = this._x;\n\t\tarray[ offset + 1 ] = this._y;\n\t\tarray[ offset + 2 ] = this._z;\n\t\tarray[ offset + 3 ] = this._w;\n\n\t\treturn array;\n\n\t},\n\n\tonChange: function ( callback ) {\n\n\t\tthis.onChangeCallback = callback;\n\n\t\treturn this;\n\n\t},\n\n\tonChangeCallback: function () {}\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author kile / http://kile.stravaganza.org/\n * @author philogb / http://blog.thejit.org/\n * @author mikael emtinger / http://gomo.se/\n * @author egraether / http://egraether.com/\n * @author WestLangley / http://github.com/WestLangley\n */\n\nfunction Vector3( x, y, z ) {\n\n\tthis.x = x || 0;\n\tthis.y = y || 0;\n\tthis.z = z || 0;\n\n}\n\nObject.assign( Vector3.prototype, {\n\n\tisVector3: true,\n\n\tset: function ( x, y, z ) {\n\n\t\tthis.x = x;\n\t\tthis.y = y;\n\t\tthis.z = z;\n\n\t\treturn this;\n\n\t},\n\n\tsetScalar: function ( scalar ) {\n\n\t\tthis.x = scalar;\n\t\tthis.y = scalar;\n\t\tthis.z = scalar;\n\n\t\treturn this;\n\n\t},\n\n\tsetX: function ( x ) {\n\n\t\tthis.x = x;\n\n\t\treturn this;\n\n\t},\n\n\tsetY: function ( y ) {\n\n\t\tthis.y = y;\n\n\t\treturn this;\n\n\t},\n\n\tsetZ: function ( z ) {\n\n\t\tthis.z = z;\n\n\t\treturn this;\n\n\t},\n\n\tsetComponent: function ( index, value ) {\n\n\t\tswitch ( index ) {\n\n\t\t\tcase 0: this.x = value; break;\n\t\t\tcase 1: this.y = value; break;\n\t\t\tcase 2: this.z = value; break;\n\t\t\tdefault: throw new Error( 'index is out of range: ' + index );\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tgetComponent: function ( index ) {\n\n\t\tswitch ( index ) {\n\n\t\t\tcase 0: return this.x;\n\t\t\tcase 1: return this.y;\n\t\t\tcase 2: return this.z;\n\t\t\tdefault: throw new Error( 'index is out of range: ' + index );\n\n\t\t}\n\n\t},\n\n\tclone: function () {\n\n\t\treturn new this.constructor( this.x, this.y, this.z );\n\n\t},\n\n\tcopy: function ( v ) {\n\n\t\tthis.x = v.x;\n\t\tthis.y = v.y;\n\t\tthis.z = v.z;\n\n\t\treturn this;\n\n\t},\n\n\tadd: function ( v, w ) {\n\n\t\tif ( w !== undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Vector3: .add() now only accepts one argument. Use .addVectors( a, b ) instead.' );\n\t\t\treturn this.addVectors( v, w );\n\n\t\t}\n\n\t\tthis.x += v.x;\n\t\tthis.y += v.y;\n\t\tthis.z += v.z;\n\n\t\treturn this;\n\n\t},\n\n\taddScalar: function ( s ) {\n\n\t\tthis.x += s;\n\t\tthis.y += s;\n\t\tthis.z += s;\n\n\t\treturn this;\n\n\t},\n\n\taddVectors: function ( a, b ) {\n\n\t\tthis.x = a.x + b.x;\n\t\tthis.y = a.y + b.y;\n\t\tthis.z = a.z + b.z;\n\n\t\treturn this;\n\n\t},\n\n\taddScaledVector: function ( v, s ) {\n\n\t\tthis.x += v.x * s;\n\t\tthis.y += v.y * s;\n\t\tthis.z += v.z * s;\n\n\t\treturn this;\n\n\t},\n\n\tsub: function ( v, w ) {\n\n\t\tif ( w !== undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Vector3: .sub() now only accepts one argument. Use .subVectors( a, b ) instead.' );\n\t\t\treturn this.subVectors( v, w );\n\n\t\t}\n\n\t\tthis.x -= v.x;\n\t\tthis.y -= v.y;\n\t\tthis.z -= v.z;\n\n\t\treturn this;\n\n\t},\n\n\tsubScalar: function ( s ) {\n\n\t\tthis.x -= s;\n\t\tthis.y -= s;\n\t\tthis.z -= s;\n\n\t\treturn this;\n\n\t},\n\n\tsubVectors: function ( a, b ) {\n\n\t\tthis.x = a.x - b.x;\n\t\tthis.y = a.y - b.y;\n\t\tthis.z = a.z - b.z;\n\n\t\treturn this;\n\n\t},\n\n\tmultiply: function ( v, w ) {\n\n\t\tif ( w !== undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Vector3: .multiply() now only accepts one argument. Use .multiplyVectors( a, b ) instead.' );\n\t\t\treturn this.multiplyVectors( v, w );\n\n\t\t}\n\n\t\tthis.x *= v.x;\n\t\tthis.y *= v.y;\n\t\tthis.z *= v.z;\n\n\t\treturn this;\n\n\t},\n\n\tmultiplyScalar: function ( scalar ) {\n\n\t\tthis.x *= scalar;\n\t\tthis.y *= scalar;\n\t\tthis.z *= scalar;\n\n\t\treturn this;\n\n\t},\n\n\tmultiplyVectors: function ( a, b ) {\n\n\t\tthis.x = a.x * b.x;\n\t\tthis.y = a.y * b.y;\n\t\tthis.z = a.z * b.z;\n\n\t\treturn this;\n\n\t},\n\n\tapplyEuler: function () {\n\n\t\tvar quaternion = new Quaternion();\n\n\t\treturn function applyEuler( euler ) {\n\n\t\t\tif ( ! ( euler && euler.isEuler ) ) {\n\n\t\t\t\tconsole.error( 'THREE.Vector3: .applyEuler() now expects an Euler rotation rather than a Vector3 and order.' );\n\n\t\t\t}\n\n\t\t\treturn this.applyQuaternion( quaternion.setFromEuler( euler ) );\n\n\t\t};\n\n\t}(),\n\n\tapplyAxisAngle: function () {\n\n\t\tvar quaternion = new Quaternion();\n\n\t\treturn function applyAxisAngle( axis, angle ) {\n\n\t\t\treturn this.applyQuaternion( quaternion.setFromAxisAngle( axis, angle ) );\n\n\t\t};\n\n\t}(),\n\n\tapplyMatrix3: function ( m ) {\n\n\t\tvar x = this.x, y = this.y, z = this.z;\n\t\tvar e = m.elements;\n\n\t\tthis.x = e[ 0 ] * x + e[ 3 ] * y + e[ 6 ] * z;\n\t\tthis.y = e[ 1 ] * x + e[ 4 ] * y + e[ 7 ] * z;\n\t\tthis.z = e[ 2 ] * x + e[ 5 ] * y + e[ 8 ] * z;\n\n\t\treturn this;\n\n\t},\n\n\tapplyMatrix4: function ( m ) {\n\n\t\tvar x = this.x, y = this.y, z = this.z;\n\t\tvar e = m.elements;\n\n\t\tvar w = 1 / ( e[ 3 ] * x + e[ 7 ] * y + e[ 11 ] * z + e[ 15 ] );\n\n\t\tthis.x = ( e[ 0 ] * x + e[ 4 ] * y + e[ 8 ] * z + e[ 12 ] ) * w;\n\t\tthis.y = ( e[ 1 ] * x + e[ 5 ] * y + e[ 9 ] * z + e[ 13 ] ) * w;\n\t\tthis.z = ( e[ 2 ] * x + e[ 6 ] * y + e[ 10 ] * z + e[ 14 ] ) * w;\n\n\t\treturn this;\n\n\t},\n\n\tapplyQuaternion: function ( q ) {\n\n\t\tvar x = this.x, y = this.y, z = this.z;\n\t\tvar qx = q.x, qy = q.y, qz = q.z, qw = q.w;\n\n\t\t// calculate quat * vector\n\n\t\tvar ix = qw * x + qy * z - qz * y;\n\t\tvar iy = qw * y + qz * x - qx * z;\n\t\tvar iz = qw * z + qx * y - qy * x;\n\t\tvar iw = - qx * x - qy * y - qz * z;\n\n\t\t// calculate result * inverse quat\n\n\t\tthis.x = ix * qw + iw * - qx + iy * - qz - iz * - qy;\n\t\tthis.y = iy * qw + iw * - qy + iz * - qx - ix * - qz;\n\t\tthis.z = iz * qw + iw * - qz + ix * - qy - iy * - qx;\n\n\t\treturn this;\n\n\t},\n\n\tproject: function ( camera ) {\n\n\t\treturn this.applyMatrix4( camera.matrixWorldInverse ).applyMatrix4( camera.projectionMatrix );\n\n\t},\n\n\tunproject: function ( camera ) {\n\n\t\treturn this.applyMatrix4( camera.projectionMatrixInverse ).applyMatrix4( camera.matrixWorld );\n\n\t},\n\n\ttransformDirection: function ( m ) {\n\n\t\t// input: THREE.Matrix4 affine matrix\n\t\t// vector interpreted as a direction\n\n\t\tvar x = this.x, y = this.y, z = this.z;\n\t\tvar e = m.elements;\n\n\t\tthis.x = e[ 0 ] * x + e[ 4 ] * y + e[ 8 ] * z;\n\t\tthis.y = e[ 1 ] * x + e[ 5 ] * y + e[ 9 ] * z;\n\t\tthis.z = e[ 2 ] * x + e[ 6 ] * y + e[ 10 ] * z;\n\n\t\treturn this.normalize();\n\n\t},\n\n\tdivide: function ( v ) {\n\n\t\tthis.x /= v.x;\n\t\tthis.y /= v.y;\n\t\tthis.z /= v.z;\n\n\t\treturn this;\n\n\t},\n\n\tdivideScalar: function ( scalar ) {\n\n\t\treturn this.multiplyScalar( 1 / scalar );\n\n\t},\n\n\tmin: function ( v ) {\n\n\t\tthis.x = Math.min( this.x, v.x );\n\t\tthis.y = Math.min( this.y, v.y );\n\t\tthis.z = Math.min( this.z, v.z );\n\n\t\treturn this;\n\n\t},\n\n\tmax: function ( v ) {\n\n\t\tthis.x = Math.max( this.x, v.x );\n\t\tthis.y = Math.max( this.y, v.y );\n\t\tthis.z = Math.max( this.z, v.z );\n\n\t\treturn this;\n\n\t},\n\n\tclamp: function ( min, max ) {\n\n\t\t// assumes min < max, componentwise\n\n\t\tthis.x = Math.max( min.x, Math.min( max.x, this.x ) );\n\t\tthis.y = Math.max( min.y, Math.min( max.y, this.y ) );\n\t\tthis.z = Math.max( min.z, Math.min( max.z, this.z ) );\n\n\t\treturn this;\n\n\t},\n\n\tclampScalar: function ( minVal, maxVal ) {\n\n\t\tthis.x = Math.max( minVal, Math.min( maxVal, this.x ) );\n\t\tthis.y = Math.max( minVal, Math.min( maxVal, this.y ) );\n\t\tthis.z = Math.max( minVal, Math.min( maxVal, this.z ) );\n\n\t\treturn this;\n\n\t},\n\n\tclampLength: function ( min, max ) {\n\n\t\tvar length = this.length();\n\n\t\treturn this.divideScalar( length || 1 ).multiplyScalar( Math.max( min, Math.min( max, length ) ) );\n\n\t},\n\n\tfloor: function () {\n\n\t\tthis.x = Math.floor( this.x );\n\t\tthis.y = Math.floor( this.y );\n\t\tthis.z = Math.floor( this.z );\n\n\t\treturn this;\n\n\t},\n\n\tceil: function () {\n\n\t\tthis.x = Math.ceil( this.x );\n\t\tthis.y = Math.ceil( this.y );\n\t\tthis.z = Math.ceil( this.z );\n\n\t\treturn this;\n\n\t},\n\n\tround: function () {\n\n\t\tthis.x = Math.round( this.x );\n\t\tthis.y = Math.round( this.y );\n\t\tthis.z = Math.round( this.z );\n\n\t\treturn this;\n\n\t},\n\n\troundToZero: function () {\n\n\t\tthis.x = ( this.x < 0 ) ? Math.ceil( this.x ) : Math.floor( this.x );\n\t\tthis.y = ( this.y < 0 ) ? Math.ceil( this.y ) : Math.floor( this.y );\n\t\tthis.z = ( this.z < 0 ) ? Math.ceil( this.z ) : Math.floor( this.z );\n\n\t\treturn this;\n\n\t},\n\n\tnegate: function () {\n\n\t\tthis.x = - this.x;\n\t\tthis.y = - this.y;\n\t\tthis.z = - this.z;\n\n\t\treturn this;\n\n\t},\n\n\tdot: function ( v ) {\n\n\t\treturn this.x * v.x + this.y * v.y + this.z * v.z;\n\n\t},\n\n\t// TODO lengthSquared?\n\n\tlengthSq: function () {\n\n\t\treturn this.x * this.x + this.y * this.y + this.z * this.z;\n\n\t},\n\n\tlength: function () {\n\n\t\treturn Math.sqrt( this.x * this.x + this.y * this.y + this.z * this.z );\n\n\t},\n\n\tmanhattanLength: function () {\n\n\t\treturn Math.abs( this.x ) + Math.abs( this.y ) + Math.abs( this.z );\n\n\t},\n\n\tnormalize: function () {\n\n\t\treturn this.divideScalar( this.length() || 1 );\n\n\t},\n\n\tsetLength: function ( length ) {\n\n\t\treturn this.normalize().multiplyScalar( length );\n\n\t},\n\n\tlerp: function ( v, alpha ) {\n\n\t\tthis.x += ( v.x - this.x ) * alpha;\n\t\tthis.y += ( v.y - this.y ) * alpha;\n\t\tthis.z += ( v.z - this.z ) * alpha;\n\n\t\treturn this;\n\n\t},\n\n\tlerpVectors: function ( v1, v2, alpha ) {\n\n\t\treturn this.subVectors( v2, v1 ).multiplyScalar( alpha ).add( v1 );\n\n\t},\n\n\tcross: function ( v, w ) {\n\n\t\tif ( w !== undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Vector3: .cross() now only accepts one argument. Use .crossVectors( a, b ) instead.' );\n\t\t\treturn this.crossVectors( v, w );\n\n\t\t}\n\n\t\treturn this.crossVectors( this, v );\n\n\t},\n\n\tcrossVectors: function ( a, b ) {\n\n\t\tvar ax = a.x, ay = a.y, az = a.z;\n\t\tvar bx = b.x, by = b.y, bz = b.z;\n\n\t\tthis.x = ay * bz - az * by;\n\t\tthis.y = az * bx - ax * bz;\n\t\tthis.z = ax * by - ay * bx;\n\n\t\treturn this;\n\n\t},\n\n\tprojectOnVector: function ( vector ) {\n\n\t\tvar scalar = vector.dot( this ) / vector.lengthSq();\n\n\t\treturn this.copy( vector ).multiplyScalar( scalar );\n\n\t},\n\n\tprojectOnPlane: function () {\n\n\t\tvar v1 = new Vector3();\n\n\t\treturn function projectOnPlane( planeNormal ) {\n\n\t\t\tv1.copy( this ).projectOnVector( planeNormal );\n\n\t\t\treturn this.sub( v1 );\n\n\t\t};\n\n\t}(),\n\n\treflect: function () {\n\n\t\t// reflect incident vector off plane orthogonal to normal\n\t\t// normal is assumed to have unit length\n\n\t\tvar v1 = new Vector3();\n\n\t\treturn function reflect( normal ) {\n\n\t\t\treturn this.sub( v1.copy( normal ).multiplyScalar( 2 * this.dot( normal ) ) );\n\n\t\t};\n\n\t}(),\n\n\tangleTo: function ( v ) {\n\n\t\tvar theta = this.dot( v ) / ( Math.sqrt( this.lengthSq() * v.lengthSq() ) );\n\n\t\t// clamp, to handle numerical problems\n\n\t\treturn Math.acos( _Math.clamp( theta, - 1, 1 ) );\n\n\t},\n\n\tdistanceTo: function ( v ) {\n\n\t\treturn Math.sqrt( this.distanceToSquared( v ) );\n\n\t},\n\n\tdistanceToSquared: function ( v ) {\n\n\t\tvar dx = this.x - v.x, dy = this.y - v.y, dz = this.z - v.z;\n\n\t\treturn dx * dx + dy * dy + dz * dz;\n\n\t},\n\n\tmanhattanDistanceTo: function ( v ) {\n\n\t\treturn Math.abs( this.x - v.x ) + Math.abs( this.y - v.y ) + Math.abs( this.z - v.z );\n\n\t},\n\n\tsetFromSpherical: function ( s ) {\n\n\t\treturn this.setFromSphericalCoords( s.radius, s.phi, s.theta );\n\n\t},\n\n\tsetFromSphericalCoords: function ( radius, phi, theta ) {\n\n\t\tvar sinPhiRadius = Math.sin( phi ) * radius;\n\n\t\tthis.x = sinPhiRadius * Math.sin( theta );\n\t\tthis.y = Math.cos( phi ) * radius;\n\t\tthis.z = sinPhiRadius * Math.cos( theta );\n\n\t\treturn this;\n\n\t},\n\n\tsetFromCylindrical: function ( c ) {\n\n\t\treturn this.setFromCylindricalCoords( c.radius, c.theta, c.y );\n\n\t},\n\n\tsetFromCylindricalCoords: function ( radius, theta, y ) {\n\n\t\tthis.x = radius * Math.sin( theta );\n\t\tthis.y = y;\n\t\tthis.z = radius * Math.cos( theta );\n\n\t\treturn this;\n\n\t},\n\n\tsetFromMatrixPosition: function ( m ) {\n\n\t\tvar e = m.elements;\n\n\t\tthis.x = e[ 12 ];\n\t\tthis.y = e[ 13 ];\n\t\tthis.z = e[ 14 ];\n\n\t\treturn this;\n\n\t},\n\n\tsetFromMatrixScale: function ( m ) {\n\n\t\tvar sx = this.setFromMatrixColumn( m, 0 ).length();\n\t\tvar sy = this.setFromMatrixColumn( m, 1 ).length();\n\t\tvar sz = this.setFromMatrixColumn( m, 2 ).length();\n\n\t\tthis.x = sx;\n\t\tthis.y = sy;\n\t\tthis.z = sz;\n\n\t\treturn this;\n\n\t},\n\n\tsetFromMatrixColumn: function ( m, index ) {\n\n\t\treturn this.fromArray( m.elements, index * 4 );\n\n\t},\n\n\tequals: function ( v ) {\n\n\t\treturn ( ( v.x === this.x ) && ( v.y === this.y ) && ( v.z === this.z ) );\n\n\t},\n\n\tfromArray: function ( array, offset ) {\n\n\t\tif ( offset === undefined ) offset = 0;\n\n\t\tthis.x = array[ offset ];\n\t\tthis.y = array[ offset + 1 ];\n\t\tthis.z = array[ offset + 2 ];\n\n\t\treturn this;\n\n\t},\n\n\ttoArray: function ( array, offset ) {\n\n\t\tif ( array === undefined ) array = [];\n\t\tif ( offset === undefined ) offset = 0;\n\n\t\tarray[ offset ] = this.x;\n\t\tarray[ offset + 1 ] = this.y;\n\t\tarray[ offset + 2 ] = this.z;\n\n\t\treturn array;\n\n\t},\n\n\tfromBufferAttribute: function ( attribute, index, offset ) {\n\n\t\tif ( offset !== undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Vector3: offset has been removed from .fromBufferAttribute().' );\n\n\t\t}\n\n\t\tthis.x = attribute.getX( index );\n\t\tthis.y = attribute.getY( index );\n\t\tthis.z = attribute.getZ( index );\n\n\t\treturn this;\n\n\t}\n\n} );\n\n/**\n * @author alteredq / http://alteredqualia.com/\n * @author WestLangley / http://github.com/WestLangley\n * @author bhouston / http://clara.io\n * @author tschw\n */\n\nfunction Matrix3() {\n\n\tthis.elements = [\n\n\t\t1, 0, 0,\n\t\t0, 1, 0,\n\t\t0, 0, 1\n\n\t];\n\n\tif ( arguments.length > 0 ) {\n\n\t\tconsole.error( 'THREE.Matrix3: the constructor no longer reads arguments. use .set() instead.' );\n\n\t}\n\n}\n\nObject.assign( Matrix3.prototype, {\n\n\tisMatrix3: true,\n\n\tset: function ( n11, n12, n13, n21, n22, n23, n31, n32, n33 ) {\n\n\t\tvar te = this.elements;\n\n\t\tte[ 0 ] = n11; te[ 1 ] = n21; te[ 2 ] = n31;\n\t\tte[ 3 ] = n12; te[ 4 ] = n22; te[ 5 ] = n32;\n\t\tte[ 6 ] = n13; te[ 7 ] = n23; te[ 8 ] = n33;\n\n\t\treturn this;\n\n\t},\n\n\tidentity: function () {\n\n\t\tthis.set(\n\n\t\t\t1, 0, 0,\n\t\t\t0, 1, 0,\n\t\t\t0, 0, 1\n\n\t\t);\n\n\t\treturn this;\n\n\t},\n\n\tclone: function () {\n\n\t\treturn new this.constructor().fromArray( this.elements );\n\n\t},\n\n\tcopy: function ( m ) {\n\n\t\tvar te = this.elements;\n\t\tvar me = m.elements;\n\n\t\tte[ 0 ] = me[ 0 ]; te[ 1 ] = me[ 1 ]; te[ 2 ] = me[ 2 ];\n\t\tte[ 3 ] = me[ 3 ]; te[ 4 ] = me[ 4 ]; te[ 5 ] = me[ 5 ];\n\t\tte[ 6 ] = me[ 6 ]; te[ 7 ] = me[ 7 ]; te[ 8 ] = me[ 8 ];\n\n\t\treturn this;\n\n\t},\n\n\tsetFromMatrix4: function ( m ) {\n\n\t\tvar me = m.elements;\n\n\t\tthis.set(\n\n\t\t\tme[ 0 ], me[ 4 ], me[ 8 ],\n\t\t\tme[ 1 ], me[ 5 ], me[ 9 ],\n\t\t\tme[ 2 ], me[ 6 ], me[ 10 ]\n\n\t\t);\n\n\t\treturn this;\n\n\t},\n\n\tapplyToBufferAttribute: function () {\n\n\t\tvar v1 = new Vector3();\n\n\t\treturn function applyToBufferAttribute( attribute ) {\n\n\t\t\tfor ( var i = 0, l = attribute.count; i < l; i ++ ) {\n\n\t\t\t\tv1.x = attribute.getX( i );\n\t\t\t\tv1.y = attribute.getY( i );\n\t\t\t\tv1.z = attribute.getZ( i );\n\n\t\t\t\tv1.applyMatrix3( this );\n\n\t\t\t\tattribute.setXYZ( i, v1.x, v1.y, v1.z );\n\n\t\t\t}\n\n\t\t\treturn attribute;\n\n\t\t};\n\n\t}(),\n\n\tmultiply: function ( m ) {\n\n\t\treturn this.multiplyMatrices( this, m );\n\n\t},\n\n\tpremultiply: function ( m ) {\n\n\t\treturn this.multiplyMatrices( m, this );\n\n\t},\n\n\tmultiplyMatrices: function ( a, b ) {\n\n\t\tvar ae = a.elements;\n\t\tvar be = b.elements;\n\t\tvar te = this.elements;\n\n\t\tvar a11 = ae[ 0 ], a12 = ae[ 3 ], a13 = ae[ 6 ];\n\t\tvar a21 = ae[ 1 ], a22 = ae[ 4 ], a23 = ae[ 7 ];\n\t\tvar a31 = ae[ 2 ], a32 = ae[ 5 ], a33 = ae[ 8 ];\n\n\t\tvar b11 = be[ 0 ], b12 = be[ 3 ], b13 = be[ 6 ];\n\t\tvar b21 = be[ 1 ], b22 = be[ 4 ], b23 = be[ 7 ];\n\t\tvar b31 = be[ 2 ], b32 = be[ 5 ], b33 = be[ 8 ];\n\n\t\tte[ 0 ] = a11 * b11 + a12 * b21 + a13 * b31;\n\t\tte[ 3 ] = a11 * b12 + a12 * b22 + a13 * b32;\n\t\tte[ 6 ] = a11 * b13 + a12 * b23 + a13 * b33;\n\n\t\tte[ 1 ] = a21 * b11 + a22 * b21 + a23 * b31;\n\t\tte[ 4 ] = a21 * b12 + a22 * b22 + a23 * b32;\n\t\tte[ 7 ] = a21 * b13 + a22 * b23 + a23 * b33;\n\n\t\tte[ 2 ] = a31 * b11 + a32 * b21 + a33 * b31;\n\t\tte[ 5 ] = a31 * b12 + a32 * b22 + a33 * b32;\n\t\tte[ 8 ] = a31 * b13 + a32 * b23 + a33 * b33;\n\n\t\treturn this;\n\n\t},\n\n\tmultiplyScalar: function ( s ) {\n\n\t\tvar te = this.elements;\n\n\t\tte[ 0 ] *= s; te[ 3 ] *= s; te[ 6 ] *= s;\n\t\tte[ 1 ] *= s; te[ 4 ] *= s; te[ 7 ] *= s;\n\t\tte[ 2 ] *= s; te[ 5 ] *= s; te[ 8 ] *= s;\n\n\t\treturn this;\n\n\t},\n\n\tdeterminant: function () {\n\n\t\tvar te = this.elements;\n\n\t\tvar a = te[ 0 ], b = te[ 1 ], c = te[ 2 ],\n\t\t\td = te[ 3 ], e = te[ 4 ], f = te[ 5 ],\n\t\t\tg = te[ 6 ], h = te[ 7 ], i = te[ 8 ];\n\n\t\treturn a * e * i - a * f * h - b * d * i + b * f * g + c * d * h - c * e * g;\n\n\t},\n\n\tgetInverse: function ( matrix, throwOnDegenerate ) {\n\n\t\tif ( matrix && matrix.isMatrix4 ) {\n\n\t\t\tconsole.error( \"THREE.Matrix3: .getInverse() no longer takes a Matrix4 argument.\" );\n\n\t\t}\n\n\t\tvar me = matrix.elements,\n\t\t\tte = this.elements,\n\n\t\t\tn11 = me[ 0 ], n21 = me[ 1 ], n31 = me[ 2 ],\n\t\t\tn12 = me[ 3 ], n22 = me[ 4 ], n32 = me[ 5 ],\n\t\t\tn13 = me[ 6 ], n23 = me[ 7 ], n33 = me[ 8 ],\n\n\t\t\tt11 = n33 * n22 - n32 * n23,\n\t\t\tt12 = n32 * n13 - n33 * n12,\n\t\t\tt13 = n23 * n12 - n22 * n13,\n\n\t\t\tdet = n11 * t11 + n21 * t12 + n31 * t13;\n\n\t\tif ( det === 0 ) {\n\n\t\t\tvar msg = \"THREE.Matrix3: .getInverse() can't invert matrix, determinant is 0\";\n\n\t\t\tif ( throwOnDegenerate === true ) {\n\n\t\t\t\tthrow new Error( msg );\n\n\t\t\t} else {\n\n\t\t\t\tconsole.warn( msg );\n\n\t\t\t}\n\n\t\t\treturn this.identity();\n\n\t\t}\n\n\t\tvar detInv = 1 / det;\n\n\t\tte[ 0 ] = t11 * detInv;\n\t\tte[ 1 ] = ( n31 * n23 - n33 * n21 ) * detInv;\n\t\tte[ 2 ] = ( n32 * n21 - n31 * n22 ) * detInv;\n\n\t\tte[ 3 ] = t12 * detInv;\n\t\tte[ 4 ] = ( n33 * n11 - n31 * n13 ) * detInv;\n\t\tte[ 5 ] = ( n31 * n12 - n32 * n11 ) * detInv;\n\n\t\tte[ 6 ] = t13 * detInv;\n\t\tte[ 7 ] = ( n21 * n13 - n23 * n11 ) * detInv;\n\t\tte[ 8 ] = ( n22 * n11 - n21 * n12 ) * detInv;\n\n\t\treturn this;\n\n\t},\n\n\ttranspose: function () {\n\n\t\tvar tmp, m = this.elements;\n\n\t\ttmp = m[ 1 ]; m[ 1 ] = m[ 3 ]; m[ 3 ] = tmp;\n\t\ttmp = m[ 2 ]; m[ 2 ] = m[ 6 ]; m[ 6 ] = tmp;\n\t\ttmp = m[ 5 ]; m[ 5 ] = m[ 7 ]; m[ 7 ] = tmp;\n\n\t\treturn this;\n\n\t},\n\n\tgetNormalMatrix: function ( matrix4 ) {\n\n\t\treturn this.setFromMatrix4( matrix4 ).getInverse( this ).transpose();\n\n\t},\n\n\ttransposeIntoArray: function ( r ) {\n\n\t\tvar m = this.elements;\n\n\t\tr[ 0 ] = m[ 0 ];\n\t\tr[ 1 ] = m[ 3 ];\n\t\tr[ 2 ] = m[ 6 ];\n\t\tr[ 3 ] = m[ 1 ];\n\t\tr[ 4 ] = m[ 4 ];\n\t\tr[ 5 ] = m[ 7 ];\n\t\tr[ 6 ] = m[ 2 ];\n\t\tr[ 7 ] = m[ 5 ];\n\t\tr[ 8 ] = m[ 8 ];\n\n\t\treturn this;\n\n\t},\n\n\tsetUvTransform: function ( tx, ty, sx, sy, rotation, cx, cy ) {\n\n\t\tvar c = Math.cos( rotation );\n\t\tvar s = Math.sin( rotation );\n\n\t\tthis.set(\n\t\t\tsx * c, sx * s, - sx * ( c * cx + s * cy ) + cx + tx,\n\t\t\t- sy * s, sy * c, - sy * ( - s * cx + c * cy ) + cy + ty,\n\t\t\t0, 0, 1\n\t\t);\n\n\t},\n\n\tscale: function ( sx, sy ) {\n\n\t\tvar te = this.elements;\n\n\t\tte[ 0 ] *= sx; te[ 3 ] *= sx; te[ 6 ] *= sx;\n\t\tte[ 1 ] *= sy; te[ 4 ] *= sy; te[ 7 ] *= sy;\n\n\t\treturn this;\n\n\t},\n\n\trotate: function ( theta ) {\n\n\t\tvar c = Math.cos( theta );\n\t\tvar s = Math.sin( theta );\n\n\t\tvar te = this.elements;\n\n\t\tvar a11 = te[ 0 ], a12 = te[ 3 ], a13 = te[ 6 ];\n\t\tvar a21 = te[ 1 ], a22 = te[ 4 ], a23 = te[ 7 ];\n\n\t\tte[ 0 ] = c * a11 + s * a21;\n\t\tte[ 3 ] = c * a12 + s * a22;\n\t\tte[ 6 ] = c * a13 + s * a23;\n\n\t\tte[ 1 ] = - s * a11 + c * a21;\n\t\tte[ 4 ] = - s * a12 + c * a22;\n\t\tte[ 7 ] = - s * a13 + c * a23;\n\n\t\treturn this;\n\n\t},\n\n\ttranslate: function ( tx, ty ) {\n\n\t\tvar te = this.elements;\n\n\t\tte[ 0 ] += tx * te[ 2 ]; te[ 3 ] += tx * te[ 5 ]; te[ 6 ] += tx * te[ 8 ];\n\t\tte[ 1 ] += ty * te[ 2 ]; te[ 4 ] += ty * te[ 5 ]; te[ 7 ] += ty * te[ 8 ];\n\n\t\treturn this;\n\n\t},\n\n\tequals: function ( matrix ) {\n\n\t\tvar te = this.elements;\n\t\tvar me = matrix.elements;\n\n\t\tfor ( var i = 0; i < 9; i ++ ) {\n\n\t\t\tif ( te[ i ] !== me[ i ] ) return false;\n\n\t\t}\n\n\t\treturn true;\n\n\t},\n\n\tfromArray: function ( array, offset ) {\n\n\t\tif ( offset === undefined ) offset = 0;\n\n\t\tfor ( var i = 0; i < 9; i ++ ) {\n\n\t\t\tthis.elements[ i ] = array[ i + offset ];\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\ttoArray: function ( array, offset ) {\n\n\t\tif ( array === undefined ) array = [];\n\t\tif ( offset === undefined ) offset = 0;\n\n\t\tvar te = this.elements;\n\n\t\tarray[ offset ] = te[ 0 ];\n\t\tarray[ offset + 1 ] = te[ 1 ];\n\t\tarray[ offset + 2 ] = te[ 2 ];\n\n\t\tarray[ offset + 3 ] = te[ 3 ];\n\t\tarray[ offset + 4 ] = te[ 4 ];\n\t\tarray[ offset + 5 ] = te[ 5 ];\n\n\t\tarray[ offset + 6 ] = te[ 6 ];\n\t\tarray[ offset + 7 ] = te[ 7 ];\n\t\tarray[ offset + 8 ] = te[ 8 ];\n\n\t\treturn array;\n\n\t}\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author alteredq / http://alteredqualia.com/\n * @author szimek / https://github.com/szimek/\n */\n\nvar _canvas;\n\nvar ImageUtils = {\n\n\tgetDataURL: function ( image ) {\n\n\t\tvar canvas;\n\n\t\tif ( typeof HTMLCanvasElement == 'undefined' ) {\n\n\t\t\treturn image.src;\n\n\t\t} else if ( image instanceof HTMLCanvasElement ) {\n\n\t\t\tcanvas = image;\n\n\t\t} else {\n\n\t\t\tif ( _canvas === undefined ) _canvas = document.createElementNS( 'http://www.w3.org/1999/xhtml', 'canvas' );\n\n\t\t\t_canvas.width = image.width;\n\t\t\t_canvas.height = image.height;\n\n\t\t\tvar context = _canvas.getContext( '2d' );\n\n\t\t\tif ( image instanceof ImageData ) {\n\n\t\t\t\tcontext.putImageData( image, 0, 0 );\n\n\t\t\t} else {\n\n\t\t\t\tcontext.drawImage( image, 0, 0, image.width, image.height );\n\n\t\t\t}\n\n\t\t\tcanvas = _canvas;\n\n\t\t}\n\n\t\tif ( canvas.width > 2048 || canvas.height > 2048 ) {\n\n\t\t\treturn canvas.toDataURL( 'image/jpeg', 0.6 );\n\n\t\t} else {\n\n\t\t\treturn canvas.toDataURL( 'image/png' );\n\n\t\t}\n\n\t}\n\n};\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author alteredq / http://alteredqualia.com/\n * @author szimek / https://github.com/szimek/\n */\n\nvar textureId = 0;\n\nfunction Texture( image, mapping, wrapS, wrapT, magFilter, minFilter, format, type, anisotropy, encoding ) {\n\n\tObject.defineProperty( this, 'id', { value: textureId ++ } );\n\n\tthis.uuid = _Math.generateUUID();\n\n\tthis.name = '';\n\n\tthis.image = image !== undefined ? image : Texture.DEFAULT_IMAGE;\n\tthis.mipmaps = [];\n\n\tthis.mapping = mapping !== undefined ? mapping : Texture.DEFAULT_MAPPING;\n\n\tthis.wrapS = wrapS !== undefined ? wrapS : ClampToEdgeWrapping;\n\tthis.wrapT = wrapT !== undefined ? wrapT : ClampToEdgeWrapping;\n\n\tthis.magFilter = magFilter !== undefined ? magFilter : LinearFilter;\n\tthis.minFilter = minFilter !== undefined ? minFilter : LinearMipMapLinearFilter;\n\n\tthis.anisotropy = anisotropy !== undefined ? anisotropy : 1;\n\n\tthis.format = format !== undefined ? format : RGBAFormat;\n\tthis.type = type !== undefined ? type : UnsignedByteType;\n\n\tthis.offset = new Vector2( 0, 0 );\n\tthis.repeat = new Vector2( 1, 1 );\n\tthis.center = new Vector2( 0, 0 );\n\tthis.rotation = 0;\n\n\tthis.matrixAutoUpdate = true;\n\tthis.matrix = new Matrix3();\n\n\tthis.generateMipmaps = true;\n\tthis.premultiplyAlpha = false;\n\tthis.flipY = true;\n\tthis.unpackAlignment = 4;\t// valid values: 1, 2, 4, 8 (see http://www.khronos.org/opengles/sdk/docs/man/xhtml/glPixelStorei.xml)\n\n\t// Values of encoding !== THREE.LinearEncoding only supported on map, envMap and emissiveMap.\n\t//\n\t// Also changing the encoding after already used by a Material will not automatically make the Material\n\t// update. You need to explicitly call Material.needsUpdate to trigger it to recompile.\n\tthis.encoding = encoding !== undefined ? encoding : LinearEncoding;\n\n\tthis.version = 0;\n\tthis.onUpdate = null;\n\n}\n\nTexture.DEFAULT_IMAGE = undefined;\nTexture.DEFAULT_MAPPING = UVMapping;\n\nTexture.prototype = Object.assign( Object.create( EventDispatcher.prototype ), {\n\n\tconstructor: Texture,\n\n\tisTexture: true,\n\n\tupdateMatrix: function () {\n\n\t\tthis.matrix.setUvTransform( this.offset.x, this.offset.y, this.repeat.x, this.repeat.y, this.rotation, this.center.x, this.center.y );\n\n\t},\n\n\tclone: function () {\n\n\t\treturn new this.constructor().copy( this );\n\n\t},\n\n\tcopy: function ( source ) {\n\n\t\tthis.name = source.name;\n\n\t\tthis.image = source.image;\n\t\tthis.mipmaps = source.mipmaps.slice( 0 );\n\n\t\tthis.mapping = source.mapping;\n\n\t\tthis.wrapS = source.wrapS;\n\t\tthis.wrapT = source.wrapT;\n\n\t\tthis.magFilter = source.magFilter;\n\t\tthis.minFilter = source.minFilter;\n\n\t\tthis.anisotropy = source.anisotropy;\n\n\t\tthis.format = source.format;\n\t\tthis.type = source.type;\n\n\t\tthis.offset.copy( source.offset );\n\t\tthis.repeat.copy( source.repeat );\n\t\tthis.center.copy( source.center );\n\t\tthis.rotation = source.rotation;\n\n\t\tthis.matrixAutoUpdate = source.matrixAutoUpdate;\n\t\tthis.matrix.copy( source.matrix );\n\n\t\tthis.generateMipmaps = source.generateMipmaps;\n\t\tthis.premultiplyAlpha = source.premultiplyAlpha;\n\t\tthis.flipY = source.flipY;\n\t\tthis.unpackAlignment = source.unpackAlignment;\n\t\tthis.encoding = source.encoding;\n\n\t\treturn this;\n\n\t},\n\n\ttoJSON: function ( meta ) {\n\n\t\tvar isRootObject = ( meta === undefined || typeof meta === 'string' );\n\n\t\tif ( ! isRootObject && meta.textures[ this.uuid ] !== undefined ) {\n\n\t\t\treturn meta.textures[ this.uuid ];\n\n\t\t}\n\n\t\tvar output = {\n\n\t\t\tmetadata: {\n\t\t\t\tversion: 4.5,\n\t\t\t\ttype: 'Texture',\n\t\t\t\tgenerator: 'Texture.toJSON'\n\t\t\t},\n\n\t\t\tuuid: this.uuid,\n\t\t\tname: this.name,\n\n\t\t\tmapping: this.mapping,\n\n\t\t\trepeat: [ this.repeat.x, this.repeat.y ],\n\t\t\toffset: [ this.offset.x, this.offset.y ],\n\t\t\tcenter: [ this.center.x, this.center.y ],\n\t\t\trotation: this.rotation,\n\n\t\t\twrap: [ this.wrapS, this.wrapT ],\n\n\t\t\tformat: this.format,\n\t\t\ttype: this.type,\n\t\t\tencoding: this.encoding,\n\n\t\t\tminFilter: this.minFilter,\n\t\t\tmagFilter: this.magFilter,\n\t\t\tanisotropy: this.anisotropy,\n\n\t\t\tflipY: this.flipY,\n\n\t\t\tpremultiplyAlpha: this.premultiplyAlpha,\n\t\t\tunpackAlignment: this.unpackAlignment\n\n\t\t};\n\n\t\tif ( this.image !== undefined ) {\n\n\t\t\t// TODO: Move to THREE.Image\n\n\t\t\tvar image = this.image;\n\n\t\t\tif ( image.uuid === undefined ) {\n\n\t\t\t\timage.uuid = _Math.generateUUID(); // UGH\n\n\t\t\t}\n\n\t\t\tif ( ! isRootObject && meta.images[ image.uuid ] === undefined ) {\n\n\t\t\t\tvar url;\n\n\t\t\t\tif ( Array.isArray( image ) ) {\n\n\t\t\t\t\t// process array of images e.g. CubeTexture\n\n\t\t\t\t\turl = [];\n\n\t\t\t\t\tfor ( var i = 0, l = image.length; i < l; i ++ ) {\n\n\t\t\t\t\t\turl.push( ImageUtils.getDataURL( image[ i ] ) );\n\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\n\t\t\t\t\t// process single image\n\n\t\t\t\t\turl = ImageUtils.getDataURL( image );\n\n\t\t\t\t}\n\n\t\t\t\tmeta.images[ image.uuid ] = {\n\t\t\t\t\tuuid: image.uuid,\n\t\t\t\t\turl: url\n\t\t\t\t};\n\n\t\t\t}\n\n\t\t\toutput.image = image.uuid;\n\n\t\t}\n\n\t\tif ( ! isRootObject ) {\n\n\t\t\tmeta.textures[ this.uuid ] = output;\n\n\t\t}\n\n\t\treturn output;\n\n\t},\n\n\tdispose: function () {\n\n\t\tthis.dispatchEvent( { type: 'dispose' } );\n\n\t},\n\n\ttransformUv: function ( uv ) {\n\n\t\tif ( this.mapping !== UVMapping ) return uv;\n\n\t\tuv.applyMatrix3( this.matrix );\n\n\t\tif ( uv.x < 0 || uv.x > 1 ) {\n\n\t\t\tswitch ( this.wrapS ) {\n\n\t\t\t\tcase RepeatWrapping:\n\n\t\t\t\t\tuv.x = uv.x - Math.floor( uv.x );\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase ClampToEdgeWrapping:\n\n\t\t\t\t\tuv.x = uv.x < 0 ? 0 : 1;\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase MirroredRepeatWrapping:\n\n\t\t\t\t\tif ( Math.abs( Math.floor( uv.x ) % 2 ) === 1 ) {\n\n\t\t\t\t\t\tuv.x = Math.ceil( uv.x ) - uv.x;\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tuv.x = uv.x - Math.floor( uv.x );\n\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( uv.y < 0 || uv.y > 1 ) {\n\n\t\t\tswitch ( this.wrapT ) {\n\n\t\t\t\tcase RepeatWrapping:\n\n\t\t\t\t\tuv.y = uv.y - Math.floor( uv.y );\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase ClampToEdgeWrapping:\n\n\t\t\t\t\tuv.y = uv.y < 0 ? 0 : 1;\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase MirroredRepeatWrapping:\n\n\t\t\t\t\tif ( Math.abs( Math.floor( uv.y ) % 2 ) === 1 ) {\n\n\t\t\t\t\t\tuv.y = Math.ceil( uv.y ) - uv.y;\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tuv.y = uv.y - Math.floor( uv.y );\n\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( this.flipY ) {\n\n\t\t\tuv.y = 1 - uv.y;\n\n\t\t}\n\n\t\treturn uv;\n\n\t}\n\n} );\n\nObject.defineProperty( Texture.prototype, \"needsUpdate\", {\n\n\tset: function ( value ) {\n\n\t\tif ( value === true ) this.version ++;\n\n\t}\n\n} );\n\n/**\n * @author supereggbert / http://www.paulbrunt.co.uk/\n * @author philogb / http://blog.thejit.org/\n * @author mikael emtinger / http://gomo.se/\n * @author egraether / http://egraether.com/\n * @author WestLangley / http://github.com/WestLangley\n */\n\nfunction Vector4( x, y, z, w ) {\n\n\tthis.x = x || 0;\n\tthis.y = y || 0;\n\tthis.z = z || 0;\n\tthis.w = ( w !== undefined ) ? w : 1;\n\n}\n\nObject.assign( Vector4.prototype, {\n\n\tisVector4: true,\n\n\tset: function ( x, y, z, w ) {\n\n\t\tthis.x = x;\n\t\tthis.y = y;\n\t\tthis.z = z;\n\t\tthis.w = w;\n\n\t\treturn this;\n\n\t},\n\n\tsetScalar: function ( scalar ) {\n\n\t\tthis.x = scalar;\n\t\tthis.y = scalar;\n\t\tthis.z = scalar;\n\t\tthis.w = scalar;\n\n\t\treturn this;\n\n\t},\n\n\tsetX: function ( x ) {\n\n\t\tthis.x = x;\n\n\t\treturn this;\n\n\t},\n\n\tsetY: function ( y ) {\n\n\t\tthis.y = y;\n\n\t\treturn this;\n\n\t},\n\n\tsetZ: function ( z ) {\n\n\t\tthis.z = z;\n\n\t\treturn this;\n\n\t},\n\n\tsetW: function ( w ) {\n\n\t\tthis.w = w;\n\n\t\treturn this;\n\n\t},\n\n\tsetComponent: function ( index, value ) {\n\n\t\tswitch ( index ) {\n\n\t\t\tcase 0: this.x = value; break;\n\t\t\tcase 1: this.y = value; break;\n\t\t\tcase 2: this.z = value; break;\n\t\t\tcase 3: this.w = value; break;\n\t\t\tdefault: throw new Error( 'index is out of range: ' + index );\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tgetComponent: function ( index ) {\n\n\t\tswitch ( index ) {\n\n\t\t\tcase 0: return this.x;\n\t\t\tcase 1: return this.y;\n\t\t\tcase 2: return this.z;\n\t\t\tcase 3: return this.w;\n\t\t\tdefault: throw new Error( 'index is out of range: ' + index );\n\n\t\t}\n\n\t},\n\n\tclone: function () {\n\n\t\treturn new this.constructor( this.x, this.y, this.z, this.w );\n\n\t},\n\n\tcopy: function ( v ) {\n\n\t\tthis.x = v.x;\n\t\tthis.y = v.y;\n\t\tthis.z = v.z;\n\t\tthis.w = ( v.w !== undefined ) ? v.w : 1;\n\n\t\treturn this;\n\n\t},\n\n\tadd: function ( v, w ) {\n\n\t\tif ( w !== undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Vector4: .add() now only accepts one argument. Use .addVectors( a, b ) instead.' );\n\t\t\treturn this.addVectors( v, w );\n\n\t\t}\n\n\t\tthis.x += v.x;\n\t\tthis.y += v.y;\n\t\tthis.z += v.z;\n\t\tthis.w += v.w;\n\n\t\treturn this;\n\n\t},\n\n\taddScalar: function ( s ) {\n\n\t\tthis.x += s;\n\t\tthis.y += s;\n\t\tthis.z += s;\n\t\tthis.w += s;\n\n\t\treturn this;\n\n\t},\n\n\taddVectors: function ( a, b ) {\n\n\t\tthis.x = a.x + b.x;\n\t\tthis.y = a.y + b.y;\n\t\tthis.z = a.z + b.z;\n\t\tthis.w = a.w + b.w;\n\n\t\treturn this;\n\n\t},\n\n\taddScaledVector: function ( v, s ) {\n\n\t\tthis.x += v.x * s;\n\t\tthis.y += v.y * s;\n\t\tthis.z += v.z * s;\n\t\tthis.w += v.w * s;\n\n\t\treturn this;\n\n\t},\n\n\tsub: function ( v, w ) {\n\n\t\tif ( w !== undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Vector4: .sub() now only accepts one argument. Use .subVectors( a, b ) instead.' );\n\t\t\treturn this.subVectors( v, w );\n\n\t\t}\n\n\t\tthis.x -= v.x;\n\t\tthis.y -= v.y;\n\t\tthis.z -= v.z;\n\t\tthis.w -= v.w;\n\n\t\treturn this;\n\n\t},\n\n\tsubScalar: function ( s ) {\n\n\t\tthis.x -= s;\n\t\tthis.y -= s;\n\t\tthis.z -= s;\n\t\tthis.w -= s;\n\n\t\treturn this;\n\n\t},\n\n\tsubVectors: function ( a, b ) {\n\n\t\tthis.x = a.x - b.x;\n\t\tthis.y = a.y - b.y;\n\t\tthis.z = a.z - b.z;\n\t\tthis.w = a.w - b.w;\n\n\t\treturn this;\n\n\t},\n\n\tmultiplyScalar: function ( scalar ) {\n\n\t\tthis.x *= scalar;\n\t\tthis.y *= scalar;\n\t\tthis.z *= scalar;\n\t\tthis.w *= scalar;\n\n\t\treturn this;\n\n\t},\n\n\tapplyMatrix4: function ( m ) {\n\n\t\tvar x = this.x, y = this.y, z = this.z, w = this.w;\n\t\tvar e = m.elements;\n\n\t\tthis.x = e[ 0 ] * x + e[ 4 ] * y + e[ 8 ] * z + e[ 12 ] * w;\n\t\tthis.y = e[ 1 ] * x + e[ 5 ] * y + e[ 9 ] * z + e[ 13 ] * w;\n\t\tthis.z = e[ 2 ] * x + e[ 6 ] * y + e[ 10 ] * z + e[ 14 ] * w;\n\t\tthis.w = e[ 3 ] * x + e[ 7 ] * y + e[ 11 ] * z + e[ 15 ] * w;\n\n\t\treturn this;\n\n\t},\n\n\tdivideScalar: function ( scalar ) {\n\n\t\treturn this.multiplyScalar( 1 / scalar );\n\n\t},\n\n\tsetAxisAngleFromQuaternion: function ( q ) {\n\n\t\t// http://www.euclideanspace.com/maths/geometry/rotations/conversions/quaternionToAngle/index.htm\n\n\t\t// q is assumed to be normalized\n\n\t\tthis.w = 2 * Math.acos( q.w );\n\n\t\tvar s = Math.sqrt( 1 - q.w * q.w );\n\n\t\tif ( s < 0.0001 ) {\n\n\t\t\tthis.x = 1;\n\t\t\tthis.y = 0;\n\t\t\tthis.z = 0;\n\n\t\t} else {\n\n\t\t\tthis.x = q.x / s;\n\t\t\tthis.y = q.y / s;\n\t\t\tthis.z = q.z / s;\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tsetAxisAngleFromRotationMatrix: function ( m ) {\n\n\t\t// http://www.euclideanspace.com/maths/geometry/rotations/conversions/matrixToAngle/index.htm\n\n\t\t// assumes the upper 3x3 of m is a pure rotation matrix (i.e, unscaled)\n\n\t\tvar angle, x, y, z,\t\t// variables for result\n\t\t\tepsilon = 0.01,\t\t// margin to allow for rounding errors\n\t\t\tepsilon2 = 0.1,\t\t// margin to distinguish between 0 and 180 degrees\n\n\t\t\tte = m.elements,\n\n\t\t\tm11 = te[ 0 ], m12 = te[ 4 ], m13 = te[ 8 ],\n\t\t\tm21 = te[ 1 ], m22 = te[ 5 ], m23 = te[ 9 ],\n\t\t\tm31 = te[ 2 ], m32 = te[ 6 ], m33 = te[ 10 ];\n\n\t\tif ( ( Math.abs( m12 - m21 ) < epsilon ) &&\n\t\t     ( Math.abs( m13 - m31 ) < epsilon ) &&\n\t\t     ( Math.abs( m23 - m32 ) < epsilon ) ) {\n\n\t\t\t// singularity found\n\t\t\t// first check for identity matrix which must have +1 for all terms\n\t\t\t// in leading diagonal and zero in other terms\n\n\t\t\tif ( ( Math.abs( m12 + m21 ) < epsilon2 ) &&\n\t\t\t     ( Math.abs( m13 + m31 ) < epsilon2 ) &&\n\t\t\t     ( Math.abs( m23 + m32 ) < epsilon2 ) &&\n\t\t\t     ( Math.abs( m11 + m22 + m33 - 3 ) < epsilon2 ) ) {\n\n\t\t\t\t// this singularity is identity matrix so angle = 0\n\n\t\t\t\tthis.set( 1, 0, 0, 0 );\n\n\t\t\t\treturn this; // zero angle, arbitrary axis\n\n\t\t\t}\n\n\t\t\t// otherwise this singularity is angle = 180\n\n\t\t\tangle = Math.PI;\n\n\t\t\tvar xx = ( m11 + 1 ) / 2;\n\t\t\tvar yy = ( m22 + 1 ) / 2;\n\t\t\tvar zz = ( m33 + 1 ) / 2;\n\t\t\tvar xy = ( m12 + m21 ) / 4;\n\t\t\tvar xz = ( m13 + m31 ) / 4;\n\t\t\tvar yz = ( m23 + m32 ) / 4;\n\n\t\t\tif ( ( xx > yy ) && ( xx > zz ) ) {\n\n\t\t\t\t// m11 is the largest diagonal term\n\n\t\t\t\tif ( xx < epsilon ) {\n\n\t\t\t\t\tx = 0;\n\t\t\t\t\ty = 0.707106781;\n\t\t\t\t\tz = 0.707106781;\n\n\t\t\t\t} else {\n\n\t\t\t\t\tx = Math.sqrt( xx );\n\t\t\t\t\ty = xy / x;\n\t\t\t\t\tz = xz / x;\n\n\t\t\t\t}\n\n\t\t\t} else if ( yy > zz ) {\n\n\t\t\t\t// m22 is the largest diagonal term\n\n\t\t\t\tif ( yy < epsilon ) {\n\n\t\t\t\t\tx = 0.707106781;\n\t\t\t\t\ty = 0;\n\t\t\t\t\tz = 0.707106781;\n\n\t\t\t\t} else {\n\n\t\t\t\t\ty = Math.sqrt( yy );\n\t\t\t\t\tx = xy / y;\n\t\t\t\t\tz = yz / y;\n\n\t\t\t\t}\n\n\t\t\t} else {\n\n\t\t\t\t// m33 is the largest diagonal term so base result on this\n\n\t\t\t\tif ( zz < epsilon ) {\n\n\t\t\t\t\tx = 0.707106781;\n\t\t\t\t\ty = 0.707106781;\n\t\t\t\t\tz = 0;\n\n\t\t\t\t} else {\n\n\t\t\t\t\tz = Math.sqrt( zz );\n\t\t\t\t\tx = xz / z;\n\t\t\t\t\ty = yz / z;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tthis.set( x, y, z, angle );\n\n\t\t\treturn this; // return 180 deg rotation\n\n\t\t}\n\n\t\t// as we have reached here there are no singularities so we can handle normally\n\n\t\tvar s = Math.sqrt( ( m32 - m23 ) * ( m32 - m23 ) +\n\t\t                   ( m13 - m31 ) * ( m13 - m31 ) +\n\t\t                   ( m21 - m12 ) * ( m21 - m12 ) ); // used to normalize\n\n\t\tif ( Math.abs( s ) < 0.001 ) s = 1;\n\n\t\t// prevent divide by zero, should not happen if matrix is orthogonal and should be\n\t\t// caught by singularity test above, but I've left it in just in case\n\n\t\tthis.x = ( m32 - m23 ) / s;\n\t\tthis.y = ( m13 - m31 ) / s;\n\t\tthis.z = ( m21 - m12 ) / s;\n\t\tthis.w = Math.acos( ( m11 + m22 + m33 - 1 ) / 2 );\n\n\t\treturn this;\n\n\t},\n\n\tmin: function ( v ) {\n\n\t\tthis.x = Math.min( this.x, v.x );\n\t\tthis.y = Math.min( this.y, v.y );\n\t\tthis.z = Math.min( this.z, v.z );\n\t\tthis.w = Math.min( this.w, v.w );\n\n\t\treturn this;\n\n\t},\n\n\tmax: function ( v ) {\n\n\t\tthis.x = Math.max( this.x, v.x );\n\t\tthis.y = Math.max( this.y, v.y );\n\t\tthis.z = Math.max( this.z, v.z );\n\t\tthis.w = Math.max( this.w, v.w );\n\n\t\treturn this;\n\n\t},\n\n\tclamp: function ( min, max ) {\n\n\t\t// assumes min < max, componentwise\n\n\t\tthis.x = Math.max( min.x, Math.min( max.x, this.x ) );\n\t\tthis.y = Math.max( min.y, Math.min( max.y, this.y ) );\n\t\tthis.z = Math.max( min.z, Math.min( max.z, this.z ) );\n\t\tthis.w = Math.max( min.w, Math.min( max.w, this.w ) );\n\n\t\treturn this;\n\n\t},\n\n\tclampScalar: function () {\n\n\t\tvar min, max;\n\n\t\treturn function clampScalar( minVal, maxVal ) {\n\n\t\t\tif ( min === undefined ) {\n\n\t\t\t\tmin = new Vector4();\n\t\t\t\tmax = new Vector4();\n\n\t\t\t}\n\n\t\t\tmin.set( minVal, minVal, minVal, minVal );\n\t\t\tmax.set( maxVal, maxVal, maxVal, maxVal );\n\n\t\t\treturn this.clamp( min, max );\n\n\t\t};\n\n\t}(),\n\n\tclampLength: function ( min, max ) {\n\n\t\tvar length = this.length();\n\n\t\treturn this.divideScalar( length || 1 ).multiplyScalar( Math.max( min, Math.min( max, length ) ) );\n\n\t},\n\n\tfloor: function () {\n\n\t\tthis.x = Math.floor( this.x );\n\t\tthis.y = Math.floor( this.y );\n\t\tthis.z = Math.floor( this.z );\n\t\tthis.w = Math.floor( this.w );\n\n\t\treturn this;\n\n\t},\n\n\tceil: function () {\n\n\t\tthis.x = Math.ceil( this.x );\n\t\tthis.y = Math.ceil( this.y );\n\t\tthis.z = Math.ceil( this.z );\n\t\tthis.w = Math.ceil( this.w );\n\n\t\treturn this;\n\n\t},\n\n\tround: function () {\n\n\t\tthis.x = Math.round( this.x );\n\t\tthis.y = Math.round( this.y );\n\t\tthis.z = Math.round( this.z );\n\t\tthis.w = Math.round( this.w );\n\n\t\treturn this;\n\n\t},\n\n\troundToZero: function () {\n\n\t\tthis.x = ( this.x < 0 ) ? Math.ceil( this.x ) : Math.floor( this.x );\n\t\tthis.y = ( this.y < 0 ) ? Math.ceil( this.y ) : Math.floor( this.y );\n\t\tthis.z = ( this.z < 0 ) ? Math.ceil( this.z ) : Math.floor( this.z );\n\t\tthis.w = ( this.w < 0 ) ? Math.ceil( this.w ) : Math.floor( this.w );\n\n\t\treturn this;\n\n\t},\n\n\tnegate: function () {\n\n\t\tthis.x = - this.x;\n\t\tthis.y = - this.y;\n\t\tthis.z = - this.z;\n\t\tthis.w = - this.w;\n\n\t\treturn this;\n\n\t},\n\n\tdot: function ( v ) {\n\n\t\treturn this.x * v.x + this.y * v.y + this.z * v.z + this.w * v.w;\n\n\t},\n\n\tlengthSq: function () {\n\n\t\treturn this.x * this.x + this.y * this.y + this.z * this.z + this.w * this.w;\n\n\t},\n\n\tlength: function () {\n\n\t\treturn Math.sqrt( this.x * this.x + this.y * this.y + this.z * this.z + this.w * this.w );\n\n\t},\n\n\tmanhattanLength: function () {\n\n\t\treturn Math.abs( this.x ) + Math.abs( this.y ) + Math.abs( this.z ) + Math.abs( this.w );\n\n\t},\n\n\tnormalize: function () {\n\n\t\treturn this.divideScalar( this.length() || 1 );\n\n\t},\n\n\tsetLength: function ( length ) {\n\n\t\treturn this.normalize().multiplyScalar( length );\n\n\t},\n\n\tlerp: function ( v, alpha ) {\n\n\t\tthis.x += ( v.x - this.x ) * alpha;\n\t\tthis.y += ( v.y - this.y ) * alpha;\n\t\tthis.z += ( v.z - this.z ) * alpha;\n\t\tthis.w += ( v.w - this.w ) * alpha;\n\n\t\treturn this;\n\n\t},\n\n\tlerpVectors: function ( v1, v2, alpha ) {\n\n\t\treturn this.subVectors( v2, v1 ).multiplyScalar( alpha ).add( v1 );\n\n\t},\n\n\tequals: function ( v ) {\n\n\t\treturn ( ( v.x === this.x ) && ( v.y === this.y ) && ( v.z === this.z ) && ( v.w === this.w ) );\n\n\t},\n\n\tfromArray: function ( array, offset ) {\n\n\t\tif ( offset === undefined ) offset = 0;\n\n\t\tthis.x = array[ offset ];\n\t\tthis.y = array[ offset + 1 ];\n\t\tthis.z = array[ offset + 2 ];\n\t\tthis.w = array[ offset + 3 ];\n\n\t\treturn this;\n\n\t},\n\n\ttoArray: function ( array, offset ) {\n\n\t\tif ( array === undefined ) array = [];\n\t\tif ( offset === undefined ) offset = 0;\n\n\t\tarray[ offset ] = this.x;\n\t\tarray[ offset + 1 ] = this.y;\n\t\tarray[ offset + 2 ] = this.z;\n\t\tarray[ offset + 3 ] = this.w;\n\n\t\treturn array;\n\n\t},\n\n\tfromBufferAttribute: function ( attribute, index, offset ) {\n\n\t\tif ( offset !== undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Vector4: offset has been removed from .fromBufferAttribute().' );\n\n\t\t}\n\n\t\tthis.x = attribute.getX( index );\n\t\tthis.y = attribute.getY( index );\n\t\tthis.z = attribute.getZ( index );\n\t\tthis.w = attribute.getW( index );\n\n\t\treturn this;\n\n\t}\n\n} );\n\n/**\n * @author szimek / https://github.com/szimek/\n * @author alteredq / http://alteredqualia.com/\n * @author Marius Kintel / https://github.com/kintel\n */\n\n/*\n In options, we can specify:\n * Texture parameters for an auto-generated target texture\n * depthBuffer/stencilBuffer: Booleans to indicate if we should generate these buffers\n*/\nfunction WebGLRenderTarget( width, height, options ) {\n\n\tthis.width = width;\n\tthis.height = height;\n\n\tthis.scissor = new Vector4( 0, 0, width, height );\n\tthis.scissorTest = false;\n\n\tthis.viewport = new Vector4( 0, 0, width, height );\n\n\toptions = options || {};\n\n\tthis.texture = new Texture( undefined, undefined, options.wrapS, options.wrapT, options.magFilter, options.minFilter, options.format, options.type, options.anisotropy, options.encoding );\n\n\tthis.texture.generateMipmaps = options.generateMipmaps !== undefined ? options.generateMipmaps : false;\n\tthis.texture.minFilter = options.minFilter !== undefined ? options.minFilter : LinearFilter;\n\n\tthis.depthBuffer = options.depthBuffer !== undefined ? options.depthBuffer : true;\n\tthis.stencilBuffer = options.stencilBuffer !== undefined ? options.stencilBuffer : true;\n\tthis.depthTexture = options.depthTexture !== undefined ? options.depthTexture : null;\n\n}\n\nWebGLRenderTarget.prototype = Object.assign( Object.create( EventDispatcher.prototype ), {\n\n\tconstructor: WebGLRenderTarget,\n\n\tisWebGLRenderTarget: true,\n\n\tsetSize: function ( width, height ) {\n\n\t\tif ( this.width !== width || this.height !== height ) {\n\n\t\t\tthis.width = width;\n\t\t\tthis.height = height;\n\n\t\t\tthis.dispose();\n\n\t\t}\n\n\t\tthis.viewport.set( 0, 0, width, height );\n\t\tthis.scissor.set( 0, 0, width, height );\n\n\t},\n\n\tclone: function () {\n\n\t\treturn new this.constructor().copy( this );\n\n\t},\n\n\tcopy: function ( source ) {\n\n\t\tthis.width = source.width;\n\t\tthis.height = source.height;\n\n\t\tthis.viewport.copy( source.viewport );\n\n\t\tthis.texture = source.texture.clone();\n\n\t\tthis.depthBuffer = source.depthBuffer;\n\t\tthis.stencilBuffer = source.stencilBuffer;\n\t\tthis.depthTexture = source.depthTexture;\n\n\t\treturn this;\n\n\t},\n\n\tdispose: function () {\n\n\t\tthis.dispatchEvent( { type: 'dispose' } );\n\n\t}\n\n} );\n\n/**\n * @author Mugen87 / https://github.com/Mugen87\n * @author Matt DesLauriers / @mattdesl\n */\n\nfunction WebGLMultisampleRenderTarget( width, height, options ) {\n\n\tWebGLRenderTarget.call( this, width, height, options );\n\n\tthis.samples = 4;\n\n}\n\nWebGLMultisampleRenderTarget.prototype = Object.assign( Object.create( WebGLRenderTarget.prototype ), {\n\n\tconstructor: WebGLMultisampleRenderTarget,\n\n\tisWebGLMultisampleRenderTarget: true,\n\n\tcopy: function ( source ) {\n\n\t\tWebGLRenderTarget.prototype.copy.call( this, source );\n\n\t\tthis.samples = source.samples;\n\n\t\treturn this;\n\n\t}\n\n} );\n\n/**\n * @author alteredq / http://alteredqualia.com\n */\n\nfunction WebGLRenderTargetCube( width, height, options ) {\n\n\tWebGLRenderTarget.call( this, width, height, options );\n\n}\n\nWebGLRenderTargetCube.prototype = Object.create( WebGLRenderTarget.prototype );\nWebGLRenderTargetCube.prototype.constructor = WebGLRenderTargetCube;\n\nWebGLRenderTargetCube.prototype.isWebGLRenderTargetCube = true;\n\n/**\n * @author alteredq / http://alteredqualia.com/\n */\n\nfunction DataTexture( data, width, height, format, type, mapping, wrapS, wrapT, magFilter, minFilter, anisotropy, encoding ) {\n\n\tTexture.call( this, null, mapping, wrapS, wrapT, magFilter, minFilter, format, type, anisotropy, encoding );\n\n\tthis.image = { data: data, width: width, height: height };\n\n\tthis.magFilter = magFilter !== undefined ? magFilter : NearestFilter;\n\tthis.minFilter = minFilter !== undefined ? minFilter : NearestFilter;\n\n\tthis.generateMipmaps = false;\n\tthis.flipY = false;\n\tthis.unpackAlignment = 1;\n\n}\n\nDataTexture.prototype = Object.create( Texture.prototype );\nDataTexture.prototype.constructor = DataTexture;\n\nDataTexture.prototype.isDataTexture = true;\n\n/**\n * @author bhouston / http://clara.io\n * @author WestLangley / http://github.com/WestLangley\n */\n\nfunction Box3( min, max ) {\n\n\tthis.min = ( min !== undefined ) ? min : new Vector3( + Infinity, + Infinity, + Infinity );\n\tthis.max = ( max !== undefined ) ? max : new Vector3( - Infinity, - Infinity, - Infinity );\n\n}\n\nObject.assign( Box3.prototype, {\n\n\tisBox3: true,\n\n\tset: function ( min, max ) {\n\n\t\tthis.min.copy( min );\n\t\tthis.max.copy( max );\n\n\t\treturn this;\n\n\t},\n\n\tsetFromArray: function ( array ) {\n\n\t\tvar minX = + Infinity;\n\t\tvar minY = + Infinity;\n\t\tvar minZ = + Infinity;\n\n\t\tvar maxX = - Infinity;\n\t\tvar maxY = - Infinity;\n\t\tvar maxZ = - Infinity;\n\n\t\tfor ( var i = 0, l = array.length; i < l; i += 3 ) {\n\n\t\t\tvar x = array[ i ];\n\t\t\tvar y = array[ i + 1 ];\n\t\t\tvar z = array[ i + 2 ];\n\n\t\t\tif ( x < minX ) minX = x;\n\t\t\tif ( y < minY ) minY = y;\n\t\t\tif ( z < minZ ) minZ = z;\n\n\t\t\tif ( x > maxX ) maxX = x;\n\t\t\tif ( y > maxY ) maxY = y;\n\t\t\tif ( z > maxZ ) maxZ = z;\n\n\t\t}\n\n\t\tthis.min.set( minX, minY, minZ );\n\t\tthis.max.set( maxX, maxY, maxZ );\n\n\t\treturn this;\n\n\t},\n\n\tsetFromBufferAttribute: function ( attribute ) {\n\n\t\tvar minX = + Infinity;\n\t\tvar minY = + Infinity;\n\t\tvar minZ = + Infinity;\n\n\t\tvar maxX = - Infinity;\n\t\tvar maxY = - Infinity;\n\t\tvar maxZ = - Infinity;\n\n\t\tfor ( var i = 0, l = attribute.count; i < l; i ++ ) {\n\n\t\t\tvar x = attribute.getX( i );\n\t\t\tvar y = attribute.getY( i );\n\t\t\tvar z = attribute.getZ( i );\n\n\t\t\tif ( x < minX ) minX = x;\n\t\t\tif ( y < minY ) minY = y;\n\t\t\tif ( z < minZ ) minZ = z;\n\n\t\t\tif ( x > maxX ) maxX = x;\n\t\t\tif ( y > maxY ) maxY = y;\n\t\t\tif ( z > maxZ ) maxZ = z;\n\n\t\t}\n\n\t\tthis.min.set( minX, minY, minZ );\n\t\tthis.max.set( maxX, maxY, maxZ );\n\n\t\treturn this;\n\n\t},\n\n\tsetFromPoints: function ( points ) {\n\n\t\tthis.makeEmpty();\n\n\t\tfor ( var i = 0, il = points.length; i < il; i ++ ) {\n\n\t\t\tthis.expandByPoint( points[ i ] );\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tsetFromCenterAndSize: function () {\n\n\t\tvar v1 = new Vector3();\n\n\t\treturn function setFromCenterAndSize( center, size ) {\n\n\t\t\tvar halfSize = v1.copy( size ).multiplyScalar( 0.5 );\n\n\t\t\tthis.min.copy( center ).sub( halfSize );\n\t\t\tthis.max.copy( center ).add( halfSize );\n\n\t\t\treturn this;\n\n\t\t};\n\n\t}(),\n\n\tsetFromObject: function ( object ) {\n\n\t\tthis.makeEmpty();\n\n\t\treturn this.expandByObject( object );\n\n\t},\n\n\tclone: function () {\n\n\t\treturn new this.constructor().copy( this );\n\n\t},\n\n\tcopy: function ( box ) {\n\n\t\tthis.min.copy( box.min );\n\t\tthis.max.copy( box.max );\n\n\t\treturn this;\n\n\t},\n\n\tmakeEmpty: function () {\n\n\t\tthis.min.x = this.min.y = this.min.z = + Infinity;\n\t\tthis.max.x = this.max.y = this.max.z = - Infinity;\n\n\t\treturn this;\n\n\t},\n\n\tisEmpty: function () {\n\n\t\t// this is a more robust check for empty than ( volume <= 0 ) because volume can get positive with two negative axes\n\n\t\treturn ( this.max.x < this.min.x ) || ( this.max.y < this.min.y ) || ( this.max.z < this.min.z );\n\n\t},\n\n\tgetCenter: function ( target ) {\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Box3: .getCenter() target is now required' );\n\t\t\ttarget = new Vector3();\n\n\t\t}\n\n\t\treturn this.isEmpty() ? target.set( 0, 0, 0 ) : target.addVectors( this.min, this.max ).multiplyScalar( 0.5 );\n\n\t},\n\n\tgetSize: function ( target ) {\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Box3: .getSize() target is now required' );\n\t\t\ttarget = new Vector3();\n\n\t\t}\n\n\t\treturn this.isEmpty() ? target.set( 0, 0, 0 ) : target.subVectors( this.max, this.min );\n\n\t},\n\n\texpandByPoint: function ( point ) {\n\n\t\tthis.min.min( point );\n\t\tthis.max.max( point );\n\n\t\treturn this;\n\n\t},\n\n\texpandByVector: function ( vector ) {\n\n\t\tthis.min.sub( vector );\n\t\tthis.max.add( vector );\n\n\t\treturn this;\n\n\t},\n\n\texpandByScalar: function ( scalar ) {\n\n\t\tthis.min.addScalar( - scalar );\n\t\tthis.max.addScalar( scalar );\n\n\t\treturn this;\n\n\t},\n\n\texpandByObject: function () {\n\n\t\t// Computes the world-axis-aligned bounding box of an object (including its children),\n\t\t// accounting for both the object's, and children's, world transforms\n\n\t\tvar scope, i, l;\n\n\t\tvar v1 = new Vector3();\n\n\t\tfunction traverse( node ) {\n\n\t\t\tvar geometry = node.geometry;\n\n\t\t\tif ( geometry !== undefined ) {\n\n\t\t\t\tif ( geometry.isGeometry ) {\n\n\t\t\t\t\tvar vertices = geometry.vertices;\n\n\t\t\t\t\tfor ( i = 0, l = vertices.length; i < l; i ++ ) {\n\n\t\t\t\t\t\tv1.copy( vertices[ i ] );\n\t\t\t\t\t\tv1.applyMatrix4( node.matrixWorld );\n\n\t\t\t\t\t\tscope.expandByPoint( v1 );\n\n\t\t\t\t\t}\n\n\t\t\t\t} else if ( geometry.isBufferGeometry ) {\n\n\t\t\t\t\tvar attribute = geometry.attributes.position;\n\n\t\t\t\t\tif ( attribute !== undefined ) {\n\n\t\t\t\t\t\tfor ( i = 0, l = attribute.count; i < l; i ++ ) {\n\n\t\t\t\t\t\t\tv1.fromBufferAttribute( attribute, i ).applyMatrix4( node.matrixWorld );\n\n\t\t\t\t\t\t\tscope.expandByPoint( v1 );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn function expandByObject( object ) {\n\n\t\t\tscope = this;\n\n\t\t\tobject.updateMatrixWorld( true );\n\n\t\t\tobject.traverse( traverse );\n\n\t\t\treturn this;\n\n\t\t};\n\n\t}(),\n\n\tcontainsPoint: function ( point ) {\n\n\t\treturn point.x < this.min.x || point.x > this.max.x ||\n\t\t\tpoint.y < this.min.y || point.y > this.max.y ||\n\t\t\tpoint.z < this.min.z || point.z > this.max.z ? false : true;\n\n\t},\n\n\tcontainsBox: function ( box ) {\n\n\t\treturn this.min.x <= box.min.x && box.max.x <= this.max.x &&\n\t\t\tthis.min.y <= box.min.y && box.max.y <= this.max.y &&\n\t\t\tthis.min.z <= box.min.z && box.max.z <= this.max.z;\n\n\t},\n\n\tgetParameter: function ( point, target ) {\n\n\t\t// This can potentially have a divide by zero if the box\n\t\t// has a size dimension of 0.\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Box3: .getParameter() target is now required' );\n\t\t\ttarget = new Vector3();\n\n\t\t}\n\n\t\treturn target.set(\n\t\t\t( point.x - this.min.x ) / ( this.max.x - this.min.x ),\n\t\t\t( point.y - this.min.y ) / ( this.max.y - this.min.y ),\n\t\t\t( point.z - this.min.z ) / ( this.max.z - this.min.z )\n\t\t);\n\n\t},\n\n\tintersectsBox: function ( box ) {\n\n\t\t// using 6 splitting planes to rule out intersections.\n\t\treturn box.max.x < this.min.x || box.min.x > this.max.x ||\n\t\t\tbox.max.y < this.min.y || box.min.y > this.max.y ||\n\t\t\tbox.max.z < this.min.z || box.min.z > this.max.z ? false : true;\n\n\t},\n\n\tintersectsSphere: ( function () {\n\n\t\tvar closestPoint = new Vector3();\n\n\t\treturn function intersectsSphere( sphere ) {\n\n\t\t\t// Find the point on the AABB closest to the sphere center.\n\t\t\tthis.clampPoint( sphere.center, closestPoint );\n\n\t\t\t// If that point is inside the sphere, the AABB and sphere intersect.\n\t\t\treturn closestPoint.distanceToSquared( sphere.center ) <= ( sphere.radius * sphere.radius );\n\n\t\t};\n\n\t} )(),\n\n\tintersectsPlane: function ( plane ) {\n\n\t\t// We compute the minimum and maximum dot product values. If those values\n\t\t// are on the same side (back or front) of the plane, then there is no intersection.\n\n\t\tvar min, max;\n\n\t\tif ( plane.normal.x > 0 ) {\n\n\t\t\tmin = plane.normal.x * this.min.x;\n\t\t\tmax = plane.normal.x * this.max.x;\n\n\t\t} else {\n\n\t\t\tmin = plane.normal.x * this.max.x;\n\t\t\tmax = plane.normal.x * this.min.x;\n\n\t\t}\n\n\t\tif ( plane.normal.y > 0 ) {\n\n\t\t\tmin += plane.normal.y * this.min.y;\n\t\t\tmax += plane.normal.y * this.max.y;\n\n\t\t} else {\n\n\t\t\tmin += plane.normal.y * this.max.y;\n\t\t\tmax += plane.normal.y * this.min.y;\n\n\t\t}\n\n\t\tif ( plane.normal.z > 0 ) {\n\n\t\t\tmin += plane.normal.z * this.min.z;\n\t\t\tmax += plane.normal.z * this.max.z;\n\n\t\t} else {\n\n\t\t\tmin += plane.normal.z * this.max.z;\n\t\t\tmax += plane.normal.z * this.min.z;\n\n\t\t}\n\n\t\treturn ( min <= - plane.constant && max >= - plane.constant );\n\n\t},\n\n\tintersectsTriangle: ( function () {\n\n\t\t// triangle centered vertices\n\t\tvar v0 = new Vector3();\n\t\tvar v1 = new Vector3();\n\t\tvar v2 = new Vector3();\n\n\t\t// triangle edge vectors\n\t\tvar f0 = new Vector3();\n\t\tvar f1 = new Vector3();\n\t\tvar f2 = new Vector3();\n\n\t\tvar testAxis = new Vector3();\n\n\t\tvar center = new Vector3();\n\t\tvar extents = new Vector3();\n\n\t\tvar triangleNormal = new Vector3();\n\n\t\tfunction satForAxes( axes ) {\n\n\t\t\tvar i, j;\n\n\t\t\tfor ( i = 0, j = axes.length - 3; i <= j; i += 3 ) {\n\n\t\t\t\ttestAxis.fromArray( axes, i );\n\t\t\t\t// project the aabb onto the seperating axis\n\t\t\t\tvar r = extents.x * Math.abs( testAxis.x ) + extents.y * Math.abs( testAxis.y ) + extents.z * Math.abs( testAxis.z );\n\t\t\t\t// project all 3 vertices of the triangle onto the seperating axis\n\t\t\t\tvar p0 = v0.dot( testAxis );\n\t\t\t\tvar p1 = v1.dot( testAxis );\n\t\t\t\tvar p2 = v2.dot( testAxis );\n\t\t\t\t// actual test, basically see if either of the most extreme of the triangle points intersects r\n\t\t\t\tif ( Math.max( - Math.max( p0, p1, p2 ), Math.min( p0, p1, p2 ) ) > r ) {\n\n\t\t\t\t\t// points of the projected triangle are outside the projected half-length of the aabb\n\t\t\t\t\t// the axis is seperating and we can exit\n\t\t\t\t\treturn false;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\treturn true;\n\n\t\t}\n\n\t\treturn function intersectsTriangle( triangle ) {\n\n\t\t\tif ( this.isEmpty() ) {\n\n\t\t\t\treturn false;\n\n\t\t\t}\n\n\t\t\t// compute box center and extents\n\t\t\tthis.getCenter( center );\n\t\t\textents.subVectors( this.max, center );\n\n\t\t\t// translate triangle to aabb origin\n\t\t\tv0.subVectors( triangle.a, center );\n\t\t\tv1.subVectors( triangle.b, center );\n\t\t\tv2.subVectors( triangle.c, center );\n\n\t\t\t// compute edge vectors for triangle\n\t\t\tf0.subVectors( v1, v0 );\n\t\t\tf1.subVectors( v2, v1 );\n\t\t\tf2.subVectors( v0, v2 );\n\n\t\t\t// test against axes that are given by cross product combinations of the edges of the triangle and the edges of the aabb\n\t\t\t// make an axis testing of each of the 3 sides of the aabb against each of the 3 sides of the triangle = 9 axis of separation\n\t\t\t// axis_ij = u_i x f_j (u0, u1, u2 = face normals of aabb = x,y,z axes vectors since aabb is axis aligned)\n\t\t\tvar axes = [\n\t\t\t\t0, - f0.z, f0.y, 0, - f1.z, f1.y, 0, - f2.z, f2.y,\n\t\t\t\tf0.z, 0, - f0.x, f1.z, 0, - f1.x, f2.z, 0, - f2.x,\n\t\t\t\t- f0.y, f0.x, 0, - f1.y, f1.x, 0, - f2.y, f2.x, 0\n\t\t\t];\n\t\t\tif ( ! satForAxes( axes ) ) {\n\n\t\t\t\treturn false;\n\n\t\t\t}\n\n\t\t\t// test 3 face normals from the aabb\n\t\t\taxes = [ 1, 0, 0, 0, 1, 0, 0, 0, 1 ];\n\t\t\tif ( ! satForAxes( axes ) ) {\n\n\t\t\t\treturn false;\n\n\t\t\t}\n\n\t\t\t// finally testing the face normal of the triangle\n\t\t\t// use already existing triangle edge vectors here\n\t\t\ttriangleNormal.crossVectors( f0, f1 );\n\t\t\taxes = [ triangleNormal.x, triangleNormal.y, triangleNormal.z ];\n\t\t\treturn satForAxes( axes );\n\n\t\t};\n\n\t} )(),\n\n\tclampPoint: function ( point, target ) {\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Box3: .clampPoint() target is now required' );\n\t\t\ttarget = new Vector3();\n\n\t\t}\n\n\t\treturn target.copy( point ).clamp( this.min, this.max );\n\n\t},\n\n\tdistanceToPoint: function () {\n\n\t\tvar v1 = new Vector3();\n\n\t\treturn function distanceToPoint( point ) {\n\n\t\t\tvar clampedPoint = v1.copy( point ).clamp( this.min, this.max );\n\t\t\treturn clampedPoint.sub( point ).length();\n\n\t\t};\n\n\t}(),\n\n\tgetBoundingSphere: function () {\n\n\t\tvar v1 = new Vector3();\n\n\t\treturn function getBoundingSphere( target ) {\n\n\t\t\tif ( target === undefined ) {\n\n\t\t\t\tconsole.error( 'THREE.Box3: .getBoundingSphere() target is now required' );\n\t\t\t\t//target = new Sphere(); // removed to avoid cyclic dependency\n\n\t\t\t}\n\n\t\t\tthis.getCenter( target.center );\n\n\t\t\ttarget.radius = this.getSize( v1 ).length() * 0.5;\n\n\t\t\treturn target;\n\n\t\t};\n\n\t}(),\n\n\tintersect: function ( box ) {\n\n\t\tthis.min.max( box.min );\n\t\tthis.max.min( box.max );\n\n\t\t// ensure that if there is no overlap, the result is fully empty, not slightly empty with non-inf/+inf values that will cause subsequence intersects to erroneously return valid values.\n\t\tif ( this.isEmpty() ) this.makeEmpty();\n\n\t\treturn this;\n\n\t},\n\n\tunion: function ( box ) {\n\n\t\tthis.min.min( box.min );\n\t\tthis.max.max( box.max );\n\n\t\treturn this;\n\n\t},\n\n\tapplyMatrix4: function () {\n\n\t\tvar points = [\n\t\t\tnew Vector3(),\n\t\t\tnew Vector3(),\n\t\t\tnew Vector3(),\n\t\t\tnew Vector3(),\n\t\t\tnew Vector3(),\n\t\t\tnew Vector3(),\n\t\t\tnew Vector3(),\n\t\t\tnew Vector3()\n\t\t];\n\n\t\treturn function applyMatrix4( matrix ) {\n\n\t\t\t// transform of empty box is an empty box.\n\t\t\tif ( this.isEmpty() ) return this;\n\n\t\t\t// NOTE: I am using a binary pattern to specify all 2^3 combinations below\n\t\t\tpoints[ 0 ].set( this.min.x, this.min.y, this.min.z ).applyMatrix4( matrix ); // 000\n\t\t\tpoints[ 1 ].set( this.min.x, this.min.y, this.max.z ).applyMatrix4( matrix ); // 001\n\t\t\tpoints[ 2 ].set( this.min.x, this.max.y, this.min.z ).applyMatrix4( matrix ); // 010\n\t\t\tpoints[ 3 ].set( this.min.x, this.max.y, this.max.z ).applyMatrix4( matrix ); // 011\n\t\t\tpoints[ 4 ].set( this.max.x, this.min.y, this.min.z ).applyMatrix4( matrix ); // 100\n\t\t\tpoints[ 5 ].set( this.max.x, this.min.y, this.max.z ).applyMatrix4( matrix ); // 101\n\t\t\tpoints[ 6 ].set( this.max.x, this.max.y, this.min.z ).applyMatrix4( matrix ); // 110\n\t\t\tpoints[ 7 ].set( this.max.x, this.max.y, this.max.z ).applyMatrix4( matrix ); // 111\n\n\t\t\tthis.setFromPoints( points );\n\n\t\t\treturn this;\n\n\t\t};\n\n\t}(),\n\n\ttranslate: function ( offset ) {\n\n\t\tthis.min.add( offset );\n\t\tthis.max.add( offset );\n\n\t\treturn this;\n\n\t},\n\n\tequals: function ( box ) {\n\n\t\treturn box.min.equals( this.min ) && box.max.equals( this.max );\n\n\t}\n\n} );\n\n/**\n * @author bhouston / http://clara.io\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction Sphere( center, radius ) {\n\n\tthis.center = ( center !== undefined ) ? center : new Vector3();\n\tthis.radius = ( radius !== undefined ) ? radius : 0;\n\n}\n\nObject.assign( Sphere.prototype, {\n\n\tset: function ( center, radius ) {\n\n\t\tthis.center.copy( center );\n\t\tthis.radius = radius;\n\n\t\treturn this;\n\n\t},\n\n\tsetFromPoints: function () {\n\n\t\tvar box = new Box3();\n\n\t\treturn function setFromPoints( points, optionalCenter ) {\n\n\t\t\tvar center = this.center;\n\n\t\t\tif ( optionalCenter !== undefined ) {\n\n\t\t\t\tcenter.copy( optionalCenter );\n\n\t\t\t} else {\n\n\t\t\t\tbox.setFromPoints( points ).getCenter( center );\n\n\t\t\t}\n\n\t\t\tvar maxRadiusSq = 0;\n\n\t\t\tfor ( var i = 0, il = points.length; i < il; i ++ ) {\n\n\t\t\t\tmaxRadiusSq = Math.max( maxRadiusSq, center.distanceToSquared( points[ i ] ) );\n\n\t\t\t}\n\n\t\t\tthis.radius = Math.sqrt( maxRadiusSq );\n\n\t\t\treturn this;\n\n\t\t};\n\n\t}(),\n\n\tclone: function () {\n\n\t\treturn new this.constructor().copy( this );\n\n\t},\n\n\tcopy: function ( sphere ) {\n\n\t\tthis.center.copy( sphere.center );\n\t\tthis.radius = sphere.radius;\n\n\t\treturn this;\n\n\t},\n\n\tempty: function () {\n\n\t\treturn ( this.radius <= 0 );\n\n\t},\n\n\tcontainsPoint: function ( point ) {\n\n\t\treturn ( point.distanceToSquared( this.center ) <= ( this.radius * this.radius ) );\n\n\t},\n\n\tdistanceToPoint: function ( point ) {\n\n\t\treturn ( point.distanceTo( this.center ) - this.radius );\n\n\t},\n\n\tintersectsSphere: function ( sphere ) {\n\n\t\tvar radiusSum = this.radius + sphere.radius;\n\n\t\treturn sphere.center.distanceToSquared( this.center ) <= ( radiusSum * radiusSum );\n\n\t},\n\n\tintersectsBox: function ( box ) {\n\n\t\treturn box.intersectsSphere( this );\n\n\t},\n\n\tintersectsPlane: function ( plane ) {\n\n\t\treturn Math.abs( plane.distanceToPoint( this.center ) ) <= this.radius;\n\n\t},\n\n\tclampPoint: function ( point, target ) {\n\n\t\tvar deltaLengthSq = this.center.distanceToSquared( point );\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Sphere: .clampPoint() target is now required' );\n\t\t\ttarget = new Vector3();\n\n\t\t}\n\n\t\ttarget.copy( point );\n\n\t\tif ( deltaLengthSq > ( this.radius * this.radius ) ) {\n\n\t\t\ttarget.sub( this.center ).normalize();\n\t\t\ttarget.multiplyScalar( this.radius ).add( this.center );\n\n\t\t}\n\n\t\treturn target;\n\n\t},\n\n\tgetBoundingBox: function ( target ) {\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Sphere: .getBoundingBox() target is now required' );\n\t\t\ttarget = new Box3();\n\n\t\t}\n\n\t\ttarget.set( this.center, this.center );\n\t\ttarget.expandByScalar( this.radius );\n\n\t\treturn target;\n\n\t},\n\n\tapplyMatrix4: function ( matrix ) {\n\n\t\tthis.center.applyMatrix4( matrix );\n\t\tthis.radius = this.radius * matrix.getMaxScaleOnAxis();\n\n\t\treturn this;\n\n\t},\n\n\ttranslate: function ( offset ) {\n\n\t\tthis.center.add( offset );\n\n\t\treturn this;\n\n\t},\n\n\tequals: function ( sphere ) {\n\n\t\treturn sphere.center.equals( this.center ) && ( sphere.radius === this.radius );\n\n\t}\n\n} );\n\n/**\n * @author bhouston / http://clara.io\n */\n\nfunction Plane( normal, constant ) {\n\n\t// normal is assumed to be normalized\n\n\tthis.normal = ( normal !== undefined ) ? normal : new Vector3( 1, 0, 0 );\n\tthis.constant = ( constant !== undefined ) ? constant : 0;\n\n}\n\nObject.assign( Plane.prototype, {\n\n\tset: function ( normal, constant ) {\n\n\t\tthis.normal.copy( normal );\n\t\tthis.constant = constant;\n\n\t\treturn this;\n\n\t},\n\n\tsetComponents: function ( x, y, z, w ) {\n\n\t\tthis.normal.set( x, y, z );\n\t\tthis.constant = w;\n\n\t\treturn this;\n\n\t},\n\n\tsetFromNormalAndCoplanarPoint: function ( normal, point ) {\n\n\t\tthis.normal.copy( normal );\n\t\tthis.constant = - point.dot( this.normal );\n\n\t\treturn this;\n\n\t},\n\n\tsetFromCoplanarPoints: function () {\n\n\t\tvar v1 = new Vector3();\n\t\tvar v2 = new Vector3();\n\n\t\treturn function setFromCoplanarPoints( a, b, c ) {\n\n\t\t\tvar normal = v1.subVectors( c, b ).cross( v2.subVectors( a, b ) ).normalize();\n\n\t\t\t// Q: should an error be thrown if normal is zero (e.g. degenerate plane)?\n\n\t\t\tthis.setFromNormalAndCoplanarPoint( normal, a );\n\n\t\t\treturn this;\n\n\t\t};\n\n\t}(),\n\n\tclone: function () {\n\n\t\treturn new this.constructor().copy( this );\n\n\t},\n\n\tcopy: function ( plane ) {\n\n\t\tthis.normal.copy( plane.normal );\n\t\tthis.constant = plane.constant;\n\n\t\treturn this;\n\n\t},\n\n\tnormalize: function () {\n\n\t\t// Note: will lead to a divide by zero if the plane is invalid.\n\n\t\tvar inverseNormalLength = 1.0 / this.normal.length();\n\t\tthis.normal.multiplyScalar( inverseNormalLength );\n\t\tthis.constant *= inverseNormalLength;\n\n\t\treturn this;\n\n\t},\n\n\tnegate: function () {\n\n\t\tthis.constant *= - 1;\n\t\tthis.normal.negate();\n\n\t\treturn this;\n\n\t},\n\n\tdistanceToPoint: function ( point ) {\n\n\t\treturn this.normal.dot( point ) + this.constant;\n\n\t},\n\n\tdistanceToSphere: function ( sphere ) {\n\n\t\treturn this.distanceToPoint( sphere.center ) - sphere.radius;\n\n\t},\n\n\tprojectPoint: function ( point, target ) {\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Plane: .projectPoint() target is now required' );\n\t\t\ttarget = new Vector3();\n\n\t\t}\n\n\t\treturn target.copy( this.normal ).multiplyScalar( - this.distanceToPoint( point ) ).add( point );\n\n\t},\n\n\tintersectLine: function () {\n\n\t\tvar v1 = new Vector3();\n\n\t\treturn function intersectLine( line, target ) {\n\n\t\t\tif ( target === undefined ) {\n\n\t\t\t\tconsole.warn( 'THREE.Plane: .intersectLine() target is now required' );\n\t\t\t\ttarget = new Vector3();\n\n\t\t\t}\n\n\t\t\tvar direction = line.delta( v1 );\n\n\t\t\tvar denominator = this.normal.dot( direction );\n\n\t\t\tif ( denominator === 0 ) {\n\n\t\t\t\t// line is coplanar, return origin\n\t\t\t\tif ( this.distanceToPoint( line.start ) === 0 ) {\n\n\t\t\t\t\treturn target.copy( line.start );\n\n\t\t\t\t}\n\n\t\t\t\t// Unsure if this is the correct method to handle this case.\n\t\t\t\treturn undefined;\n\n\t\t\t}\n\n\t\t\tvar t = - ( line.start.dot( this.normal ) + this.constant ) / denominator;\n\n\t\t\tif ( t < 0 || t > 1 ) {\n\n\t\t\t\treturn undefined;\n\n\t\t\t}\n\n\t\t\treturn target.copy( direction ).multiplyScalar( t ).add( line.start );\n\n\t\t};\n\n\t}(),\n\n\tintersectsLine: function ( line ) {\n\n\t\t// Note: this tests if a line intersects the plane, not whether it (or its end-points) are coplanar with it.\n\n\t\tvar startSign = this.distanceToPoint( line.start );\n\t\tvar endSign = this.distanceToPoint( line.end );\n\n\t\treturn ( startSign < 0 && endSign > 0 ) || ( endSign < 0 && startSign > 0 );\n\n\t},\n\n\tintersectsBox: function ( box ) {\n\n\t\treturn box.intersectsPlane( this );\n\n\t},\n\n\tintersectsSphere: function ( sphere ) {\n\n\t\treturn sphere.intersectsPlane( this );\n\n\t},\n\n\tcoplanarPoint: function ( target ) {\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Plane: .coplanarPoint() target is now required' );\n\t\t\ttarget = new Vector3();\n\n\t\t}\n\n\t\treturn target.copy( this.normal ).multiplyScalar( - this.constant );\n\n\t},\n\n\tapplyMatrix4: function () {\n\n\t\tvar v1 = new Vector3();\n\t\tvar m1 = new Matrix3();\n\n\t\treturn function applyMatrix4( matrix, optionalNormalMatrix ) {\n\n\t\t\tvar normalMatrix = optionalNormalMatrix || m1.getNormalMatrix( matrix );\n\n\t\t\tvar referencePoint = this.coplanarPoint( v1 ).applyMatrix4( matrix );\n\n\t\t\tvar normal = this.normal.applyMatrix3( normalMatrix ).normalize();\n\n\t\t\tthis.constant = - referencePoint.dot( normal );\n\n\t\t\treturn this;\n\n\t\t};\n\n\t}(),\n\n\ttranslate: function ( offset ) {\n\n\t\tthis.constant -= offset.dot( this.normal );\n\n\t\treturn this;\n\n\t},\n\n\tequals: function ( plane ) {\n\n\t\treturn plane.normal.equals( this.normal ) && ( plane.constant === this.constant );\n\n\t}\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author alteredq / http://alteredqualia.com/\n * @author bhouston / http://clara.io\n */\n\nfunction Frustum( p0, p1, p2, p3, p4, p5 ) {\n\n\tthis.planes = [\n\n\t\t( p0 !== undefined ) ? p0 : new Plane(),\n\t\t( p1 !== undefined ) ? p1 : new Plane(),\n\t\t( p2 !== undefined ) ? p2 : new Plane(),\n\t\t( p3 !== undefined ) ? p3 : new Plane(),\n\t\t( p4 !== undefined ) ? p4 : new Plane(),\n\t\t( p5 !== undefined ) ? p5 : new Plane()\n\n\t];\n\n}\n\nObject.assign( Frustum.prototype, {\n\n\tset: function ( p0, p1, p2, p3, p4, p5 ) {\n\n\t\tvar planes = this.planes;\n\n\t\tplanes[ 0 ].copy( p0 );\n\t\tplanes[ 1 ].copy( p1 );\n\t\tplanes[ 2 ].copy( p2 );\n\t\tplanes[ 3 ].copy( p3 );\n\t\tplanes[ 4 ].copy( p4 );\n\t\tplanes[ 5 ].copy( p5 );\n\n\t\treturn this;\n\n\t},\n\n\tclone: function () {\n\n\t\treturn new this.constructor().copy( this );\n\n\t},\n\n\tcopy: function ( frustum ) {\n\n\t\tvar planes = this.planes;\n\n\t\tfor ( var i = 0; i < 6; i ++ ) {\n\n\t\t\tplanes[ i ].copy( frustum.planes[ i ] );\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tsetFromMatrix: function ( m ) {\n\n\t\tvar planes = this.planes;\n\t\tvar me = m.elements;\n\t\tvar me0 = me[ 0 ], me1 = me[ 1 ], me2 = me[ 2 ], me3 = me[ 3 ];\n\t\tvar me4 = me[ 4 ], me5 = me[ 5 ], me6 = me[ 6 ], me7 = me[ 7 ];\n\t\tvar me8 = me[ 8 ], me9 = me[ 9 ], me10 = me[ 10 ], me11 = me[ 11 ];\n\t\tvar me12 = me[ 12 ], me13 = me[ 13 ], me14 = me[ 14 ], me15 = me[ 15 ];\n\n\t\tplanes[ 0 ].setComponents( me3 - me0, me7 - me4, me11 - me8, me15 - me12 ).normalize();\n\t\tplanes[ 1 ].setComponents( me3 + me0, me7 + me4, me11 + me8, me15 + me12 ).normalize();\n\t\tplanes[ 2 ].setComponents( me3 + me1, me7 + me5, me11 + me9, me15 + me13 ).normalize();\n\t\tplanes[ 3 ].setComponents( me3 - me1, me7 - me5, me11 - me9, me15 - me13 ).normalize();\n\t\tplanes[ 4 ].setComponents( me3 - me2, me7 - me6, me11 - me10, me15 - me14 ).normalize();\n\t\tplanes[ 5 ].setComponents( me3 + me2, me7 + me6, me11 + me10, me15 + me14 ).normalize();\n\n\t\treturn this;\n\n\t},\n\n\tintersectsObject: function () {\n\n\t\tvar sphere = new Sphere();\n\n\t\treturn function intersectsObject( object ) {\n\n\t\t\tvar geometry = object.geometry;\n\n\t\t\tif ( geometry.boundingSphere === null )\n\t\t\t\tgeometry.computeBoundingSphere();\n\n\t\t\tsphere.copy( geometry.boundingSphere )\n\t\t\t\t.applyMatrix4( object.matrixWorld );\n\n\t\t\treturn this.intersectsSphere( sphere );\n\n\t\t};\n\n\t}(),\n\n\tintersectsSprite: function () {\n\n\t\tvar sphere = new Sphere();\n\n\t\treturn function intersectsSprite( sprite ) {\n\n\t\t\tsphere.center.set( 0, 0, 0 );\n\t\t\tsphere.radius = 0.7071067811865476;\n\t\t\tsphere.applyMatrix4( sprite.matrixWorld );\n\n\t\t\treturn this.intersectsSphere( sphere );\n\n\t\t};\n\n\t}(),\n\n\tintersectsSphere: function ( sphere ) {\n\n\t\tvar planes = this.planes;\n\t\tvar center = sphere.center;\n\t\tvar negRadius = - sphere.radius;\n\n\t\tfor ( var i = 0; i < 6; i ++ ) {\n\n\t\t\tvar distance = planes[ i ].distanceToPoint( center );\n\n\t\t\tif ( distance < negRadius ) {\n\n\t\t\t\treturn false;\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn true;\n\n\t},\n\n\tintersectsBox: function () {\n\n\t\tvar p = new Vector3();\n\n\t\treturn function intersectsBox( box ) {\n\n\t\t\tvar planes = this.planes;\n\n\t\t\tfor ( var i = 0; i < 6; i ++ ) {\n\n\t\t\t\tvar plane = planes[ i ];\n\n\t\t\t\t// corner at max distance\n\n\t\t\t\tp.x = plane.normal.x > 0 ? box.max.x : box.min.x;\n\t\t\t\tp.y = plane.normal.y > 0 ? box.max.y : box.min.y;\n\t\t\t\tp.z = plane.normal.z > 0 ? box.max.z : box.min.z;\n\n\t\t\t\tif ( plane.distanceToPoint( p ) < 0 ) {\n\n\t\t\t\t\treturn false;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\treturn true;\n\n\t\t};\n\n\t}(),\n\n\tcontainsPoint: function ( point ) {\n\n\t\tvar planes = this.planes;\n\n\t\tfor ( var i = 0; i < 6; i ++ ) {\n\n\t\t\tif ( planes[ i ].distanceToPoint( point ) < 0 ) {\n\n\t\t\t\treturn false;\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn true;\n\n\t}\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author supereggbert / http://www.paulbrunt.co.uk/\n * @author philogb / http://blog.thejit.org/\n * @author jordi_ros / http://plattsoft.com\n * @author D1plo1d / http://github.com/D1plo1d\n * @author alteredq / http://alteredqualia.com/\n * @author mikael emtinger / http://gomo.se/\n * @author timknip / http://www.floorplanner.com/\n * @author bhouston / http://clara.io\n * @author WestLangley / http://github.com/WestLangley\n */\n\nfunction Matrix4() {\n\n\tthis.elements = [\n\n\t\t1, 0, 0, 0,\n\t\t0, 1, 0, 0,\n\t\t0, 0, 1, 0,\n\t\t0, 0, 0, 1\n\n\t];\n\n\tif ( arguments.length > 0 ) {\n\n\t\tconsole.error( 'THREE.Matrix4: the constructor no longer reads arguments. use .set() instead.' );\n\n\t}\n\n}\n\nObject.assign( Matrix4.prototype, {\n\n\tisMatrix4: true,\n\n\tset: function ( n11, n12, n13, n14, n21, n22, n23, n24, n31, n32, n33, n34, n41, n42, n43, n44 ) {\n\n\t\tvar te = this.elements;\n\n\t\tte[ 0 ] = n11; te[ 4 ] = n12; te[ 8 ] = n13; te[ 12 ] = n14;\n\t\tte[ 1 ] = n21; te[ 5 ] = n22; te[ 9 ] = n23; te[ 13 ] = n24;\n\t\tte[ 2 ] = n31; te[ 6 ] = n32; te[ 10 ] = n33; te[ 14 ] = n34;\n\t\tte[ 3 ] = n41; te[ 7 ] = n42; te[ 11 ] = n43; te[ 15 ] = n44;\n\n\t\treturn this;\n\n\t},\n\n\tidentity: function () {\n\n\t\tthis.set(\n\n\t\t\t1, 0, 0, 0,\n\t\t\t0, 1, 0, 0,\n\t\t\t0, 0, 1, 0,\n\t\t\t0, 0, 0, 1\n\n\t\t);\n\n\t\treturn this;\n\n\t},\n\n\tclone: function () {\n\n\t\treturn new Matrix4().fromArray( this.elements );\n\n\t},\n\n\tcopy: function ( m ) {\n\n\t\tvar te = this.elements;\n\t\tvar me = m.elements;\n\n\t\tte[ 0 ] = me[ 0 ]; te[ 1 ] = me[ 1 ]; te[ 2 ] = me[ 2 ]; te[ 3 ] = me[ 3 ];\n\t\tte[ 4 ] = me[ 4 ]; te[ 5 ] = me[ 5 ]; te[ 6 ] = me[ 6 ]; te[ 7 ] = me[ 7 ];\n\t\tte[ 8 ] = me[ 8 ]; te[ 9 ] = me[ 9 ]; te[ 10 ] = me[ 10 ]; te[ 11 ] = me[ 11 ];\n\t\tte[ 12 ] = me[ 12 ]; te[ 13 ] = me[ 13 ]; te[ 14 ] = me[ 14 ]; te[ 15 ] = me[ 15 ];\n\n\t\treturn this;\n\n\t},\n\n\tcopyPosition: function ( m ) {\n\n\t\tvar te = this.elements, me = m.elements;\n\n\t\tte[ 12 ] = me[ 12 ];\n\t\tte[ 13 ] = me[ 13 ];\n\t\tte[ 14 ] = me[ 14 ];\n\n\t\treturn this;\n\n\t},\n\n\textractBasis: function ( xAxis, yAxis, zAxis ) {\n\n\t\txAxis.setFromMatrixColumn( this, 0 );\n\t\tyAxis.setFromMatrixColumn( this, 1 );\n\t\tzAxis.setFromMatrixColumn( this, 2 );\n\n\t\treturn this;\n\n\t},\n\n\tmakeBasis: function ( xAxis, yAxis, zAxis ) {\n\n\t\tthis.set(\n\t\t\txAxis.x, yAxis.x, zAxis.x, 0,\n\t\t\txAxis.y, yAxis.y, zAxis.y, 0,\n\t\t\txAxis.z, yAxis.z, zAxis.z, 0,\n\t\t\t0, 0, 0, 1\n\t\t);\n\n\t\treturn this;\n\n\t},\n\n\textractRotation: function () {\n\n\t\tvar v1 = new Vector3();\n\n\t\treturn function extractRotation( m ) {\n\n\t\t\t// this method does not support reflection matrices\n\n\t\t\tvar te = this.elements;\n\t\t\tvar me = m.elements;\n\n\t\t\tvar scaleX = 1 / v1.setFromMatrixColumn( m, 0 ).length();\n\t\t\tvar scaleY = 1 / v1.setFromMatrixColumn( m, 1 ).length();\n\t\t\tvar scaleZ = 1 / v1.setFromMatrixColumn( m, 2 ).length();\n\n\t\t\tte[ 0 ] = me[ 0 ] * scaleX;\n\t\t\tte[ 1 ] = me[ 1 ] * scaleX;\n\t\t\tte[ 2 ] = me[ 2 ] * scaleX;\n\t\t\tte[ 3 ] = 0;\n\n\t\t\tte[ 4 ] = me[ 4 ] * scaleY;\n\t\t\tte[ 5 ] = me[ 5 ] * scaleY;\n\t\t\tte[ 6 ] = me[ 6 ] * scaleY;\n\t\t\tte[ 7 ] = 0;\n\n\t\t\tte[ 8 ] = me[ 8 ] * scaleZ;\n\t\t\tte[ 9 ] = me[ 9 ] * scaleZ;\n\t\t\tte[ 10 ] = me[ 10 ] * scaleZ;\n\t\t\tte[ 11 ] = 0;\n\n\t\t\tte[ 12 ] = 0;\n\t\t\tte[ 13 ] = 0;\n\t\t\tte[ 14 ] = 0;\n\t\t\tte[ 15 ] = 1;\n\n\t\t\treturn this;\n\n\t\t};\n\n\t}(),\n\n\tmakeRotationFromEuler: function ( euler ) {\n\n\t\tif ( ! ( euler && euler.isEuler ) ) {\n\n\t\t\tconsole.error( 'THREE.Matrix4: .makeRotationFromEuler() now expects a Euler rotation rather than a Vector3 and order.' );\n\n\t\t}\n\n\t\tvar te = this.elements;\n\n\t\tvar x = euler.x, y = euler.y, z = euler.z;\n\t\tvar a = Math.cos( x ), b = Math.sin( x );\n\t\tvar c = Math.cos( y ), d = Math.sin( y );\n\t\tvar e = Math.cos( z ), f = Math.sin( z );\n\n\t\tif ( euler.order === 'XYZ' ) {\n\n\t\t\tvar ae = a * e, af = a * f, be = b * e, bf = b * f;\n\n\t\t\tte[ 0 ] = c * e;\n\t\t\tte[ 4 ] = - c * f;\n\t\t\tte[ 8 ] = d;\n\n\t\t\tte[ 1 ] = af + be * d;\n\t\t\tte[ 5 ] = ae - bf * d;\n\t\t\tte[ 9 ] = - b * c;\n\n\t\t\tte[ 2 ] = bf - ae * d;\n\t\t\tte[ 6 ] = be + af * d;\n\t\t\tte[ 10 ] = a * c;\n\n\t\t} else if ( euler.order === 'YXZ' ) {\n\n\t\t\tvar ce = c * e, cf = c * f, de = d * e, df = d * f;\n\n\t\t\tte[ 0 ] = ce + df * b;\n\t\t\tte[ 4 ] = de * b - cf;\n\t\t\tte[ 8 ] = a * d;\n\n\t\t\tte[ 1 ] = a * f;\n\t\t\tte[ 5 ] = a * e;\n\t\t\tte[ 9 ] = - b;\n\n\t\t\tte[ 2 ] = cf * b - de;\n\t\t\tte[ 6 ] = df + ce * b;\n\t\t\tte[ 10 ] = a * c;\n\n\t\t} else if ( euler.order === 'ZXY' ) {\n\n\t\t\tvar ce = c * e, cf = c * f, de = d * e, df = d * f;\n\n\t\t\tte[ 0 ] = ce - df * b;\n\t\t\tte[ 4 ] = - a * f;\n\t\t\tte[ 8 ] = de + cf * b;\n\n\t\t\tte[ 1 ] = cf + de * b;\n\t\t\tte[ 5 ] = a * e;\n\t\t\tte[ 9 ] = df - ce * b;\n\n\t\t\tte[ 2 ] = - a * d;\n\t\t\tte[ 6 ] = b;\n\t\t\tte[ 10 ] = a * c;\n\n\t\t} else if ( euler.order === 'ZYX' ) {\n\n\t\t\tvar ae = a * e, af = a * f, be = b * e, bf = b * f;\n\n\t\t\tte[ 0 ] = c * e;\n\t\t\tte[ 4 ] = be * d - af;\n\t\t\tte[ 8 ] = ae * d + bf;\n\n\t\t\tte[ 1 ] = c * f;\n\t\t\tte[ 5 ] = bf * d + ae;\n\t\t\tte[ 9 ] = af * d - be;\n\n\t\t\tte[ 2 ] = - d;\n\t\t\tte[ 6 ] = b * c;\n\t\t\tte[ 10 ] = a * c;\n\n\t\t} else if ( euler.order === 'YZX' ) {\n\n\t\t\tvar ac = a * c, ad = a * d, bc = b * c, bd = b * d;\n\n\t\t\tte[ 0 ] = c * e;\n\t\t\tte[ 4 ] = bd - ac * f;\n\t\t\tte[ 8 ] = bc * f + ad;\n\n\t\t\tte[ 1 ] = f;\n\t\t\tte[ 5 ] = a * e;\n\t\t\tte[ 9 ] = - b * e;\n\n\t\t\tte[ 2 ] = - d * e;\n\t\t\tte[ 6 ] = ad * f + bc;\n\t\t\tte[ 10 ] = ac - bd * f;\n\n\t\t} else if ( euler.order === 'XZY' ) {\n\n\t\t\tvar ac = a * c, ad = a * d, bc = b * c, bd = b * d;\n\n\t\t\tte[ 0 ] = c * e;\n\t\t\tte[ 4 ] = - f;\n\t\t\tte[ 8 ] = d * e;\n\n\t\t\tte[ 1 ] = ac * f + bd;\n\t\t\tte[ 5 ] = a * e;\n\t\t\tte[ 9 ] = ad * f - bc;\n\n\t\t\tte[ 2 ] = bc * f - ad;\n\t\t\tte[ 6 ] = b * e;\n\t\t\tte[ 10 ] = bd * f + ac;\n\n\t\t}\n\n\t\t// bottom row\n\t\tte[ 3 ] = 0;\n\t\tte[ 7 ] = 0;\n\t\tte[ 11 ] = 0;\n\n\t\t// last column\n\t\tte[ 12 ] = 0;\n\t\tte[ 13 ] = 0;\n\t\tte[ 14 ] = 0;\n\t\tte[ 15 ] = 1;\n\n\t\treturn this;\n\n\t},\n\n\tmakeRotationFromQuaternion: function () {\n\n\t\tvar zero = new Vector3( 0, 0, 0 );\n\t\tvar one = new Vector3( 1, 1, 1 );\n\n\t\treturn function makeRotationFromQuaternion( q ) {\n\n\t\t\treturn this.compose( zero, q, one );\n\n\t\t};\n\n\t}(),\n\n\tlookAt: function () {\n\n\t\tvar x = new Vector3();\n\t\tvar y = new Vector3();\n\t\tvar z = new Vector3();\n\n\t\treturn function lookAt( eye, target, up ) {\n\n\t\t\tvar te = this.elements;\n\n\t\t\tz.subVectors( eye, target );\n\n\t\t\tif ( z.lengthSq() === 0 ) {\n\n\t\t\t\t// eye and target are in the same position\n\n\t\t\t\tz.z = 1;\n\n\t\t\t}\n\n\t\t\tz.normalize();\n\t\t\tx.crossVectors( up, z );\n\n\t\t\tif ( x.lengthSq() === 0 ) {\n\n\t\t\t\t// up and z are parallel\n\n\t\t\t\tif ( Math.abs( up.z ) === 1 ) {\n\n\t\t\t\t\tz.x += 0.0001;\n\n\t\t\t\t} else {\n\n\t\t\t\t\tz.z += 0.0001;\n\n\t\t\t\t}\n\n\t\t\t\tz.normalize();\n\t\t\t\tx.crossVectors( up, z );\n\n\t\t\t}\n\n\t\t\tx.normalize();\n\t\t\ty.crossVectors( z, x );\n\n\t\t\tte[ 0 ] = x.x; te[ 4 ] = y.x; te[ 8 ] = z.x;\n\t\t\tte[ 1 ] = x.y; te[ 5 ] = y.y; te[ 9 ] = z.y;\n\t\t\tte[ 2 ] = x.z; te[ 6 ] = y.z; te[ 10 ] = z.z;\n\n\t\t\treturn this;\n\n\t\t};\n\n\t}(),\n\n\tmultiply: function ( m, n ) {\n\n\t\tif ( n !== undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Matrix4: .multiply() now only accepts one argument. Use .multiplyMatrices( a, b ) instead.' );\n\t\t\treturn this.multiplyMatrices( m, n );\n\n\t\t}\n\n\t\treturn this.multiplyMatrices( this, m );\n\n\t},\n\n\tpremultiply: function ( m ) {\n\n\t\treturn this.multiplyMatrices( m, this );\n\n\t},\n\n\tmultiplyMatrices: function ( a, b ) {\n\n\t\tvar ae = a.elements;\n\t\tvar be = b.elements;\n\t\tvar te = this.elements;\n\n\t\tvar a11 = ae[ 0 ], a12 = ae[ 4 ], a13 = ae[ 8 ], a14 = ae[ 12 ];\n\t\tvar a21 = ae[ 1 ], a22 = ae[ 5 ], a23 = ae[ 9 ], a24 = ae[ 13 ];\n\t\tvar a31 = ae[ 2 ], a32 = ae[ 6 ], a33 = ae[ 10 ], a34 = ae[ 14 ];\n\t\tvar a41 = ae[ 3 ], a42 = ae[ 7 ], a43 = ae[ 11 ], a44 = ae[ 15 ];\n\n\t\tvar b11 = be[ 0 ], b12 = be[ 4 ], b13 = be[ 8 ], b14 = be[ 12 ];\n\t\tvar b21 = be[ 1 ], b22 = be[ 5 ], b23 = be[ 9 ], b24 = be[ 13 ];\n\t\tvar b31 = be[ 2 ], b32 = be[ 6 ], b33 = be[ 10 ], b34 = be[ 14 ];\n\t\tvar b41 = be[ 3 ], b42 = be[ 7 ], b43 = be[ 11 ], b44 = be[ 15 ];\n\n\t\tte[ 0 ] = a11 * b11 + a12 * b21 + a13 * b31 + a14 * b41;\n\t\tte[ 4 ] = a11 * b12 + a12 * b22 + a13 * b32 + a14 * b42;\n\t\tte[ 8 ] = a11 * b13 + a12 * b23 + a13 * b33 + a14 * b43;\n\t\tte[ 12 ] = a11 * b14 + a12 * b24 + a13 * b34 + a14 * b44;\n\n\t\tte[ 1 ] = a21 * b11 + a22 * b21 + a23 * b31 + a24 * b41;\n\t\tte[ 5 ] = a21 * b12 + a22 * b22 + a23 * b32 + a24 * b42;\n\t\tte[ 9 ] = a21 * b13 + a22 * b23 + a23 * b33 + a24 * b43;\n\t\tte[ 13 ] = a21 * b14 + a22 * b24 + a23 * b34 + a24 * b44;\n\n\t\tte[ 2 ] = a31 * b11 + a32 * b21 + a33 * b31 + a34 * b41;\n\t\tte[ 6 ] = a31 * b12 + a32 * b22 + a33 * b32 + a34 * b42;\n\t\tte[ 10 ] = a31 * b13 + a32 * b23 + a33 * b33 + a34 * b43;\n\t\tte[ 14 ] = a31 * b14 + a32 * b24 + a33 * b34 + a34 * b44;\n\n\t\tte[ 3 ] = a41 * b11 + a42 * b21 + a43 * b31 + a44 * b41;\n\t\tte[ 7 ] = a41 * b12 + a42 * b22 + a43 * b32 + a44 * b42;\n\t\tte[ 11 ] = a41 * b13 + a42 * b23 + a43 * b33 + a44 * b43;\n\t\tte[ 15 ] = a41 * b14 + a42 * b24 + a43 * b34 + a44 * b44;\n\n\t\treturn this;\n\n\t},\n\n\tmultiplyScalar: function ( s ) {\n\n\t\tvar te = this.elements;\n\n\t\tte[ 0 ] *= s; te[ 4 ] *= s; te[ 8 ] *= s; te[ 12 ] *= s;\n\t\tte[ 1 ] *= s; te[ 5 ] *= s; te[ 9 ] *= s; te[ 13 ] *= s;\n\t\tte[ 2 ] *= s; te[ 6 ] *= s; te[ 10 ] *= s; te[ 14 ] *= s;\n\t\tte[ 3 ] *= s; te[ 7 ] *= s; te[ 11 ] *= s; te[ 15 ] *= s;\n\n\t\treturn this;\n\n\t},\n\n\tapplyToBufferAttribute: function () {\n\n\t\tvar v1 = new Vector3();\n\n\t\treturn function applyToBufferAttribute( attribute ) {\n\n\t\t\tfor ( var i = 0, l = attribute.count; i < l; i ++ ) {\n\n\t\t\t\tv1.x = attribute.getX( i );\n\t\t\t\tv1.y = attribute.getY( i );\n\t\t\t\tv1.z = attribute.getZ( i );\n\n\t\t\t\tv1.applyMatrix4( this );\n\n\t\t\t\tattribute.setXYZ( i, v1.x, v1.y, v1.z );\n\n\t\t\t}\n\n\t\t\treturn attribute;\n\n\t\t};\n\n\t}(),\n\n\tdeterminant: function () {\n\n\t\tvar te = this.elements;\n\n\t\tvar n11 = te[ 0 ], n12 = te[ 4 ], n13 = te[ 8 ], n14 = te[ 12 ];\n\t\tvar n21 = te[ 1 ], n22 = te[ 5 ], n23 = te[ 9 ], n24 = te[ 13 ];\n\t\tvar n31 = te[ 2 ], n32 = te[ 6 ], n33 = te[ 10 ], n34 = te[ 14 ];\n\t\tvar n41 = te[ 3 ], n42 = te[ 7 ], n43 = te[ 11 ], n44 = te[ 15 ];\n\n\t\t//TODO: make this more efficient\n\t\t//( based on http://www.euclideanspace.com/maths/algebra/matrix/functions/inverse/fourD/index.htm )\n\n\t\treturn (\n\t\t\tn41 * (\n\t\t\t\t+ n14 * n23 * n32\n\t\t\t\t - n13 * n24 * n32\n\t\t\t\t - n14 * n22 * n33\n\t\t\t\t + n12 * n24 * n33\n\t\t\t\t + n13 * n22 * n34\n\t\t\t\t - n12 * n23 * n34\n\t\t\t) +\n\t\t\tn42 * (\n\t\t\t\t+ n11 * n23 * n34\n\t\t\t\t - n11 * n24 * n33\n\t\t\t\t + n14 * n21 * n33\n\t\t\t\t - n13 * n21 * n34\n\t\t\t\t + n13 * n24 * n31\n\t\t\t\t - n14 * n23 * n31\n\t\t\t) +\n\t\t\tn43 * (\n\t\t\t\t+ n11 * n24 * n32\n\t\t\t\t - n11 * n22 * n34\n\t\t\t\t - n14 * n21 * n32\n\t\t\t\t + n12 * n21 * n34\n\t\t\t\t + n14 * n22 * n31\n\t\t\t\t - n12 * n24 * n31\n\t\t\t) +\n\t\t\tn44 * (\n\t\t\t\t- n13 * n22 * n31\n\t\t\t\t - n11 * n23 * n32\n\t\t\t\t + n11 * n22 * n33\n\t\t\t\t + n13 * n21 * n32\n\t\t\t\t - n12 * n21 * n33\n\t\t\t\t + n12 * n23 * n31\n\t\t\t)\n\n\t\t);\n\n\t},\n\n\ttranspose: function () {\n\n\t\tvar te = this.elements;\n\t\tvar tmp;\n\n\t\ttmp = te[ 1 ]; te[ 1 ] = te[ 4 ]; te[ 4 ] = tmp;\n\t\ttmp = te[ 2 ]; te[ 2 ] = te[ 8 ]; te[ 8 ] = tmp;\n\t\ttmp = te[ 6 ]; te[ 6 ] = te[ 9 ]; te[ 9 ] = tmp;\n\n\t\ttmp = te[ 3 ]; te[ 3 ] = te[ 12 ]; te[ 12 ] = tmp;\n\t\ttmp = te[ 7 ]; te[ 7 ] = te[ 13 ]; te[ 13 ] = tmp;\n\t\ttmp = te[ 11 ]; te[ 11 ] = te[ 14 ]; te[ 14 ] = tmp;\n\n\t\treturn this;\n\n\t},\n\n\tsetPosition: function ( x, y, z ) {\n\n\t\tvar te = this.elements;\n\n\t\tif ( x.isVector3 ) {\n\n\t\t\tte[ 12 ] = x.x;\n\t\t\tte[ 13 ] = x.y;\n\t\t\tte[ 14 ] = x.z;\n\n\t\t} else {\n\n\t\t\tte[ 12 ] = x;\n\t\t\tte[ 13 ] = y;\n\t\t\tte[ 14 ] = z;\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tgetInverse: function ( m, throwOnDegenerate ) {\n\n\t\t// based on http://www.euclideanspace.com/maths/algebra/matrix/functions/inverse/fourD/index.htm\n\t\tvar te = this.elements,\n\t\t\tme = m.elements,\n\n\t\t\tn11 = me[ 0 ], n21 = me[ 1 ], n31 = me[ 2 ], n41 = me[ 3 ],\n\t\t\tn12 = me[ 4 ], n22 = me[ 5 ], n32 = me[ 6 ], n42 = me[ 7 ],\n\t\t\tn13 = me[ 8 ], n23 = me[ 9 ], n33 = me[ 10 ], n43 = me[ 11 ],\n\t\t\tn14 = me[ 12 ], n24 = me[ 13 ], n34 = me[ 14 ], n44 = me[ 15 ],\n\n\t\t\tt11 = n23 * n34 * n42 - n24 * n33 * n42 + n24 * n32 * n43 - n22 * n34 * n43 - n23 * n32 * n44 + n22 * n33 * n44,\n\t\t\tt12 = n14 * n33 * n42 - n13 * n34 * n42 - n14 * n32 * n43 + n12 * n34 * n43 + n13 * n32 * n44 - n12 * n33 * n44,\n\t\t\tt13 = n13 * n24 * n42 - n14 * n23 * n42 + n14 * n22 * n43 - n12 * n24 * n43 - n13 * n22 * n44 + n12 * n23 * n44,\n\t\t\tt14 = n14 * n23 * n32 - n13 * n24 * n32 - n14 * n22 * n33 + n12 * n24 * n33 + n13 * n22 * n34 - n12 * n23 * n34;\n\n\t\tvar det = n11 * t11 + n21 * t12 + n31 * t13 + n41 * t14;\n\n\t\tif ( det === 0 ) {\n\n\t\t\tvar msg = \"THREE.Matrix4: .getInverse() can't invert matrix, determinant is 0\";\n\n\t\t\tif ( throwOnDegenerate === true ) {\n\n\t\t\t\tthrow new Error( msg );\n\n\t\t\t} else {\n\n\t\t\t\tconsole.warn( msg );\n\n\t\t\t}\n\n\t\t\treturn this.identity();\n\n\t\t}\n\n\t\tvar detInv = 1 / det;\n\n\t\tte[ 0 ] = t11 * detInv;\n\t\tte[ 1 ] = ( n24 * n33 * n41 - n23 * n34 * n41 - n24 * n31 * n43 + n21 * n34 * n43 + n23 * n31 * n44 - n21 * n33 * n44 ) * detInv;\n\t\tte[ 2 ] = ( n22 * n34 * n41 - n24 * n32 * n41 + n24 * n31 * n42 - n21 * n34 * n42 - n22 * n31 * n44 + n21 * n32 * n44 ) * detInv;\n\t\tte[ 3 ] = ( n23 * n32 * n41 - n22 * n33 * n41 - n23 * n31 * n42 + n21 * n33 * n42 + n22 * n31 * n43 - n21 * n32 * n43 ) * detInv;\n\n\t\tte[ 4 ] = t12 * detInv;\n\t\tte[ 5 ] = ( n13 * n34 * n41 - n14 * n33 * n41 + n14 * n31 * n43 - n11 * n34 * n43 - n13 * n31 * n44 + n11 * n33 * n44 ) * detInv;\n\t\tte[ 6 ] = ( n14 * n32 * n41 - n12 * n34 * n41 - n14 * n31 * n42 + n11 * n34 * n42 + n12 * n31 * n44 - n11 * n32 * n44 ) * detInv;\n\t\tte[ 7 ] = ( n12 * n33 * n41 - n13 * n32 * n41 + n13 * n31 * n42 - n11 * n33 * n42 - n12 * n31 * n43 + n11 * n32 * n43 ) * detInv;\n\n\t\tte[ 8 ] = t13 * detInv;\n\t\tte[ 9 ] = ( n14 * n23 * n41 - n13 * n24 * n41 - n14 * n21 * n43 + n11 * n24 * n43 + n13 * n21 * n44 - n11 * n23 * n44 ) * detInv;\n\t\tte[ 10 ] = ( n12 * n24 * n41 - n14 * n22 * n41 + n14 * n21 * n42 - n11 * n24 * n42 - n12 * n21 * n44 + n11 * n22 * n44 ) * detInv;\n\t\tte[ 11 ] = ( n13 * n22 * n41 - n12 * n23 * n41 - n13 * n21 * n42 + n11 * n23 * n42 + n12 * n21 * n43 - n11 * n22 * n43 ) * detInv;\n\n\t\tte[ 12 ] = t14 * detInv;\n\t\tte[ 13 ] = ( n13 * n24 * n31 - n14 * n23 * n31 + n14 * n21 * n33 - n11 * n24 * n33 - n13 * n21 * n34 + n11 * n23 * n34 ) * detInv;\n\t\tte[ 14 ] = ( n14 * n22 * n31 - n12 * n24 * n31 - n14 * n21 * n32 + n11 * n24 * n32 + n12 * n21 * n34 - n11 * n22 * n34 ) * detInv;\n\t\tte[ 15 ] = ( n12 * n23 * n31 - n13 * n22 * n31 + n13 * n21 * n32 - n11 * n23 * n32 - n12 * n21 * n33 + n11 * n22 * n33 ) * detInv;\n\n\t\treturn this;\n\n\t},\n\n\tscale: function ( v ) {\n\n\t\tvar te = this.elements;\n\t\tvar x = v.x, y = v.y, z = v.z;\n\n\t\tte[ 0 ] *= x; te[ 4 ] *= y; te[ 8 ] *= z;\n\t\tte[ 1 ] *= x; te[ 5 ] *= y; te[ 9 ] *= z;\n\t\tte[ 2 ] *= x; te[ 6 ] *= y; te[ 10 ] *= z;\n\t\tte[ 3 ] *= x; te[ 7 ] *= y; te[ 11 ] *= z;\n\n\t\treturn this;\n\n\t},\n\n\tgetMaxScaleOnAxis: function () {\n\n\t\tvar te = this.elements;\n\n\t\tvar scaleXSq = te[ 0 ] * te[ 0 ] + te[ 1 ] * te[ 1 ] + te[ 2 ] * te[ 2 ];\n\t\tvar scaleYSq = te[ 4 ] * te[ 4 ] + te[ 5 ] * te[ 5 ] + te[ 6 ] * te[ 6 ];\n\t\tvar scaleZSq = te[ 8 ] * te[ 8 ] + te[ 9 ] * te[ 9 ] + te[ 10 ] * te[ 10 ];\n\n\t\treturn Math.sqrt( Math.max( scaleXSq, scaleYSq, scaleZSq ) );\n\n\t},\n\n\tmakeTranslation: function ( x, y, z ) {\n\n\t\tthis.set(\n\n\t\t\t1, 0, 0, x,\n\t\t\t0, 1, 0, y,\n\t\t\t0, 0, 1, z,\n\t\t\t0, 0, 0, 1\n\n\t\t);\n\n\t\treturn this;\n\n\t},\n\n\tmakeRotationX: function ( theta ) {\n\n\t\tvar c = Math.cos( theta ), s = Math.sin( theta );\n\n\t\tthis.set(\n\n\t\t\t1, 0, 0, 0,\n\t\t\t0, c, - s, 0,\n\t\t\t0, s, c, 0,\n\t\t\t0, 0, 0, 1\n\n\t\t);\n\n\t\treturn this;\n\n\t},\n\n\tmakeRotationY: function ( theta ) {\n\n\t\tvar c = Math.cos( theta ), s = Math.sin( theta );\n\n\t\tthis.set(\n\n\t\t\t c, 0, s, 0,\n\t\t\t 0, 1, 0, 0,\n\t\t\t- s, 0, c, 0,\n\t\t\t 0, 0, 0, 1\n\n\t\t);\n\n\t\treturn this;\n\n\t},\n\n\tmakeRotationZ: function ( theta ) {\n\n\t\tvar c = Math.cos( theta ), s = Math.sin( theta );\n\n\t\tthis.set(\n\n\t\t\tc, - s, 0, 0,\n\t\t\ts, c, 0, 0,\n\t\t\t0, 0, 1, 0,\n\t\t\t0, 0, 0, 1\n\n\t\t);\n\n\t\treturn this;\n\n\t},\n\n\tmakeRotationAxis: function ( axis, angle ) {\n\n\t\t// Based on http://www.gamedev.net/reference/articles/article1199.asp\n\n\t\tvar c = Math.cos( angle );\n\t\tvar s = Math.sin( angle );\n\t\tvar t = 1 - c;\n\t\tvar x = axis.x, y = axis.y, z = axis.z;\n\t\tvar tx = t * x, ty = t * y;\n\n\t\tthis.set(\n\n\t\t\ttx * x + c, tx * y - s * z, tx * z + s * y, 0,\n\t\t\ttx * y + s * z, ty * y + c, ty * z - s * x, 0,\n\t\t\ttx * z - s * y, ty * z + s * x, t * z * z + c, 0,\n\t\t\t0, 0, 0, 1\n\n\t\t);\n\n\t\t return this;\n\n\t},\n\n\tmakeScale: function ( x, y, z ) {\n\n\t\tthis.set(\n\n\t\t\tx, 0, 0, 0,\n\t\t\t0, y, 0, 0,\n\t\t\t0, 0, z, 0,\n\t\t\t0, 0, 0, 1\n\n\t\t);\n\n\t\treturn this;\n\n\t},\n\n\tmakeShear: function ( x, y, z ) {\n\n\t\tthis.set(\n\n\t\t\t1, y, z, 0,\n\t\t\tx, 1, z, 0,\n\t\t\tx, y, 1, 0,\n\t\t\t0, 0, 0, 1\n\n\t\t);\n\n\t\treturn this;\n\n\t},\n\n\tcompose: function ( position, quaternion, scale ) {\n\n\t\tvar te = this.elements;\n\n\t\tvar x = quaternion._x, y = quaternion._y, z = quaternion._z, w = quaternion._w;\n\t\tvar x2 = x + x,\ty2 = y + y, z2 = z + z;\n\t\tvar xx = x * x2, xy = x * y2, xz = x * z2;\n\t\tvar yy = y * y2, yz = y * z2, zz = z * z2;\n\t\tvar wx = w * x2, wy = w * y2, wz = w * z2;\n\n\t\tvar sx = scale.x, sy = scale.y, sz = scale.z;\n\n\t\tte[ 0 ] = ( 1 - ( yy + zz ) ) * sx;\n\t\tte[ 1 ] = ( xy + wz ) * sx;\n\t\tte[ 2 ] = ( xz - wy ) * sx;\n\t\tte[ 3 ] = 0;\n\n\t\tte[ 4 ] = ( xy - wz ) * sy;\n\t\tte[ 5 ] = ( 1 - ( xx + zz ) ) * sy;\n\t\tte[ 6 ] = ( yz + wx ) * sy;\n\t\tte[ 7 ] = 0;\n\n\t\tte[ 8 ] = ( xz + wy ) * sz;\n\t\tte[ 9 ] = ( yz - wx ) * sz;\n\t\tte[ 10 ] = ( 1 - ( xx + yy ) ) * sz;\n\t\tte[ 11 ] = 0;\n\n\t\tte[ 12 ] = position.x;\n\t\tte[ 13 ] = position.y;\n\t\tte[ 14 ] = position.z;\n\t\tte[ 15 ] = 1;\n\n\t\treturn this;\n\n\t},\n\n\tdecompose: function () {\n\n\t\tvar vector = new Vector3();\n\t\tvar matrix = new Matrix4();\n\n\t\treturn function decompose( position, quaternion, scale ) {\n\n\t\t\tvar te = this.elements;\n\n\t\t\tvar sx = vector.set( te[ 0 ], te[ 1 ], te[ 2 ] ).length();\n\t\t\tvar sy = vector.set( te[ 4 ], te[ 5 ], te[ 6 ] ).length();\n\t\t\tvar sz = vector.set( te[ 8 ], te[ 9 ], te[ 10 ] ).length();\n\n\t\t\t// if determine is negative, we need to invert one scale\n\t\t\tvar det = this.determinant();\n\t\t\tif ( det < 0 ) sx = - sx;\n\n\t\t\tposition.x = te[ 12 ];\n\t\t\tposition.y = te[ 13 ];\n\t\t\tposition.z = te[ 14 ];\n\n\t\t\t// scale the rotation part\n\t\t\tmatrix.copy( this );\n\n\t\t\tvar invSX = 1 / sx;\n\t\t\tvar invSY = 1 / sy;\n\t\t\tvar invSZ = 1 / sz;\n\n\t\t\tmatrix.elements[ 0 ] *= invSX;\n\t\t\tmatrix.elements[ 1 ] *= invSX;\n\t\t\tmatrix.elements[ 2 ] *= invSX;\n\n\t\t\tmatrix.elements[ 4 ] *= invSY;\n\t\t\tmatrix.elements[ 5 ] *= invSY;\n\t\t\tmatrix.elements[ 6 ] *= invSY;\n\n\t\t\tmatrix.elements[ 8 ] *= invSZ;\n\t\t\tmatrix.elements[ 9 ] *= invSZ;\n\t\t\tmatrix.elements[ 10 ] *= invSZ;\n\n\t\t\tquaternion.setFromRotationMatrix( matrix );\n\n\t\t\tscale.x = sx;\n\t\t\tscale.y = sy;\n\t\t\tscale.z = sz;\n\n\t\t\treturn this;\n\n\t\t};\n\n\t}(),\n\n\tmakePerspective: function ( left, right, top, bottom, near, far ) {\n\n\t\tif ( far === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Matrix4: .makePerspective() has been redefined and has a new signature. Please check the docs.' );\n\n\t\t}\n\n\t\tvar te = this.elements;\n\t\tvar x = 2 * near / ( right - left );\n\t\tvar y = 2 * near / ( top - bottom );\n\n\t\tvar a = ( right + left ) / ( right - left );\n\t\tvar b = ( top + bottom ) / ( top - bottom );\n\t\tvar c = - ( far + near ) / ( far - near );\n\t\tvar d = - 2 * far * near / ( far - near );\n\n\t\tte[ 0 ] = x;\tte[ 4 ] = 0;\tte[ 8 ] = a;\tte[ 12 ] = 0;\n\t\tte[ 1 ] = 0;\tte[ 5 ] = y;\tte[ 9 ] = b;\tte[ 13 ] = 0;\n\t\tte[ 2 ] = 0;\tte[ 6 ] = 0;\tte[ 10 ] = c;\tte[ 14 ] = d;\n\t\tte[ 3 ] = 0;\tte[ 7 ] = 0;\tte[ 11 ] = - 1;\tte[ 15 ] = 0;\n\n\t\treturn this;\n\n\t},\n\n\tmakeOrthographic: function ( left, right, top, bottom, near, far ) {\n\n\t\tvar te = this.elements;\n\t\tvar w = 1.0 / ( right - left );\n\t\tvar h = 1.0 / ( top - bottom );\n\t\tvar p = 1.0 / ( far - near );\n\n\t\tvar x = ( right + left ) * w;\n\t\tvar y = ( top + bottom ) * h;\n\t\tvar z = ( far + near ) * p;\n\n\t\tte[ 0 ] = 2 * w;\tte[ 4 ] = 0;\tte[ 8 ] = 0;\tte[ 12 ] = - x;\n\t\tte[ 1 ] = 0;\tte[ 5 ] = 2 * h;\tte[ 9 ] = 0;\tte[ 13 ] = - y;\n\t\tte[ 2 ] = 0;\tte[ 6 ] = 0;\tte[ 10 ] = - 2 * p;\tte[ 14 ] = - z;\n\t\tte[ 3 ] = 0;\tte[ 7 ] = 0;\tte[ 11 ] = 0;\tte[ 15 ] = 1;\n\n\t\treturn this;\n\n\t},\n\n\tequals: function ( matrix ) {\n\n\t\tvar te = this.elements;\n\t\tvar me = matrix.elements;\n\n\t\tfor ( var i = 0; i < 16; i ++ ) {\n\n\t\t\tif ( te[ i ] !== me[ i ] ) return false;\n\n\t\t}\n\n\t\treturn true;\n\n\t},\n\n\tfromArray: function ( array, offset ) {\n\n\t\tif ( offset === undefined ) offset = 0;\n\n\t\tfor ( var i = 0; i < 16; i ++ ) {\n\n\t\t\tthis.elements[ i ] = array[ i + offset ];\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\ttoArray: function ( array, offset ) {\n\n\t\tif ( array === undefined ) array = [];\n\t\tif ( offset === undefined ) offset = 0;\n\n\t\tvar te = this.elements;\n\n\t\tarray[ offset ] = te[ 0 ];\n\t\tarray[ offset + 1 ] = te[ 1 ];\n\t\tarray[ offset + 2 ] = te[ 2 ];\n\t\tarray[ offset + 3 ] = te[ 3 ];\n\n\t\tarray[ offset + 4 ] = te[ 4 ];\n\t\tarray[ offset + 5 ] = te[ 5 ];\n\t\tarray[ offset + 6 ] = te[ 6 ];\n\t\tarray[ offset + 7 ] = te[ 7 ];\n\n\t\tarray[ offset + 8 ] = te[ 8 ];\n\t\tarray[ offset + 9 ] = te[ 9 ];\n\t\tarray[ offset + 10 ] = te[ 10 ];\n\t\tarray[ offset + 11 ] = te[ 11 ];\n\n\t\tarray[ offset + 12 ] = te[ 12 ];\n\t\tarray[ offset + 13 ] = te[ 13 ];\n\t\tarray[ offset + 14 ] = te[ 14 ];\n\t\tarray[ offset + 15 ] = te[ 15 ];\n\n\t\treturn array;\n\n\t}\n\n} );\n\nvar alphamap_fragment = \"#ifdef USE_ALPHAMAP\\n\\tdiffuseColor.a *= texture2D( alphaMap, vUv ).g;\\n#endif\";\n\nvar alphamap_pars_fragment = \"#ifdef USE_ALPHAMAP\\n\\tuniform sampler2D alphaMap;\\n#endif\";\n\nvar alphatest_fragment = \"#ifdef ALPHATEST\\n\\tif ( diffuseColor.a < ALPHATEST ) discard;\\n#endif\";\n\nvar aomap_fragment = \"#ifdef USE_AOMAP\\n\\tfloat ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;\\n\\treflectedLight.indirectDiffuse *= ambientOcclusion;\\n\\t#if defined( USE_ENVMAP ) && defined( PHYSICAL )\\n\\t\\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\\n\\t\\treflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.specularRoughness );\\n\\t#endif\\n#endif\";\n\nvar aomap_pars_fragment = \"#ifdef USE_AOMAP\\n\\tuniform sampler2D aoMap;\\n\\tuniform float aoMapIntensity;\\n#endif\";\n\nvar begin_vertex = \"vec3 transformed = vec3( position );\";\n\nvar beginnormal_vertex = \"vec3 objectNormal = vec3( normal );\\n#ifdef USE_TANGENT\\n\\tvec3 objectTangent = vec3( tangent.xyz );\\n#endif\";\n\nvar bsdfs = \"vec2 integrateSpecularBRDF( const in float dotNV, const in float roughness ) {\\n\\tconst vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );\\n\\tconst vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );\\n\\tvec4 r = roughness * c0 + c1;\\n\\tfloat a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;\\n\\treturn vec2( -1.04, 1.04 ) * a004 + r.zw;\\n}\\nfloat punctualLightIntensityToIrradianceFactor( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {\\n#if defined ( PHYSICALLY_CORRECT_LIGHTS )\\n\\tfloat distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );\\n\\tif( cutoffDistance > 0.0 ) {\\n\\t\\tdistanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );\\n\\t}\\n\\treturn distanceFalloff;\\n#else\\n\\tif( cutoffDistance > 0.0 && decayExponent > 0.0 ) {\\n\\t\\treturn pow( saturate( -lightDistance / cutoffDistance + 1.0 ), decayExponent );\\n\\t}\\n\\treturn 1.0;\\n#endif\\n}\\nvec3 BRDF_Diffuse_Lambert( const in vec3 diffuseColor ) {\\n\\treturn RECIPROCAL_PI * diffuseColor;\\n}\\nvec3 F_Schlick( const in vec3 specularColor, const in float dotLH ) {\\n\\tfloat fresnel = exp2( ( -5.55473 * dotLH - 6.98316 ) * dotLH );\\n\\treturn ( 1.0 - specularColor ) * fresnel + specularColor;\\n}\\nvec3 F_Schlick_RoughnessDependent( const in vec3 F0, const in float dotNV, const in float roughness ) {\\n\\tfloat fresnel = exp2( ( -5.55473 * dotNV - 6.98316 ) * dotNV );\\n\\tvec3 Fr = max( vec3( 1.0 - roughness ), F0 ) - F0;\\n\\treturn Fr * fresnel + F0;\\n}\\nfloat G_GGX_Smith( const in float alpha, const in float dotNL, const in float dotNV ) {\\n\\tfloat a2 = pow2( alpha );\\n\\tfloat gl = dotNL + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\\n\\tfloat gv = dotNV + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\\n\\treturn 1.0 / ( gl * gv );\\n}\\nfloat G_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {\\n\\tfloat a2 = pow2( alpha );\\n\\tfloat gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\\n\\tfloat gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\\n\\treturn 0.5 / max( gv + gl, EPSILON );\\n}\\nfloat D_GGX( const in float alpha, const in float dotNH ) {\\n\\tfloat a2 = pow2( alpha );\\n\\tfloat denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;\\n\\treturn RECIPROCAL_PI * a2 / pow2( denom );\\n}\\nvec3 BRDF_Specular_GGX( const in IncidentLight incidentLight, const in GeometricContext geometry, const in vec3 specularColor, const in float roughness ) {\\n\\tfloat alpha = pow2( roughness );\\n\\tvec3 halfDir = normalize( incidentLight.direction + geometry.viewDir );\\n\\tfloat dotNL = saturate( dot( geometry.normal, incidentLight.direction ) );\\n\\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\\n\\tfloat dotNH = saturate( dot( geometry.normal, halfDir ) );\\n\\tfloat dotLH = saturate( dot( incidentLight.direction, halfDir ) );\\n\\tvec3 F = F_Schlick( specularColor, dotLH );\\n\\tfloat G = G_GGX_SmithCorrelated( alpha, dotNL, dotNV );\\n\\tfloat D = D_GGX( alpha, dotNH );\\n\\treturn F * ( G * D );\\n}\\nvec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {\\n\\tconst float LUT_SIZE  = 64.0;\\n\\tconst float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;\\n\\tconst float LUT_BIAS  = 0.5 / LUT_SIZE;\\n\\tfloat dotNV = saturate( dot( N, V ) );\\n\\tvec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );\\n\\tuv = uv * LUT_SCALE + LUT_BIAS;\\n\\treturn uv;\\n}\\nfloat LTC_ClippedSphereFormFactor( const in vec3 f ) {\\n\\tfloat l = length( f );\\n\\treturn max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );\\n}\\nvec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {\\n\\tfloat x = dot( v1, v2 );\\n\\tfloat y = abs( x );\\n\\tfloat a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;\\n\\tfloat b = 3.4175940 + ( 4.1616724 + y ) * y;\\n\\tfloat v = a / b;\\n\\tfloat theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;\\n\\treturn cross( v1, v2 ) * theta_sintheta;\\n}\\nvec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {\\n\\tvec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];\\n\\tvec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];\\n\\tvec3 lightNormal = cross( v1, v2 );\\n\\tif( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );\\n\\tvec3 T1, T2;\\n\\tT1 = normalize( V - N * dot( V, N ) );\\n\\tT2 = - cross( N, T1 );\\n\\tmat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );\\n\\tvec3 coords[ 4 ];\\n\\tcoords[ 0 ] = mat * ( rectCoords[ 0 ] - P );\\n\\tcoords[ 1 ] = mat * ( rectCoords[ 1 ] - P );\\n\\tcoords[ 2 ] = mat * ( rectCoords[ 2 ] - P );\\n\\tcoords[ 3 ] = mat * ( rectCoords[ 3 ] - P );\\n\\tcoords[ 0 ] = normalize( coords[ 0 ] );\\n\\tcoords[ 1 ] = normalize( coords[ 1 ] );\\n\\tcoords[ 2 ] = normalize( coords[ 2 ] );\\n\\tcoords[ 3 ] = normalize( coords[ 3 ] );\\n\\tvec3 vectorFormFactor = vec3( 0.0 );\\n\\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );\\n\\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );\\n\\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );\\n\\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );\\n\\tfloat result = LTC_ClippedSphereFormFactor( vectorFormFactor );\\n\\treturn vec3( result );\\n}\\nvec3 BRDF_Specular_GGX_Environment( const in GeometricContext geometry, const in vec3 specularColor, const in float roughness ) {\\n\\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\\n\\tvec2 brdf = integrateSpecularBRDF( dotNV, roughness );\\n\\treturn specularColor * brdf.x + brdf.y;\\n}\\nvoid BRDF_Specular_Multiscattering_Environment( const in GeometricContext geometry, const in vec3 specularColor, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {\\n\\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\\n\\tvec3 F = F_Schlick_RoughnessDependent( specularColor, dotNV, roughness );\\n\\tvec2 brdf = integrateSpecularBRDF( dotNV, roughness );\\n\\tvec3 FssEss = F * brdf.x + brdf.y;\\n\\tfloat Ess = brdf.x + brdf.y;\\n\\tfloat Ems = 1.0 - Ess;\\n\\tvec3 Favg = specularColor + ( 1.0 - specularColor ) * 0.047619;\\tvec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );\\n\\tsingleScatter += FssEss;\\n\\tmultiScatter += Fms * Ems;\\n}\\nfloat G_BlinnPhong_Implicit( ) {\\n\\treturn 0.25;\\n}\\nfloat D_BlinnPhong( const in float shininess, const in float dotNH ) {\\n\\treturn RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );\\n}\\nvec3 BRDF_Specular_BlinnPhong( const in IncidentLight incidentLight, const in GeometricContext geometry, const in vec3 specularColor, const in float shininess ) {\\n\\tvec3 halfDir = normalize( incidentLight.direction + geometry.viewDir );\\n\\tfloat dotNH = saturate( dot( geometry.normal, halfDir ) );\\n\\tfloat dotLH = saturate( dot( incidentLight.direction, halfDir ) );\\n\\tvec3 F = F_Schlick( specularColor, dotLH );\\n\\tfloat G = G_BlinnPhong_Implicit( );\\n\\tfloat D = D_BlinnPhong( shininess, dotNH );\\n\\treturn F * ( G * D );\\n}\\nfloat GGXRoughnessToBlinnExponent( const in float ggxRoughness ) {\\n\\treturn ( 2.0 / pow2( ggxRoughness + 0.0001 ) - 2.0 );\\n}\\nfloat BlinnExponentToGGXRoughness( const in float blinnExponent ) {\\n\\treturn sqrt( 2.0 / ( blinnExponent + 2.0 ) );\\n}\";\n\nvar bumpmap_pars_fragment = \"#ifdef USE_BUMPMAP\\n\\tuniform sampler2D bumpMap;\\n\\tuniform float bumpScale;\\n\\tvec2 dHdxy_fwd() {\\n\\t\\tvec2 dSTdx = dFdx( vUv );\\n\\t\\tvec2 dSTdy = dFdy( vUv );\\n\\t\\tfloat Hll = bumpScale * texture2D( bumpMap, vUv ).x;\\n\\t\\tfloat dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;\\n\\t\\tfloat dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;\\n\\t\\treturn vec2( dBx, dBy );\\n\\t}\\n\\tvec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy ) {\\n\\t\\tvec3 vSigmaX = vec3( dFdx( surf_pos.x ), dFdx( surf_pos.y ), dFdx( surf_pos.z ) );\\n\\t\\tvec3 vSigmaY = vec3( dFdy( surf_pos.x ), dFdy( surf_pos.y ), dFdy( surf_pos.z ) );\\n\\t\\tvec3 vN = surf_norm;\\n\\t\\tvec3 R1 = cross( vSigmaY, vN );\\n\\t\\tvec3 R2 = cross( vN, vSigmaX );\\n\\t\\tfloat fDet = dot( vSigmaX, R1 );\\n\\t\\tfDet *= ( float( gl_FrontFacing ) * 2.0 - 1.0 );\\n\\t\\tvec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );\\n\\t\\treturn normalize( abs( fDet ) * surf_norm - vGrad );\\n\\t}\\n#endif\";\n\nvar clipping_planes_fragment = \"#if NUM_CLIPPING_PLANES > 0\\n\\tvec4 plane;\\n\\t#pragma unroll_loop\\n\\tfor ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {\\n\\t\\tplane = clippingPlanes[ i ];\\n\\t\\tif ( dot( vViewPosition, plane.xyz ) > plane.w ) discard;\\n\\t}\\n\\t#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES\\n\\t\\tbool clipped = true;\\n\\t\\t#pragma unroll_loop\\n\\t\\tfor ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {\\n\\t\\t\\tplane = clippingPlanes[ i ];\\n\\t\\t\\tclipped = ( dot( vViewPosition, plane.xyz ) > plane.w ) && clipped;\\n\\t\\t}\\n\\t\\tif ( clipped ) discard;\\n\\t#endif\\n#endif\";\n\nvar clipping_planes_pars_fragment = \"#if NUM_CLIPPING_PLANES > 0\\n\\t#if ! defined( PHYSICAL ) && ! defined( PHONG ) && ! defined( MATCAP )\\n\\t\\tvarying vec3 vViewPosition;\\n\\t#endif\\n\\tuniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];\\n#endif\";\n\nvar clipping_planes_pars_vertex = \"#if NUM_CLIPPING_PLANES > 0 && ! defined( PHYSICAL ) && ! defined( PHONG ) && ! defined( MATCAP )\\n\\tvarying vec3 vViewPosition;\\n#endif\";\n\nvar clipping_planes_vertex = \"#if NUM_CLIPPING_PLANES > 0 && ! defined( PHYSICAL ) && ! defined( PHONG ) && ! defined( MATCAP )\\n\\tvViewPosition = - mvPosition.xyz;\\n#endif\";\n\nvar color_fragment = \"#ifdef USE_COLOR\\n\\tdiffuseColor.rgb *= vColor;\\n#endif\";\n\nvar color_pars_fragment = \"#ifdef USE_COLOR\\n\\tvarying vec3 vColor;\\n#endif\";\n\nvar color_pars_vertex = \"#ifdef USE_COLOR\\n\\tvarying vec3 vColor;\\n#endif\";\n\nvar color_vertex = \"#ifdef USE_COLOR\\n\\tvColor.xyz = color.xyz;\\n#endif\";\n\nvar common = \"#define PI 3.14159265359\\n#define PI2 6.28318530718\\n#define PI_HALF 1.5707963267949\\n#define RECIPROCAL_PI 0.31830988618\\n#define RECIPROCAL_PI2 0.15915494\\n#define LOG2 1.442695\\n#define EPSILON 1e-6\\n#define saturate(a) clamp( a, 0.0, 1.0 )\\n#define whiteCompliment(a) ( 1.0 - saturate( a ) )\\nfloat pow2( const in float x ) { return x*x; }\\nfloat pow3( const in float x ) { return x*x*x; }\\nfloat pow4( const in float x ) { float x2 = x*x; return x2*x2; }\\nfloat average( const in vec3 color ) { return dot( color, vec3( 0.3333 ) ); }\\nhighp float rand( const in vec2 uv ) {\\n\\tconst highp float a = 12.9898, b = 78.233, c = 43758.5453;\\n\\thighp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );\\n\\treturn fract(sin(sn) * c);\\n}\\nstruct IncidentLight {\\n\\tvec3 color;\\n\\tvec3 direction;\\n\\tbool visible;\\n};\\nstruct ReflectedLight {\\n\\tvec3 directDiffuse;\\n\\tvec3 directSpecular;\\n\\tvec3 indirectDiffuse;\\n\\tvec3 indirectSpecular;\\n};\\nstruct GeometricContext {\\n\\tvec3 position;\\n\\tvec3 normal;\\n\\tvec3 viewDir;\\n};\\nvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\\n\\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\\n}\\nvec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {\\n\\treturn normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );\\n}\\nvec3 projectOnPlane(in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\\n\\tfloat distance = dot( planeNormal, point - pointOnPlane );\\n\\treturn - distance * planeNormal + point;\\n}\\nfloat sideOfPlane( in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\\n\\treturn sign( dot( point - pointOnPlane, planeNormal ) );\\n}\\nvec3 linePlaneIntersect( in vec3 pointOnLine, in vec3 lineDirection, in vec3 pointOnPlane, in vec3 planeNormal ) {\\n\\treturn lineDirection * ( dot( planeNormal, pointOnPlane - pointOnLine ) / dot( planeNormal, lineDirection ) ) + pointOnLine;\\n}\\nmat3 transposeMat3( const in mat3 m ) {\\n\\tmat3 tmp;\\n\\ttmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );\\n\\ttmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );\\n\\ttmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );\\n\\treturn tmp;\\n}\\nfloat linearToRelativeLuminance( const in vec3 color ) {\\n\\tvec3 weights = vec3( 0.2126, 0.7152, 0.0722 );\\n\\treturn dot( weights, color.rgb );\\n}\";\n\nvar cube_uv_reflection_fragment = \"#ifdef ENVMAP_TYPE_CUBE_UV\\n#define cubeUV_textureSize (1024.0)\\nint getFaceFromDirection(vec3 direction) {\\n\\tvec3 absDirection = abs(direction);\\n\\tint face = -1;\\n\\tif( absDirection.x > absDirection.z ) {\\n\\t\\tif(absDirection.x > absDirection.y )\\n\\t\\t\\tface = direction.x > 0.0 ? 0 : 3;\\n\\t\\telse\\n\\t\\t\\tface = direction.y > 0.0 ? 1 : 4;\\n\\t}\\n\\telse {\\n\\t\\tif(absDirection.z > absDirection.y )\\n\\t\\t\\tface = direction.z > 0.0 ? 2 : 5;\\n\\t\\telse\\n\\t\\t\\tface = direction.y > 0.0 ? 1 : 4;\\n\\t}\\n\\treturn face;\\n}\\n#define cubeUV_maxLods1  (log2(cubeUV_textureSize*0.25) - 1.0)\\n#define cubeUV_rangeClamp (exp2((6.0 - 1.0) * 2.0))\\nvec2 MipLevelInfo( vec3 vec, float roughnessLevel, float roughness ) {\\n\\tfloat scale = exp2(cubeUV_maxLods1 - roughnessLevel);\\n\\tfloat dxRoughness = dFdx(roughness);\\n\\tfloat dyRoughness = dFdy(roughness);\\n\\tvec3 dx = dFdx( vec * scale * dxRoughness );\\n\\tvec3 dy = dFdy( vec * scale * dyRoughness );\\n\\tfloat d = max( dot( dx, dx ), dot( dy, dy ) );\\n\\td = clamp(d, 1.0, cubeUV_rangeClamp);\\n\\tfloat mipLevel = 0.5 * log2(d);\\n\\treturn vec2(floor(mipLevel), fract(mipLevel));\\n}\\n#define cubeUV_maxLods2 (log2(cubeUV_textureSize*0.25) - 2.0)\\n#define cubeUV_rcpTextureSize (1.0 / cubeUV_textureSize)\\nvec2 getCubeUV(vec3 direction, float roughnessLevel, float mipLevel) {\\n\\tmipLevel = roughnessLevel > cubeUV_maxLods2 - 3.0 ? 0.0 : mipLevel;\\n\\tfloat a = 16.0 * cubeUV_rcpTextureSize;\\n\\tvec2 exp2_packed = exp2( vec2( roughnessLevel, mipLevel ) );\\n\\tvec2 rcp_exp2_packed = vec2( 1.0 ) / exp2_packed;\\n\\tfloat powScale = exp2_packed.x * exp2_packed.y;\\n\\tfloat scale = rcp_exp2_packed.x * rcp_exp2_packed.y * 0.25;\\n\\tfloat mipOffset = 0.75*(1.0 - rcp_exp2_packed.y) * rcp_exp2_packed.x;\\n\\tbool bRes = mipLevel == 0.0;\\n\\tscale =  bRes && (scale < a) ? a : scale;\\n\\tvec3 r;\\n\\tvec2 offset;\\n\\tint face = getFaceFromDirection(direction);\\n\\tfloat rcpPowScale = 1.0 / powScale;\\n\\tif( face == 0) {\\n\\t\\tr = vec3(direction.x, -direction.z, direction.y);\\n\\t\\toffset = vec2(0.0+mipOffset,0.75 * rcpPowScale);\\n\\t\\toffset.y = bRes && (offset.y < 2.0*a) ? a : offset.y;\\n\\t}\\n\\telse if( face == 1) {\\n\\t\\tr = vec3(direction.y, direction.x, direction.z);\\n\\t\\toffset = vec2(scale+mipOffset, 0.75 * rcpPowScale);\\n\\t\\toffset.y = bRes && (offset.y < 2.0*a) ? a : offset.y;\\n\\t}\\n\\telse if( face == 2) {\\n\\t\\tr = vec3(direction.z, direction.x, direction.y);\\n\\t\\toffset = vec2(2.0*scale+mipOffset, 0.75 * rcpPowScale);\\n\\t\\toffset.y = bRes && (offset.y < 2.0*a) ? a : offset.y;\\n\\t}\\n\\telse if( face == 3) {\\n\\t\\tr = vec3(direction.x, direction.z, direction.y);\\n\\t\\toffset = vec2(0.0+mipOffset,0.5 * rcpPowScale);\\n\\t\\toffset.y = bRes && (offset.y < 2.0*a) ? 0.0 : offset.y;\\n\\t}\\n\\telse if( face == 4) {\\n\\t\\tr = vec3(direction.y, direction.x, -direction.z);\\n\\t\\toffset = vec2(scale+mipOffset, 0.5 * rcpPowScale);\\n\\t\\toffset.y = bRes && (offset.y < 2.0*a) ? 0.0 : offset.y;\\n\\t}\\n\\telse {\\n\\t\\tr = vec3(direction.z, -direction.x, direction.y);\\n\\t\\toffset = vec2(2.0*scale+mipOffset, 0.5 * rcpPowScale);\\n\\t\\toffset.y = bRes && (offset.y < 2.0*a) ? 0.0 : offset.y;\\n\\t}\\n\\tr = normalize(r);\\n\\tfloat texelOffset = 0.5 * cubeUV_rcpTextureSize;\\n\\tvec2 s = ( r.yz / abs( r.x ) + vec2( 1.0 ) ) * 0.5;\\n\\tvec2 base = offset + vec2( texelOffset );\\n\\treturn base + s * ( scale - 2.0 * texelOffset );\\n}\\n#define cubeUV_maxLods3 (log2(cubeUV_textureSize*0.25) - 3.0)\\nvec4 textureCubeUV( sampler2D envMap, vec3 reflectedDirection, float roughness ) {\\n\\tfloat roughnessVal = roughness* cubeUV_maxLods3;\\n\\tfloat r1 = floor(roughnessVal);\\n\\tfloat r2 = r1 + 1.0;\\n\\tfloat t = fract(roughnessVal);\\n\\tvec2 mipInfo = MipLevelInfo(reflectedDirection, r1, roughness);\\n\\tfloat s = mipInfo.y;\\n\\tfloat level0 = mipInfo.x;\\n\\tfloat level1 = level0 + 1.0;\\n\\tlevel1 = level1 > 5.0 ? 5.0 : level1;\\n\\tlevel0 += min( floor( s + 0.5 ), 5.0 );\\n\\tvec2 uv_10 = getCubeUV(reflectedDirection, r1, level0);\\n\\tvec4 color10 = envMapTexelToLinear(texture2D(envMap, uv_10));\\n\\tvec2 uv_20 = getCubeUV(reflectedDirection, r2, level0);\\n\\tvec4 color20 = envMapTexelToLinear(texture2D(envMap, uv_20));\\n\\tvec4 result = mix(color10, color20, t);\\n\\treturn vec4(result.rgb, 1.0);\\n}\\n#endif\";\n\nvar defaultnormal_vertex = \"vec3 transformedNormal = normalMatrix * objectNormal;\\n#ifdef FLIP_SIDED\\n\\ttransformedNormal = - transformedNormal;\\n#endif\\n#ifdef USE_TANGENT\\n\\tvec3 transformedTangent = normalMatrix * objectTangent;\\n\\t#ifdef FLIP_SIDED\\n\\t\\ttransformedTangent = - transformedTangent;\\n\\t#endif\\n#endif\";\n\nvar displacementmap_pars_vertex = \"#ifdef USE_DISPLACEMENTMAP\\n\\tuniform sampler2D displacementMap;\\n\\tuniform float displacementScale;\\n\\tuniform float displacementBias;\\n#endif\";\n\nvar displacementmap_vertex = \"#ifdef USE_DISPLACEMENTMAP\\n\\ttransformed += normalize( objectNormal ) * ( texture2D( displacementMap, uv ).x * displacementScale + displacementBias );\\n#endif\";\n\nvar emissivemap_fragment = \"#ifdef USE_EMISSIVEMAP\\n\\tvec4 emissiveColor = texture2D( emissiveMap, vUv );\\n\\temissiveColor.rgb = emissiveMapTexelToLinear( emissiveColor ).rgb;\\n\\ttotalEmissiveRadiance *= emissiveColor.rgb;\\n#endif\";\n\nvar emissivemap_pars_fragment = \"#ifdef USE_EMISSIVEMAP\\n\\tuniform sampler2D emissiveMap;\\n#endif\";\n\nvar encodings_fragment = \"gl_FragColor = linearToOutputTexel( gl_FragColor );\";\n\nvar encodings_pars_fragment = \"\\nvec4 LinearToLinear( in vec4 value ) {\\n\\treturn value;\\n}\\nvec4 GammaToLinear( in vec4 value, in float gammaFactor ) {\\n\\treturn vec4( pow( value.rgb, vec3( gammaFactor ) ), value.a );\\n}\\nvec4 LinearToGamma( in vec4 value, in float gammaFactor ) {\\n\\treturn vec4( pow( value.rgb, vec3( 1.0 / gammaFactor ) ), value.a );\\n}\\nvec4 sRGBToLinear( in vec4 value ) {\\n\\treturn vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.a );\\n}\\nvec4 LinearTosRGB( in vec4 value ) {\\n\\treturn vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );\\n}\\nvec4 RGBEToLinear( in vec4 value ) {\\n\\treturn vec4( value.rgb * exp2( value.a * 255.0 - 128.0 ), 1.0 );\\n}\\nvec4 LinearToRGBE( in vec4 value ) {\\n\\tfloat maxComponent = max( max( value.r, value.g ), value.b );\\n\\tfloat fExp = clamp( ceil( log2( maxComponent ) ), -128.0, 127.0 );\\n\\treturn vec4( value.rgb / exp2( fExp ), ( fExp + 128.0 ) / 255.0 );\\n}\\nvec4 RGBMToLinear( in vec4 value, in float maxRange ) {\\n\\treturn vec4( value.rgb * value.a * maxRange, 1.0 );\\n}\\nvec4 LinearToRGBM( in vec4 value, in float maxRange ) {\\n\\tfloat maxRGB = max( value.r, max( value.g, value.b ) );\\n\\tfloat M = clamp( maxRGB / maxRange, 0.0, 1.0 );\\n\\tM = ceil( M * 255.0 ) / 255.0;\\n\\treturn vec4( value.rgb / ( M * maxRange ), M );\\n}\\nvec4 RGBDToLinear( in vec4 value, in float maxRange ) {\\n\\treturn vec4( value.rgb * ( ( maxRange / 255.0 ) / value.a ), 1.0 );\\n}\\nvec4 LinearToRGBD( in vec4 value, in float maxRange ) {\\n\\tfloat maxRGB = max( value.r, max( value.g, value.b ) );\\n\\tfloat D = max( maxRange / maxRGB, 1.0 );\\n\\tD = min( floor( D ) / 255.0, 1.0 );\\n\\treturn vec4( value.rgb * ( D * ( 255.0 / maxRange ) ), D );\\n}\\nconst mat3 cLogLuvM = mat3( 0.2209, 0.3390, 0.4184, 0.1138, 0.6780, 0.7319, 0.0102, 0.1130, 0.2969 );\\nvec4 LinearToLogLuv( in vec4 value )  {\\n\\tvec3 Xp_Y_XYZp = cLogLuvM * value.rgb;\\n\\tXp_Y_XYZp = max( Xp_Y_XYZp, vec3( 1e-6, 1e-6, 1e-6 ) );\\n\\tvec4 vResult;\\n\\tvResult.xy = Xp_Y_XYZp.xy / Xp_Y_XYZp.z;\\n\\tfloat Le = 2.0 * log2(Xp_Y_XYZp.y) + 127.0;\\n\\tvResult.w = fract( Le );\\n\\tvResult.z = ( Le - ( floor( vResult.w * 255.0 ) ) / 255.0 ) / 255.0;\\n\\treturn vResult;\\n}\\nconst mat3 cLogLuvInverseM = mat3( 6.0014, -2.7008, -1.7996, -1.3320, 3.1029, -5.7721, 0.3008, -1.0882, 5.6268 );\\nvec4 LogLuvToLinear( in vec4 value ) {\\n\\tfloat Le = value.z * 255.0 + value.w;\\n\\tvec3 Xp_Y_XYZp;\\n\\tXp_Y_XYZp.y = exp2( ( Le - 127.0 ) / 2.0 );\\n\\tXp_Y_XYZp.z = Xp_Y_XYZp.y / value.y;\\n\\tXp_Y_XYZp.x = value.x * Xp_Y_XYZp.z;\\n\\tvec3 vRGB = cLogLuvInverseM * Xp_Y_XYZp.rgb;\\n\\treturn vec4( max( vRGB, 0.0 ), 1.0 );\\n}\";\n\nvar envmap_fragment = \"#ifdef USE_ENVMAP\\n\\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\\n\\t\\tvec3 cameraToVertex = normalize( vWorldPosition - cameraPosition );\\n\\t\\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\\n\\t\\t#ifdef ENVMAP_MODE_REFLECTION\\n\\t\\t\\tvec3 reflectVec = reflect( cameraToVertex, worldNormal );\\n\\t\\t#else\\n\\t\\t\\tvec3 reflectVec = refract( cameraToVertex, worldNormal, refractionRatio );\\n\\t\\t#endif\\n\\t#else\\n\\t\\tvec3 reflectVec = vReflect;\\n\\t#endif\\n\\t#ifdef ENVMAP_TYPE_CUBE\\n\\t\\tvec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );\\n\\t#elif defined( ENVMAP_TYPE_EQUIREC )\\n\\t\\tvec2 sampleUV;\\n\\t\\treflectVec = normalize( reflectVec );\\n\\t\\tsampleUV.y = asin( clamp( reflectVec.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\\n\\t\\tsampleUV.x = atan( reflectVec.z, reflectVec.x ) * RECIPROCAL_PI2 + 0.5;\\n\\t\\tvec4 envColor = texture2D( envMap, sampleUV );\\n\\t#elif defined( ENVMAP_TYPE_SPHERE )\\n\\t\\treflectVec = normalize( reflectVec );\\n\\t\\tvec3 reflectView = normalize( ( viewMatrix * vec4( reflectVec, 0.0 ) ).xyz + vec3( 0.0, 0.0, 1.0 ) );\\n\\t\\tvec4 envColor = texture2D( envMap, reflectView.xy * 0.5 + 0.5 );\\n\\t#else\\n\\t\\tvec4 envColor = vec4( 0.0 );\\n\\t#endif\\n\\tenvColor = envMapTexelToLinear( envColor );\\n\\t#ifdef ENVMAP_BLENDING_MULTIPLY\\n\\t\\toutgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );\\n\\t#elif defined( ENVMAP_BLENDING_MIX )\\n\\t\\toutgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );\\n\\t#elif defined( ENVMAP_BLENDING_ADD )\\n\\t\\toutgoingLight += envColor.xyz * specularStrength * reflectivity;\\n\\t#endif\\n#endif\";\n\nvar envmap_pars_fragment = \"#if defined( USE_ENVMAP ) || defined( PHYSICAL )\\n\\tuniform float reflectivity;\\n\\tuniform float envMapIntensity;\\n#endif\\n#ifdef USE_ENVMAP\\n\\t#if ! defined( PHYSICAL ) && ( defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) )\\n\\t\\tvarying vec3 vWorldPosition;\\n\\t#endif\\n\\t#ifdef ENVMAP_TYPE_CUBE\\n\\t\\tuniform samplerCube envMap;\\n\\t#else\\n\\t\\tuniform sampler2D envMap;\\n\\t#endif\\n\\tuniform float flipEnvMap;\\n\\tuniform int maxMipLevel;\\n\\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( PHYSICAL )\\n\\t\\tuniform float refractionRatio;\\n\\t#else\\n\\t\\tvarying vec3 vReflect;\\n\\t#endif\\n#endif\";\n\nvar envmap_pars_vertex = \"#ifdef USE_ENVMAP\\n\\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\\n\\t\\tvarying vec3 vWorldPosition;\\n\\t#else\\n\\t\\tvarying vec3 vReflect;\\n\\t\\tuniform float refractionRatio;\\n\\t#endif\\n#endif\";\n\nvar envmap_vertex = \"#ifdef USE_ENVMAP\\n\\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\\n\\t\\tvWorldPosition = worldPosition.xyz;\\n\\t#else\\n\\t\\tvec3 cameraToVertex = normalize( worldPosition.xyz - cameraPosition );\\n\\t\\tvec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\\n\\t\\t#ifdef ENVMAP_MODE_REFLECTION\\n\\t\\t\\tvReflect = reflect( cameraToVertex, worldNormal );\\n\\t\\t#else\\n\\t\\t\\tvReflect = refract( cameraToVertex, worldNormal, refractionRatio );\\n\\t\\t#endif\\n\\t#endif\\n#endif\";\n\nvar fog_vertex = \"#ifdef USE_FOG\\n\\tfogDepth = -mvPosition.z;\\n#endif\";\n\nvar fog_pars_vertex = \"#ifdef USE_FOG\\n\\tvarying float fogDepth;\\n#endif\";\n\nvar fog_fragment = \"#ifdef USE_FOG\\n\\t#ifdef FOG_EXP2\\n\\t\\tfloat fogFactor = whiteCompliment( exp2( - fogDensity * fogDensity * fogDepth * fogDepth * LOG2 ) );\\n\\t#else\\n\\t\\tfloat fogFactor = smoothstep( fogNear, fogFar, fogDepth );\\n\\t#endif\\n\\tgl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );\\n#endif\";\n\nvar fog_pars_fragment = \"#ifdef USE_FOG\\n\\tuniform vec3 fogColor;\\n\\tvarying float fogDepth;\\n\\t#ifdef FOG_EXP2\\n\\t\\tuniform float fogDensity;\\n\\t#else\\n\\t\\tuniform float fogNear;\\n\\t\\tuniform float fogFar;\\n\\t#endif\\n#endif\";\n\nvar gradientmap_pars_fragment = \"#ifdef TOON\\n\\tuniform sampler2D gradientMap;\\n\\tvec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {\\n\\t\\tfloat dotNL = dot( normal, lightDirection );\\n\\t\\tvec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );\\n\\t\\t#ifdef USE_GRADIENTMAP\\n\\t\\t\\treturn texture2D( gradientMap, coord ).rgb;\\n\\t\\t#else\\n\\t\\t\\treturn ( coord.x < 0.7 ) ? vec3( 0.7 ) : vec3( 1.0 );\\n\\t\\t#endif\\n\\t}\\n#endif\";\n\nvar lightmap_fragment = \"#ifdef USE_LIGHTMAP\\n\\treflectedLight.indirectDiffuse += PI * texture2D( lightMap, vUv2 ).xyz * lightMapIntensity;\\n#endif\";\n\nvar lightmap_pars_fragment = \"#ifdef USE_LIGHTMAP\\n\\tuniform sampler2D lightMap;\\n\\tuniform float lightMapIntensity;\\n#endif\";\n\nvar lights_lambert_vertex = \"vec3 diffuse = vec3( 1.0 );\\nGeometricContext geometry;\\ngeometry.position = mvPosition.xyz;\\ngeometry.normal = normalize( transformedNormal );\\ngeometry.viewDir = normalize( -mvPosition.xyz );\\nGeometricContext backGeometry;\\nbackGeometry.position = geometry.position;\\nbackGeometry.normal = -geometry.normal;\\nbackGeometry.viewDir = geometry.viewDir;\\nvLightFront = vec3( 0.0 );\\nvIndirectFront = vec3( 0.0 );\\n#ifdef DOUBLE_SIDED\\n\\tvLightBack = vec3( 0.0 );\\n\\tvIndirectBack = vec3( 0.0 );\\n#endif\\nIncidentLight directLight;\\nfloat dotNL;\\nvec3 directLightColor_Diffuse;\\n#if NUM_POINT_LIGHTS > 0\\n\\t#pragma unroll_loop\\n\\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\\n\\t\\tgetPointDirectLightIrradiance( pointLights[ i ], geometry, directLight );\\n\\t\\tdotNL = dot( geometry.normal, directLight.direction );\\n\\t\\tdirectLightColor_Diffuse = PI * directLight.color;\\n\\t\\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\\n\\t\\t#ifdef DOUBLE_SIDED\\n\\t\\t\\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\\n\\t\\t#endif\\n\\t}\\n#endif\\n#if NUM_SPOT_LIGHTS > 0\\n\\t#pragma unroll_loop\\n\\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\\n\\t\\tgetSpotDirectLightIrradiance( spotLights[ i ], geometry, directLight );\\n\\t\\tdotNL = dot( geometry.normal, directLight.direction );\\n\\t\\tdirectLightColor_Diffuse = PI * directLight.color;\\n\\t\\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\\n\\t\\t#ifdef DOUBLE_SIDED\\n\\t\\t\\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\\n\\t\\t#endif\\n\\t}\\n#endif\\n#if NUM_DIR_LIGHTS > 0\\n\\t#pragma unroll_loop\\n\\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\\n\\t\\tgetDirectionalDirectLightIrradiance( directionalLights[ i ], geometry, directLight );\\n\\t\\tdotNL = dot( geometry.normal, directLight.direction );\\n\\t\\tdirectLightColor_Diffuse = PI * directLight.color;\\n\\t\\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\\n\\t\\t#ifdef DOUBLE_SIDED\\n\\t\\t\\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\\n\\t\\t#endif\\n\\t}\\n#endif\\n#if NUM_HEMI_LIGHTS > 0\\n\\t#pragma unroll_loop\\n\\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\\n\\t\\tvIndirectFront += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\\n\\t\\t#ifdef DOUBLE_SIDED\\n\\t\\t\\tvIndirectBack += getHemisphereLightIrradiance( hemisphereLights[ i ], backGeometry );\\n\\t\\t#endif\\n\\t}\\n#endif\";\n\nvar lights_pars_begin = \"uniform vec3 ambientLightColor;\\nuniform vec3 lightProbe[ 9 ];\\nvec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {\\n\\tfloat x = normal.x, y = normal.y, z = normal.z;\\n\\tvec3 result = shCoefficients[ 0 ] * 0.886227;\\n\\tresult += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;\\n\\tresult += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;\\n\\tresult += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;\\n\\tresult += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;\\n\\tresult += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;\\n\\tresult += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );\\n\\tresult += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;\\n\\tresult += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );\\n\\treturn result;\\n}\\nvec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in GeometricContext geometry ) {\\n\\tvec3 worldNormal = inverseTransformDirection( geometry.normal, viewMatrix );\\n\\tvec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );\\n\\treturn irradiance;\\n}\\nvec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {\\n\\tvec3 irradiance = ambientLightColor;\\n\\t#ifndef PHYSICALLY_CORRECT_LIGHTS\\n\\t\\tirradiance *= PI;\\n\\t#endif\\n\\treturn irradiance;\\n}\\n#if NUM_DIR_LIGHTS > 0\\n\\tstruct DirectionalLight {\\n\\t\\tvec3 direction;\\n\\t\\tvec3 color;\\n\\t\\tint shadow;\\n\\t\\tfloat shadowBias;\\n\\t\\tfloat shadowRadius;\\n\\t\\tvec2 shadowMapSize;\\n\\t};\\n\\tuniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];\\n\\tvoid getDirectionalDirectLightIrradiance( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight directLight ) {\\n\\t\\tdirectLight.color = directionalLight.color;\\n\\t\\tdirectLight.direction = directionalLight.direction;\\n\\t\\tdirectLight.visible = true;\\n\\t}\\n#endif\\n#if NUM_POINT_LIGHTS > 0\\n\\tstruct PointLight {\\n\\t\\tvec3 position;\\n\\t\\tvec3 color;\\n\\t\\tfloat distance;\\n\\t\\tfloat decay;\\n\\t\\tint shadow;\\n\\t\\tfloat shadowBias;\\n\\t\\tfloat shadowRadius;\\n\\t\\tvec2 shadowMapSize;\\n\\t\\tfloat shadowCameraNear;\\n\\t\\tfloat shadowCameraFar;\\n\\t};\\n\\tuniform PointLight pointLights[ NUM_POINT_LIGHTS ];\\n\\tvoid getPointDirectLightIrradiance( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight directLight ) {\\n\\t\\tvec3 lVector = pointLight.position - geometry.position;\\n\\t\\tdirectLight.direction = normalize( lVector );\\n\\t\\tfloat lightDistance = length( lVector );\\n\\t\\tdirectLight.color = pointLight.color;\\n\\t\\tdirectLight.color *= punctualLightIntensityToIrradianceFactor( lightDistance, pointLight.distance, pointLight.decay );\\n\\t\\tdirectLight.visible = ( directLight.color != vec3( 0.0 ) );\\n\\t}\\n#endif\\n#if NUM_SPOT_LIGHTS > 0\\n\\tstruct SpotLight {\\n\\t\\tvec3 position;\\n\\t\\tvec3 direction;\\n\\t\\tvec3 color;\\n\\t\\tfloat distance;\\n\\t\\tfloat decay;\\n\\t\\tfloat coneCos;\\n\\t\\tfloat penumbraCos;\\n\\t\\tint shadow;\\n\\t\\tfloat shadowBias;\\n\\t\\tfloat shadowRadius;\\n\\t\\tvec2 shadowMapSize;\\n\\t};\\n\\tuniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];\\n\\tvoid getSpotDirectLightIrradiance( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight directLight  ) {\\n\\t\\tvec3 lVector = spotLight.position - geometry.position;\\n\\t\\tdirectLight.direction = normalize( lVector );\\n\\t\\tfloat lightDistance = length( lVector );\\n\\t\\tfloat angleCos = dot( directLight.direction, spotLight.direction );\\n\\t\\tif ( angleCos > spotLight.coneCos ) {\\n\\t\\t\\tfloat spotEffect = smoothstep( spotLight.coneCos, spotLight.penumbraCos, angleCos );\\n\\t\\t\\tdirectLight.color = spotLight.color;\\n\\t\\t\\tdirectLight.color *= spotEffect * punctualLightIntensityToIrradianceFactor( lightDistance, spotLight.distance, spotLight.decay );\\n\\t\\t\\tdirectLight.visible = true;\\n\\t\\t} else {\\n\\t\\t\\tdirectLight.color = vec3( 0.0 );\\n\\t\\t\\tdirectLight.visible = false;\\n\\t\\t}\\n\\t}\\n#endif\\n#if NUM_RECT_AREA_LIGHTS > 0\\n\\tstruct RectAreaLight {\\n\\t\\tvec3 color;\\n\\t\\tvec3 position;\\n\\t\\tvec3 halfWidth;\\n\\t\\tvec3 halfHeight;\\n\\t};\\n\\tuniform sampler2D ltc_1;\\tuniform sampler2D ltc_2;\\n\\tuniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];\\n#endif\\n#if NUM_HEMI_LIGHTS > 0\\n\\tstruct HemisphereLight {\\n\\t\\tvec3 direction;\\n\\t\\tvec3 skyColor;\\n\\t\\tvec3 groundColor;\\n\\t};\\n\\tuniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];\\n\\tvec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in GeometricContext geometry ) {\\n\\t\\tfloat dotNL = dot( geometry.normal, hemiLight.direction );\\n\\t\\tfloat hemiDiffuseWeight = 0.5 * dotNL + 0.5;\\n\\t\\tvec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );\\n\\t\\t#ifndef PHYSICALLY_CORRECT_LIGHTS\\n\\t\\t\\tirradiance *= PI;\\n\\t\\t#endif\\n\\t\\treturn irradiance;\\n\\t}\\n#endif\";\n\nvar envmap_physical_pars_fragment = \"#if defined( USE_ENVMAP ) && defined( PHYSICAL )\\n\\tvec3 getLightProbeIndirectIrradiance( const in GeometricContext geometry, const in int maxMIPLevel ) {\\n\\t\\tvec3 worldNormal = inverseTransformDirection( geometry.normal, viewMatrix );\\n\\t\\t#ifdef ENVMAP_TYPE_CUBE\\n\\t\\t\\tvec3 queryVec = vec3( flipEnvMap * worldNormal.x, worldNormal.yz );\\n\\t\\t\\t#ifdef TEXTURE_LOD_EXT\\n\\t\\t\\t\\tvec4 envMapColor = textureCubeLodEXT( envMap, queryVec, float( maxMIPLevel ) );\\n\\t\\t\\t#else\\n\\t\\t\\t\\tvec4 envMapColor = textureCube( envMap, queryVec, float( maxMIPLevel ) );\\n\\t\\t\\t#endif\\n\\t\\t\\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\\n\\t\\t#elif defined( ENVMAP_TYPE_CUBE_UV )\\n\\t\\t\\tvec3 queryVec = vec3( flipEnvMap * worldNormal.x, worldNormal.yz );\\n\\t\\t\\tvec4 envMapColor = textureCubeUV( envMap, queryVec, 1.0 );\\n\\t\\t#else\\n\\t\\t\\tvec4 envMapColor = vec4( 0.0 );\\n\\t\\t#endif\\n\\t\\treturn PI * envMapColor.rgb * envMapIntensity;\\n\\t}\\n\\tfloat getSpecularMIPLevel( const in float blinnShininessExponent, const in int maxMIPLevel ) {\\n\\t\\tfloat maxMIPLevelScalar = float( maxMIPLevel );\\n\\t\\tfloat desiredMIPLevel = maxMIPLevelScalar + 0.79248 - 0.5 * log2( pow2( blinnShininessExponent ) + 1.0 );\\n\\t\\treturn clamp( desiredMIPLevel, 0.0, maxMIPLevelScalar );\\n\\t}\\n\\tvec3 getLightProbeIndirectRadiance( const in GeometricContext geometry, const in float blinnShininessExponent, const in int maxMIPLevel ) {\\n\\t\\t#ifdef ENVMAP_MODE_REFLECTION\\n\\t\\t\\tvec3 reflectVec = reflect( -geometry.viewDir, geometry.normal );\\n\\t\\t#else\\n\\t\\t\\tvec3 reflectVec = refract( -geometry.viewDir, geometry.normal, refractionRatio );\\n\\t\\t#endif\\n\\t\\treflectVec = inverseTransformDirection( reflectVec, viewMatrix );\\n\\t\\tfloat specularMIPLevel = getSpecularMIPLevel( blinnShininessExponent, maxMIPLevel );\\n\\t\\t#ifdef ENVMAP_TYPE_CUBE\\n\\t\\t\\tvec3 queryReflectVec = vec3( flipEnvMap * reflectVec.x, reflectVec.yz );\\n\\t\\t\\t#ifdef TEXTURE_LOD_EXT\\n\\t\\t\\t\\tvec4 envMapColor = textureCubeLodEXT( envMap, queryReflectVec, specularMIPLevel );\\n\\t\\t\\t#else\\n\\t\\t\\t\\tvec4 envMapColor = textureCube( envMap, queryReflectVec, specularMIPLevel );\\n\\t\\t\\t#endif\\n\\t\\t\\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\\n\\t\\t#elif defined( ENVMAP_TYPE_CUBE_UV )\\n\\t\\t\\tvec3 queryReflectVec = vec3( flipEnvMap * reflectVec.x, reflectVec.yz );\\n\\t\\t\\tvec4 envMapColor = textureCubeUV( envMap, queryReflectVec, BlinnExponentToGGXRoughness(blinnShininessExponent ));\\n\\t\\t#elif defined( ENVMAP_TYPE_EQUIREC )\\n\\t\\t\\tvec2 sampleUV;\\n\\t\\t\\tsampleUV.y = asin( clamp( reflectVec.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\\n\\t\\t\\tsampleUV.x = atan( reflectVec.z, reflectVec.x ) * RECIPROCAL_PI2 + 0.5;\\n\\t\\t\\t#ifdef TEXTURE_LOD_EXT\\n\\t\\t\\t\\tvec4 envMapColor = texture2DLodEXT( envMap, sampleUV, specularMIPLevel );\\n\\t\\t\\t#else\\n\\t\\t\\t\\tvec4 envMapColor = texture2D( envMap, sampleUV, specularMIPLevel );\\n\\t\\t\\t#endif\\n\\t\\t\\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\\n\\t\\t#elif defined( ENVMAP_TYPE_SPHERE )\\n\\t\\t\\tvec3 reflectView = normalize( ( viewMatrix * vec4( reflectVec, 0.0 ) ).xyz + vec3( 0.0,0.0,1.0 ) );\\n\\t\\t\\t#ifdef TEXTURE_LOD_EXT\\n\\t\\t\\t\\tvec4 envMapColor = texture2DLodEXT( envMap, reflectView.xy * 0.5 + 0.5, specularMIPLevel );\\n\\t\\t\\t#else\\n\\t\\t\\t\\tvec4 envMapColor = texture2D( envMap, reflectView.xy * 0.5 + 0.5, specularMIPLevel );\\n\\t\\t\\t#endif\\n\\t\\t\\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\\n\\t\\t#endif\\n\\t\\treturn envMapColor.rgb * envMapIntensity;\\n\\t}\\n#endif\";\n\nvar lights_phong_fragment = \"BlinnPhongMaterial material;\\nmaterial.diffuseColor = diffuseColor.rgb;\\nmaterial.specularColor = specular;\\nmaterial.specularShininess = shininess;\\nmaterial.specularStrength = specularStrength;\";\n\nvar lights_phong_pars_fragment = \"varying vec3 vViewPosition;\\n#ifndef FLAT_SHADED\\n\\tvarying vec3 vNormal;\\n#endif\\nstruct BlinnPhongMaterial {\\n\\tvec3\\tdiffuseColor;\\n\\tvec3\\tspecularColor;\\n\\tfloat\\tspecularShininess;\\n\\tfloat\\tspecularStrength;\\n};\\nvoid RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\\n\\t#ifdef TOON\\n\\t\\tvec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;\\n\\t#else\\n\\t\\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\\n\\t\\tvec3 irradiance = dotNL * directLight.color;\\n\\t#endif\\n\\t#ifndef PHYSICALLY_CORRECT_LIGHTS\\n\\t\\tirradiance *= PI;\\n\\t#endif\\n\\treflectedLight.directDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\\n\\treflectedLight.directSpecular += irradiance * BRDF_Specular_BlinnPhong( directLight, geometry, material.specularColor, material.specularShininess ) * material.specularStrength;\\n}\\nvoid RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\\n\\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\\n}\\n#define RE_Direct\\t\\t\\t\\tRE_Direct_BlinnPhong\\n#define RE_IndirectDiffuse\\t\\tRE_IndirectDiffuse_BlinnPhong\\n#define Material_LightProbeLOD( material )\\t(0)\";\n\nvar lights_physical_fragment = \"PhysicalMaterial material;\\nmaterial.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );\\nmaterial.specularRoughness = clamp( roughnessFactor, 0.04, 1.0 );\\n#ifdef STANDARD\\n\\tmaterial.specularColor = mix( vec3( DEFAULT_SPECULAR_COEFFICIENT ), diffuseColor.rgb, metalnessFactor );\\n#else\\n\\tmaterial.specularColor = mix( vec3( MAXIMUM_SPECULAR_COEFFICIENT * pow2( reflectivity ) ), diffuseColor.rgb, metalnessFactor );\\n\\tmaterial.clearCoat = saturate( clearCoat );\\tmaterial.clearCoatRoughness = clamp( clearCoatRoughness, 0.04, 1.0 );\\n#endif\";\n\nvar lights_physical_pars_fragment = \"struct PhysicalMaterial {\\n\\tvec3\\tdiffuseColor;\\n\\tfloat\\tspecularRoughness;\\n\\tvec3\\tspecularColor;\\n\\t#ifndef STANDARD\\n\\t\\tfloat clearCoat;\\n\\t\\tfloat clearCoatRoughness;\\n\\t#endif\\n};\\n#define MAXIMUM_SPECULAR_COEFFICIENT 0.16\\n#define DEFAULT_SPECULAR_COEFFICIENT 0.04\\nfloat clearCoatDHRApprox( const in float roughness, const in float dotNL ) {\\n\\treturn DEFAULT_SPECULAR_COEFFICIENT + ( 1.0 - DEFAULT_SPECULAR_COEFFICIENT ) * ( pow( 1.0 - dotNL, 5.0 ) * pow( 1.0 - roughness, 2.0 ) );\\n}\\n#if NUM_RECT_AREA_LIGHTS > 0\\n\\tvoid RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\\n\\t\\tvec3 normal = geometry.normal;\\n\\t\\tvec3 viewDir = geometry.viewDir;\\n\\t\\tvec3 position = geometry.position;\\n\\t\\tvec3 lightPos = rectAreaLight.position;\\n\\t\\tvec3 halfWidth = rectAreaLight.halfWidth;\\n\\t\\tvec3 halfHeight = rectAreaLight.halfHeight;\\n\\t\\tvec3 lightColor = rectAreaLight.color;\\n\\t\\tfloat roughness = material.specularRoughness;\\n\\t\\tvec3 rectCoords[ 4 ];\\n\\t\\trectCoords[ 0 ] = lightPos + halfWidth - halfHeight;\\t\\trectCoords[ 1 ] = lightPos - halfWidth - halfHeight;\\n\\t\\trectCoords[ 2 ] = lightPos - halfWidth + halfHeight;\\n\\t\\trectCoords[ 3 ] = lightPos + halfWidth + halfHeight;\\n\\t\\tvec2 uv = LTC_Uv( normal, viewDir, roughness );\\n\\t\\tvec4 t1 = texture2D( ltc_1, uv );\\n\\t\\tvec4 t2 = texture2D( ltc_2, uv );\\n\\t\\tmat3 mInv = mat3(\\n\\t\\t\\tvec3( t1.x, 0, t1.y ),\\n\\t\\t\\tvec3(    0, 1,    0 ),\\n\\t\\t\\tvec3( t1.z, 0, t1.w )\\n\\t\\t);\\n\\t\\tvec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );\\n\\t\\treflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );\\n\\t\\treflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );\\n\\t}\\n#endif\\nvoid RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\\n\\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\\n\\tvec3 irradiance = dotNL * directLight.color;\\n\\t#ifndef PHYSICALLY_CORRECT_LIGHTS\\n\\t\\tirradiance *= PI;\\n\\t#endif\\n\\t#ifndef STANDARD\\n\\t\\tfloat clearCoatDHR = material.clearCoat * clearCoatDHRApprox( material.clearCoatRoughness, dotNL );\\n\\t#else\\n\\t\\tfloat clearCoatDHR = 0.0;\\n\\t#endif\\n\\treflectedLight.directSpecular += ( 1.0 - clearCoatDHR ) * irradiance * BRDF_Specular_GGX( directLight, geometry, material.specularColor, material.specularRoughness );\\n\\treflectedLight.directDiffuse += ( 1.0 - clearCoatDHR ) * irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\\n\\t#ifndef STANDARD\\n\\t\\treflectedLight.directSpecular += irradiance * material.clearCoat * BRDF_Specular_GGX( directLight, geometry, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearCoatRoughness );\\n\\t#endif\\n}\\nvoid RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\\n\\t#ifndef ENVMAP_TYPE_CUBE_UV\\n\\t\\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\\n\\t#endif\\n}\\nvoid RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearCoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {\\n\\t#ifndef STANDARD\\n\\t\\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\\n\\t\\tfloat dotNL = dotNV;\\n\\t\\tfloat clearCoatDHR = material.clearCoat * clearCoatDHRApprox( material.clearCoatRoughness, dotNL );\\n\\t#else\\n\\t\\tfloat clearCoatDHR = 0.0;\\n\\t#endif\\n\\tfloat clearCoatInv = 1.0 - clearCoatDHR;\\n\\t#if defined( ENVMAP_TYPE_CUBE_UV )\\n\\t\\tvec3 singleScattering = vec3( 0.0 );\\n\\t\\tvec3 multiScattering = vec3( 0.0 );\\n\\t\\tvec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;\\n\\t\\tBRDF_Specular_Multiscattering_Environment( geometry, material.specularColor, material.specularRoughness, singleScattering, multiScattering );\\n\\t\\tvec3 diffuse = material.diffuseColor * ( 1.0 - ( singleScattering + multiScattering ) );\\n\\t\\treflectedLight.indirectSpecular += clearCoatInv * radiance * singleScattering;\\n\\t\\treflectedLight.indirectDiffuse += multiScattering * cosineWeightedIrradiance;\\n\\t\\treflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;\\n\\t#else\\n\\t\\treflectedLight.indirectSpecular += clearCoatInv * radiance * BRDF_Specular_GGX_Environment( geometry, material.specularColor, material.specularRoughness );\\n\\t#endif\\n\\t#ifndef STANDARD\\n\\t\\treflectedLight.indirectSpecular += clearCoatRadiance * material.clearCoat * BRDF_Specular_GGX_Environment( geometry, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearCoatRoughness );\\n\\t#endif\\n}\\n#define RE_Direct\\t\\t\\t\\tRE_Direct_Physical\\n#define RE_Direct_RectArea\\t\\tRE_Direct_RectArea_Physical\\n#define RE_IndirectDiffuse\\t\\tRE_IndirectDiffuse_Physical\\n#define RE_IndirectSpecular\\t\\tRE_IndirectSpecular_Physical\\n#define Material_BlinnShininessExponent( material )   GGXRoughnessToBlinnExponent( material.specularRoughness )\\n#define Material_ClearCoat_BlinnShininessExponent( material )   GGXRoughnessToBlinnExponent( material.clearCoatRoughness )\\nfloat computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {\\n\\treturn saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );\\n}\";\n\nvar lights_fragment_begin = \"\\nGeometricContext geometry;\\ngeometry.position = - vViewPosition;\\ngeometry.normal = normal;\\ngeometry.viewDir = normalize( vViewPosition );\\nIncidentLight directLight;\\n#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )\\n\\tPointLight pointLight;\\n\\t#pragma unroll_loop\\n\\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\\n\\t\\tpointLight = pointLights[ i ];\\n\\t\\tgetPointDirectLightIrradiance( pointLight, geometry, directLight );\\n\\t\\t#ifdef USE_SHADOWMAP\\n\\t\\tdirectLight.color *= all( bvec2( pointLight.shadow, directLight.visible ) ) ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;\\n\\t\\t#endif\\n\\t\\tRE_Direct( directLight, geometry, material, reflectedLight );\\n\\t}\\n#endif\\n#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )\\n\\tSpotLight spotLight;\\n\\t#pragma unroll_loop\\n\\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\\n\\t\\tspotLight = spotLights[ i ];\\n\\t\\tgetSpotDirectLightIrradiance( spotLight, geometry, directLight );\\n\\t\\t#ifdef USE_SHADOWMAP\\n\\t\\tdirectLight.color *= all( bvec2( spotLight.shadow, directLight.visible ) ) ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\\n\\t\\t#endif\\n\\t\\tRE_Direct( directLight, geometry, material, reflectedLight );\\n\\t}\\n#endif\\n#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )\\n\\tDirectionalLight directionalLight;\\n\\t#pragma unroll_loop\\n\\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\\n\\t\\tdirectionalLight = directionalLights[ i ];\\n\\t\\tgetDirectionalDirectLightIrradiance( directionalLight, geometry, directLight );\\n\\t\\t#ifdef USE_SHADOWMAP\\n\\t\\tdirectLight.color *= all( bvec2( directionalLight.shadow, directLight.visible ) ) ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\\n\\t\\t#endif\\n\\t\\tRE_Direct( directLight, geometry, material, reflectedLight );\\n\\t}\\n#endif\\n#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )\\n\\tRectAreaLight rectAreaLight;\\n\\t#pragma unroll_loop\\n\\tfor ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {\\n\\t\\trectAreaLight = rectAreaLights[ i ];\\n\\t\\tRE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );\\n\\t}\\n#endif\\n#if defined( RE_IndirectDiffuse )\\n\\tvec3 irradiance = getAmbientLightIrradiance( ambientLightColor );\\n\\tirradiance += getLightProbeIrradiance( lightProbe, geometry );\\n\\t#if ( NUM_HEMI_LIGHTS > 0 )\\n\\t\\t#pragma unroll_loop\\n\\t\\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\\n\\t\\t\\tirradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\\n\\t\\t}\\n\\t#endif\\n#endif\\n#if defined( RE_IndirectSpecular )\\n\\tvec3 radiance = vec3( 0.0 );\\n\\tvec3 clearCoatRadiance = vec3( 0.0 );\\n#endif\";\n\nvar lights_fragment_maps = \"#if defined( RE_IndirectDiffuse )\\n\\t#ifdef USE_LIGHTMAP\\n\\t\\tvec3 lightMapIrradiance = texture2D( lightMap, vUv2 ).xyz * lightMapIntensity;\\n\\t\\t#ifndef PHYSICALLY_CORRECT_LIGHTS\\n\\t\\t\\tlightMapIrradiance *= PI;\\n\\t\\t#endif\\n\\t\\tirradiance += lightMapIrradiance;\\n\\t#endif\\n\\t#if defined( USE_ENVMAP ) && defined( PHYSICAL ) && defined( ENVMAP_TYPE_CUBE_UV )\\n\\t\\tirradiance += getLightProbeIndirectIrradiance( geometry, maxMipLevel );\\n\\t#endif\\n#endif\\n#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )\\n\\tradiance += getLightProbeIndirectRadiance( geometry, Material_BlinnShininessExponent( material ), maxMipLevel );\\n\\t#ifndef STANDARD\\n\\t\\tclearCoatRadiance += getLightProbeIndirectRadiance( geometry, Material_ClearCoat_BlinnShininessExponent( material ), maxMipLevel );\\n\\t#endif\\n#endif\";\n\nvar lights_fragment_end = \"#if defined( RE_IndirectDiffuse )\\n\\tRE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );\\n#endif\\n#if defined( RE_IndirectSpecular )\\n\\tRE_IndirectSpecular( radiance, irradiance, clearCoatRadiance, geometry, material, reflectedLight );\\n#endif\";\n\nvar logdepthbuf_fragment = \"#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\\n\\tgl_FragDepthEXT = log2( vFragDepth ) * logDepthBufFC * 0.5;\\n#endif\";\n\nvar logdepthbuf_pars_fragment = \"#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\\n\\tuniform float logDepthBufFC;\\n\\tvarying float vFragDepth;\\n#endif\";\n\nvar logdepthbuf_pars_vertex = \"#ifdef USE_LOGDEPTHBUF\\n\\t#ifdef USE_LOGDEPTHBUF_EXT\\n\\t\\tvarying float vFragDepth;\\n\\t#else\\n\\t\\tuniform float logDepthBufFC;\\n\\t#endif\\n#endif\";\n\nvar logdepthbuf_vertex = \"#ifdef USE_LOGDEPTHBUF\\n\\t#ifdef USE_LOGDEPTHBUF_EXT\\n\\t\\tvFragDepth = 1.0 + gl_Position.w;\\n\\t#else\\n\\t\\tgl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;\\n\\t\\tgl_Position.z *= gl_Position.w;\\n\\t#endif\\n#endif\";\n\nvar map_fragment = \"#ifdef USE_MAP\\n\\tvec4 texelColor = texture2D( map, vUv );\\n\\ttexelColor = mapTexelToLinear( texelColor );\\n\\tdiffuseColor *= texelColor;\\n#endif\";\n\nvar map_pars_fragment = \"#ifdef USE_MAP\\n\\tuniform sampler2D map;\\n#endif\";\n\nvar map_particle_fragment = \"#ifdef USE_MAP\\n\\tvec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;\\n\\tvec4 mapTexel = texture2D( map, uv );\\n\\tdiffuseColor *= mapTexelToLinear( mapTexel );\\n#endif\";\n\nvar map_particle_pars_fragment = \"#ifdef USE_MAP\\n\\tuniform mat3 uvTransform;\\n\\tuniform sampler2D map;\\n#endif\";\n\nvar metalnessmap_fragment = \"float metalnessFactor = metalness;\\n#ifdef USE_METALNESSMAP\\n\\tvec4 texelMetalness = texture2D( metalnessMap, vUv );\\n\\tmetalnessFactor *= texelMetalness.b;\\n#endif\";\n\nvar metalnessmap_pars_fragment = \"#ifdef USE_METALNESSMAP\\n\\tuniform sampler2D metalnessMap;\\n#endif\";\n\nvar morphnormal_vertex = \"#ifdef USE_MORPHNORMALS\\n\\tobjectNormal += ( morphNormal0 - normal ) * morphTargetInfluences[ 0 ];\\n\\tobjectNormal += ( morphNormal1 - normal ) * morphTargetInfluences[ 1 ];\\n\\tobjectNormal += ( morphNormal2 - normal ) * morphTargetInfluences[ 2 ];\\n\\tobjectNormal += ( morphNormal3 - normal ) * morphTargetInfluences[ 3 ];\\n#endif\";\n\nvar morphtarget_pars_vertex = \"#ifdef USE_MORPHTARGETS\\n\\t#ifndef USE_MORPHNORMALS\\n\\tuniform float morphTargetInfluences[ 8 ];\\n\\t#else\\n\\tuniform float morphTargetInfluences[ 4 ];\\n\\t#endif\\n#endif\";\n\nvar morphtarget_vertex = \"#ifdef USE_MORPHTARGETS\\n\\ttransformed += ( morphTarget0 - position ) * morphTargetInfluences[ 0 ];\\n\\ttransformed += ( morphTarget1 - position ) * morphTargetInfluences[ 1 ];\\n\\ttransformed += ( morphTarget2 - position ) * morphTargetInfluences[ 2 ];\\n\\ttransformed += ( morphTarget3 - position ) * morphTargetInfluences[ 3 ];\\n\\t#ifndef USE_MORPHNORMALS\\n\\ttransformed += ( morphTarget4 - position ) * morphTargetInfluences[ 4 ];\\n\\ttransformed += ( morphTarget5 - position ) * morphTargetInfluences[ 5 ];\\n\\ttransformed += ( morphTarget6 - position ) * morphTargetInfluences[ 6 ];\\n\\ttransformed += ( morphTarget7 - position ) * morphTargetInfluences[ 7 ];\\n\\t#endif\\n#endif\";\n\nvar normal_fragment_begin = \"#ifdef FLAT_SHADED\\n\\tvec3 fdx = vec3( dFdx( vViewPosition.x ), dFdx( vViewPosition.y ), dFdx( vViewPosition.z ) );\\n\\tvec3 fdy = vec3( dFdy( vViewPosition.x ), dFdy( vViewPosition.y ), dFdy( vViewPosition.z ) );\\n\\tvec3 normal = normalize( cross( fdx, fdy ) );\\n#else\\n\\tvec3 normal = normalize( vNormal );\\n\\t#ifdef DOUBLE_SIDED\\n\\t\\tnormal = normal * ( float( gl_FrontFacing ) * 2.0 - 1.0 );\\n\\t#endif\\n\\t#ifdef USE_TANGENT\\n\\t\\tvec3 tangent = normalize( vTangent );\\n\\t\\tvec3 bitangent = normalize( vBitangent );\\n\\t\\t#ifdef DOUBLE_SIDED\\n\\t\\t\\ttangent = tangent * ( float( gl_FrontFacing ) * 2.0 - 1.0 );\\n\\t\\t\\tbitangent = bitangent * ( float( gl_FrontFacing ) * 2.0 - 1.0 );\\n\\t\\t#endif\\n\\t#endif\\n#endif\";\n\nvar normal_fragment_maps = \"#ifdef USE_NORMALMAP\\n\\t#ifdef OBJECTSPACE_NORMALMAP\\n\\t\\tnormal = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\\n\\t\\t#ifdef FLIP_SIDED\\n\\t\\t\\tnormal = - normal;\\n\\t\\t#endif\\n\\t\\t#ifdef DOUBLE_SIDED\\n\\t\\t\\tnormal = normal * ( float( gl_FrontFacing ) * 2.0 - 1.0 );\\n\\t\\t#endif\\n\\t\\tnormal = normalize( normalMatrix * normal );\\n\\t#else\\n\\t\\t#ifdef USE_TANGENT\\n\\t\\t\\tmat3 vTBN = mat3( tangent, bitangent, normal );\\n\\t\\t\\tvec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\\n\\t\\t\\tmapN.xy = normalScale * mapN.xy;\\n\\t\\t\\tnormal = normalize( vTBN * mapN );\\n\\t\\t#else\\n\\t\\t\\tnormal = perturbNormal2Arb( -vViewPosition, normal );\\n\\t\\t#endif\\n\\t#endif\\n#elif defined( USE_BUMPMAP )\\n\\tnormal = perturbNormalArb( -vViewPosition, normal, dHdxy_fwd() );\\n#endif\";\n\nvar normalmap_pars_fragment = \"#ifdef USE_NORMALMAP\\n\\tuniform sampler2D normalMap;\\n\\tuniform vec2 normalScale;\\n\\t#ifdef OBJECTSPACE_NORMALMAP\\n\\t\\tuniform mat3 normalMatrix;\\n\\t#else\\n\\t\\tvec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm ) {\\n\\t\\t\\tvec3 q0 = vec3( dFdx( eye_pos.x ), dFdx( eye_pos.y ), dFdx( eye_pos.z ) );\\n\\t\\t\\tvec3 q1 = vec3( dFdy( eye_pos.x ), dFdy( eye_pos.y ), dFdy( eye_pos.z ) );\\n\\t\\t\\tvec2 st0 = dFdx( vUv.st );\\n\\t\\t\\tvec2 st1 = dFdy( vUv.st );\\n\\t\\t\\tfloat scale = sign( st1.t * st0.s - st0.t * st1.s );\\n\\t\\t\\tvec3 S = normalize( ( q0 * st1.t - q1 * st0.t ) * scale );\\n\\t\\t\\tvec3 T = normalize( ( - q0 * st1.s + q1 * st0.s ) * scale );\\n\\t\\t\\tvec3 N = normalize( surf_norm );\\n\\t\\t\\tmat3 tsn = mat3( S, T, N );\\n\\t\\t\\tvec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\\n\\t\\t\\tmapN.xy *= normalScale;\\n\\t\\t\\tmapN.xy *= ( float( gl_FrontFacing ) * 2.0 - 1.0 );\\n\\t\\t\\treturn normalize( tsn * mapN );\\n\\t\\t}\\n\\t#endif\\n#endif\";\n\nvar packing = \"vec3 packNormalToRGB( const in vec3 normal ) {\\n\\treturn normalize( normal ) * 0.5 + 0.5;\\n}\\nvec3 unpackRGBToNormal( const in vec3 rgb ) {\\n\\treturn 2.0 * rgb.xyz - 1.0;\\n}\\nconst float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;\\nconst vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256.,  256. );\\nconst vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );\\nconst float ShiftRight8 = 1. / 256.;\\nvec4 packDepthToRGBA( const in float v ) {\\n\\tvec4 r = vec4( fract( v * PackFactors ), v );\\n\\tr.yzw -= r.xyz * ShiftRight8;\\treturn r * PackUpscale;\\n}\\nfloat unpackRGBAToDepth( const in vec4 v ) {\\n\\treturn dot( v, UnpackFactors );\\n}\\nfloat viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {\\n\\treturn ( viewZ + near ) / ( near - far );\\n}\\nfloat orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {\\n\\treturn linearClipZ * ( near - far ) - near;\\n}\\nfloat viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {\\n\\treturn (( near + viewZ ) * far ) / (( far - near ) * viewZ );\\n}\\nfloat perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {\\n\\treturn ( near * far ) / ( ( far - near ) * invClipZ - far );\\n}\";\n\nvar premultiplied_alpha_fragment = \"#ifdef PREMULTIPLIED_ALPHA\\n\\tgl_FragColor.rgb *= gl_FragColor.a;\\n#endif\";\n\nvar project_vertex = \"vec4 mvPosition = modelViewMatrix * vec4( transformed, 1.0 );\\ngl_Position = projectionMatrix * mvPosition;\";\n\nvar dithering_fragment = \"#if defined( DITHERING )\\n\\tgl_FragColor.rgb = dithering( gl_FragColor.rgb );\\n#endif\";\n\nvar dithering_pars_fragment = \"#if defined( DITHERING )\\n\\tvec3 dithering( vec3 color ) {\\n\\t\\tfloat grid_position = rand( gl_FragCoord.xy );\\n\\t\\tvec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );\\n\\t\\tdither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );\\n\\t\\treturn color + dither_shift_RGB;\\n\\t}\\n#endif\";\n\nvar roughnessmap_fragment = \"float roughnessFactor = roughness;\\n#ifdef USE_ROUGHNESSMAP\\n\\tvec4 texelRoughness = texture2D( roughnessMap, vUv );\\n\\troughnessFactor *= texelRoughness.g;\\n#endif\";\n\nvar roughnessmap_pars_fragment = \"#ifdef USE_ROUGHNESSMAP\\n\\tuniform sampler2D roughnessMap;\\n#endif\";\n\nvar shadowmap_pars_fragment = \"#ifdef USE_SHADOWMAP\\n\\t#if NUM_DIR_LIGHTS > 0\\n\\t\\tuniform sampler2D directionalShadowMap[ NUM_DIR_LIGHTS ];\\n\\t\\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHTS ];\\n\\t#endif\\n\\t#if NUM_SPOT_LIGHTS > 0\\n\\t\\tuniform sampler2D spotShadowMap[ NUM_SPOT_LIGHTS ];\\n\\t\\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHTS ];\\n\\t#endif\\n\\t#if NUM_POINT_LIGHTS > 0\\n\\t\\tuniform sampler2D pointShadowMap[ NUM_POINT_LIGHTS ];\\n\\t\\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHTS ];\\n\\t#endif\\n\\tfloat texture2DCompare( sampler2D depths, vec2 uv, float compare ) {\\n\\t\\treturn step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );\\n\\t}\\n\\tfloat texture2DShadowLerp( sampler2D depths, vec2 size, vec2 uv, float compare ) {\\n\\t\\tconst vec2 offset = vec2( 0.0, 1.0 );\\n\\t\\tvec2 texelSize = vec2( 1.0 ) / size;\\n\\t\\tvec2 centroidUV = floor( uv * size + 0.5 ) / size;\\n\\t\\tfloat lb = texture2DCompare( depths, centroidUV + texelSize * offset.xx, compare );\\n\\t\\tfloat lt = texture2DCompare( depths, centroidUV + texelSize * offset.xy, compare );\\n\\t\\tfloat rb = texture2DCompare( depths, centroidUV + texelSize * offset.yx, compare );\\n\\t\\tfloat rt = texture2DCompare( depths, centroidUV + texelSize * offset.yy, compare );\\n\\t\\tvec2 f = fract( uv * size + 0.5 );\\n\\t\\tfloat a = mix( lb, lt, f.y );\\n\\t\\tfloat b = mix( rb, rt, f.y );\\n\\t\\tfloat c = mix( a, b, f.x );\\n\\t\\treturn c;\\n\\t}\\n\\tfloat getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\\n\\t\\tfloat shadow = 1.0;\\n\\t\\tshadowCoord.xyz /= shadowCoord.w;\\n\\t\\tshadowCoord.z += shadowBias;\\n\\t\\tbvec4 inFrustumVec = bvec4 ( shadowCoord.x >= 0.0, shadowCoord.x <= 1.0, shadowCoord.y >= 0.0, shadowCoord.y <= 1.0 );\\n\\t\\tbool inFrustum = all( inFrustumVec );\\n\\t\\tbvec2 frustumTestVec = bvec2( inFrustum, shadowCoord.z <= 1.0 );\\n\\t\\tbool frustumTest = all( frustumTestVec );\\n\\t\\tif ( frustumTest ) {\\n\\t\\t#if defined( SHADOWMAP_TYPE_PCF )\\n\\t\\t\\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\\n\\t\\t\\tfloat dx0 = - texelSize.x * shadowRadius;\\n\\t\\t\\tfloat dy0 = - texelSize.y * shadowRadius;\\n\\t\\t\\tfloat dx1 = + texelSize.x * shadowRadius;\\n\\t\\t\\tfloat dy1 = + texelSize.y * shadowRadius;\\n\\t\\t\\tshadow = (\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\\n\\t\\t\\t) * ( 1.0 / 9.0 );\\n\\t\\t#elif defined( SHADOWMAP_TYPE_PCF_SOFT )\\n\\t\\t\\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\\n\\t\\t\\tfloat dx0 = - texelSize.x * shadowRadius;\\n\\t\\t\\tfloat dy0 = - texelSize.y * shadowRadius;\\n\\t\\t\\tfloat dx1 = + texelSize.x * shadowRadius;\\n\\t\\t\\tfloat dy1 = + texelSize.y * shadowRadius;\\n\\t\\t\\tshadow = (\\n\\t\\t\\t\\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy, shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\\n\\t\\t\\t) * ( 1.0 / 9.0 );\\n\\t\\t#else\\n\\t\\t\\tshadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );\\n\\t\\t#endif\\n\\t\\t}\\n\\t\\treturn shadow;\\n\\t}\\n\\tvec2 cubeToUV( vec3 v, float texelSizeY ) {\\n\\t\\tvec3 absV = abs( v );\\n\\t\\tfloat scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );\\n\\t\\tabsV *= scaleToCube;\\n\\t\\tv *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );\\n\\t\\tvec2 planar = v.xy;\\n\\t\\tfloat almostATexel = 1.5 * texelSizeY;\\n\\t\\tfloat almostOne = 1.0 - almostATexel;\\n\\t\\tif ( absV.z >= almostOne ) {\\n\\t\\t\\tif ( v.z > 0.0 )\\n\\t\\t\\t\\tplanar.x = 4.0 - v.x;\\n\\t\\t} else if ( absV.x >= almostOne ) {\\n\\t\\t\\tfloat signX = sign( v.x );\\n\\t\\t\\tplanar.x = v.z * signX + 2.0 * signX;\\n\\t\\t} else if ( absV.y >= almostOne ) {\\n\\t\\t\\tfloat signY = sign( v.y );\\n\\t\\t\\tplanar.x = v.x + 2.0 * signY + 2.0;\\n\\t\\t\\tplanar.y = v.z * signY - 2.0;\\n\\t\\t}\\n\\t\\treturn vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );\\n\\t}\\n\\tfloat getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {\\n\\t\\tvec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );\\n\\t\\tvec3 lightToPosition = shadowCoord.xyz;\\n\\t\\tfloat dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );\\t\\tdp += shadowBias;\\n\\t\\tvec3 bd3D = normalize( lightToPosition );\\n\\t\\t#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT )\\n\\t\\t\\tvec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;\\n\\t\\t\\treturn (\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )\\n\\t\\t\\t) * ( 1.0 / 9.0 );\\n\\t\\t#else\\n\\t\\t\\treturn texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );\\n\\t\\t#endif\\n\\t}\\n#endif\";\n\nvar shadowmap_pars_vertex = \"#ifdef USE_SHADOWMAP\\n\\t#if NUM_DIR_LIGHTS > 0\\n\\t\\tuniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHTS ];\\n\\t\\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHTS ];\\n\\t#endif\\n\\t#if NUM_SPOT_LIGHTS > 0\\n\\t\\tuniform mat4 spotShadowMatrix[ NUM_SPOT_LIGHTS ];\\n\\t\\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHTS ];\\n\\t#endif\\n\\t#if NUM_POINT_LIGHTS > 0\\n\\t\\tuniform mat4 pointShadowMatrix[ NUM_POINT_LIGHTS ];\\n\\t\\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHTS ];\\n\\t#endif\\n#endif\";\n\nvar shadowmap_vertex = \"#ifdef USE_SHADOWMAP\\n\\t#if NUM_DIR_LIGHTS > 0\\n\\t#pragma unroll_loop\\n\\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\\n\\t\\tvDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * worldPosition;\\n\\t}\\n\\t#endif\\n\\t#if NUM_SPOT_LIGHTS > 0\\n\\t#pragma unroll_loop\\n\\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\\n\\t\\tvSpotShadowCoord[ i ] = spotShadowMatrix[ i ] * worldPosition;\\n\\t}\\n\\t#endif\\n\\t#if NUM_POINT_LIGHTS > 0\\n\\t#pragma unroll_loop\\n\\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\\n\\t\\tvPointShadowCoord[ i ] = pointShadowMatrix[ i ] * worldPosition;\\n\\t}\\n\\t#endif\\n#endif\";\n\nvar shadowmask_pars_fragment = \"float getShadowMask() {\\n\\tfloat shadow = 1.0;\\n\\t#ifdef USE_SHADOWMAP\\n\\t#if NUM_DIR_LIGHTS > 0\\n\\tDirectionalLight directionalLight;\\n\\t#pragma unroll_loop\\n\\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\\n\\t\\tdirectionalLight = directionalLights[ i ];\\n\\t\\tshadow *= bool( directionalLight.shadow ) ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\\n\\t}\\n\\t#endif\\n\\t#if NUM_SPOT_LIGHTS > 0\\n\\tSpotLight spotLight;\\n\\t#pragma unroll_loop\\n\\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\\n\\t\\tspotLight = spotLights[ i ];\\n\\t\\tshadow *= bool( spotLight.shadow ) ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\\n\\t}\\n\\t#endif\\n\\t#if NUM_POINT_LIGHTS > 0\\n\\tPointLight pointLight;\\n\\t#pragma unroll_loop\\n\\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\\n\\t\\tpointLight = pointLights[ i ];\\n\\t\\tshadow *= bool( pointLight.shadow ) ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;\\n\\t}\\n\\t#endif\\n\\t#endif\\n\\treturn shadow;\\n}\";\n\nvar skinbase_vertex = \"#ifdef USE_SKINNING\\n\\tmat4 boneMatX = getBoneMatrix( skinIndex.x );\\n\\tmat4 boneMatY = getBoneMatrix( skinIndex.y );\\n\\tmat4 boneMatZ = getBoneMatrix( skinIndex.z );\\n\\tmat4 boneMatW = getBoneMatrix( skinIndex.w );\\n#endif\";\n\nvar skinning_pars_vertex = \"#ifdef USE_SKINNING\\n\\tuniform mat4 bindMatrix;\\n\\tuniform mat4 bindMatrixInverse;\\n\\t#ifdef BONE_TEXTURE\\n\\t\\tuniform sampler2D boneTexture;\\n\\t\\tuniform int boneTextureSize;\\n\\t\\tmat4 getBoneMatrix( const in float i ) {\\n\\t\\t\\tfloat j = i * 4.0;\\n\\t\\t\\tfloat x = mod( j, float( boneTextureSize ) );\\n\\t\\t\\tfloat y = floor( j / float( boneTextureSize ) );\\n\\t\\t\\tfloat dx = 1.0 / float( boneTextureSize );\\n\\t\\t\\tfloat dy = 1.0 / float( boneTextureSize );\\n\\t\\t\\ty = dy * ( y + 0.5 );\\n\\t\\t\\tvec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );\\n\\t\\t\\tvec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );\\n\\t\\t\\tvec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );\\n\\t\\t\\tvec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );\\n\\t\\t\\tmat4 bone = mat4( v1, v2, v3, v4 );\\n\\t\\t\\treturn bone;\\n\\t\\t}\\n\\t#else\\n\\t\\tuniform mat4 boneMatrices[ MAX_BONES ];\\n\\t\\tmat4 getBoneMatrix( const in float i ) {\\n\\t\\t\\tmat4 bone = boneMatrices[ int(i) ];\\n\\t\\t\\treturn bone;\\n\\t\\t}\\n\\t#endif\\n#endif\";\n\nvar skinning_vertex = \"#ifdef USE_SKINNING\\n\\tvec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );\\n\\tvec4 skinned = vec4( 0.0 );\\n\\tskinned += boneMatX * skinVertex * skinWeight.x;\\n\\tskinned += boneMatY * skinVertex * skinWeight.y;\\n\\tskinned += boneMatZ * skinVertex * skinWeight.z;\\n\\tskinned += boneMatW * skinVertex * skinWeight.w;\\n\\ttransformed = ( bindMatrixInverse * skinned ).xyz;\\n#endif\";\n\nvar skinnormal_vertex = \"#ifdef USE_SKINNING\\n\\tmat4 skinMatrix = mat4( 0.0 );\\n\\tskinMatrix += skinWeight.x * boneMatX;\\n\\tskinMatrix += skinWeight.y * boneMatY;\\n\\tskinMatrix += skinWeight.z * boneMatZ;\\n\\tskinMatrix += skinWeight.w * boneMatW;\\n\\tskinMatrix  = bindMatrixInverse * skinMatrix * bindMatrix;\\n\\tobjectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;\\n\\t#ifdef USE_TANGENT\\n\\t\\tobjectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;\\n\\t#endif\\n#endif\";\n\nvar specularmap_fragment = \"float specularStrength;\\n#ifdef USE_SPECULARMAP\\n\\tvec4 texelSpecular = texture2D( specularMap, vUv );\\n\\tspecularStrength = texelSpecular.r;\\n#else\\n\\tspecularStrength = 1.0;\\n#endif\";\n\nvar specularmap_pars_fragment = \"#ifdef USE_SPECULARMAP\\n\\tuniform sampler2D specularMap;\\n#endif\";\n\nvar tonemapping_fragment = \"#if defined( TONE_MAPPING )\\n\\tgl_FragColor.rgb = toneMapping( gl_FragColor.rgb );\\n#endif\";\n\nvar tonemapping_pars_fragment = \"#ifndef saturate\\n\\t#define saturate(a) clamp( a, 0.0, 1.0 )\\n#endif\\nuniform float toneMappingExposure;\\nuniform float toneMappingWhitePoint;\\nvec3 LinearToneMapping( vec3 color ) {\\n\\treturn toneMappingExposure * color;\\n}\\nvec3 ReinhardToneMapping( vec3 color ) {\\n\\tcolor *= toneMappingExposure;\\n\\treturn saturate( color / ( vec3( 1.0 ) + color ) );\\n}\\n#define Uncharted2Helper( x ) max( ( ( x * ( 0.15 * x + 0.10 * 0.50 ) + 0.20 * 0.02 ) / ( x * ( 0.15 * x + 0.50 ) + 0.20 * 0.30 ) ) - 0.02 / 0.30, vec3( 0.0 ) )\\nvec3 Uncharted2ToneMapping( vec3 color ) {\\n\\tcolor *= toneMappingExposure;\\n\\treturn saturate( Uncharted2Helper( color ) / Uncharted2Helper( vec3( toneMappingWhitePoint ) ) );\\n}\\nvec3 OptimizedCineonToneMapping( vec3 color ) {\\n\\tcolor *= toneMappingExposure;\\n\\tcolor = max( vec3( 0.0 ), color - 0.004 );\\n\\treturn pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );\\n}\\nvec3 ACESFilmicToneMapping( vec3 color ) {\\n\\tcolor *= toneMappingExposure;\\n\\treturn saturate( ( color * ( 2.51 * color + 0.03 ) ) / ( color * ( 2.43 * color + 0.59 ) + 0.14 ) );\\n}\";\n\nvar uv_pars_fragment = \"#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP ) || defined( USE_EMISSIVEMAP ) || defined( USE_ROUGHNESSMAP ) || defined( USE_METALNESSMAP )\\n\\tvarying vec2 vUv;\\n#endif\";\n\nvar uv_pars_vertex = \"#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP ) || defined( USE_EMISSIVEMAP ) || defined( USE_ROUGHNESSMAP ) || defined( USE_METALNESSMAP )\\n\\tvarying vec2 vUv;\\n\\tuniform mat3 uvTransform;\\n#endif\";\n\nvar uv_vertex = \"#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP ) || defined( USE_EMISSIVEMAP ) || defined( USE_ROUGHNESSMAP ) || defined( USE_METALNESSMAP )\\n\\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\\n#endif\";\n\nvar uv2_pars_fragment = \"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\\n\\tvarying vec2 vUv2;\\n#endif\";\n\nvar uv2_pars_vertex = \"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\\n\\tattribute vec2 uv2;\\n\\tvarying vec2 vUv2;\\n#endif\";\n\nvar uv2_vertex = \"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\\n\\tvUv2 = uv2;\\n#endif\";\n\nvar worldpos_vertex = \"#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP )\\n\\tvec4 worldPosition = modelMatrix * vec4( transformed, 1.0 );\\n#endif\";\n\nvar background_frag = \"uniform sampler2D t2D;\\nvarying vec2 vUv;\\nvoid main() {\\n\\tvec4 texColor = texture2D( t2D, vUv );\\n\\tgl_FragColor = mapTexelToLinear( texColor );\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n}\";\n\nvar background_vert = \"varying vec2 vUv;\\nuniform mat3 uvTransform;\\nvoid main() {\\n\\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\\n\\tgl_Position = vec4( position.xy, 1.0, 1.0 );\\n}\";\n\nvar cube_frag = \"uniform samplerCube tCube;\\nuniform float tFlip;\\nuniform float opacity;\\nvarying vec3 vWorldDirection;\\nvoid main() {\\n\\tvec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );\\n\\tgl_FragColor = mapTexelToLinear( texColor );\\n\\tgl_FragColor.a *= opacity;\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n}\";\n\nvar cube_vert = \"varying vec3 vWorldDirection;\\n#include <common>\\nvoid main() {\\n\\tvWorldDirection = transformDirection( position, modelMatrix );\\n\\t#include <begin_vertex>\\n\\t#include <project_vertex>\\n\\tgl_Position.z = gl_Position.w;\\n}\";\n\nvar depth_frag = \"#if DEPTH_PACKING == 3200\\n\\tuniform float opacity;\\n#endif\\n#include <common>\\n#include <packing>\\n#include <uv_pars_fragment>\\n#include <map_pars_fragment>\\n#include <alphamap_pars_fragment>\\n#include <logdepthbuf_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvoid main() {\\n\\t#include <clipping_planes_fragment>\\n\\tvec4 diffuseColor = vec4( 1.0 );\\n\\t#if DEPTH_PACKING == 3200\\n\\t\\tdiffuseColor.a = opacity;\\n\\t#endif\\n\\t#include <map_fragment>\\n\\t#include <alphamap_fragment>\\n\\t#include <alphatest_fragment>\\n\\t#include <logdepthbuf_fragment>\\n\\t#if DEPTH_PACKING == 3200\\n\\t\\tgl_FragColor = vec4( vec3( 1.0 - gl_FragCoord.z ), opacity );\\n\\t#elif DEPTH_PACKING == 3201\\n\\t\\tgl_FragColor = packDepthToRGBA( gl_FragCoord.z );\\n\\t#endif\\n}\";\n\nvar depth_vert = \"#include <common>\\n#include <uv_pars_vertex>\\n#include <displacementmap_pars_vertex>\\n#include <morphtarget_pars_vertex>\\n#include <skinning_pars_vertex>\\n#include <logdepthbuf_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvoid main() {\\n\\t#include <uv_vertex>\\n\\t#include <skinbase_vertex>\\n\\t#ifdef USE_DISPLACEMENTMAP\\n\\t\\t#include <beginnormal_vertex>\\n\\t\\t#include <morphnormal_vertex>\\n\\t\\t#include <skinnormal_vertex>\\n\\t#endif\\n\\t#include <begin_vertex>\\n\\t#include <morphtarget_vertex>\\n\\t#include <skinning_vertex>\\n\\t#include <displacementmap_vertex>\\n\\t#include <project_vertex>\\n\\t#include <logdepthbuf_vertex>\\n\\t#include <clipping_planes_vertex>\\n}\";\n\nvar distanceRGBA_frag = \"#define DISTANCE\\nuniform vec3 referencePosition;\\nuniform float nearDistance;\\nuniform float farDistance;\\nvarying vec3 vWorldPosition;\\n#include <common>\\n#include <packing>\\n#include <uv_pars_fragment>\\n#include <map_pars_fragment>\\n#include <alphamap_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvoid main () {\\n\\t#include <clipping_planes_fragment>\\n\\tvec4 diffuseColor = vec4( 1.0 );\\n\\t#include <map_fragment>\\n\\t#include <alphamap_fragment>\\n\\t#include <alphatest_fragment>\\n\\tfloat dist = length( vWorldPosition - referencePosition );\\n\\tdist = ( dist - nearDistance ) / ( farDistance - nearDistance );\\n\\tdist = saturate( dist );\\n\\tgl_FragColor = packDepthToRGBA( dist );\\n}\";\n\nvar distanceRGBA_vert = \"#define DISTANCE\\nvarying vec3 vWorldPosition;\\n#include <common>\\n#include <uv_pars_vertex>\\n#include <displacementmap_pars_vertex>\\n#include <morphtarget_pars_vertex>\\n#include <skinning_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvoid main() {\\n\\t#include <uv_vertex>\\n\\t#include <skinbase_vertex>\\n\\t#ifdef USE_DISPLACEMENTMAP\\n\\t\\t#include <beginnormal_vertex>\\n\\t\\t#include <morphnormal_vertex>\\n\\t\\t#include <skinnormal_vertex>\\n\\t#endif\\n\\t#include <begin_vertex>\\n\\t#include <morphtarget_vertex>\\n\\t#include <skinning_vertex>\\n\\t#include <displacementmap_vertex>\\n\\t#include <project_vertex>\\n\\t#include <worldpos_vertex>\\n\\t#include <clipping_planes_vertex>\\n\\tvWorldPosition = worldPosition.xyz;\\n}\";\n\nvar equirect_frag = \"uniform sampler2D tEquirect;\\nvarying vec3 vWorldDirection;\\n#include <common>\\nvoid main() {\\n\\tvec3 direction = normalize( vWorldDirection );\\n\\tvec2 sampleUV;\\n\\tsampleUV.y = asin( clamp( direction.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\\n\\tsampleUV.x = atan( direction.z, direction.x ) * RECIPROCAL_PI2 + 0.5;\\n\\tvec4 texColor = texture2D( tEquirect, sampleUV );\\n\\tgl_FragColor = mapTexelToLinear( texColor );\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n}\";\n\nvar equirect_vert = \"varying vec3 vWorldDirection;\\n#include <common>\\nvoid main() {\\n\\tvWorldDirection = transformDirection( position, modelMatrix );\\n\\t#include <begin_vertex>\\n\\t#include <project_vertex>\\n}\";\n\nvar linedashed_frag = \"uniform vec3 diffuse;\\nuniform float opacity;\\nuniform float dashSize;\\nuniform float totalSize;\\nvarying float vLineDistance;\\n#include <common>\\n#include <color_pars_fragment>\\n#include <fog_pars_fragment>\\n#include <logdepthbuf_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvoid main() {\\n\\t#include <clipping_planes_fragment>\\n\\tif ( mod( vLineDistance, totalSize ) > dashSize ) {\\n\\t\\tdiscard;\\n\\t}\\n\\tvec3 outgoingLight = vec3( 0.0 );\\n\\tvec4 diffuseColor = vec4( diffuse, opacity );\\n\\t#include <logdepthbuf_fragment>\\n\\t#include <color_fragment>\\n\\toutgoingLight = diffuseColor.rgb;\\n\\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\\n\\t#include <premultiplied_alpha_fragment>\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n\\t#include <fog_fragment>\\n}\";\n\nvar linedashed_vert = \"uniform float scale;\\nattribute float lineDistance;\\nvarying float vLineDistance;\\n#include <common>\\n#include <color_pars_vertex>\\n#include <fog_pars_vertex>\\n#include <logdepthbuf_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvoid main() {\\n\\t#include <color_vertex>\\n\\tvLineDistance = scale * lineDistance;\\n\\tvec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );\\n\\tgl_Position = projectionMatrix * mvPosition;\\n\\t#include <logdepthbuf_vertex>\\n\\t#include <clipping_planes_vertex>\\n\\t#include <fog_vertex>\\n}\";\n\nvar meshbasic_frag = \"uniform vec3 diffuse;\\nuniform float opacity;\\n#ifndef FLAT_SHADED\\n\\tvarying vec3 vNormal;\\n#endif\\n#include <common>\\n#include <color_pars_fragment>\\n#include <uv_pars_fragment>\\n#include <uv2_pars_fragment>\\n#include <map_pars_fragment>\\n#include <alphamap_pars_fragment>\\n#include <aomap_pars_fragment>\\n#include <lightmap_pars_fragment>\\n#include <envmap_pars_fragment>\\n#include <fog_pars_fragment>\\n#include <specularmap_pars_fragment>\\n#include <logdepthbuf_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvoid main() {\\n\\t#include <clipping_planes_fragment>\\n\\tvec4 diffuseColor = vec4( diffuse, opacity );\\n\\t#include <logdepthbuf_fragment>\\n\\t#include <map_fragment>\\n\\t#include <color_fragment>\\n\\t#include <alphamap_fragment>\\n\\t#include <alphatest_fragment>\\n\\t#include <specularmap_fragment>\\n\\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\\n\\t#ifdef USE_LIGHTMAP\\n\\t\\treflectedLight.indirectDiffuse += texture2D( lightMap, vUv2 ).xyz * lightMapIntensity;\\n\\t#else\\n\\t\\treflectedLight.indirectDiffuse += vec3( 1.0 );\\n\\t#endif\\n\\t#include <aomap_fragment>\\n\\treflectedLight.indirectDiffuse *= diffuseColor.rgb;\\n\\tvec3 outgoingLight = reflectedLight.indirectDiffuse;\\n\\t#include <envmap_fragment>\\n\\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\\n\\t#include <premultiplied_alpha_fragment>\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n\\t#include <fog_fragment>\\n}\";\n\nvar meshbasic_vert = \"#include <common>\\n#include <uv_pars_vertex>\\n#include <uv2_pars_vertex>\\n#include <envmap_pars_vertex>\\n#include <color_pars_vertex>\\n#include <fog_pars_vertex>\\n#include <morphtarget_pars_vertex>\\n#include <skinning_pars_vertex>\\n#include <logdepthbuf_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvoid main() {\\n\\t#include <uv_vertex>\\n\\t#include <uv2_vertex>\\n\\t#include <color_vertex>\\n\\t#include <skinbase_vertex>\\n\\t#ifdef USE_ENVMAP\\n\\t#include <beginnormal_vertex>\\n\\t#include <morphnormal_vertex>\\n\\t#include <skinnormal_vertex>\\n\\t#include <defaultnormal_vertex>\\n\\t#endif\\n\\t#include <begin_vertex>\\n\\t#include <morphtarget_vertex>\\n\\t#include <skinning_vertex>\\n\\t#include <project_vertex>\\n\\t#include <logdepthbuf_vertex>\\n\\t#include <worldpos_vertex>\\n\\t#include <clipping_planes_vertex>\\n\\t#include <envmap_vertex>\\n\\t#include <fog_vertex>\\n}\";\n\nvar meshlambert_frag = \"uniform vec3 diffuse;\\nuniform vec3 emissive;\\nuniform float opacity;\\nvarying vec3 vLightFront;\\nvarying vec3 vIndirectFront;\\n#ifdef DOUBLE_SIDED\\n\\tvarying vec3 vLightBack;\\n\\tvarying vec3 vIndirectBack;\\n#endif\\n#include <common>\\n#include <packing>\\n#include <dithering_pars_fragment>\\n#include <color_pars_fragment>\\n#include <uv_pars_fragment>\\n#include <uv2_pars_fragment>\\n#include <map_pars_fragment>\\n#include <alphamap_pars_fragment>\\n#include <aomap_pars_fragment>\\n#include <lightmap_pars_fragment>\\n#include <emissivemap_pars_fragment>\\n#include <envmap_pars_fragment>\\n#include <bsdfs>\\n#include <lights_pars_begin>\\n#include <fog_pars_fragment>\\n#include <shadowmap_pars_fragment>\\n#include <shadowmask_pars_fragment>\\n#include <specularmap_pars_fragment>\\n#include <logdepthbuf_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvoid main() {\\n\\t#include <clipping_planes_fragment>\\n\\tvec4 diffuseColor = vec4( diffuse, opacity );\\n\\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\\n\\tvec3 totalEmissiveRadiance = emissive;\\n\\t#include <logdepthbuf_fragment>\\n\\t#include <map_fragment>\\n\\t#include <color_fragment>\\n\\t#include <alphamap_fragment>\\n\\t#include <alphatest_fragment>\\n\\t#include <specularmap_fragment>\\n\\t#include <emissivemap_fragment>\\n\\treflectedLight.indirectDiffuse = getAmbientLightIrradiance( ambientLightColor );\\n\\t#ifdef DOUBLE_SIDED\\n\\t\\treflectedLight.indirectDiffuse += ( gl_FrontFacing ) ? vIndirectFront : vIndirectBack;\\n\\t#else\\n\\t\\treflectedLight.indirectDiffuse += vIndirectFront;\\n\\t#endif\\n\\t#include <lightmap_fragment>\\n\\treflectedLight.indirectDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb );\\n\\t#ifdef DOUBLE_SIDED\\n\\t\\treflectedLight.directDiffuse = ( gl_FrontFacing ) ? vLightFront : vLightBack;\\n\\t#else\\n\\t\\treflectedLight.directDiffuse = vLightFront;\\n\\t#endif\\n\\treflectedLight.directDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb ) * getShadowMask();\\n\\t#include <aomap_fragment>\\n\\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\\n\\t#include <envmap_fragment>\\n\\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n\\t#include <fog_fragment>\\n\\t#include <premultiplied_alpha_fragment>\\n\\t#include <dithering_fragment>\\n}\";\n\nvar meshlambert_vert = \"#define LAMBERT\\nvarying vec3 vLightFront;\\nvarying vec3 vIndirectFront;\\n#ifdef DOUBLE_SIDED\\n\\tvarying vec3 vLightBack;\\n\\tvarying vec3 vIndirectBack;\\n#endif\\n#include <common>\\n#include <uv_pars_vertex>\\n#include <uv2_pars_vertex>\\n#include <envmap_pars_vertex>\\n#include <bsdfs>\\n#include <lights_pars_begin>\\n#include <color_pars_vertex>\\n#include <fog_pars_vertex>\\n#include <morphtarget_pars_vertex>\\n#include <skinning_pars_vertex>\\n#include <shadowmap_pars_vertex>\\n#include <logdepthbuf_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvoid main() {\\n\\t#include <uv_vertex>\\n\\t#include <uv2_vertex>\\n\\t#include <color_vertex>\\n\\t#include <beginnormal_vertex>\\n\\t#include <morphnormal_vertex>\\n\\t#include <skinbase_vertex>\\n\\t#include <skinnormal_vertex>\\n\\t#include <defaultnormal_vertex>\\n\\t#include <begin_vertex>\\n\\t#include <morphtarget_vertex>\\n\\t#include <skinning_vertex>\\n\\t#include <project_vertex>\\n\\t#include <logdepthbuf_vertex>\\n\\t#include <clipping_planes_vertex>\\n\\t#include <worldpos_vertex>\\n\\t#include <envmap_vertex>\\n\\t#include <lights_lambert_vertex>\\n\\t#include <shadowmap_vertex>\\n\\t#include <fog_vertex>\\n}\";\n\nvar meshmatcap_frag = \"#define MATCAP\\nuniform vec3 diffuse;\\nuniform float opacity;\\nuniform sampler2D matcap;\\nvarying vec3 vViewPosition;\\n#ifndef FLAT_SHADED\\n\\tvarying vec3 vNormal;\\n#endif\\n#include <common>\\n#include <uv_pars_fragment>\\n#include <map_pars_fragment>\\n#include <alphamap_pars_fragment>\\n#include <fog_pars_fragment>\\n#include <bumpmap_pars_fragment>\\n#include <normalmap_pars_fragment>\\n#include <logdepthbuf_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvoid main() {\\n\\t#include <clipping_planes_fragment>\\n\\tvec4 diffuseColor = vec4( diffuse, opacity );\\n\\t#include <logdepthbuf_fragment>\\n\\t#include <map_fragment>\\n\\t#include <alphamap_fragment>\\n\\t#include <alphatest_fragment>\\n\\t#include <normal_fragment_begin>\\n\\t#include <normal_fragment_maps>\\n\\tvec3 viewDir = normalize( vViewPosition );\\n\\tvec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );\\n\\tvec3 y = cross( viewDir, x );\\n\\tvec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;\\n\\t#ifdef USE_MATCAP\\n\\t\\tvec4 matcapColor = texture2D( matcap, uv );\\n\\t\\tmatcapColor = matcapTexelToLinear( matcapColor );\\n\\t#else\\n\\t\\tvec4 matcapColor = vec4( 1.0 );\\n\\t#endif\\n\\tvec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;\\n\\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\\n\\t#include <premultiplied_alpha_fragment>\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n\\t#include <fog_fragment>\\n}\";\n\nvar meshmatcap_vert = \"#define MATCAP\\nvarying vec3 vViewPosition;\\n#ifndef FLAT_SHADED\\n\\tvarying vec3 vNormal;\\n#endif\\n#include <common>\\n#include <uv_pars_vertex>\\n#include <displacementmap_pars_vertex>\\n#include <fog_pars_vertex>\\n#include <morphtarget_pars_vertex>\\n#include <skinning_pars_vertex>\\n#include <logdepthbuf_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvoid main() {\\n\\t#include <uv_vertex>\\n\\t#include <beginnormal_vertex>\\n\\t#include <morphnormal_vertex>\\n\\t#include <skinbase_vertex>\\n\\t#include <skinnormal_vertex>\\n\\t#include <defaultnormal_vertex>\\n\\t#ifndef FLAT_SHADED\\n\\t\\tvNormal = normalize( transformedNormal );\\n\\t#endif\\n\\t#include <begin_vertex>\\n\\t#include <morphtarget_vertex>\\n\\t#include <skinning_vertex>\\n\\t#include <displacementmap_vertex>\\n\\t#include <project_vertex>\\n\\t#include <logdepthbuf_vertex>\\n\\t#include <clipping_planes_vertex>\\n\\t#include <fog_vertex>\\n\\tvViewPosition = - mvPosition.xyz;\\n}\";\n\nvar meshphong_frag = \"#define PHONG\\nuniform vec3 diffuse;\\nuniform vec3 emissive;\\nuniform vec3 specular;\\nuniform float shininess;\\nuniform float opacity;\\n#include <common>\\n#include <packing>\\n#include <dithering_pars_fragment>\\n#include <color_pars_fragment>\\n#include <uv_pars_fragment>\\n#include <uv2_pars_fragment>\\n#include <map_pars_fragment>\\n#include <alphamap_pars_fragment>\\n#include <aomap_pars_fragment>\\n#include <lightmap_pars_fragment>\\n#include <emissivemap_pars_fragment>\\n#include <envmap_pars_fragment>\\n#include <gradientmap_pars_fragment>\\n#include <fog_pars_fragment>\\n#include <bsdfs>\\n#include <lights_pars_begin>\\n#include <lights_phong_pars_fragment>\\n#include <shadowmap_pars_fragment>\\n#include <bumpmap_pars_fragment>\\n#include <normalmap_pars_fragment>\\n#include <specularmap_pars_fragment>\\n#include <logdepthbuf_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvoid main() {\\n\\t#include <clipping_planes_fragment>\\n\\tvec4 diffuseColor = vec4( diffuse, opacity );\\n\\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\\n\\tvec3 totalEmissiveRadiance = emissive;\\n\\t#include <logdepthbuf_fragment>\\n\\t#include <map_fragment>\\n\\t#include <color_fragment>\\n\\t#include <alphamap_fragment>\\n\\t#include <alphatest_fragment>\\n\\t#include <specularmap_fragment>\\n\\t#include <normal_fragment_begin>\\n\\t#include <normal_fragment_maps>\\n\\t#include <emissivemap_fragment>\\n\\t#include <lights_phong_fragment>\\n\\t#include <lights_fragment_begin>\\n\\t#include <lights_fragment_maps>\\n\\t#include <lights_fragment_end>\\n\\t#include <aomap_fragment>\\n\\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\\n\\t#include <envmap_fragment>\\n\\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n\\t#include <fog_fragment>\\n\\t#include <premultiplied_alpha_fragment>\\n\\t#include <dithering_fragment>\\n}\";\n\nvar meshphong_vert = \"#define PHONG\\nvarying vec3 vViewPosition;\\n#ifndef FLAT_SHADED\\n\\tvarying vec3 vNormal;\\n#endif\\n#include <common>\\n#include <uv_pars_vertex>\\n#include <uv2_pars_vertex>\\n#include <displacementmap_pars_vertex>\\n#include <envmap_pars_vertex>\\n#include <color_pars_vertex>\\n#include <fog_pars_vertex>\\n#include <morphtarget_pars_vertex>\\n#include <skinning_pars_vertex>\\n#include <shadowmap_pars_vertex>\\n#include <logdepthbuf_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvoid main() {\\n\\t#include <uv_vertex>\\n\\t#include <uv2_vertex>\\n\\t#include <color_vertex>\\n\\t#include <beginnormal_vertex>\\n\\t#include <morphnormal_vertex>\\n\\t#include <skinbase_vertex>\\n\\t#include <skinnormal_vertex>\\n\\t#include <defaultnormal_vertex>\\n#ifndef FLAT_SHADED\\n\\tvNormal = normalize( transformedNormal );\\n#endif\\n\\t#include <begin_vertex>\\n\\t#include <morphtarget_vertex>\\n\\t#include <skinning_vertex>\\n\\t#include <displacementmap_vertex>\\n\\t#include <project_vertex>\\n\\t#include <logdepthbuf_vertex>\\n\\t#include <clipping_planes_vertex>\\n\\tvViewPosition = - mvPosition.xyz;\\n\\t#include <worldpos_vertex>\\n\\t#include <envmap_vertex>\\n\\t#include <shadowmap_vertex>\\n\\t#include <fog_vertex>\\n}\";\n\nvar meshphysical_frag = \"#define PHYSICAL\\nuniform vec3 diffuse;\\nuniform vec3 emissive;\\nuniform float roughness;\\nuniform float metalness;\\nuniform float opacity;\\n#ifndef STANDARD\\n\\tuniform float clearCoat;\\n\\tuniform float clearCoatRoughness;\\n#endif\\nvarying vec3 vViewPosition;\\n#ifndef FLAT_SHADED\\n\\tvarying vec3 vNormal;\\n\\t#ifdef USE_TANGENT\\n\\t\\tvarying vec3 vTangent;\\n\\t\\tvarying vec3 vBitangent;\\n\\t#endif\\n#endif\\n#include <common>\\n#include <packing>\\n#include <dithering_pars_fragment>\\n#include <color_pars_fragment>\\n#include <uv_pars_fragment>\\n#include <uv2_pars_fragment>\\n#include <map_pars_fragment>\\n#include <alphamap_pars_fragment>\\n#include <aomap_pars_fragment>\\n#include <lightmap_pars_fragment>\\n#include <emissivemap_pars_fragment>\\n#include <bsdfs>\\n#include <cube_uv_reflection_fragment>\\n#include <envmap_pars_fragment>\\n#include <envmap_physical_pars_fragment>\\n#include <fog_pars_fragment>\\n#include <lights_pars_begin>\\n#include <lights_physical_pars_fragment>\\n#include <shadowmap_pars_fragment>\\n#include <bumpmap_pars_fragment>\\n#include <normalmap_pars_fragment>\\n#include <roughnessmap_pars_fragment>\\n#include <metalnessmap_pars_fragment>\\n#include <logdepthbuf_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvoid main() {\\n\\t#include <clipping_planes_fragment>\\n\\tvec4 diffuseColor = vec4( diffuse, opacity );\\n\\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\\n\\tvec3 totalEmissiveRadiance = emissive;\\n\\t#include <logdepthbuf_fragment>\\n\\t#include <map_fragment>\\n\\t#include <color_fragment>\\n\\t#include <alphamap_fragment>\\n\\t#include <alphatest_fragment>\\n\\t#include <roughnessmap_fragment>\\n\\t#include <metalnessmap_fragment>\\n\\t#include <normal_fragment_begin>\\n\\t#include <normal_fragment_maps>\\n\\t#include <emissivemap_fragment>\\n\\t#include <lights_physical_fragment>\\n\\t#include <lights_fragment_begin>\\n\\t#include <lights_fragment_maps>\\n\\t#include <lights_fragment_end>\\n\\t#include <aomap_fragment>\\n\\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\\n\\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n\\t#include <fog_fragment>\\n\\t#include <premultiplied_alpha_fragment>\\n\\t#include <dithering_fragment>\\n}\";\n\nvar meshphysical_vert = \"#define PHYSICAL\\nvarying vec3 vViewPosition;\\n#ifndef FLAT_SHADED\\n\\tvarying vec3 vNormal;\\n\\t#ifdef USE_TANGENT\\n\\t\\tvarying vec3 vTangent;\\n\\t\\tvarying vec3 vBitangent;\\n\\t#endif\\n#endif\\n#include <common>\\n#include <uv_pars_vertex>\\n#include <uv2_pars_vertex>\\n#include <displacementmap_pars_vertex>\\n#include <color_pars_vertex>\\n#include <fog_pars_vertex>\\n#include <morphtarget_pars_vertex>\\n#include <skinning_pars_vertex>\\n#include <shadowmap_pars_vertex>\\n#include <logdepthbuf_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvoid main() {\\n\\t#include <uv_vertex>\\n\\t#include <uv2_vertex>\\n\\t#include <color_vertex>\\n\\t#include <beginnormal_vertex>\\n\\t#include <morphnormal_vertex>\\n\\t#include <skinbase_vertex>\\n\\t#include <skinnormal_vertex>\\n\\t#include <defaultnormal_vertex>\\n#ifndef FLAT_SHADED\\n\\tvNormal = normalize( transformedNormal );\\n\\t#ifdef USE_TANGENT\\n\\t\\tvTangent = normalize( transformedTangent );\\n\\t\\tvBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );\\n\\t#endif\\n#endif\\n\\t#include <begin_vertex>\\n\\t#include <morphtarget_vertex>\\n\\t#include <skinning_vertex>\\n\\t#include <displacementmap_vertex>\\n\\t#include <project_vertex>\\n\\t#include <logdepthbuf_vertex>\\n\\t#include <clipping_planes_vertex>\\n\\tvViewPosition = - mvPosition.xyz;\\n\\t#include <worldpos_vertex>\\n\\t#include <shadowmap_vertex>\\n\\t#include <fog_vertex>\\n}\";\n\nvar normal_frag = \"#define NORMAL\\nuniform float opacity;\\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || ( defined( USE_NORMALMAP ) && ! defined( OBJECTSPACE_NORMALMAP ) )\\n\\tvarying vec3 vViewPosition;\\n#endif\\n#ifndef FLAT_SHADED\\n\\tvarying vec3 vNormal;\\n\\t#ifdef USE_TANGENT\\n\\t\\tvarying vec3 vTangent;\\n\\t\\tvarying vec3 vBitangent;\\n\\t#endif\\n#endif\\n#include <packing>\\n#include <uv_pars_fragment>\\n#include <bumpmap_pars_fragment>\\n#include <normalmap_pars_fragment>\\n#include <logdepthbuf_pars_fragment>\\nvoid main() {\\n\\t#include <logdepthbuf_fragment>\\n\\t#include <normal_fragment_begin>\\n\\t#include <normal_fragment_maps>\\n\\tgl_FragColor = vec4( packNormalToRGB( normal ), opacity );\\n}\";\n\nvar normal_vert = \"#define NORMAL\\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || ( defined( USE_NORMALMAP ) && ! defined( OBJECTSPACE_NORMALMAP ) )\\n\\tvarying vec3 vViewPosition;\\n#endif\\n#ifndef FLAT_SHADED\\n\\tvarying vec3 vNormal;\\n\\t#ifdef USE_TANGENT\\n\\t\\tvarying vec3 vTangent;\\n\\t\\tvarying vec3 vBitangent;\\n\\t#endif\\n#endif\\n#include <uv_pars_vertex>\\n#include <displacementmap_pars_vertex>\\n#include <morphtarget_pars_vertex>\\n#include <skinning_pars_vertex>\\n#include <logdepthbuf_pars_vertex>\\nvoid main() {\\n\\t#include <uv_vertex>\\n\\t#include <beginnormal_vertex>\\n\\t#include <morphnormal_vertex>\\n\\t#include <skinbase_vertex>\\n\\t#include <skinnormal_vertex>\\n\\t#include <defaultnormal_vertex>\\n#ifndef FLAT_SHADED\\n\\tvNormal = normalize( transformedNormal );\\n\\t#ifdef USE_TANGENT\\n\\t\\tvTangent = normalize( transformedTangent );\\n\\t\\tvBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );\\n\\t#endif\\n#endif\\n\\t#include <begin_vertex>\\n\\t#include <morphtarget_vertex>\\n\\t#include <skinning_vertex>\\n\\t#include <displacementmap_vertex>\\n\\t#include <project_vertex>\\n\\t#include <logdepthbuf_vertex>\\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || ( defined( USE_NORMALMAP ) && ! defined( OBJECTSPACE_NORMALMAP ) )\\n\\tvViewPosition = - mvPosition.xyz;\\n#endif\\n}\";\n\nvar points_frag = \"uniform vec3 diffuse;\\nuniform float opacity;\\n#include <common>\\n#include <color_pars_fragment>\\n#include <map_particle_pars_fragment>\\n#include <fog_pars_fragment>\\n#include <logdepthbuf_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvoid main() {\\n\\t#include <clipping_planes_fragment>\\n\\tvec3 outgoingLight = vec3( 0.0 );\\n\\tvec4 diffuseColor = vec4( diffuse, opacity );\\n\\t#include <logdepthbuf_fragment>\\n\\t#include <map_particle_fragment>\\n\\t#include <color_fragment>\\n\\t#include <alphatest_fragment>\\n\\toutgoingLight = diffuseColor.rgb;\\n\\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\\n\\t#include <premultiplied_alpha_fragment>\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n\\t#include <fog_fragment>\\n}\";\n\nvar points_vert = \"uniform float size;\\nuniform float scale;\\n#include <common>\\n#include <color_pars_vertex>\\n#include <fog_pars_vertex>\\n#include <morphtarget_pars_vertex>\\n#include <logdepthbuf_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvoid main() {\\n\\t#include <color_vertex>\\n\\t#include <begin_vertex>\\n\\t#include <morphtarget_vertex>\\n\\t#include <project_vertex>\\n\\tgl_PointSize = size;\\n\\t#ifdef USE_SIZEATTENUATION\\n\\t\\tbool isPerspective = ( projectionMatrix[ 2 ][ 3 ] == - 1.0 );\\n\\t\\tif ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );\\n\\t#endif\\n\\t#include <logdepthbuf_vertex>\\n\\t#include <clipping_planes_vertex>\\n\\t#include <worldpos_vertex>\\n\\t#include <fog_vertex>\\n}\";\n\nvar shadow_frag = \"uniform vec3 color;\\nuniform float opacity;\\n#include <common>\\n#include <packing>\\n#include <fog_pars_fragment>\\n#include <bsdfs>\\n#include <lights_pars_begin>\\n#include <shadowmap_pars_fragment>\\n#include <shadowmask_pars_fragment>\\nvoid main() {\\n\\tgl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );\\n\\t#include <fog_fragment>\\n}\";\n\nvar shadow_vert = \"#include <fog_pars_vertex>\\n#include <shadowmap_pars_vertex>\\nvoid main() {\\n\\t#include <begin_vertex>\\n\\t#include <project_vertex>\\n\\t#include <worldpos_vertex>\\n\\t#include <shadowmap_vertex>\\n\\t#include <fog_vertex>\\n}\";\n\nvar sprite_frag = \"uniform vec3 diffuse;\\nuniform float opacity;\\n#include <common>\\n#include <uv_pars_fragment>\\n#include <map_pars_fragment>\\n#include <fog_pars_fragment>\\n#include <logdepthbuf_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvoid main() {\\n\\t#include <clipping_planes_fragment>\\n\\tvec3 outgoingLight = vec3( 0.0 );\\n\\tvec4 diffuseColor = vec4( diffuse, opacity );\\n\\t#include <logdepthbuf_fragment>\\n\\t#include <map_fragment>\\n\\t#include <alphatest_fragment>\\n\\toutgoingLight = diffuseColor.rgb;\\n\\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n\\t#include <fog_fragment>\\n}\";\n\nvar sprite_vert = \"uniform float rotation;\\nuniform vec2 center;\\n#include <common>\\n#include <uv_pars_vertex>\\n#include <fog_pars_vertex>\\n#include <logdepthbuf_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvoid main() {\\n\\t#include <uv_vertex>\\n\\tvec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );\\n\\tvec2 scale;\\n\\tscale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );\\n\\tscale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );\\n\\t#ifndef USE_SIZEATTENUATION\\n\\t\\tbool isPerspective = ( projectionMatrix[ 2 ][ 3 ] == - 1.0 );\\n\\t\\tif ( isPerspective ) scale *= - mvPosition.z;\\n\\t#endif\\n\\tvec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;\\n\\tvec2 rotatedPosition;\\n\\trotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;\\n\\trotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;\\n\\tmvPosition.xy += rotatedPosition;\\n\\tgl_Position = projectionMatrix * mvPosition;\\n\\t#include <logdepthbuf_vertex>\\n\\t#include <clipping_planes_vertex>\\n\\t#include <fog_vertex>\\n}\";\n\nvar ShaderChunk = {\n\talphamap_fragment: alphamap_fragment,\n\talphamap_pars_fragment: alphamap_pars_fragment,\n\talphatest_fragment: alphatest_fragment,\n\taomap_fragment: aomap_fragment,\n\taomap_pars_fragment: aomap_pars_fragment,\n\tbegin_vertex: begin_vertex,\n\tbeginnormal_vertex: beginnormal_vertex,\n\tbsdfs: bsdfs,\n\tbumpmap_pars_fragment: bumpmap_pars_fragment,\n\tclipping_planes_fragment: clipping_planes_fragment,\n\tclipping_planes_pars_fragment: clipping_planes_pars_fragment,\n\tclipping_planes_pars_vertex: clipping_planes_pars_vertex,\n\tclipping_planes_vertex: clipping_planes_vertex,\n\tcolor_fragment: color_fragment,\n\tcolor_pars_fragment: color_pars_fragment,\n\tcolor_pars_vertex: color_pars_vertex,\n\tcolor_vertex: color_vertex,\n\tcommon: common,\n\tcube_uv_reflection_fragment: cube_uv_reflection_fragment,\n\tdefaultnormal_vertex: defaultnormal_vertex,\n\tdisplacementmap_pars_vertex: displacementmap_pars_vertex,\n\tdisplacementmap_vertex: displacementmap_vertex,\n\temissivemap_fragment: emissivemap_fragment,\n\temissivemap_pars_fragment: emissivemap_pars_fragment,\n\tencodings_fragment: encodings_fragment,\n\tencodings_pars_fragment: encodings_pars_fragment,\n\tenvmap_fragment: envmap_fragment,\n\tenvmap_pars_fragment: envmap_pars_fragment,\n\tenvmap_pars_vertex: envmap_pars_vertex,\n\tenvmap_physical_pars_fragment: envmap_physical_pars_fragment,\n\tenvmap_vertex: envmap_vertex,\n\tfog_vertex: fog_vertex,\n\tfog_pars_vertex: fog_pars_vertex,\n\tfog_fragment: fog_fragment,\n\tfog_pars_fragment: fog_pars_fragment,\n\tgradientmap_pars_fragment: gradientmap_pars_fragment,\n\tlightmap_fragment: lightmap_fragment,\n\tlightmap_pars_fragment: lightmap_pars_fragment,\n\tlights_lambert_vertex: lights_lambert_vertex,\n\tlights_pars_begin: lights_pars_begin,\n\tlights_phong_fragment: lights_phong_fragment,\n\tlights_phong_pars_fragment: lights_phong_pars_fragment,\n\tlights_physical_fragment: lights_physical_fragment,\n\tlights_physical_pars_fragment: lights_physical_pars_fragment,\n\tlights_fragment_begin: lights_fragment_begin,\n\tlights_fragment_maps: lights_fragment_maps,\n\tlights_fragment_end: lights_fragment_end,\n\tlogdepthbuf_fragment: logdepthbuf_fragment,\n\tlogdepthbuf_pars_fragment: logdepthbuf_pars_fragment,\n\tlogdepthbuf_pars_vertex: logdepthbuf_pars_vertex,\n\tlogdepthbuf_vertex: logdepthbuf_vertex,\n\tmap_fragment: map_fragment,\n\tmap_pars_fragment: map_pars_fragment,\n\tmap_particle_fragment: map_particle_fragment,\n\tmap_particle_pars_fragment: map_particle_pars_fragment,\n\tmetalnessmap_fragment: metalnessmap_fragment,\n\tmetalnessmap_pars_fragment: metalnessmap_pars_fragment,\n\tmorphnormal_vertex: morphnormal_vertex,\n\tmorphtarget_pars_vertex: morphtarget_pars_vertex,\n\tmorphtarget_vertex: morphtarget_vertex,\n\tnormal_fragment_begin: normal_fragment_begin,\n\tnormal_fragment_maps: normal_fragment_maps,\n\tnormalmap_pars_fragment: normalmap_pars_fragment,\n\tpacking: packing,\n\tpremultiplied_alpha_fragment: premultiplied_alpha_fragment,\n\tproject_vertex: project_vertex,\n\tdithering_fragment: dithering_fragment,\n\tdithering_pars_fragment: dithering_pars_fragment,\n\troughnessmap_fragment: roughnessmap_fragment,\n\troughnessmap_pars_fragment: roughnessmap_pars_fragment,\n\tshadowmap_pars_fragment: shadowmap_pars_fragment,\n\tshadowmap_pars_vertex: shadowmap_pars_vertex,\n\tshadowmap_vertex: shadowmap_vertex,\n\tshadowmask_pars_fragment: shadowmask_pars_fragment,\n\tskinbase_vertex: skinbase_vertex,\n\tskinning_pars_vertex: skinning_pars_vertex,\n\tskinning_vertex: skinning_vertex,\n\tskinnormal_vertex: skinnormal_vertex,\n\tspecularmap_fragment: specularmap_fragment,\n\tspecularmap_pars_fragment: specularmap_pars_fragment,\n\ttonemapping_fragment: tonemapping_fragment,\n\ttonemapping_pars_fragment: tonemapping_pars_fragment,\n\tuv_pars_fragment: uv_pars_fragment,\n\tuv_pars_vertex: uv_pars_vertex,\n\tuv_vertex: uv_vertex,\n\tuv2_pars_fragment: uv2_pars_fragment,\n\tuv2_pars_vertex: uv2_pars_vertex,\n\tuv2_vertex: uv2_vertex,\n\tworldpos_vertex: worldpos_vertex,\n\n\tbackground_frag: background_frag,\n\tbackground_vert: background_vert,\n\tcube_frag: cube_frag,\n\tcube_vert: cube_vert,\n\tdepth_frag: depth_frag,\n\tdepth_vert: depth_vert,\n\tdistanceRGBA_frag: distanceRGBA_frag,\n\tdistanceRGBA_vert: distanceRGBA_vert,\n\tequirect_frag: equirect_frag,\n\tequirect_vert: equirect_vert,\n\tlinedashed_frag: linedashed_frag,\n\tlinedashed_vert: linedashed_vert,\n\tmeshbasic_frag: meshbasic_frag,\n\tmeshbasic_vert: meshbasic_vert,\n\tmeshlambert_frag: meshlambert_frag,\n\tmeshlambert_vert: meshlambert_vert,\n\tmeshmatcap_frag: meshmatcap_frag,\n\tmeshmatcap_vert: meshmatcap_vert,\n\tmeshphong_frag: meshphong_frag,\n\tmeshphong_vert: meshphong_vert,\n\tmeshphysical_frag: meshphysical_frag,\n\tmeshphysical_vert: meshphysical_vert,\n\tnormal_frag: normal_frag,\n\tnormal_vert: normal_vert,\n\tpoints_frag: points_frag,\n\tpoints_vert: points_vert,\n\tshadow_frag: shadow_frag,\n\tshadow_vert: shadow_vert,\n\tsprite_frag: sprite_frag,\n\tsprite_vert: sprite_vert\n};\n\n/**\n * Uniform Utilities\n */\n\nfunction cloneUniforms( src ) {\n\n\tvar dst = {};\n\n\tfor ( var u in src ) {\n\n\t\tdst[ u ] = {};\n\n\t\tfor ( var p in src[ u ] ) {\n\n\t\t\tvar property = src[ u ][ p ];\n\n\t\t\tif ( property && ( property.isColor ||\n\t\t\t\tproperty.isMatrix3 || property.isMatrix4 ||\n\t\t\t\tproperty.isVector2 || property.isVector3 || property.isVector4 ||\n\t\t\t\tproperty.isTexture ) ) {\n\n\t\t\t\tdst[ u ][ p ] = property.clone();\n\n\t\t\t} else if ( Array.isArray( property ) ) {\n\n\t\t\t\tdst[ u ][ p ] = property.slice();\n\n\t\t\t} else {\n\n\t\t\t\tdst[ u ][ p ] = property;\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\treturn dst;\n\n}\n\nfunction mergeUniforms( uniforms ) {\n\n\tvar merged = {};\n\n\tfor ( var u = 0; u < uniforms.length; u ++ ) {\n\n\t\tvar tmp = cloneUniforms( uniforms[ u ] );\n\n\t\tfor ( var p in tmp ) {\n\n\t\t\tmerged[ p ] = tmp[ p ];\n\n\t\t}\n\n\t}\n\n\treturn merged;\n\n}\n\n// Legacy\n\nvar UniformsUtils = { clone: cloneUniforms, merge: mergeUniforms };\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nvar ColorKeywords = { 'aliceblue': 0xF0F8FF, 'antiquewhite': 0xFAEBD7, 'aqua': 0x00FFFF, 'aquamarine': 0x7FFFD4, 'azure': 0xF0FFFF,\n\t'beige': 0xF5F5DC, 'bisque': 0xFFE4C4, 'black': 0x000000, 'blanchedalmond': 0xFFEBCD, 'blue': 0x0000FF, 'blueviolet': 0x8A2BE2,\n\t'brown': 0xA52A2A, 'burlywood': 0xDEB887, 'cadetblue': 0x5F9EA0, 'chartreuse': 0x7FFF00, 'chocolate': 0xD2691E, 'coral': 0xFF7F50,\n\t'cornflowerblue': 0x6495ED, 'cornsilk': 0xFFF8DC, 'crimson': 0xDC143C, 'cyan': 0x00FFFF, 'darkblue': 0x00008B, 'darkcyan': 0x008B8B,\n\t'darkgoldenrod': 0xB8860B, 'darkgray': 0xA9A9A9, 'darkgreen': 0x006400, 'darkgrey': 0xA9A9A9, 'darkkhaki': 0xBDB76B, 'darkmagenta': 0x8B008B,\n\t'darkolivegreen': 0x556B2F, 'darkorange': 0xFF8C00, 'darkorchid': 0x9932CC, 'darkred': 0x8B0000, 'darksalmon': 0xE9967A, 'darkseagreen': 0x8FBC8F,\n\t'darkslateblue': 0x483D8B, 'darkslategray': 0x2F4F4F, 'darkslategrey': 0x2F4F4F, 'darkturquoise': 0x00CED1, 'darkviolet': 0x9400D3,\n\t'deeppink': 0xFF1493, 'deepskyblue': 0x00BFFF, 'dimgray': 0x696969, 'dimgrey': 0x696969, 'dodgerblue': 0x1E90FF, 'firebrick': 0xB22222,\n\t'floralwhite': 0xFFFAF0, 'forestgreen': 0x228B22, 'fuchsia': 0xFF00FF, 'gainsboro': 0xDCDCDC, 'ghostwhite': 0xF8F8FF, 'gold': 0xFFD700,\n\t'goldenrod': 0xDAA520, 'gray': 0x808080, 'green': 0x008000, 'greenyellow': 0xADFF2F, 'grey': 0x808080, 'honeydew': 0xF0FFF0, 'hotpink': 0xFF69B4,\n\t'indianred': 0xCD5C5C, 'indigo': 0x4B0082, 'ivory': 0xFFFFF0, 'khaki': 0xF0E68C, 'lavender': 0xE6E6FA, 'lavenderblush': 0xFFF0F5, 'lawngreen': 0x7CFC00,\n\t'lemonchiffon': 0xFFFACD, 'lightblue': 0xADD8E6, 'lightcoral': 0xF08080, 'lightcyan': 0xE0FFFF, 'lightgoldenrodyellow': 0xFAFAD2, 'lightgray': 0xD3D3D3,\n\t'lightgreen': 0x90EE90, 'lightgrey': 0xD3D3D3, 'lightpink': 0xFFB6C1, 'lightsalmon': 0xFFA07A, 'lightseagreen': 0x20B2AA, 'lightskyblue': 0x87CEFA,\n\t'lightslategray': 0x778899, 'lightslategrey': 0x778899, 'lightsteelblue': 0xB0C4DE, 'lightyellow': 0xFFFFE0, 'lime': 0x00FF00, 'limegreen': 0x32CD32,\n\t'linen': 0xFAF0E6, 'magenta': 0xFF00FF, 'maroon': 0x800000, 'mediumaquamarine': 0x66CDAA, 'mediumblue': 0x0000CD, 'mediumorchid': 0xBA55D3,\n\t'mediumpurple': 0x9370DB, 'mediumseagreen': 0x3CB371, 'mediumslateblue': 0x7B68EE, 'mediumspringgreen': 0x00FA9A, 'mediumturquoise': 0x48D1CC,\n\t'mediumvioletred': 0xC71585, 'midnightblue': 0x191970, 'mintcream': 0xF5FFFA, 'mistyrose': 0xFFE4E1, 'moccasin': 0xFFE4B5, 'navajowhite': 0xFFDEAD,\n\t'navy': 0x000080, 'oldlace': 0xFDF5E6, 'olive': 0x808000, 'olivedrab': 0x6B8E23, 'orange': 0xFFA500, 'orangered': 0xFF4500, 'orchid': 0xDA70D6,\n\t'palegoldenrod': 0xEEE8AA, 'palegreen': 0x98FB98, 'paleturquoise': 0xAFEEEE, 'palevioletred': 0xDB7093, 'papayawhip': 0xFFEFD5, 'peachpuff': 0xFFDAB9,\n\t'peru': 0xCD853F, 'pink': 0xFFC0CB, 'plum': 0xDDA0DD, 'powderblue': 0xB0E0E6, 'purple': 0x800080, 'rebeccapurple': 0x663399, 'red': 0xFF0000, 'rosybrown': 0xBC8F8F,\n\t'royalblue': 0x4169E1, 'saddlebrown': 0x8B4513, 'salmon': 0xFA8072, 'sandybrown': 0xF4A460, 'seagreen': 0x2E8B57, 'seashell': 0xFFF5EE,\n\t'sienna': 0xA0522D, 'silver': 0xC0C0C0, 'skyblue': 0x87CEEB, 'slateblue': 0x6A5ACD, 'slategray': 0x708090, 'slategrey': 0x708090, 'snow': 0xFFFAFA,\n\t'springgreen': 0x00FF7F, 'steelblue': 0x4682B4, 'tan': 0xD2B48C, 'teal': 0x008080, 'thistle': 0xD8BFD8, 'tomato': 0xFF6347, 'turquoise': 0x40E0D0,\n\t'violet': 0xEE82EE, 'wheat': 0xF5DEB3, 'white': 0xFFFFFF, 'whitesmoke': 0xF5F5F5, 'yellow': 0xFFFF00, 'yellowgreen': 0x9ACD32 };\n\nfunction Color( r, g, b ) {\n\n\tif ( g === undefined && b === undefined ) {\n\n\t\t// r is THREE.Color, hex or string\n\t\treturn this.set( r );\n\n\t}\n\n\treturn this.setRGB( r, g, b );\n\n}\n\nObject.assign( Color.prototype, {\n\n\tisColor: true,\n\n\tr: 1, g: 1, b: 1,\n\n\tset: function ( value ) {\n\n\t\tif ( value && value.isColor ) {\n\n\t\t\tthis.copy( value );\n\n\t\t} else if ( typeof value === 'number' ) {\n\n\t\t\tthis.setHex( value );\n\n\t\t} else if ( typeof value === 'string' ) {\n\n\t\t\tthis.setStyle( value );\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tsetScalar: function ( scalar ) {\n\n\t\tthis.r = scalar;\n\t\tthis.g = scalar;\n\t\tthis.b = scalar;\n\n\t\treturn this;\n\n\t},\n\n\tsetHex: function ( hex ) {\n\n\t\thex = Math.floor( hex );\n\n\t\tthis.r = ( hex >> 16 & 255 ) / 255;\n\t\tthis.g = ( hex >> 8 & 255 ) / 255;\n\t\tthis.b = ( hex & 255 ) / 255;\n\n\t\treturn this;\n\n\t},\n\n\tsetRGB: function ( r, g, b ) {\n\n\t\tthis.r = r;\n\t\tthis.g = g;\n\t\tthis.b = b;\n\n\t\treturn this;\n\n\t},\n\n\tsetHSL: function () {\n\n\t\tfunction hue2rgb( p, q, t ) {\n\n\t\t\tif ( t < 0 ) t += 1;\n\t\t\tif ( t > 1 ) t -= 1;\n\t\t\tif ( t < 1 / 6 ) return p + ( q - p ) * 6 * t;\n\t\t\tif ( t < 1 / 2 ) return q;\n\t\t\tif ( t < 2 / 3 ) return p + ( q - p ) * 6 * ( 2 / 3 - t );\n\t\t\treturn p;\n\n\t\t}\n\n\t\treturn function setHSL( h, s, l ) {\n\n\t\t\t// h,s,l ranges are in 0.0 - 1.0\n\t\t\th = _Math.euclideanModulo( h, 1 );\n\t\t\ts = _Math.clamp( s, 0, 1 );\n\t\t\tl = _Math.clamp( l, 0, 1 );\n\n\t\t\tif ( s === 0 ) {\n\n\t\t\t\tthis.r = this.g = this.b = l;\n\n\t\t\t} else {\n\n\t\t\t\tvar p = l <= 0.5 ? l * ( 1 + s ) : l + s - ( l * s );\n\t\t\t\tvar q = ( 2 * l ) - p;\n\n\t\t\t\tthis.r = hue2rgb( q, p, h + 1 / 3 );\n\t\t\t\tthis.g = hue2rgb( q, p, h );\n\t\t\t\tthis.b = hue2rgb( q, p, h - 1 / 3 );\n\n\t\t\t}\n\n\t\t\treturn this;\n\n\t\t};\n\n\t}(),\n\n\tsetStyle: function ( style ) {\n\n\t\tfunction handleAlpha( string ) {\n\n\t\t\tif ( string === undefined ) return;\n\n\t\t\tif ( parseFloat( string ) < 1 ) {\n\n\t\t\t\tconsole.warn( 'THREE.Color: Alpha component of ' + style + ' will be ignored.' );\n\n\t\t\t}\n\n\t\t}\n\n\n\t\tvar m;\n\n\t\tif ( m = /^((?:rgb|hsl)a?)\\(\\s*([^\\)]*)\\)/.exec( style ) ) {\n\n\t\t\t// rgb / hsl\n\n\t\t\tvar color;\n\t\t\tvar name = m[ 1 ];\n\t\t\tvar components = m[ 2 ];\n\n\t\t\tswitch ( name ) {\n\n\t\t\t\tcase 'rgb':\n\t\t\t\tcase 'rgba':\n\n\t\t\t\t\tif ( color = /^(\\d+)\\s*,\\s*(\\d+)\\s*,\\s*(\\d+)\\s*(,\\s*([0-9]*\\.?[0-9]+)\\s*)?$/.exec( components ) ) {\n\n\t\t\t\t\t\t// rgb(255,0,0) rgba(255,0,0,0.5)\n\t\t\t\t\t\tthis.r = Math.min( 255, parseInt( color[ 1 ], 10 ) ) / 255;\n\t\t\t\t\t\tthis.g = Math.min( 255, parseInt( color[ 2 ], 10 ) ) / 255;\n\t\t\t\t\t\tthis.b = Math.min( 255, parseInt( color[ 3 ], 10 ) ) / 255;\n\n\t\t\t\t\t\thandleAlpha( color[ 5 ] );\n\n\t\t\t\t\t\treturn this;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( color = /^(\\d+)\\%\\s*,\\s*(\\d+)\\%\\s*,\\s*(\\d+)\\%\\s*(,\\s*([0-9]*\\.?[0-9]+)\\s*)?$/.exec( components ) ) {\n\n\t\t\t\t\t\t// rgb(100%,0%,0%) rgba(100%,0%,0%,0.5)\n\t\t\t\t\t\tthis.r = Math.min( 100, parseInt( color[ 1 ], 10 ) ) / 100;\n\t\t\t\t\t\tthis.g = Math.min( 100, parseInt( color[ 2 ], 10 ) ) / 100;\n\t\t\t\t\t\tthis.b = Math.min( 100, parseInt( color[ 3 ], 10 ) ) / 100;\n\n\t\t\t\t\t\thandleAlpha( color[ 5 ] );\n\n\t\t\t\t\t\treturn this;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'hsl':\n\t\t\t\tcase 'hsla':\n\n\t\t\t\t\tif ( color = /^([0-9]*\\.?[0-9]+)\\s*,\\s*(\\d+)\\%\\s*,\\s*(\\d+)\\%\\s*(,\\s*([0-9]*\\.?[0-9]+)\\s*)?$/.exec( components ) ) {\n\n\t\t\t\t\t\t// hsl(120,50%,50%) hsla(120,50%,50%,0.5)\n\t\t\t\t\t\tvar h = parseFloat( color[ 1 ] ) / 360;\n\t\t\t\t\t\tvar s = parseInt( color[ 2 ], 10 ) / 100;\n\t\t\t\t\t\tvar l = parseInt( color[ 3 ], 10 ) / 100;\n\n\t\t\t\t\t\thandleAlpha( color[ 5 ] );\n\n\t\t\t\t\t\treturn this.setHSL( h, s, l );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tbreak;\n\n\t\t\t}\n\n\t\t} else if ( m = /^\\#([A-Fa-f0-9]+)$/.exec( style ) ) {\n\n\t\t\t// hex color\n\n\t\t\tvar hex = m[ 1 ];\n\t\t\tvar size = hex.length;\n\n\t\t\tif ( size === 3 ) {\n\n\t\t\t\t// #ff0\n\t\t\t\tthis.r = parseInt( hex.charAt( 0 ) + hex.charAt( 0 ), 16 ) / 255;\n\t\t\t\tthis.g = parseInt( hex.charAt( 1 ) + hex.charAt( 1 ), 16 ) / 255;\n\t\t\t\tthis.b = parseInt( hex.charAt( 2 ) + hex.charAt( 2 ), 16 ) / 255;\n\n\t\t\t\treturn this;\n\n\t\t\t} else if ( size === 6 ) {\n\n\t\t\t\t// #ff0000\n\t\t\t\tthis.r = parseInt( hex.charAt( 0 ) + hex.charAt( 1 ), 16 ) / 255;\n\t\t\t\tthis.g = parseInt( hex.charAt( 2 ) + hex.charAt( 3 ), 16 ) / 255;\n\t\t\t\tthis.b = parseInt( hex.charAt( 4 ) + hex.charAt( 5 ), 16 ) / 255;\n\n\t\t\t\treturn this;\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( style && style.length > 0 ) {\n\n\t\t\t// color keywords\n\t\t\tvar hex = ColorKeywords[ style ];\n\n\t\t\tif ( hex !== undefined ) {\n\n\t\t\t\t// red\n\t\t\t\tthis.setHex( hex );\n\n\t\t\t} else {\n\n\t\t\t\t// unknown color\n\t\t\t\tconsole.warn( 'THREE.Color: Unknown color ' + style );\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tclone: function () {\n\n\t\treturn new this.constructor( this.r, this.g, this.b );\n\n\t},\n\n\tcopy: function ( color ) {\n\n\t\tthis.r = color.r;\n\t\tthis.g = color.g;\n\t\tthis.b = color.b;\n\n\t\treturn this;\n\n\t},\n\n\tcopyGammaToLinear: function ( color, gammaFactor ) {\n\n\t\tif ( gammaFactor === undefined ) gammaFactor = 2.0;\n\n\t\tthis.r = Math.pow( color.r, gammaFactor );\n\t\tthis.g = Math.pow( color.g, gammaFactor );\n\t\tthis.b = Math.pow( color.b, gammaFactor );\n\n\t\treturn this;\n\n\t},\n\n\tcopyLinearToGamma: function ( color, gammaFactor ) {\n\n\t\tif ( gammaFactor === undefined ) gammaFactor = 2.0;\n\n\t\tvar safeInverse = ( gammaFactor > 0 ) ? ( 1.0 / gammaFactor ) : 1.0;\n\n\t\tthis.r = Math.pow( color.r, safeInverse );\n\t\tthis.g = Math.pow( color.g, safeInverse );\n\t\tthis.b = Math.pow( color.b, safeInverse );\n\n\t\treturn this;\n\n\t},\n\n\tconvertGammaToLinear: function ( gammaFactor ) {\n\n\t\tthis.copyGammaToLinear( this, gammaFactor );\n\n\t\treturn this;\n\n\t},\n\n\tconvertLinearToGamma: function ( gammaFactor ) {\n\n\t\tthis.copyLinearToGamma( this, gammaFactor );\n\n\t\treturn this;\n\n\t},\n\n\tcopySRGBToLinear: function () {\n\n\t\tfunction SRGBToLinear( c ) {\n\n\t\t\treturn ( c < 0.04045 ) ? c * 0.0773993808 : Math.pow( c * 0.9478672986 + 0.0521327014, 2.4 );\n\n\t\t}\n\n\t\treturn function copySRGBToLinear( color ) {\n\n\t\t\tthis.r = SRGBToLinear( color.r );\n\t\t\tthis.g = SRGBToLinear( color.g );\n\t\t\tthis.b = SRGBToLinear( color.b );\n\n\t\t\treturn this;\n\n\t\t};\n\n\t}(),\n\n\tcopyLinearToSRGB: function () {\n\n\t\tfunction LinearToSRGB( c ) {\n\n\t\t\treturn ( c < 0.0031308 ) ? c * 12.92 : 1.055 * ( Math.pow( c, 0.41666 ) ) - 0.055;\n\n\t\t}\n\n\t\treturn function copyLinearToSRGB( color ) {\n\n\t\t\tthis.r = LinearToSRGB( color.r );\n\t\t\tthis.g = LinearToSRGB( color.g );\n\t\t\tthis.b = LinearToSRGB( color.b );\n\n\t\t\treturn this;\n\n\t\t};\n\n\t}(),\n\n\tconvertSRGBToLinear: function () {\n\n\t\tthis.copySRGBToLinear( this );\n\n\t\treturn this;\n\n\t},\n\n\tconvertLinearToSRGB: function () {\n\n\t\tthis.copyLinearToSRGB( this );\n\n\t\treturn this;\n\n\t},\n\n\tgetHex: function () {\n\n\t\treturn ( this.r * 255 ) << 16 ^ ( this.g * 255 ) << 8 ^ ( this.b * 255 ) << 0;\n\n\t},\n\n\tgetHexString: function () {\n\n\t\treturn ( '000000' + this.getHex().toString( 16 ) ).slice( - 6 );\n\n\t},\n\n\tgetHSL: function ( target ) {\n\n\t\t// h,s,l ranges are in 0.0 - 1.0\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Color: .getHSL() target is now required' );\n\t\t\ttarget = { h: 0, s: 0, l: 0 };\n\n\t\t}\n\n\t\tvar r = this.r, g = this.g, b = this.b;\n\n\t\tvar max = Math.max( r, g, b );\n\t\tvar min = Math.min( r, g, b );\n\n\t\tvar hue, saturation;\n\t\tvar lightness = ( min + max ) / 2.0;\n\n\t\tif ( min === max ) {\n\n\t\t\thue = 0;\n\t\t\tsaturation = 0;\n\n\t\t} else {\n\n\t\t\tvar delta = max - min;\n\n\t\t\tsaturation = lightness <= 0.5 ? delta / ( max + min ) : delta / ( 2 - max - min );\n\n\t\t\tswitch ( max ) {\n\n\t\t\t\tcase r: hue = ( g - b ) / delta + ( g < b ? 6 : 0 ); break;\n\t\t\t\tcase g: hue = ( b - r ) / delta + 2; break;\n\t\t\t\tcase b: hue = ( r - g ) / delta + 4; break;\n\n\t\t\t}\n\n\t\t\thue /= 6;\n\n\t\t}\n\n\t\ttarget.h = hue;\n\t\ttarget.s = saturation;\n\t\ttarget.l = lightness;\n\n\t\treturn target;\n\n\t},\n\n\tgetStyle: function () {\n\n\t\treturn 'rgb(' + ( ( this.r * 255 ) | 0 ) + ',' + ( ( this.g * 255 ) | 0 ) + ',' + ( ( this.b * 255 ) | 0 ) + ')';\n\n\t},\n\n\toffsetHSL: function () {\n\n\t\tvar hsl = {};\n\n\t\treturn function ( h, s, l ) {\n\n\t\t\tthis.getHSL( hsl );\n\n\t\t\thsl.h += h; hsl.s += s; hsl.l += l;\n\n\t\t\tthis.setHSL( hsl.h, hsl.s, hsl.l );\n\n\t\t\treturn this;\n\n\t\t};\n\n\t}(),\n\n\tadd: function ( color ) {\n\n\t\tthis.r += color.r;\n\t\tthis.g += color.g;\n\t\tthis.b += color.b;\n\n\t\treturn this;\n\n\t},\n\n\taddColors: function ( color1, color2 ) {\n\n\t\tthis.r = color1.r + color2.r;\n\t\tthis.g = color1.g + color2.g;\n\t\tthis.b = color1.b + color2.b;\n\n\t\treturn this;\n\n\t},\n\n\taddScalar: function ( s ) {\n\n\t\tthis.r += s;\n\t\tthis.g += s;\n\t\tthis.b += s;\n\n\t\treturn this;\n\n\t},\n\n\tsub: function ( color ) {\n\n\t\tthis.r = Math.max( 0, this.r - color.r );\n\t\tthis.g = Math.max( 0, this.g - color.g );\n\t\tthis.b = Math.max( 0, this.b - color.b );\n\n\t\treturn this;\n\n\t},\n\n\tmultiply: function ( color ) {\n\n\t\tthis.r *= color.r;\n\t\tthis.g *= color.g;\n\t\tthis.b *= color.b;\n\n\t\treturn this;\n\n\t},\n\n\tmultiplyScalar: function ( s ) {\n\n\t\tthis.r *= s;\n\t\tthis.g *= s;\n\t\tthis.b *= s;\n\n\t\treturn this;\n\n\t},\n\n\tlerp: function ( color, alpha ) {\n\n\t\tthis.r += ( color.r - this.r ) * alpha;\n\t\tthis.g += ( color.g - this.g ) * alpha;\n\t\tthis.b += ( color.b - this.b ) * alpha;\n\n\t\treturn this;\n\n\t},\n\n\tlerpHSL: function () {\n\n\t\tvar hslA = { h: 0, s: 0, l: 0 };\n\t\tvar hslB = { h: 0, s: 0, l: 0 };\n\n\t\treturn function lerpHSL( color, alpha ) {\n\n\t\t\tthis.getHSL( hslA );\n\t\t\tcolor.getHSL( hslB );\n\n\t\t\tvar h = _Math.lerp( hslA.h, hslB.h, alpha );\n\t\t\tvar s = _Math.lerp( hslA.s, hslB.s, alpha );\n\t\t\tvar l = _Math.lerp( hslA.l, hslB.l, alpha );\n\n\t\t\tthis.setHSL( h, s, l );\n\n\t\t\treturn this;\n\n\t\t};\n\n\t}(),\n\n\tequals: function ( c ) {\n\n\t\treturn ( c.r === this.r ) && ( c.g === this.g ) && ( c.b === this.b );\n\n\t},\n\n\tfromArray: function ( array, offset ) {\n\n\t\tif ( offset === undefined ) offset = 0;\n\n\t\tthis.r = array[ offset ];\n\t\tthis.g = array[ offset + 1 ];\n\t\tthis.b = array[ offset + 2 ];\n\n\t\treturn this;\n\n\t},\n\n\ttoArray: function ( array, offset ) {\n\n\t\tif ( array === undefined ) array = [];\n\t\tif ( offset === undefined ) offset = 0;\n\n\t\tarray[ offset ] = this.r;\n\t\tarray[ offset + 1 ] = this.g;\n\t\tarray[ offset + 2 ] = this.b;\n\n\t\treturn array;\n\n\t},\n\n\ttoJSON: function () {\n\n\t\treturn this.getHex();\n\n\t}\n\n} );\n\n/**\n * Uniforms library for shared webgl shaders\n */\n\nvar UniformsLib = {\n\n\tcommon: {\n\n\t\tdiffuse: { value: new Color( 0xeeeeee ) },\n\t\topacity: { value: 1.0 },\n\n\t\tmap: { value: null },\n\t\tuvTransform: { value: new Matrix3() },\n\n\t\talphaMap: { value: null },\n\n\t},\n\n\tspecularmap: {\n\n\t\tspecularMap: { value: null },\n\n\t},\n\n\tenvmap: {\n\n\t\tenvMap: { value: null },\n\t\tflipEnvMap: { value: - 1 },\n\t\treflectivity: { value: 1.0 },\n\t\trefractionRatio: { value: 0.98 },\n\t\tmaxMipLevel: { value: 0 }\n\n\t},\n\n\taomap: {\n\n\t\taoMap: { value: null },\n\t\taoMapIntensity: { value: 1 }\n\n\t},\n\n\tlightmap: {\n\n\t\tlightMap: { value: null },\n\t\tlightMapIntensity: { value: 1 }\n\n\t},\n\n\temissivemap: {\n\n\t\temissiveMap: { value: null }\n\n\t},\n\n\tbumpmap: {\n\n\t\tbumpMap: { value: null },\n\t\tbumpScale: { value: 1 }\n\n\t},\n\n\tnormalmap: {\n\n\t\tnormalMap: { value: null },\n\t\tnormalScale: { value: new Vector2( 1, 1 ) }\n\n\t},\n\n\tdisplacementmap: {\n\n\t\tdisplacementMap: { value: null },\n\t\tdisplacementScale: { value: 1 },\n\t\tdisplacementBias: { value: 0 }\n\n\t},\n\n\troughnessmap: {\n\n\t\troughnessMap: { value: null }\n\n\t},\n\n\tmetalnessmap: {\n\n\t\tmetalnessMap: { value: null }\n\n\t},\n\n\tgradientmap: {\n\n\t\tgradientMap: { value: null }\n\n\t},\n\n\tfog: {\n\n\t\tfogDensity: { value: 0.00025 },\n\t\tfogNear: { value: 1 },\n\t\tfogFar: { value: 2000 },\n\t\tfogColor: { value: new Color( 0xffffff ) }\n\n\t},\n\n\tlights: {\n\n\t\tambientLightColor: { value: [] },\n\n\t\tlightProbe: { value: [] },\n\n\t\tdirectionalLights: { value: [], properties: {\n\t\t\tdirection: {},\n\t\t\tcolor: {},\n\n\t\t\tshadow: {},\n\t\t\tshadowBias: {},\n\t\t\tshadowRadius: {},\n\t\t\tshadowMapSize: {}\n\t\t} },\n\n\t\tdirectionalShadowMap: { value: [] },\n\t\tdirectionalShadowMatrix: { value: [] },\n\n\t\tspotLights: { value: [], properties: {\n\t\t\tcolor: {},\n\t\t\tposition: {},\n\t\t\tdirection: {},\n\t\t\tdistance: {},\n\t\t\tconeCos: {},\n\t\t\tpenumbraCos: {},\n\t\t\tdecay: {},\n\n\t\t\tshadow: {},\n\t\t\tshadowBias: {},\n\t\t\tshadowRadius: {},\n\t\t\tshadowMapSize: {}\n\t\t} },\n\n\t\tspotShadowMap: { value: [] },\n\t\tspotShadowMatrix: { value: [] },\n\n\t\tpointLights: { value: [], properties: {\n\t\t\tcolor: {},\n\t\t\tposition: {},\n\t\t\tdecay: {},\n\t\t\tdistance: {},\n\n\t\t\tshadow: {},\n\t\t\tshadowBias: {},\n\t\t\tshadowRadius: {},\n\t\t\tshadowMapSize: {},\n\t\t\tshadowCameraNear: {},\n\t\t\tshadowCameraFar: {}\n\t\t} },\n\n\t\tpointShadowMap: { value: [] },\n\t\tpointShadowMatrix: { value: [] },\n\n\t\themisphereLights: { value: [], properties: {\n\t\t\tdirection: {},\n\t\t\tskyColor: {},\n\t\t\tgroundColor: {}\n\t\t} },\n\n\t\t// TODO (abelnation): RectAreaLight BRDF data needs to be moved from example to main src\n\t\trectAreaLights: { value: [], properties: {\n\t\t\tcolor: {},\n\t\t\tposition: {},\n\t\t\twidth: {},\n\t\t\theight: {}\n\t\t} }\n\n\t},\n\n\tpoints: {\n\n\t\tdiffuse: { value: new Color( 0xeeeeee ) },\n\t\topacity: { value: 1.0 },\n\t\tsize: { value: 1.0 },\n\t\tscale: { value: 1.0 },\n\t\tmap: { value: null },\n\t\tuvTransform: { value: new Matrix3() }\n\n\t},\n\n\tsprite: {\n\n\t\tdiffuse: { value: new Color( 0xeeeeee ) },\n\t\topacity: { value: 1.0 },\n\t\tcenter: { value: new Vector2( 0.5, 0.5 ) },\n\t\trotation: { value: 0.0 },\n\t\tmap: { value: null },\n\t\tuvTransform: { value: new Matrix3() }\n\n\t}\n\n};\n\n/**\n * @author alteredq / http://alteredqualia.com/\n * @author mrdoob / http://mrdoob.com/\n * @author mikael emtinger / http://gomo.se/\n */\n\nvar ShaderLib = {\n\n\tbasic: {\n\n\t\tuniforms: mergeUniforms( [\n\t\t\tUniformsLib.common,\n\t\t\tUniformsLib.specularmap,\n\t\t\tUniformsLib.envmap,\n\t\t\tUniformsLib.aomap,\n\t\t\tUniformsLib.lightmap,\n\t\t\tUniformsLib.fog\n\t\t] ),\n\n\t\tvertexShader: ShaderChunk.meshbasic_vert,\n\t\tfragmentShader: ShaderChunk.meshbasic_frag\n\n\t},\n\n\tlambert: {\n\n\t\tuniforms: mergeUniforms( [\n\t\t\tUniformsLib.common,\n\t\t\tUniformsLib.specularmap,\n\t\t\tUniformsLib.envmap,\n\t\t\tUniformsLib.aomap,\n\t\t\tUniformsLib.lightmap,\n\t\t\tUniformsLib.emissivemap,\n\t\t\tUniformsLib.fog,\n\t\t\tUniformsLib.lights,\n\t\t\t{\n\t\t\t\temissive: { value: new Color( 0x000000 ) }\n\t\t\t}\n\t\t] ),\n\n\t\tvertexShader: ShaderChunk.meshlambert_vert,\n\t\tfragmentShader: ShaderChunk.meshlambert_frag\n\n\t},\n\n\tphong: {\n\n\t\tuniforms: mergeUniforms( [\n\t\t\tUniformsLib.common,\n\t\t\tUniformsLib.specularmap,\n\t\t\tUniformsLib.envmap,\n\t\t\tUniformsLib.aomap,\n\t\t\tUniformsLib.lightmap,\n\t\t\tUniformsLib.emissivemap,\n\t\t\tUniformsLib.bumpmap,\n\t\t\tUniformsLib.normalmap,\n\t\t\tUniformsLib.displacementmap,\n\t\t\tUniformsLib.gradientmap,\n\t\t\tUniformsLib.fog,\n\t\t\tUniformsLib.lights,\n\t\t\t{\n\t\t\t\temissive: { value: new Color( 0x000000 ) },\n\t\t\t\tspecular: { value: new Color( 0x111111 ) },\n\t\t\t\tshininess: { value: 30 }\n\t\t\t}\n\t\t] ),\n\n\t\tvertexShader: ShaderChunk.meshphong_vert,\n\t\tfragmentShader: ShaderChunk.meshphong_frag\n\n\t},\n\n\tstandard: {\n\n\t\tuniforms: mergeUniforms( [\n\t\t\tUniformsLib.common,\n\t\t\tUniformsLib.envmap,\n\t\t\tUniformsLib.aomap,\n\t\t\tUniformsLib.lightmap,\n\t\t\tUniformsLib.emissivemap,\n\t\t\tUniformsLib.bumpmap,\n\t\t\tUniformsLib.normalmap,\n\t\t\tUniformsLib.displacementmap,\n\t\t\tUniformsLib.roughnessmap,\n\t\t\tUniformsLib.metalnessmap,\n\t\t\tUniformsLib.fog,\n\t\t\tUniformsLib.lights,\n\t\t\t{\n\t\t\t\temissive: { value: new Color( 0x000000 ) },\n\t\t\t\troughness: { value: 0.5 },\n\t\t\t\tmetalness: { value: 0.5 },\n\t\t\t\tenvMapIntensity: { value: 1 } // temporary\n\t\t\t}\n\t\t] ),\n\n\t\tvertexShader: ShaderChunk.meshphysical_vert,\n\t\tfragmentShader: ShaderChunk.meshphysical_frag\n\n\t},\n\n\tmatcap: {\n\n\t\tuniforms: mergeUniforms( [\n\t\t\tUniformsLib.common,\n\t\t\tUniformsLib.bumpmap,\n\t\t\tUniformsLib.normalmap,\n\t\t\tUniformsLib.displacementmap,\n\t\t\tUniformsLib.fog,\n\t\t\t{\n\t\t\t\tmatcap: { value: null }\n\t\t\t}\n\t\t] ),\n\n\t\tvertexShader: ShaderChunk.meshmatcap_vert,\n\t\tfragmentShader: ShaderChunk.meshmatcap_frag\n\n\t},\n\n\tpoints: {\n\n\t\tuniforms: mergeUniforms( [\n\t\t\tUniformsLib.points,\n\t\t\tUniformsLib.fog\n\t\t] ),\n\n\t\tvertexShader: ShaderChunk.points_vert,\n\t\tfragmentShader: ShaderChunk.points_frag\n\n\t},\n\n\tdashed: {\n\n\t\tuniforms: mergeUniforms( [\n\t\t\tUniformsLib.common,\n\t\t\tUniformsLib.fog,\n\t\t\t{\n\t\t\t\tscale: { value: 1 },\n\t\t\t\tdashSize: { value: 1 },\n\t\t\t\ttotalSize: { value: 2 }\n\t\t\t}\n\t\t] ),\n\n\t\tvertexShader: ShaderChunk.linedashed_vert,\n\t\tfragmentShader: ShaderChunk.linedashed_frag\n\n\t},\n\n\tdepth: {\n\n\t\tuniforms: mergeUniforms( [\n\t\t\tUniformsLib.common,\n\t\t\tUniformsLib.displacementmap\n\t\t] ),\n\n\t\tvertexShader: ShaderChunk.depth_vert,\n\t\tfragmentShader: ShaderChunk.depth_frag\n\n\t},\n\n\tnormal: {\n\n\t\tuniforms: mergeUniforms( [\n\t\t\tUniformsLib.common,\n\t\t\tUniformsLib.bumpmap,\n\t\t\tUniformsLib.normalmap,\n\t\t\tUniformsLib.displacementmap,\n\t\t\t{\n\t\t\t\topacity: { value: 1.0 }\n\t\t\t}\n\t\t] ),\n\n\t\tvertexShader: ShaderChunk.normal_vert,\n\t\tfragmentShader: ShaderChunk.normal_frag\n\n\t},\n\n\tsprite: {\n\n\t\tuniforms: mergeUniforms( [\n\t\t\tUniformsLib.sprite,\n\t\t\tUniformsLib.fog\n\t\t] ),\n\n\t\tvertexShader: ShaderChunk.sprite_vert,\n\t\tfragmentShader: ShaderChunk.sprite_frag\n\n\t},\n\n\tbackground: {\n\n\t\tuniforms: {\n\t\t\tuvTransform: { value: new Matrix3() },\n\t\t\tt2D: { value: null },\n\t\t},\n\n\t\tvertexShader: ShaderChunk.background_vert,\n\t\tfragmentShader: ShaderChunk.background_frag\n\n\t},\n\t/* -------------------------------------------------------------------------\n\t//\tCube map shader\n\t ------------------------------------------------------------------------- */\n\n\tcube: {\n\n\t\tuniforms: {\n\t\t\ttCube: { value: null },\n\t\t\ttFlip: { value: - 1 },\n\t\t\topacity: { value: 1.0 }\n\t\t},\n\n\t\tvertexShader: ShaderChunk.cube_vert,\n\t\tfragmentShader: ShaderChunk.cube_frag\n\n\t},\n\n\tequirect: {\n\n\t\tuniforms: {\n\t\t\ttEquirect: { value: null },\n\t\t},\n\n\t\tvertexShader: ShaderChunk.equirect_vert,\n\t\tfragmentShader: ShaderChunk.equirect_frag\n\n\t},\n\n\tdistanceRGBA: {\n\n\t\tuniforms: mergeUniforms( [\n\t\t\tUniformsLib.common,\n\t\t\tUniformsLib.displacementmap,\n\t\t\t{\n\t\t\t\treferencePosition: { value: new Vector3() },\n\t\t\t\tnearDistance: { value: 1 },\n\t\t\t\tfarDistance: { value: 1000 }\n\t\t\t}\n\t\t] ),\n\n\t\tvertexShader: ShaderChunk.distanceRGBA_vert,\n\t\tfragmentShader: ShaderChunk.distanceRGBA_frag\n\n\t},\n\n\tshadow: {\n\n\t\tuniforms: mergeUniforms( [\n\t\t\tUniformsLib.lights,\n\t\t\tUniformsLib.fog,\n\t\t\t{\n\t\t\t\tcolor: { value: new Color( 0x00000 ) },\n\t\t\t\topacity: { value: 1.0 }\n\t\t\t},\n\t\t] ),\n\n\t\tvertexShader: ShaderChunk.shadow_vert,\n\t\tfragmentShader: ShaderChunk.shadow_frag\n\n\t}\n\n};\n\nShaderLib.physical = {\n\n\tuniforms: mergeUniforms( [\n\t\tShaderLib.standard.uniforms,\n\t\t{\n\t\t\tclearCoat: { value: 0 },\n\t\t\tclearCoatRoughness: { value: 0 }\n\t\t}\n\t] ),\n\n\tvertexShader: ShaderChunk.meshphysical_vert,\n\tfragmentShader: ShaderChunk.meshphysical_frag\n\n};\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction WebGLAnimation() {\n\n\tvar context = null;\n\tvar isAnimating = false;\n\tvar animationLoop = null;\n\n\tfunction onAnimationFrame( time, frame ) {\n\n\t\tif ( isAnimating === false ) return;\n\n\t\tanimationLoop( time, frame );\n\n\t\tcontext.requestAnimationFrame( onAnimationFrame );\n\n\t}\n\n\treturn {\n\n\t\tstart: function () {\n\n\t\t\tif ( isAnimating === true ) return;\n\t\t\tif ( animationLoop === null ) return;\n\n\t\t\tcontext.requestAnimationFrame( onAnimationFrame );\n\n\t\t\tisAnimating = true;\n\n\t\t},\n\n\t\tstop: function () {\n\n\t\t\tisAnimating = false;\n\n\t\t},\n\n\t\tsetAnimationLoop: function ( callback ) {\n\n\t\t\tanimationLoop = callback;\n\n\t\t},\n\n\t\tsetContext: function ( value ) {\n\n\t\t\tcontext = value;\n\n\t\t}\n\n\t};\n\n}\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction WebGLAttributes( gl ) {\n\n\tvar buffers = new WeakMap();\n\n\tfunction createBuffer( attribute, bufferType ) {\n\n\t\tvar array = attribute.array;\n\t\tvar usage = attribute.dynamic ? 35048 : 35044;\n\n\t\tvar buffer = gl.createBuffer();\n\n\t\tgl.bindBuffer( bufferType, buffer );\n\t\tgl.bufferData( bufferType, array, usage );\n\n\t\tattribute.onUploadCallback();\n\n\t\tvar type = 5126;\n\n\t\tif ( array instanceof Float32Array ) {\n\n\t\t\ttype = 5126;\n\n\t\t} else if ( array instanceof Float64Array ) {\n\n\t\t\tconsole.warn( 'THREE.WebGLAttributes: Unsupported data buffer format: Float64Array.' );\n\n\t\t} else if ( array instanceof Uint16Array ) {\n\n\t\t\ttype = 5123;\n\n\t\t} else if ( array instanceof Int16Array ) {\n\n\t\t\ttype = 5122;\n\n\t\t} else if ( array instanceof Uint32Array ) {\n\n\t\t\ttype = 5125;\n\n\t\t} else if ( array instanceof Int32Array ) {\n\n\t\t\ttype = 5124;\n\n\t\t} else if ( array instanceof Int8Array ) {\n\n\t\t\ttype = 5120;\n\n\t\t} else if ( array instanceof Uint8Array ) {\n\n\t\t\ttype = 5121;\n\n\t\t}\n\n\t\treturn {\n\t\t\tbuffer: buffer,\n\t\t\ttype: type,\n\t\t\tbytesPerElement: array.BYTES_PER_ELEMENT,\n\t\t\tversion: attribute.version\n\t\t};\n\n\t}\n\n\tfunction updateBuffer( buffer, attribute, bufferType ) {\n\n\t\tvar array = attribute.array;\n\t\tvar updateRange = attribute.updateRange;\n\n\t\tgl.bindBuffer( bufferType, buffer );\n\n\t\tif ( attribute.dynamic === false ) {\n\n\t\t\tgl.bufferData( bufferType, array, 35044 );\n\n\t\t} else if ( updateRange.count === - 1 ) {\n\n\t\t\t// Not using update ranges\n\n\t\t\tgl.bufferSubData( bufferType, 0, array );\n\n\t\t} else if ( updateRange.count === 0 ) {\n\n\t\t\tconsole.error( 'THREE.WebGLObjects.updateBuffer: dynamic THREE.BufferAttribute marked as needsUpdate but updateRange.count is 0, ensure you are using set methods or updating manually.' );\n\n\t\t} else {\n\n\t\t\tgl.bufferSubData( bufferType, updateRange.offset * array.BYTES_PER_ELEMENT,\n\t\t\t\tarray.subarray( updateRange.offset, updateRange.offset + updateRange.count ) );\n\n\t\t\tupdateRange.count = - 1; // reset range\n\n\t\t}\n\n\t}\n\n\t//\n\n\tfunction get( attribute ) {\n\n\t\tif ( attribute.isInterleavedBufferAttribute ) attribute = attribute.data;\n\n\t\treturn buffers.get( attribute );\n\n\t}\n\n\tfunction remove( attribute ) {\n\n\t\tif ( attribute.isInterleavedBufferAttribute ) attribute = attribute.data;\n\n\t\tvar data = buffers.get( attribute );\n\n\t\tif ( data ) {\n\n\t\t\tgl.deleteBuffer( data.buffer );\n\n\t\t\tbuffers.delete( attribute );\n\n\t\t}\n\n\t}\n\n\tfunction update( attribute, bufferType ) {\n\n\t\tif ( attribute.isInterleavedBufferAttribute ) attribute = attribute.data;\n\n\t\tvar data = buffers.get( attribute );\n\n\t\tif ( data === undefined ) {\n\n\t\t\tbuffers.set( attribute, createBuffer( attribute, bufferType ) );\n\n\t\t} else if ( data.version < attribute.version ) {\n\n\t\t\tupdateBuffer( data.buffer, attribute, bufferType );\n\n\t\t\tdata.version = attribute.version;\n\n\t\t}\n\n\t}\n\n\treturn {\n\n\t\tget: get,\n\t\tremove: remove,\n\t\tupdate: update\n\n\t};\n\n}\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author alteredq / http://alteredqualia.com/\n */\n\nfunction Face3( a, b, c, normal, color, materialIndex ) {\n\n\tthis.a = a;\n\tthis.b = b;\n\tthis.c = c;\n\n\tthis.normal = ( normal && normal.isVector3 ) ? normal : new Vector3();\n\tthis.vertexNormals = Array.isArray( normal ) ? normal : [];\n\n\tthis.color = ( color && color.isColor ) ? color : new Color();\n\tthis.vertexColors = Array.isArray( color ) ? color : [];\n\n\tthis.materialIndex = materialIndex !== undefined ? materialIndex : 0;\n\n}\n\nObject.assign( Face3.prototype, {\n\n\tclone: function () {\n\n\t\treturn new this.constructor().copy( this );\n\n\t},\n\n\tcopy: function ( source ) {\n\n\t\tthis.a = source.a;\n\t\tthis.b = source.b;\n\t\tthis.c = source.c;\n\n\t\tthis.normal.copy( source.normal );\n\t\tthis.color.copy( source.color );\n\n\t\tthis.materialIndex = source.materialIndex;\n\n\t\tfor ( var i = 0, il = source.vertexNormals.length; i < il; i ++ ) {\n\n\t\t\tthis.vertexNormals[ i ] = source.vertexNormals[ i ].clone();\n\n\t\t}\n\n\t\tfor ( var i = 0, il = source.vertexColors.length; i < il; i ++ ) {\n\n\t\t\tthis.vertexColors[ i ] = source.vertexColors[ i ].clone();\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author WestLangley / http://github.com/WestLangley\n * @author bhouston / http://clara.io\n */\n\nfunction Euler( x, y, z, order ) {\n\n\tthis._x = x || 0;\n\tthis._y = y || 0;\n\tthis._z = z || 0;\n\tthis._order = order || Euler.DefaultOrder;\n\n}\n\nEuler.RotationOrders = [ 'XYZ', 'YZX', 'ZXY', 'XZY', 'YXZ', 'ZYX' ];\n\nEuler.DefaultOrder = 'XYZ';\n\nObject.defineProperties( Euler.prototype, {\n\n\tx: {\n\n\t\tget: function () {\n\n\t\t\treturn this._x;\n\n\t\t},\n\n\t\tset: function ( value ) {\n\n\t\t\tthis._x = value;\n\t\t\tthis.onChangeCallback();\n\n\t\t}\n\n\t},\n\n\ty: {\n\n\t\tget: function () {\n\n\t\t\treturn this._y;\n\n\t\t},\n\n\t\tset: function ( value ) {\n\n\t\t\tthis._y = value;\n\t\t\tthis.onChangeCallback();\n\n\t\t}\n\n\t},\n\n\tz: {\n\n\t\tget: function () {\n\n\t\t\treturn this._z;\n\n\t\t},\n\n\t\tset: function ( value ) {\n\n\t\t\tthis._z = value;\n\t\t\tthis.onChangeCallback();\n\n\t\t}\n\n\t},\n\n\torder: {\n\n\t\tget: function () {\n\n\t\t\treturn this._order;\n\n\t\t},\n\n\t\tset: function ( value ) {\n\n\t\t\tthis._order = value;\n\t\t\tthis.onChangeCallback();\n\n\t\t}\n\n\t}\n\n} );\n\nObject.assign( Euler.prototype, {\n\n\tisEuler: true,\n\n\tset: function ( x, y, z, order ) {\n\n\t\tthis._x = x;\n\t\tthis._y = y;\n\t\tthis._z = z;\n\t\tthis._order = order || this._order;\n\n\t\tthis.onChangeCallback();\n\n\t\treturn this;\n\n\t},\n\n\tclone: function () {\n\n\t\treturn new this.constructor( this._x, this._y, this._z, this._order );\n\n\t},\n\n\tcopy: function ( euler ) {\n\n\t\tthis._x = euler._x;\n\t\tthis._y = euler._y;\n\t\tthis._z = euler._z;\n\t\tthis._order = euler._order;\n\n\t\tthis.onChangeCallback();\n\n\t\treturn this;\n\n\t},\n\n\tsetFromRotationMatrix: function ( m, order, update ) {\n\n\t\tvar clamp = _Math.clamp;\n\n\t\t// assumes the upper 3x3 of m is a pure rotation matrix (i.e, unscaled)\n\n\t\tvar te = m.elements;\n\t\tvar m11 = te[ 0 ], m12 = te[ 4 ], m13 = te[ 8 ];\n\t\tvar m21 = te[ 1 ], m22 = te[ 5 ], m23 = te[ 9 ];\n\t\tvar m31 = te[ 2 ], m32 = te[ 6 ], m33 = te[ 10 ];\n\n\t\torder = order || this._order;\n\n\t\tif ( order === 'XYZ' ) {\n\n\t\t\tthis._y = Math.asin( clamp( m13, - 1, 1 ) );\n\n\t\t\tif ( Math.abs( m13 ) < 0.99999 ) {\n\n\t\t\t\tthis._x = Math.atan2( - m23, m33 );\n\t\t\t\tthis._z = Math.atan2( - m12, m11 );\n\n\t\t\t} else {\n\n\t\t\t\tthis._x = Math.atan2( m32, m22 );\n\t\t\t\tthis._z = 0;\n\n\t\t\t}\n\n\t\t} else if ( order === 'YXZ' ) {\n\n\t\t\tthis._x = Math.asin( - clamp( m23, - 1, 1 ) );\n\n\t\t\tif ( Math.abs( m23 ) < 0.99999 ) {\n\n\t\t\t\tthis._y = Math.atan2( m13, m33 );\n\t\t\t\tthis._z = Math.atan2( m21, m22 );\n\n\t\t\t} else {\n\n\t\t\t\tthis._y = Math.atan2( - m31, m11 );\n\t\t\t\tthis._z = 0;\n\n\t\t\t}\n\n\t\t} else if ( order === 'ZXY' ) {\n\n\t\t\tthis._x = Math.asin( clamp( m32, - 1, 1 ) );\n\n\t\t\tif ( Math.abs( m32 ) < 0.99999 ) {\n\n\t\t\t\tthis._y = Math.atan2( - m31, m33 );\n\t\t\t\tthis._z = Math.atan2( - m12, m22 );\n\n\t\t\t} else {\n\n\t\t\t\tthis._y = 0;\n\t\t\t\tthis._z = Math.atan2( m21, m11 );\n\n\t\t\t}\n\n\t\t} else if ( order === 'ZYX' ) {\n\n\t\t\tthis._y = Math.asin( - clamp( m31, - 1, 1 ) );\n\n\t\t\tif ( Math.abs( m31 ) < 0.99999 ) {\n\n\t\t\t\tthis._x = Math.atan2( m32, m33 );\n\t\t\t\tthis._z = Math.atan2( m21, m11 );\n\n\t\t\t} else {\n\n\t\t\t\tthis._x = 0;\n\t\t\t\tthis._z = Math.atan2( - m12, m22 );\n\n\t\t\t}\n\n\t\t} else if ( order === 'YZX' ) {\n\n\t\t\tthis._z = Math.asin( clamp( m21, - 1, 1 ) );\n\n\t\t\tif ( Math.abs( m21 ) < 0.99999 ) {\n\n\t\t\t\tthis._x = Math.atan2( - m23, m22 );\n\t\t\t\tthis._y = Math.atan2( - m31, m11 );\n\n\t\t\t} else {\n\n\t\t\t\tthis._x = 0;\n\t\t\t\tthis._y = Math.atan2( m13, m33 );\n\n\t\t\t}\n\n\t\t} else if ( order === 'XZY' ) {\n\n\t\t\tthis._z = Math.asin( - clamp( m12, - 1, 1 ) );\n\n\t\t\tif ( Math.abs( m12 ) < 0.99999 ) {\n\n\t\t\t\tthis._x = Math.atan2( m32, m22 );\n\t\t\t\tthis._y = Math.atan2( m13, m11 );\n\n\t\t\t} else {\n\n\t\t\t\tthis._x = Math.atan2( - m23, m33 );\n\t\t\t\tthis._y = 0;\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\tconsole.warn( 'THREE.Euler: .setFromRotationMatrix() given unsupported order: ' + order );\n\n\t\t}\n\n\t\tthis._order = order;\n\n\t\tif ( update !== false ) this.onChangeCallback();\n\n\t\treturn this;\n\n\t},\n\n\tsetFromQuaternion: function () {\n\n\t\tvar matrix = new Matrix4();\n\n\t\treturn function setFromQuaternion( q, order, update ) {\n\n\t\t\tmatrix.makeRotationFromQuaternion( q );\n\n\t\t\treturn this.setFromRotationMatrix( matrix, order, update );\n\n\t\t};\n\n\t}(),\n\n\tsetFromVector3: function ( v, order ) {\n\n\t\treturn this.set( v.x, v.y, v.z, order || this._order );\n\n\t},\n\n\treorder: function () {\n\n\t\t// WARNING: this discards revolution information -bhouston\n\n\t\tvar q = new Quaternion();\n\n\t\treturn function reorder( newOrder ) {\n\n\t\t\tq.setFromEuler( this );\n\n\t\t\treturn this.setFromQuaternion( q, newOrder );\n\n\t\t};\n\n\t}(),\n\n\tequals: function ( euler ) {\n\n\t\treturn ( euler._x === this._x ) && ( euler._y === this._y ) && ( euler._z === this._z ) && ( euler._order === this._order );\n\n\t},\n\n\tfromArray: function ( array ) {\n\n\t\tthis._x = array[ 0 ];\n\t\tthis._y = array[ 1 ];\n\t\tthis._z = array[ 2 ];\n\t\tif ( array[ 3 ] !== undefined ) this._order = array[ 3 ];\n\n\t\tthis.onChangeCallback();\n\n\t\treturn this;\n\n\t},\n\n\ttoArray: function ( array, offset ) {\n\n\t\tif ( array === undefined ) array = [];\n\t\tif ( offset === undefined ) offset = 0;\n\n\t\tarray[ offset ] = this._x;\n\t\tarray[ offset + 1 ] = this._y;\n\t\tarray[ offset + 2 ] = this._z;\n\t\tarray[ offset + 3 ] = this._order;\n\n\t\treturn array;\n\n\t},\n\n\ttoVector3: function ( optionalResult ) {\n\n\t\tif ( optionalResult ) {\n\n\t\t\treturn optionalResult.set( this._x, this._y, this._z );\n\n\t\t} else {\n\n\t\t\treturn new Vector3( this._x, this._y, this._z );\n\n\t\t}\n\n\t},\n\n\tonChange: function ( callback ) {\n\n\t\tthis.onChangeCallback = callback;\n\n\t\treturn this;\n\n\t},\n\n\tonChangeCallback: function () {}\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction Layers() {\n\n\tthis.mask = 1 | 0;\n\n}\n\nObject.assign( Layers.prototype, {\n\n\tset: function ( channel ) {\n\n\t\tthis.mask = 1 << channel | 0;\n\n\t},\n\n\tenable: function ( channel ) {\n\n\t\tthis.mask |= 1 << channel | 0;\n\n\t},\n\n\ttoggle: function ( channel ) {\n\n\t\tthis.mask ^= 1 << channel | 0;\n\n\t},\n\n\tdisable: function ( channel ) {\n\n\t\tthis.mask &= ~ ( 1 << channel | 0 );\n\n\t},\n\n\ttest: function ( layers ) {\n\n\t\treturn ( this.mask & layers.mask ) !== 0;\n\n\t}\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author mikael emtinger / http://gomo.se/\n * @author alteredq / http://alteredqualia.com/\n * @author WestLangley / http://github.com/WestLangley\n * @author elephantatwork / www.elephantatwork.ch\n */\n\nvar object3DId = 0;\n\nfunction Object3D() {\n\n\tObject.defineProperty( this, 'id', { value: object3DId ++ } );\n\n\tthis.uuid = _Math.generateUUID();\n\n\tthis.name = '';\n\tthis.type = 'Object3D';\n\n\tthis.parent = null;\n\tthis.children = [];\n\n\tthis.up = Object3D.DefaultUp.clone();\n\n\tvar position = new Vector3();\n\tvar rotation = new Euler();\n\tvar quaternion = new Quaternion();\n\tvar scale = new Vector3( 1, 1, 1 );\n\n\tfunction onRotationChange() {\n\n\t\tquaternion.setFromEuler( rotation, false );\n\n\t}\n\n\tfunction onQuaternionChange() {\n\n\t\trotation.setFromQuaternion( quaternion, undefined, false );\n\n\t}\n\n\trotation.onChange( onRotationChange );\n\tquaternion.onChange( onQuaternionChange );\n\n\tObject.defineProperties( this, {\n\t\tposition: {\n\t\t\tconfigurable: true,\n\t\t\tenumerable: true,\n\t\t\tvalue: position\n\t\t},\n\t\trotation: {\n\t\t\tconfigurable: true,\n\t\t\tenumerable: true,\n\t\t\tvalue: rotation\n\t\t},\n\t\tquaternion: {\n\t\t\tconfigurable: true,\n\t\t\tenumerable: true,\n\t\t\tvalue: quaternion\n\t\t},\n\t\tscale: {\n\t\t\tconfigurable: true,\n\t\t\tenumerable: true,\n\t\t\tvalue: scale\n\t\t},\n\t\tmodelViewMatrix: {\n\t\t\tvalue: new Matrix4()\n\t\t},\n\t\tnormalMatrix: {\n\t\t\tvalue: new Matrix3()\n\t\t}\n\t} );\n\n\tthis.matrix = new Matrix4();\n\tthis.matrixWorld = new Matrix4();\n\n\tthis.matrixAutoUpdate = Object3D.DefaultMatrixAutoUpdate;\n\tthis.matrixWorldNeedsUpdate = false;\n\n\tthis.layers = new Layers();\n\tthis.visible = true;\n\n\tthis.castShadow = false;\n\tthis.receiveShadow = false;\n\n\tthis.frustumCulled = true;\n\tthis.renderOrder = 0;\n\n\tthis.userData = {};\n\n}\n\nObject3D.DefaultUp = new Vector3( 0, 1, 0 );\nObject3D.DefaultMatrixAutoUpdate = true;\n\nObject3D.prototype = Object.assign( Object.create( EventDispatcher.prototype ), {\n\n\tconstructor: Object3D,\n\n\tisObject3D: true,\n\n\tonBeforeRender: function () {},\n\tonAfterRender: function () {},\n\n\tapplyMatrix: function ( matrix ) {\n\n\t\tif ( this.matrixAutoUpdate ) this.updateMatrix();\n\n\t\tthis.matrix.premultiply( matrix );\n\n\t\tthis.matrix.decompose( this.position, this.quaternion, this.scale );\n\n\t},\n\n\tapplyQuaternion: function ( q ) {\n\n\t\tthis.quaternion.premultiply( q );\n\n\t\treturn this;\n\n\t},\n\n\tsetRotationFromAxisAngle: function ( axis, angle ) {\n\n\t\t// assumes axis is normalized\n\n\t\tthis.quaternion.setFromAxisAngle( axis, angle );\n\n\t},\n\n\tsetRotationFromEuler: function ( euler ) {\n\n\t\tthis.quaternion.setFromEuler( euler, true );\n\n\t},\n\n\tsetRotationFromMatrix: function ( m ) {\n\n\t\t// assumes the upper 3x3 of m is a pure rotation matrix (i.e, unscaled)\n\n\t\tthis.quaternion.setFromRotationMatrix( m );\n\n\t},\n\n\tsetRotationFromQuaternion: function ( q ) {\n\n\t\t// assumes q is normalized\n\n\t\tthis.quaternion.copy( q );\n\n\t},\n\n\trotateOnAxis: function () {\n\n\t\t// rotate object on axis in object space\n\t\t// axis is assumed to be normalized\n\n\t\tvar q1 = new Quaternion();\n\n\t\treturn function rotateOnAxis( axis, angle ) {\n\n\t\t\tq1.setFromAxisAngle( axis, angle );\n\n\t\t\tthis.quaternion.multiply( q1 );\n\n\t\t\treturn this;\n\n\t\t};\n\n\t}(),\n\n\trotateOnWorldAxis: function () {\n\n\t\t// rotate object on axis in world space\n\t\t// axis is assumed to be normalized\n\t\t// method assumes no rotated parent\n\n\t\tvar q1 = new Quaternion();\n\n\t\treturn function rotateOnWorldAxis( axis, angle ) {\n\n\t\t\tq1.setFromAxisAngle( axis, angle );\n\n\t\t\tthis.quaternion.premultiply( q1 );\n\n\t\t\treturn this;\n\n\t\t};\n\n\t}(),\n\n\trotateX: function () {\n\n\t\tvar v1 = new Vector3( 1, 0, 0 );\n\n\t\treturn function rotateX( angle ) {\n\n\t\t\treturn this.rotateOnAxis( v1, angle );\n\n\t\t};\n\n\t}(),\n\n\trotateY: function () {\n\n\t\tvar v1 = new Vector3( 0, 1, 0 );\n\n\t\treturn function rotateY( angle ) {\n\n\t\t\treturn this.rotateOnAxis( v1, angle );\n\n\t\t};\n\n\t}(),\n\n\trotateZ: function () {\n\n\t\tvar v1 = new Vector3( 0, 0, 1 );\n\n\t\treturn function rotateZ( angle ) {\n\n\t\t\treturn this.rotateOnAxis( v1, angle );\n\n\t\t};\n\n\t}(),\n\n\ttranslateOnAxis: function () {\n\n\t\t// translate object by distance along axis in object space\n\t\t// axis is assumed to be normalized\n\n\t\tvar v1 = new Vector3();\n\n\t\treturn function translateOnAxis( axis, distance ) {\n\n\t\t\tv1.copy( axis ).applyQuaternion( this.quaternion );\n\n\t\t\tthis.position.add( v1.multiplyScalar( distance ) );\n\n\t\t\treturn this;\n\n\t\t};\n\n\t}(),\n\n\ttranslateX: function () {\n\n\t\tvar v1 = new Vector3( 1, 0, 0 );\n\n\t\treturn function translateX( distance ) {\n\n\t\t\treturn this.translateOnAxis( v1, distance );\n\n\t\t};\n\n\t}(),\n\n\ttranslateY: function () {\n\n\t\tvar v1 = new Vector3( 0, 1, 0 );\n\n\t\treturn function translateY( distance ) {\n\n\t\t\treturn this.translateOnAxis( v1, distance );\n\n\t\t};\n\n\t}(),\n\n\ttranslateZ: function () {\n\n\t\tvar v1 = new Vector3( 0, 0, 1 );\n\n\t\treturn function translateZ( distance ) {\n\n\t\t\treturn this.translateOnAxis( v1, distance );\n\n\t\t};\n\n\t}(),\n\n\tlocalToWorld: function ( vector ) {\n\n\t\treturn vector.applyMatrix4( this.matrixWorld );\n\n\t},\n\n\tworldToLocal: function () {\n\n\t\tvar m1 = new Matrix4();\n\n\t\treturn function worldToLocal( vector ) {\n\n\t\t\treturn vector.applyMatrix4( m1.getInverse( this.matrixWorld ) );\n\n\t\t};\n\n\t}(),\n\n\tlookAt: function () {\n\n\t\t// This method does not support objects having non-uniformly-scaled parent(s)\n\n\t\tvar q1 = new Quaternion();\n\t\tvar m1 = new Matrix4();\n\t\tvar target = new Vector3();\n\t\tvar position = new Vector3();\n\n\t\treturn function lookAt( x, y, z ) {\n\n\t\t\tif ( x.isVector3 ) {\n\n\t\t\t\ttarget.copy( x );\n\n\t\t\t} else {\n\n\t\t\t\ttarget.set( x, y, z );\n\n\t\t\t}\n\n\t\t\tvar parent = this.parent;\n\n\t\t\tthis.updateWorldMatrix( true, false );\n\n\t\t\tposition.setFromMatrixPosition( this.matrixWorld );\n\n\t\t\tif ( this.isCamera || this.isLight ) {\n\n\t\t\t\tm1.lookAt( position, target, this.up );\n\n\t\t\t} else {\n\n\t\t\t\tm1.lookAt( target, position, this.up );\n\n\t\t\t}\n\n\t\t\tthis.quaternion.setFromRotationMatrix( m1 );\n\n\t\t\tif ( parent ) {\n\n\t\t\t\tm1.extractRotation( parent.matrixWorld );\n\t\t\t\tq1.setFromRotationMatrix( m1 );\n\t\t\t\tthis.quaternion.premultiply( q1.inverse() );\n\n\t\t\t}\n\n\t\t};\n\n\t}(),\n\n\tadd: function ( object ) {\n\n\t\tif ( arguments.length > 1 ) {\n\n\t\t\tfor ( var i = 0; i < arguments.length; i ++ ) {\n\n\t\t\t\tthis.add( arguments[ i ] );\n\n\t\t\t}\n\n\t\t\treturn this;\n\n\t\t}\n\n\t\tif ( object === this ) {\n\n\t\t\tconsole.error( \"THREE.Object3D.add: object can't be added as a child of itself.\", object );\n\t\t\treturn this;\n\n\t\t}\n\n\t\tif ( ( object && object.isObject3D ) ) {\n\n\t\t\tif ( object.parent !== null ) {\n\n\t\t\t\tobject.parent.remove( object );\n\n\t\t\t}\n\n\t\t\tobject.parent = this;\n\t\t\tobject.dispatchEvent( { type: 'added' } );\n\n\t\t\tthis.children.push( object );\n\n\t\t} else {\n\n\t\t\tconsole.error( \"THREE.Object3D.add: object not an instance of THREE.Object3D.\", object );\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tremove: function ( object ) {\n\n\t\tif ( arguments.length > 1 ) {\n\n\t\t\tfor ( var i = 0; i < arguments.length; i ++ ) {\n\n\t\t\t\tthis.remove( arguments[ i ] );\n\n\t\t\t}\n\n\t\t\treturn this;\n\n\t\t}\n\n\t\tvar index = this.children.indexOf( object );\n\n\t\tif ( index !== - 1 ) {\n\n\t\t\tobject.parent = null;\n\n\t\t\tobject.dispatchEvent( { type: 'removed' } );\n\n\t\t\tthis.children.splice( index, 1 );\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tattach: function () {\n\n\t\t// adds object as a child of this, while maintaining the object's world transform\n\n\t\tvar m = new Matrix4();\n\n\t\treturn function attach( object ) {\n\n\t\t\tthis.updateWorldMatrix( true, false );\n\n\t\t\tm.getInverse( this.matrixWorld );\n\n\t\t\tif ( object.parent !== null ) {\n\n\t\t\t\tobject.parent.updateWorldMatrix( true, false );\n\n\t\t\t\tm.multiply( object.parent.matrixWorld );\n\n\t\t\t}\n\n\t\t\tobject.applyMatrix( m );\n\n\t\t\tobject.updateWorldMatrix( false, false );\n\n\t\t\tthis.add( object );\n\n\t\t\treturn this;\n\n\t\t};\n\n\t}(),\n\n\tgetObjectById: function ( id ) {\n\n\t\treturn this.getObjectByProperty( 'id', id );\n\n\t},\n\n\tgetObjectByName: function ( name ) {\n\n\t\treturn this.getObjectByProperty( 'name', name );\n\n\t},\n\n\tgetObjectByProperty: function ( name, value ) {\n\n\t\tif ( this[ name ] === value ) return this;\n\n\t\tfor ( var i = 0, l = this.children.length; i < l; i ++ ) {\n\n\t\t\tvar child = this.children[ i ];\n\t\t\tvar object = child.getObjectByProperty( name, value );\n\n\t\t\tif ( object !== undefined ) {\n\n\t\t\t\treturn object;\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn undefined;\n\n\t},\n\n\tgetWorldPosition: function ( target ) {\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Object3D: .getWorldPosition() target is now required' );\n\t\t\ttarget = new Vector3();\n\n\t\t}\n\n\t\tthis.updateMatrixWorld( true );\n\n\t\treturn target.setFromMatrixPosition( this.matrixWorld );\n\n\t},\n\n\tgetWorldQuaternion: function () {\n\n\t\tvar position = new Vector3();\n\t\tvar scale = new Vector3();\n\n\t\treturn function getWorldQuaternion( target ) {\n\n\t\t\tif ( target === undefined ) {\n\n\t\t\t\tconsole.warn( 'THREE.Object3D: .getWorldQuaternion() target is now required' );\n\t\t\t\ttarget = new Quaternion();\n\n\t\t\t}\n\n\t\t\tthis.updateMatrixWorld( true );\n\n\t\t\tthis.matrixWorld.decompose( position, target, scale );\n\n\t\t\treturn target;\n\n\t\t};\n\n\t}(),\n\n\tgetWorldScale: function () {\n\n\t\tvar position = new Vector3();\n\t\tvar quaternion = new Quaternion();\n\n\t\treturn function getWorldScale( target ) {\n\n\t\t\tif ( target === undefined ) {\n\n\t\t\t\tconsole.warn( 'THREE.Object3D: .getWorldScale() target is now required' );\n\t\t\t\ttarget = new Vector3();\n\n\t\t\t}\n\n\t\t\tthis.updateMatrixWorld( true );\n\n\t\t\tthis.matrixWorld.decompose( position, quaternion, target );\n\n\t\t\treturn target;\n\n\t\t};\n\n\t}(),\n\n\tgetWorldDirection: function ( target ) {\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Object3D: .getWorldDirection() target is now required' );\n\t\t\ttarget = new Vector3();\n\n\t\t}\n\n\t\tthis.updateMatrixWorld( true );\n\n\t\tvar e = this.matrixWorld.elements;\n\n\t\treturn target.set( e[ 8 ], e[ 9 ], e[ 10 ] ).normalize();\n\n\t},\n\n\traycast: function () {},\n\n\ttraverse: function ( callback ) {\n\n\t\tcallback( this );\n\n\t\tvar children = this.children;\n\n\t\tfor ( var i = 0, l = children.length; i < l; i ++ ) {\n\n\t\t\tchildren[ i ].traverse( callback );\n\n\t\t}\n\n\t},\n\n\ttraverseVisible: function ( callback ) {\n\n\t\tif ( this.visible === false ) return;\n\n\t\tcallback( this );\n\n\t\tvar children = this.children;\n\n\t\tfor ( var i = 0, l = children.length; i < l; i ++ ) {\n\n\t\t\tchildren[ i ].traverseVisible( callback );\n\n\t\t}\n\n\t},\n\n\ttraverseAncestors: function ( callback ) {\n\n\t\tvar parent = this.parent;\n\n\t\tif ( parent !== null ) {\n\n\t\t\tcallback( parent );\n\n\t\t\tparent.traverseAncestors( callback );\n\n\t\t}\n\n\t},\n\n\tupdateMatrix: function () {\n\n\t\tthis.matrix.compose( this.position, this.quaternion, this.scale );\n\n\t\tthis.matrixWorldNeedsUpdate = true;\n\n\t},\n\n\tupdateMatrixWorld: function ( force ) {\n\n\t\tif ( this.matrixAutoUpdate ) this.updateMatrix();\n\n\t\tif ( this.matrixWorldNeedsUpdate || force ) {\n\n\t\t\tif ( this.parent === null ) {\n\n\t\t\t\tthis.matrixWorld.copy( this.matrix );\n\n\t\t\t} else {\n\n\t\t\t\tthis.matrixWorld.multiplyMatrices( this.parent.matrixWorld, this.matrix );\n\n\t\t\t}\n\n\t\t\tthis.matrixWorldNeedsUpdate = false;\n\n\t\t\tforce = true;\n\n\t\t}\n\n\t\t// update children\n\n\t\tvar children = this.children;\n\n\t\tfor ( var i = 0, l = children.length; i < l; i ++ ) {\n\n\t\t\tchildren[ i ].updateMatrixWorld( force );\n\n\t\t}\n\n\t},\n\n\tupdateWorldMatrix: function ( updateParents, updateChildren ) {\n\n\t\tvar parent = this.parent;\n\n\t\tif ( updateParents === true && parent !== null ) {\n\n\t\t\tparent.updateWorldMatrix( true, false );\n\n\t\t}\n\n\t\tif ( this.matrixAutoUpdate ) this.updateMatrix();\n\n\t\tif ( this.parent === null ) {\n\n\t\t\tthis.matrixWorld.copy( this.matrix );\n\n\t\t} else {\n\n\t\t\tthis.matrixWorld.multiplyMatrices( this.parent.matrixWorld, this.matrix );\n\n\t\t}\n\n\t\t// update children\n\n\t\tif ( updateChildren === true ) {\n\n\t\t\tvar children = this.children;\n\n\t\t\tfor ( var i = 0, l = children.length; i < l; i ++ ) {\n\n\t\t\t\tchildren[ i ].updateWorldMatrix( false, true );\n\n\t\t\t}\n\n\t\t}\n\n\t},\n\n\ttoJSON: function ( meta ) {\n\n\t\t// meta is a string when called from JSON.stringify\n\t\tvar isRootObject = ( meta === undefined || typeof meta === 'string' );\n\n\t\tvar output = {};\n\n\t\t// meta is a hash used to collect geometries, materials.\n\t\t// not providing it implies that this is the root object\n\t\t// being serialized.\n\t\tif ( isRootObject ) {\n\n\t\t\t// initialize meta obj\n\t\t\tmeta = {\n\t\t\t\tgeometries: {},\n\t\t\t\tmaterials: {},\n\t\t\t\ttextures: {},\n\t\t\t\timages: {},\n\t\t\t\tshapes: {}\n\t\t\t};\n\n\t\t\toutput.metadata = {\n\t\t\t\tversion: 4.5,\n\t\t\t\ttype: 'Object',\n\t\t\t\tgenerator: 'Object3D.toJSON'\n\t\t\t};\n\n\t\t}\n\n\t\t// standard Object3D serialization\n\n\t\tvar object = {};\n\n\t\tobject.uuid = this.uuid;\n\t\tobject.type = this.type;\n\n\t\tif ( this.name !== '' ) object.name = this.name;\n\t\tif ( this.castShadow === true ) object.castShadow = true;\n\t\tif ( this.receiveShadow === true ) object.receiveShadow = true;\n\t\tif ( this.visible === false ) object.visible = false;\n\t\tif ( this.frustumCulled === false ) object.frustumCulled = false;\n\t\tif ( this.renderOrder !== 0 ) object.renderOrder = this.renderOrder;\n\t\tif ( JSON.stringify( this.userData ) !== '{}' ) object.userData = this.userData;\n\n\t\tobject.layers = this.layers.mask;\n\t\tobject.matrix = this.matrix.toArray();\n\n\t\tif ( this.matrixAutoUpdate === false ) object.matrixAutoUpdate = false;\n\n\t\t// object specific properties\n\n\t\tif ( this.isMesh && this.drawMode !== TrianglesDrawMode ) object.drawMode = this.drawMode;\n\n\t\t//\n\n\t\tfunction serialize( library, element ) {\n\n\t\t\tif ( library[ element.uuid ] === undefined ) {\n\n\t\t\t\tlibrary[ element.uuid ] = element.toJSON( meta );\n\n\t\t\t}\n\n\t\t\treturn element.uuid;\n\n\t\t}\n\n\t\tif ( this.isMesh || this.isLine || this.isPoints ) {\n\n\t\t\tobject.geometry = serialize( meta.geometries, this.geometry );\n\n\t\t\tvar parameters = this.geometry.parameters;\n\n\t\t\tif ( parameters !== undefined && parameters.shapes !== undefined ) {\n\n\t\t\t\tvar shapes = parameters.shapes;\n\n\t\t\t\tif ( Array.isArray( shapes ) ) {\n\n\t\t\t\t\tfor ( var i = 0, l = shapes.length; i < l; i ++ ) {\n\n\t\t\t\t\t\tvar shape = shapes[ i ];\n\n\t\t\t\t\t\tserialize( meta.shapes, shape );\n\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\n\t\t\t\t\tserialize( meta.shapes, shapes );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( this.material !== undefined ) {\n\n\t\t\tif ( Array.isArray( this.material ) ) {\n\n\t\t\t\tvar uuids = [];\n\n\t\t\t\tfor ( var i = 0, l = this.material.length; i < l; i ++ ) {\n\n\t\t\t\t\tuuids.push( serialize( meta.materials, this.material[ i ] ) );\n\n\t\t\t\t}\n\n\t\t\t\tobject.material = uuids;\n\n\t\t\t} else {\n\n\t\t\t\tobject.material = serialize( meta.materials, this.material );\n\n\t\t\t}\n\n\t\t}\n\n\t\t//\n\n\t\tif ( this.children.length > 0 ) {\n\n\t\t\tobject.children = [];\n\n\t\t\tfor ( var i = 0; i < this.children.length; i ++ ) {\n\n\t\t\t\tobject.children.push( this.children[ i ].toJSON( meta ).object );\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( isRootObject ) {\n\n\t\t\tvar geometries = extractFromCache( meta.geometries );\n\t\t\tvar materials = extractFromCache( meta.materials );\n\t\t\tvar textures = extractFromCache( meta.textures );\n\t\t\tvar images = extractFromCache( meta.images );\n\t\t\tvar shapes = extractFromCache( meta.shapes );\n\n\t\t\tif ( geometries.length > 0 ) output.geometries = geometries;\n\t\t\tif ( materials.length > 0 ) output.materials = materials;\n\t\t\tif ( textures.length > 0 ) output.textures = textures;\n\t\t\tif ( images.length > 0 ) output.images = images;\n\t\t\tif ( shapes.length > 0 ) output.shapes = shapes;\n\n\t\t}\n\n\t\toutput.object = object;\n\n\t\treturn output;\n\n\t\t// extract data from the cache hash\n\t\t// remove metadata on each item\n\t\t// and return as array\n\t\tfunction extractFromCache( cache ) {\n\n\t\t\tvar values = [];\n\t\t\tfor ( var key in cache ) {\n\n\t\t\t\tvar data = cache[ key ];\n\t\t\t\tdelete data.metadata;\n\t\t\t\tvalues.push( data );\n\n\t\t\t}\n\t\t\treturn values;\n\n\t\t}\n\n\t},\n\n\tclone: function ( recursive ) {\n\n\t\treturn new this.constructor().copy( this, recursive );\n\n\t},\n\n\tcopy: function ( source, recursive ) {\n\n\t\tif ( recursive === undefined ) recursive = true;\n\n\t\tthis.name = source.name;\n\n\t\tthis.up.copy( source.up );\n\n\t\tthis.position.copy( source.position );\n\t\tthis.quaternion.copy( source.quaternion );\n\t\tthis.scale.copy( source.scale );\n\n\t\tthis.matrix.copy( source.matrix );\n\t\tthis.matrixWorld.copy( source.matrixWorld );\n\n\t\tthis.matrixAutoUpdate = source.matrixAutoUpdate;\n\t\tthis.matrixWorldNeedsUpdate = source.matrixWorldNeedsUpdate;\n\n\t\tthis.layers.mask = source.layers.mask;\n\t\tthis.visible = source.visible;\n\n\t\tthis.castShadow = source.castShadow;\n\t\tthis.receiveShadow = source.receiveShadow;\n\n\t\tthis.frustumCulled = source.frustumCulled;\n\t\tthis.renderOrder = source.renderOrder;\n\n\t\tthis.userData = JSON.parse( JSON.stringify( source.userData ) );\n\n\t\tif ( recursive === true ) {\n\n\t\t\tfor ( var i = 0; i < source.children.length; i ++ ) {\n\n\t\t\t\tvar child = source.children[ i ];\n\t\t\t\tthis.add( child.clone() );\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author kile / http://kile.stravaganza.org/\n * @author alteredq / http://alteredqualia.com/\n * @author mikael emtinger / http://gomo.se/\n * @author zz85 / http://www.lab4games.net/zz85/blog\n * @author bhouston / http://clara.io\n */\n\nvar geometryId = 0; // Geometry uses even numbers as Id\n\nfunction Geometry() {\n\n\tObject.defineProperty( this, 'id', { value: geometryId += 2 } );\n\n\tthis.uuid = _Math.generateUUID();\n\n\tthis.name = '';\n\tthis.type = 'Geometry';\n\n\tthis.vertices = [];\n\tthis.colors = [];\n\tthis.faces = [];\n\tthis.faceVertexUvs = [[]];\n\n\tthis.morphTargets = [];\n\tthis.morphNormals = [];\n\n\tthis.skinWeights = [];\n\tthis.skinIndices = [];\n\n\tthis.lineDistances = [];\n\n\tthis.boundingBox = null;\n\tthis.boundingSphere = null;\n\n\t// update flags\n\n\tthis.elementsNeedUpdate = false;\n\tthis.verticesNeedUpdate = false;\n\tthis.uvsNeedUpdate = false;\n\tthis.normalsNeedUpdate = false;\n\tthis.colorsNeedUpdate = false;\n\tthis.lineDistancesNeedUpdate = false;\n\tthis.groupsNeedUpdate = false;\n\n}\n\nGeometry.prototype = Object.assign( Object.create( EventDispatcher.prototype ), {\n\n\tconstructor: Geometry,\n\n\tisGeometry: true,\n\n\tapplyMatrix: function ( matrix ) {\n\n\t\tvar normalMatrix = new Matrix3().getNormalMatrix( matrix );\n\n\t\tfor ( var i = 0, il = this.vertices.length; i < il; i ++ ) {\n\n\t\t\tvar vertex = this.vertices[ i ];\n\t\t\tvertex.applyMatrix4( matrix );\n\n\t\t}\n\n\t\tfor ( var i = 0, il = this.faces.length; i < il; i ++ ) {\n\n\t\t\tvar face = this.faces[ i ];\n\t\t\tface.normal.applyMatrix3( normalMatrix ).normalize();\n\n\t\t\tfor ( var j = 0, jl = face.vertexNormals.length; j < jl; j ++ ) {\n\n\t\t\t\tface.vertexNormals[ j ].applyMatrix3( normalMatrix ).normalize();\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( this.boundingBox !== null ) {\n\n\t\t\tthis.computeBoundingBox();\n\n\t\t}\n\n\t\tif ( this.boundingSphere !== null ) {\n\n\t\t\tthis.computeBoundingSphere();\n\n\t\t}\n\n\t\tthis.verticesNeedUpdate = true;\n\t\tthis.normalsNeedUpdate = true;\n\n\t\treturn this;\n\n\t},\n\n\trotateX: function () {\n\n\t\t// rotate geometry around world x-axis\n\n\t\tvar m1 = new Matrix4();\n\n\t\treturn function rotateX( angle ) {\n\n\t\t\tm1.makeRotationX( angle );\n\n\t\t\tthis.applyMatrix( m1 );\n\n\t\t\treturn this;\n\n\t\t};\n\n\t}(),\n\n\trotateY: function () {\n\n\t\t// rotate geometry around world y-axis\n\n\t\tvar m1 = new Matrix4();\n\n\t\treturn function rotateY( angle ) {\n\n\t\t\tm1.makeRotationY( angle );\n\n\t\t\tthis.applyMatrix( m1 );\n\n\t\t\treturn this;\n\n\t\t};\n\n\t}(),\n\n\trotateZ: function () {\n\n\t\t// rotate geometry around world z-axis\n\n\t\tvar m1 = new Matrix4();\n\n\t\treturn function rotateZ( angle ) {\n\n\t\t\tm1.makeRotationZ( angle );\n\n\t\t\tthis.applyMatrix( m1 );\n\n\t\t\treturn this;\n\n\t\t};\n\n\t}(),\n\n\ttranslate: function () {\n\n\t\t// translate geometry\n\n\t\tvar m1 = new Matrix4();\n\n\t\treturn function translate( x, y, z ) {\n\n\t\t\tm1.makeTranslation( x, y, z );\n\n\t\t\tthis.applyMatrix( m1 );\n\n\t\t\treturn this;\n\n\t\t};\n\n\t}(),\n\n\tscale: function () {\n\n\t\t// scale geometry\n\n\t\tvar m1 = new Matrix4();\n\n\t\treturn function scale( x, y, z ) {\n\n\t\t\tm1.makeScale( x, y, z );\n\n\t\t\tthis.applyMatrix( m1 );\n\n\t\t\treturn this;\n\n\t\t};\n\n\t}(),\n\n\tlookAt: function () {\n\n\t\tvar obj = new Object3D();\n\n\t\treturn function lookAt( vector ) {\n\n\t\t\tobj.lookAt( vector );\n\n\t\t\tobj.updateMatrix();\n\n\t\t\tthis.applyMatrix( obj.matrix );\n\n\t\t};\n\n\t}(),\n\n\tfromBufferGeometry: function ( geometry ) {\n\n\t\tvar scope = this;\n\n\t\tvar indices = geometry.index !== null ? geometry.index.array : undefined;\n\t\tvar attributes = geometry.attributes;\n\n\t\tvar positions = attributes.position.array;\n\t\tvar normals = attributes.normal !== undefined ? attributes.normal.array : undefined;\n\t\tvar colors = attributes.color !== undefined ? attributes.color.array : undefined;\n\t\tvar uvs = attributes.uv !== undefined ? attributes.uv.array : undefined;\n\t\tvar uvs2 = attributes.uv2 !== undefined ? attributes.uv2.array : undefined;\n\n\t\tif ( uvs2 !== undefined ) this.faceVertexUvs[ 1 ] = [];\n\n\t\tfor ( var i = 0; i < positions.length; i += 3 ) {\n\n\t\t\tscope.vertices.push( new Vector3().fromArray( positions, i ) );\n\n\t\t\tif ( colors !== undefined ) {\n\n\t\t\t\tscope.colors.push( new Color().fromArray( colors, i ) );\n\n\t\t\t}\n\n\t\t}\n\n\t\tfunction addFace( a, b, c, materialIndex ) {\n\n\t\t\tvar vertexColors = ( colors === undefined ) ? [] : [\n\t\t\t\tscope.colors[ a ].clone(),\n\t\t\t\tscope.colors[ b ].clone(),\n\t\t\t\tscope.colors[ c ].clone() ];\n\n\t\t\tvar vertexNormals = ( normals === undefined ) ? [] : [\n\t\t\t\tnew Vector3().fromArray( normals, a * 3 ),\n\t\t\t\tnew Vector3().fromArray( normals, b * 3 ),\n\t\t\t\tnew Vector3().fromArray( normals, c * 3 )\n\t\t\t];\n\n\t\t\tvar face = new Face3( a, b, c, vertexNormals, vertexColors, materialIndex );\n\n\t\t\tscope.faces.push( face );\n\n\t\t\tif ( uvs !== undefined ) {\n\n\t\t\t\tscope.faceVertexUvs[ 0 ].push( [\n\t\t\t\t\tnew Vector2().fromArray( uvs, a * 2 ),\n\t\t\t\t\tnew Vector2().fromArray( uvs, b * 2 ),\n\t\t\t\t\tnew Vector2().fromArray( uvs, c * 2 )\n\t\t\t\t] );\n\n\t\t\t}\n\n\t\t\tif ( uvs2 !== undefined ) {\n\n\t\t\t\tscope.faceVertexUvs[ 1 ].push( [\n\t\t\t\t\tnew Vector2().fromArray( uvs2, a * 2 ),\n\t\t\t\t\tnew Vector2().fromArray( uvs2, b * 2 ),\n\t\t\t\t\tnew Vector2().fromArray( uvs2, c * 2 )\n\t\t\t\t] );\n\n\t\t\t}\n\n\t\t}\n\n\t\tvar groups = geometry.groups;\n\n\t\tif ( groups.length > 0 ) {\n\n\t\t\tfor ( var i = 0; i < groups.length; i ++ ) {\n\n\t\t\t\tvar group = groups[ i ];\n\n\t\t\t\tvar start = group.start;\n\t\t\t\tvar count = group.count;\n\n\t\t\t\tfor ( var j = start, jl = start + count; j < jl; j += 3 ) {\n\n\t\t\t\t\tif ( indices !== undefined ) {\n\n\t\t\t\t\t\taddFace( indices[ j ], indices[ j + 1 ], indices[ j + 2 ], group.materialIndex );\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\taddFace( j, j + 1, j + 2, group.materialIndex );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\tif ( indices !== undefined ) {\n\n\t\t\t\tfor ( var i = 0; i < indices.length; i += 3 ) {\n\n\t\t\t\t\taddFace( indices[ i ], indices[ i + 1 ], indices[ i + 2 ] );\n\n\t\t\t\t}\n\n\t\t\t} else {\n\n\t\t\t\tfor ( var i = 0; i < positions.length / 3; i += 3 ) {\n\n\t\t\t\t\taddFace( i, i + 1, i + 2 );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tthis.computeFaceNormals();\n\n\t\tif ( geometry.boundingBox !== null ) {\n\n\t\t\tthis.boundingBox = geometry.boundingBox.clone();\n\n\t\t}\n\n\t\tif ( geometry.boundingSphere !== null ) {\n\n\t\t\tthis.boundingSphere = geometry.boundingSphere.clone();\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tcenter: function () {\n\n\t\tvar offset = new Vector3();\n\n\t\treturn function center() {\n\n\t\t\tthis.computeBoundingBox();\n\n\t\t\tthis.boundingBox.getCenter( offset ).negate();\n\n\t\t\tthis.translate( offset.x, offset.y, offset.z );\n\n\t\t\treturn this;\n\n\t\t};\n\n\t}(),\n\n\tnormalize: function () {\n\n\t\tthis.computeBoundingSphere();\n\n\t\tvar center = this.boundingSphere.center;\n\t\tvar radius = this.boundingSphere.radius;\n\n\t\tvar s = radius === 0 ? 1 : 1.0 / radius;\n\n\t\tvar matrix = new Matrix4();\n\t\tmatrix.set(\n\t\t\ts, 0, 0, - s * center.x,\n\t\t\t0, s, 0, - s * center.y,\n\t\t\t0, 0, s, - s * center.z,\n\t\t\t0, 0, 0, 1\n\t\t);\n\n\t\tthis.applyMatrix( matrix );\n\n\t\treturn this;\n\n\t},\n\n\tcomputeFaceNormals: function () {\n\n\t\tvar cb = new Vector3(), ab = new Vector3();\n\n\t\tfor ( var f = 0, fl = this.faces.length; f < fl; f ++ ) {\n\n\t\t\tvar face = this.faces[ f ];\n\n\t\t\tvar vA = this.vertices[ face.a ];\n\t\t\tvar vB = this.vertices[ face.b ];\n\t\t\tvar vC = this.vertices[ face.c ];\n\n\t\t\tcb.subVectors( vC, vB );\n\t\t\tab.subVectors( vA, vB );\n\t\t\tcb.cross( ab );\n\n\t\t\tcb.normalize();\n\n\t\t\tface.normal.copy( cb );\n\n\t\t}\n\n\t},\n\n\tcomputeVertexNormals: function ( areaWeighted ) {\n\n\t\tif ( areaWeighted === undefined ) areaWeighted = true;\n\n\t\tvar v, vl, f, fl, face, vertices;\n\n\t\tvertices = new Array( this.vertices.length );\n\n\t\tfor ( v = 0, vl = this.vertices.length; v < vl; v ++ ) {\n\n\t\t\tvertices[ v ] = new Vector3();\n\n\t\t}\n\n\t\tif ( areaWeighted ) {\n\n\t\t\t// vertex normals weighted by triangle areas\n\t\t\t// http://www.iquilezles.org/www/articles/normals/normals.htm\n\n\t\t\tvar vA, vB, vC;\n\t\t\tvar cb = new Vector3(), ab = new Vector3();\n\n\t\t\tfor ( f = 0, fl = this.faces.length; f < fl; f ++ ) {\n\n\t\t\t\tface = this.faces[ f ];\n\n\t\t\t\tvA = this.vertices[ face.a ];\n\t\t\t\tvB = this.vertices[ face.b ];\n\t\t\t\tvC = this.vertices[ face.c ];\n\n\t\t\t\tcb.subVectors( vC, vB );\n\t\t\t\tab.subVectors( vA, vB );\n\t\t\t\tcb.cross( ab );\n\n\t\t\t\tvertices[ face.a ].add( cb );\n\t\t\t\tvertices[ face.b ].add( cb );\n\t\t\t\tvertices[ face.c ].add( cb );\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\tthis.computeFaceNormals();\n\n\t\t\tfor ( f = 0, fl = this.faces.length; f < fl; f ++ ) {\n\n\t\t\t\tface = this.faces[ f ];\n\n\t\t\t\tvertices[ face.a ].add( face.normal );\n\t\t\t\tvertices[ face.b ].add( face.normal );\n\t\t\t\tvertices[ face.c ].add( face.normal );\n\n\t\t\t}\n\n\t\t}\n\n\t\tfor ( v = 0, vl = this.vertices.length; v < vl; v ++ ) {\n\n\t\t\tvertices[ v ].normalize();\n\n\t\t}\n\n\t\tfor ( f = 0, fl = this.faces.length; f < fl; f ++ ) {\n\n\t\t\tface = this.faces[ f ];\n\n\t\t\tvar vertexNormals = face.vertexNormals;\n\n\t\t\tif ( vertexNormals.length === 3 ) {\n\n\t\t\t\tvertexNormals[ 0 ].copy( vertices[ face.a ] );\n\t\t\t\tvertexNormals[ 1 ].copy( vertices[ face.b ] );\n\t\t\t\tvertexNormals[ 2 ].copy( vertices[ face.c ] );\n\n\t\t\t} else {\n\n\t\t\t\tvertexNormals[ 0 ] = vertices[ face.a ].clone();\n\t\t\t\tvertexNormals[ 1 ] = vertices[ face.b ].clone();\n\t\t\t\tvertexNormals[ 2 ] = vertices[ face.c ].clone();\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( this.faces.length > 0 ) {\n\n\t\t\tthis.normalsNeedUpdate = true;\n\n\t\t}\n\n\t},\n\n\tcomputeFlatVertexNormals: function () {\n\n\t\tvar f, fl, face;\n\n\t\tthis.computeFaceNormals();\n\n\t\tfor ( f = 0, fl = this.faces.length; f < fl; f ++ ) {\n\n\t\t\tface = this.faces[ f ];\n\n\t\t\tvar vertexNormals = face.vertexNormals;\n\n\t\t\tif ( vertexNormals.length === 3 ) {\n\n\t\t\t\tvertexNormals[ 0 ].copy( face.normal );\n\t\t\t\tvertexNormals[ 1 ].copy( face.normal );\n\t\t\t\tvertexNormals[ 2 ].copy( face.normal );\n\n\t\t\t} else {\n\n\t\t\t\tvertexNormals[ 0 ] = face.normal.clone();\n\t\t\t\tvertexNormals[ 1 ] = face.normal.clone();\n\t\t\t\tvertexNormals[ 2 ] = face.normal.clone();\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( this.faces.length > 0 ) {\n\n\t\t\tthis.normalsNeedUpdate = true;\n\n\t\t}\n\n\t},\n\n\tcomputeMorphNormals: function () {\n\n\t\tvar i, il, f, fl, face;\n\n\t\t// save original normals\n\t\t// - create temp variables on first access\n\t\t//   otherwise just copy (for faster repeated calls)\n\n\t\tfor ( f = 0, fl = this.faces.length; f < fl; f ++ ) {\n\n\t\t\tface = this.faces[ f ];\n\n\t\t\tif ( ! face.__originalFaceNormal ) {\n\n\t\t\t\tface.__originalFaceNormal = face.normal.clone();\n\n\t\t\t} else {\n\n\t\t\t\tface.__originalFaceNormal.copy( face.normal );\n\n\t\t\t}\n\n\t\t\tif ( ! face.__originalVertexNormals ) face.__originalVertexNormals = [];\n\n\t\t\tfor ( i = 0, il = face.vertexNormals.length; i < il; i ++ ) {\n\n\t\t\t\tif ( ! face.__originalVertexNormals[ i ] ) {\n\n\t\t\t\t\tface.__originalVertexNormals[ i ] = face.vertexNormals[ i ].clone();\n\n\t\t\t\t} else {\n\n\t\t\t\t\tface.__originalVertexNormals[ i ].copy( face.vertexNormals[ i ] );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\t// use temp geometry to compute face and vertex normals for each morph\n\n\t\tvar tmpGeo = new Geometry();\n\t\ttmpGeo.faces = this.faces;\n\n\t\tfor ( i = 0, il = this.morphTargets.length; i < il; i ++ ) {\n\n\t\t\t// create on first access\n\n\t\t\tif ( ! this.morphNormals[ i ] ) {\n\n\t\t\t\tthis.morphNormals[ i ] = {};\n\t\t\t\tthis.morphNormals[ i ].faceNormals = [];\n\t\t\t\tthis.morphNormals[ i ].vertexNormals = [];\n\n\t\t\t\tvar dstNormalsFace = this.morphNormals[ i ].faceNormals;\n\t\t\t\tvar dstNormalsVertex = this.morphNormals[ i ].vertexNormals;\n\n\t\t\t\tvar faceNormal, vertexNormals;\n\n\t\t\t\tfor ( f = 0, fl = this.faces.length; f < fl; f ++ ) {\n\n\t\t\t\t\tfaceNormal = new Vector3();\n\t\t\t\t\tvertexNormals = { a: new Vector3(), b: new Vector3(), c: new Vector3() };\n\n\t\t\t\t\tdstNormalsFace.push( faceNormal );\n\t\t\t\t\tdstNormalsVertex.push( vertexNormals );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tvar morphNormals = this.morphNormals[ i ];\n\n\t\t\t// set vertices to morph target\n\n\t\t\ttmpGeo.vertices = this.morphTargets[ i ].vertices;\n\n\t\t\t// compute morph normals\n\n\t\t\ttmpGeo.computeFaceNormals();\n\t\t\ttmpGeo.computeVertexNormals();\n\n\t\t\t// store morph normals\n\n\t\t\tvar faceNormal, vertexNormals;\n\n\t\t\tfor ( f = 0, fl = this.faces.length; f < fl; f ++ ) {\n\n\t\t\t\tface = this.faces[ f ];\n\n\t\t\t\tfaceNormal = morphNormals.faceNormals[ f ];\n\t\t\t\tvertexNormals = morphNormals.vertexNormals[ f ];\n\n\t\t\t\tfaceNormal.copy( face.normal );\n\n\t\t\t\tvertexNormals.a.copy( face.vertexNormals[ 0 ] );\n\t\t\t\tvertexNormals.b.copy( face.vertexNormals[ 1 ] );\n\t\t\t\tvertexNormals.c.copy( face.vertexNormals[ 2 ] );\n\n\t\t\t}\n\n\t\t}\n\n\t\t// restore original normals\n\n\t\tfor ( f = 0, fl = this.faces.length; f < fl; f ++ ) {\n\n\t\t\tface = this.faces[ f ];\n\n\t\t\tface.normal = face.__originalFaceNormal;\n\t\t\tface.vertexNormals = face.__originalVertexNormals;\n\n\t\t}\n\n\t},\n\n\tcomputeBoundingBox: function () {\n\n\t\tif ( this.boundingBox === null ) {\n\n\t\t\tthis.boundingBox = new Box3();\n\n\t\t}\n\n\t\tthis.boundingBox.setFromPoints( this.vertices );\n\n\t},\n\n\tcomputeBoundingSphere: function () {\n\n\t\tif ( this.boundingSphere === null ) {\n\n\t\t\tthis.boundingSphere = new Sphere();\n\n\t\t}\n\n\t\tthis.boundingSphere.setFromPoints( this.vertices );\n\n\t},\n\n\tmerge: function ( geometry, matrix, materialIndexOffset ) {\n\n\t\tif ( ! ( geometry && geometry.isGeometry ) ) {\n\n\t\t\tconsole.error( 'THREE.Geometry.merge(): geometry not an instance of THREE.Geometry.', geometry );\n\t\t\treturn;\n\n\t\t}\n\n\t\tvar normalMatrix,\n\t\t\tvertexOffset = this.vertices.length,\n\t\t\tvertices1 = this.vertices,\n\t\t\tvertices2 = geometry.vertices,\n\t\t\tfaces1 = this.faces,\n\t\t\tfaces2 = geometry.faces,\n\t\t\tuvs1 = this.faceVertexUvs[ 0 ],\n\t\t\tuvs2 = geometry.faceVertexUvs[ 0 ],\n\t\t\tcolors1 = this.colors,\n\t\t\tcolors2 = geometry.colors;\n\n\t\tif ( materialIndexOffset === undefined ) materialIndexOffset = 0;\n\n\t\tif ( matrix !== undefined ) {\n\n\t\t\tnormalMatrix = new Matrix3().getNormalMatrix( matrix );\n\n\t\t}\n\n\t\t// vertices\n\n\t\tfor ( var i = 0, il = vertices2.length; i < il; i ++ ) {\n\n\t\t\tvar vertex = vertices2[ i ];\n\n\t\t\tvar vertexCopy = vertex.clone();\n\n\t\t\tif ( matrix !== undefined ) vertexCopy.applyMatrix4( matrix );\n\n\t\t\tvertices1.push( vertexCopy );\n\n\t\t}\n\n\t\t// colors\n\n\t\tfor ( var i = 0, il = colors2.length; i < il; i ++ ) {\n\n\t\t\tcolors1.push( colors2[ i ].clone() );\n\n\t\t}\n\n\t\t// faces\n\n\t\tfor ( i = 0, il = faces2.length; i < il; i ++ ) {\n\n\t\t\tvar face = faces2[ i ], faceCopy, normal, color,\n\t\t\t\tfaceVertexNormals = face.vertexNormals,\n\t\t\t\tfaceVertexColors = face.vertexColors;\n\n\t\t\tfaceCopy = new Face3( face.a + vertexOffset, face.b + vertexOffset, face.c + vertexOffset );\n\t\t\tfaceCopy.normal.copy( face.normal );\n\n\t\t\tif ( normalMatrix !== undefined ) {\n\n\t\t\t\tfaceCopy.normal.applyMatrix3( normalMatrix ).normalize();\n\n\t\t\t}\n\n\t\t\tfor ( var j = 0, jl = faceVertexNormals.length; j < jl; j ++ ) {\n\n\t\t\t\tnormal = faceVertexNormals[ j ].clone();\n\n\t\t\t\tif ( normalMatrix !== undefined ) {\n\n\t\t\t\t\tnormal.applyMatrix3( normalMatrix ).normalize();\n\n\t\t\t\t}\n\n\t\t\t\tfaceCopy.vertexNormals.push( normal );\n\n\t\t\t}\n\n\t\t\tfaceCopy.color.copy( face.color );\n\n\t\t\tfor ( var j = 0, jl = faceVertexColors.length; j < jl; j ++ ) {\n\n\t\t\t\tcolor = faceVertexColors[ j ];\n\t\t\t\tfaceCopy.vertexColors.push( color.clone() );\n\n\t\t\t}\n\n\t\t\tfaceCopy.materialIndex = face.materialIndex + materialIndexOffset;\n\n\t\t\tfaces1.push( faceCopy );\n\n\t\t}\n\n\t\t// uvs\n\n\t\tfor ( i = 0, il = uvs2.length; i < il; i ++ ) {\n\n\t\t\tvar uv = uvs2[ i ], uvCopy = [];\n\n\t\t\tif ( uv === undefined ) {\n\n\t\t\t\tcontinue;\n\n\t\t\t}\n\n\t\t\tfor ( var j = 0, jl = uv.length; j < jl; j ++ ) {\n\n\t\t\t\tuvCopy.push( uv[ j ].clone() );\n\n\t\t\t}\n\n\t\t\tuvs1.push( uvCopy );\n\n\t\t}\n\n\t},\n\n\tmergeMesh: function ( mesh ) {\n\n\t\tif ( ! ( mesh && mesh.isMesh ) ) {\n\n\t\t\tconsole.error( 'THREE.Geometry.mergeMesh(): mesh not an instance of THREE.Mesh.', mesh );\n\t\t\treturn;\n\n\t\t}\n\n\t\tif ( mesh.matrixAutoUpdate ) mesh.updateMatrix();\n\n\t\tthis.merge( mesh.geometry, mesh.matrix );\n\n\t},\n\n\t/*\n\t * Checks for duplicate vertices with hashmap.\n\t * Duplicated vertices are removed\n\t * and faces' vertices are updated.\n\t */\n\n\tmergeVertices: function () {\n\n\t\tvar verticesMap = {}; // Hashmap for looking up vertices by position coordinates (and making sure they are unique)\n\t\tvar unique = [], changes = [];\n\n\t\tvar v, key;\n\t\tvar precisionPoints = 4; // number of decimal points, e.g. 4 for epsilon of 0.0001\n\t\tvar precision = Math.pow( 10, precisionPoints );\n\t\tvar i, il, face;\n\t\tvar indices, j, jl;\n\n\t\tfor ( i = 0, il = this.vertices.length; i < il; i ++ ) {\n\n\t\t\tv = this.vertices[ i ];\n\t\t\tkey = Math.round( v.x * precision ) + '_' + Math.round( v.y * precision ) + '_' + Math.round( v.z * precision );\n\n\t\t\tif ( verticesMap[ key ] === undefined ) {\n\n\t\t\t\tverticesMap[ key ] = i;\n\t\t\t\tunique.push( this.vertices[ i ] );\n\t\t\t\tchanges[ i ] = unique.length - 1;\n\n\t\t\t} else {\n\n\t\t\t\t//console.log('Duplicate vertex found. ', i, ' could be using ', verticesMap[key]);\n\t\t\t\tchanges[ i ] = changes[ verticesMap[ key ] ];\n\n\t\t\t}\n\n\t\t}\n\n\n\t\t// if faces are completely degenerate after merging vertices, we\n\t\t// have to remove them from the geometry.\n\t\tvar faceIndicesToRemove = [];\n\n\t\tfor ( i = 0, il = this.faces.length; i < il; i ++ ) {\n\n\t\t\tface = this.faces[ i ];\n\n\t\t\tface.a = changes[ face.a ];\n\t\t\tface.b = changes[ face.b ];\n\t\t\tface.c = changes[ face.c ];\n\n\t\t\tindices = [ face.a, face.b, face.c ];\n\n\t\t\t// if any duplicate vertices are found in a Face3\n\t\t\t// we have to remove the face as nothing can be saved\n\t\t\tfor ( var n = 0; n < 3; n ++ ) {\n\n\t\t\t\tif ( indices[ n ] === indices[ ( n + 1 ) % 3 ] ) {\n\n\t\t\t\t\tfaceIndicesToRemove.push( i );\n\t\t\t\t\tbreak;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tfor ( i = faceIndicesToRemove.length - 1; i >= 0; i -- ) {\n\n\t\t\tvar idx = faceIndicesToRemove[ i ];\n\n\t\t\tthis.faces.splice( idx, 1 );\n\n\t\t\tfor ( j = 0, jl = this.faceVertexUvs.length; j < jl; j ++ ) {\n\n\t\t\t\tthis.faceVertexUvs[ j ].splice( idx, 1 );\n\n\t\t\t}\n\n\t\t}\n\n\t\t// Use unique set of vertices\n\n\t\tvar diff = this.vertices.length - unique.length;\n\t\tthis.vertices = unique;\n\t\treturn diff;\n\n\t},\n\n\tsetFromPoints: function ( points ) {\n\n\t\tthis.vertices = [];\n\n\t\tfor ( var i = 0, l = points.length; i < l; i ++ ) {\n\n\t\t\tvar point = points[ i ];\n\t\t\tthis.vertices.push( new Vector3( point.x, point.y, point.z || 0 ) );\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tsortFacesByMaterialIndex: function () {\n\n\t\tvar faces = this.faces;\n\t\tvar length = faces.length;\n\n\t\t// tag faces\n\n\t\tfor ( var i = 0; i < length; i ++ ) {\n\n\t\t\tfaces[ i ]._id = i;\n\n\t\t}\n\n\t\t// sort faces\n\n\t\tfunction materialIndexSort( a, b ) {\n\n\t\t\treturn a.materialIndex - b.materialIndex;\n\n\t\t}\n\n\t\tfaces.sort( materialIndexSort );\n\n\t\t// sort uvs\n\n\t\tvar uvs1 = this.faceVertexUvs[ 0 ];\n\t\tvar uvs2 = this.faceVertexUvs[ 1 ];\n\n\t\tvar newUvs1, newUvs2;\n\n\t\tif ( uvs1 && uvs1.length === length ) newUvs1 = [];\n\t\tif ( uvs2 && uvs2.length === length ) newUvs2 = [];\n\n\t\tfor ( var i = 0; i < length; i ++ ) {\n\n\t\t\tvar id = faces[ i ]._id;\n\n\t\t\tif ( newUvs1 ) newUvs1.push( uvs1[ id ] );\n\t\t\tif ( newUvs2 ) newUvs2.push( uvs2[ id ] );\n\n\t\t}\n\n\t\tif ( newUvs1 ) this.faceVertexUvs[ 0 ] = newUvs1;\n\t\tif ( newUvs2 ) this.faceVertexUvs[ 1 ] = newUvs2;\n\n\t},\n\n\ttoJSON: function () {\n\n\t\tvar data = {\n\t\t\tmetadata: {\n\t\t\t\tversion: 4.5,\n\t\t\t\ttype: 'Geometry',\n\t\t\t\tgenerator: 'Geometry.toJSON'\n\t\t\t}\n\t\t};\n\n\t\t// standard Geometry serialization\n\n\t\tdata.uuid = this.uuid;\n\t\tdata.type = this.type;\n\t\tif ( this.name !== '' ) data.name = this.name;\n\n\t\tif ( this.parameters !== undefined ) {\n\n\t\t\tvar parameters = this.parameters;\n\n\t\t\tfor ( var key in parameters ) {\n\n\t\t\t\tif ( parameters[ key ] !== undefined ) data[ key ] = parameters[ key ];\n\n\t\t\t}\n\n\t\t\treturn data;\n\n\t\t}\n\n\t\tvar vertices = [];\n\n\t\tfor ( var i = 0; i < this.vertices.length; i ++ ) {\n\n\t\t\tvar vertex = this.vertices[ i ];\n\t\t\tvertices.push( vertex.x, vertex.y, vertex.z );\n\n\t\t}\n\n\t\tvar faces = [];\n\t\tvar normals = [];\n\t\tvar normalsHash = {};\n\t\tvar colors = [];\n\t\tvar colorsHash = {};\n\t\tvar uvs = [];\n\t\tvar uvsHash = {};\n\n\t\tfor ( var i = 0; i < this.faces.length; i ++ ) {\n\n\t\t\tvar face = this.faces[ i ];\n\n\t\t\tvar hasMaterial = true;\n\t\t\tvar hasFaceUv = false; // deprecated\n\t\t\tvar hasFaceVertexUv = this.faceVertexUvs[ 0 ][ i ] !== undefined;\n\t\t\tvar hasFaceNormal = face.normal.length() > 0;\n\t\t\tvar hasFaceVertexNormal = face.vertexNormals.length > 0;\n\t\t\tvar hasFaceColor = face.color.r !== 1 || face.color.g !== 1 || face.color.b !== 1;\n\t\t\tvar hasFaceVertexColor = face.vertexColors.length > 0;\n\n\t\t\tvar faceType = 0;\n\n\t\t\tfaceType = setBit( faceType, 0, 0 ); // isQuad\n\t\t\tfaceType = setBit( faceType, 1, hasMaterial );\n\t\t\tfaceType = setBit( faceType, 2, hasFaceUv );\n\t\t\tfaceType = setBit( faceType, 3, hasFaceVertexUv );\n\t\t\tfaceType = setBit( faceType, 4, hasFaceNormal );\n\t\t\tfaceType = setBit( faceType, 5, hasFaceVertexNormal );\n\t\t\tfaceType = setBit( faceType, 6, hasFaceColor );\n\t\t\tfaceType = setBit( faceType, 7, hasFaceVertexColor );\n\n\t\t\tfaces.push( faceType );\n\t\t\tfaces.push( face.a, face.b, face.c );\n\t\t\tfaces.push( face.materialIndex );\n\n\t\t\tif ( hasFaceVertexUv ) {\n\n\t\t\t\tvar faceVertexUvs = this.faceVertexUvs[ 0 ][ i ];\n\n\t\t\t\tfaces.push(\n\t\t\t\t\tgetUvIndex( faceVertexUvs[ 0 ] ),\n\t\t\t\t\tgetUvIndex( faceVertexUvs[ 1 ] ),\n\t\t\t\t\tgetUvIndex( faceVertexUvs[ 2 ] )\n\t\t\t\t);\n\n\t\t\t}\n\n\t\t\tif ( hasFaceNormal ) {\n\n\t\t\t\tfaces.push( getNormalIndex( face.normal ) );\n\n\t\t\t}\n\n\t\t\tif ( hasFaceVertexNormal ) {\n\n\t\t\t\tvar vertexNormals = face.vertexNormals;\n\n\t\t\t\tfaces.push(\n\t\t\t\t\tgetNormalIndex( vertexNormals[ 0 ] ),\n\t\t\t\t\tgetNormalIndex( vertexNormals[ 1 ] ),\n\t\t\t\t\tgetNormalIndex( vertexNormals[ 2 ] )\n\t\t\t\t);\n\n\t\t\t}\n\n\t\t\tif ( hasFaceColor ) {\n\n\t\t\t\tfaces.push( getColorIndex( face.color ) );\n\n\t\t\t}\n\n\t\t\tif ( hasFaceVertexColor ) {\n\n\t\t\t\tvar vertexColors = face.vertexColors;\n\n\t\t\t\tfaces.push(\n\t\t\t\t\tgetColorIndex( vertexColors[ 0 ] ),\n\t\t\t\t\tgetColorIndex( vertexColors[ 1 ] ),\n\t\t\t\t\tgetColorIndex( vertexColors[ 2 ] )\n\t\t\t\t);\n\n\t\t\t}\n\n\t\t}\n\n\t\tfunction setBit( value, position, enabled ) {\n\n\t\t\treturn enabled ? value | ( 1 << position ) : value & ( ~ ( 1 << position ) );\n\n\t\t}\n\n\t\tfunction getNormalIndex( normal ) {\n\n\t\t\tvar hash = normal.x.toString() + normal.y.toString() + normal.z.toString();\n\n\t\t\tif ( normalsHash[ hash ] !== undefined ) {\n\n\t\t\t\treturn normalsHash[ hash ];\n\n\t\t\t}\n\n\t\t\tnormalsHash[ hash ] = normals.length / 3;\n\t\t\tnormals.push( normal.x, normal.y, normal.z );\n\n\t\t\treturn normalsHash[ hash ];\n\n\t\t}\n\n\t\tfunction getColorIndex( color ) {\n\n\t\t\tvar hash = color.r.toString() + color.g.toString() + color.b.toString();\n\n\t\t\tif ( colorsHash[ hash ] !== undefined ) {\n\n\t\t\t\treturn colorsHash[ hash ];\n\n\t\t\t}\n\n\t\t\tcolorsHash[ hash ] = colors.length;\n\t\t\tcolors.push( color.getHex() );\n\n\t\t\treturn colorsHash[ hash ];\n\n\t\t}\n\n\t\tfunction getUvIndex( uv ) {\n\n\t\t\tvar hash = uv.x.toString() + uv.y.toString();\n\n\t\t\tif ( uvsHash[ hash ] !== undefined ) {\n\n\t\t\t\treturn uvsHash[ hash ];\n\n\t\t\t}\n\n\t\t\tuvsHash[ hash ] = uvs.length / 2;\n\t\t\tuvs.push( uv.x, uv.y );\n\n\t\t\treturn uvsHash[ hash ];\n\n\t\t}\n\n\t\tdata.data = {};\n\n\t\tdata.data.vertices = vertices;\n\t\tdata.data.normals = normals;\n\t\tif ( colors.length > 0 ) data.data.colors = colors;\n\t\tif ( uvs.length > 0 ) data.data.uvs = [ uvs ]; // temporal backward compatibility\n\t\tdata.data.faces = faces;\n\n\t\treturn data;\n\n\t},\n\n\tclone: function () {\n\n\t\t/*\n\t\t // Handle primitives\n\n\t\t var parameters = this.parameters;\n\n\t\t if ( parameters !== undefined ) {\n\n\t\t var values = [];\n\n\t\t for ( var key in parameters ) {\n\n\t\t values.push( parameters[ key ] );\n\n\t\t }\n\n\t\t var geometry = Object.create( this.constructor.prototype );\n\t\t this.constructor.apply( geometry, values );\n\t\t return geometry;\n\n\t\t }\n\n\t\t return new this.constructor().copy( this );\n\t\t */\n\n\t\treturn new Geometry().copy( this );\n\n\t},\n\n\tcopy: function ( source ) {\n\n\t\tvar i, il, j, jl, k, kl;\n\n\t\t// reset\n\n\t\tthis.vertices = [];\n\t\tthis.colors = [];\n\t\tthis.faces = [];\n\t\tthis.faceVertexUvs = [[]];\n\t\tthis.morphTargets = [];\n\t\tthis.morphNormals = [];\n\t\tthis.skinWeights = [];\n\t\tthis.skinIndices = [];\n\t\tthis.lineDistances = [];\n\t\tthis.boundingBox = null;\n\t\tthis.boundingSphere = null;\n\n\t\t// name\n\n\t\tthis.name = source.name;\n\n\t\t// vertices\n\n\t\tvar vertices = source.vertices;\n\n\t\tfor ( i = 0, il = vertices.length; i < il; i ++ ) {\n\n\t\t\tthis.vertices.push( vertices[ i ].clone() );\n\n\t\t}\n\n\t\t// colors\n\n\t\tvar colors = source.colors;\n\n\t\tfor ( i = 0, il = colors.length; i < il; i ++ ) {\n\n\t\t\tthis.colors.push( colors[ i ].clone() );\n\n\t\t}\n\n\t\t// faces\n\n\t\tvar faces = source.faces;\n\n\t\tfor ( i = 0, il = faces.length; i < il; i ++ ) {\n\n\t\t\tthis.faces.push( faces[ i ].clone() );\n\n\t\t}\n\n\t\t// face vertex uvs\n\n\t\tfor ( i = 0, il = source.faceVertexUvs.length; i < il; i ++ ) {\n\n\t\t\tvar faceVertexUvs = source.faceVertexUvs[ i ];\n\n\t\t\tif ( this.faceVertexUvs[ i ] === undefined ) {\n\n\t\t\t\tthis.faceVertexUvs[ i ] = [];\n\n\t\t\t}\n\n\t\t\tfor ( j = 0, jl = faceVertexUvs.length; j < jl; j ++ ) {\n\n\t\t\t\tvar uvs = faceVertexUvs[ j ], uvsCopy = [];\n\n\t\t\t\tfor ( k = 0, kl = uvs.length; k < kl; k ++ ) {\n\n\t\t\t\t\tvar uv = uvs[ k ];\n\n\t\t\t\t\tuvsCopy.push( uv.clone() );\n\n\t\t\t\t}\n\n\t\t\t\tthis.faceVertexUvs[ i ].push( uvsCopy );\n\n\t\t\t}\n\n\t\t}\n\n\t\t// morph targets\n\n\t\tvar morphTargets = source.morphTargets;\n\n\t\tfor ( i = 0, il = morphTargets.length; i < il; i ++ ) {\n\n\t\t\tvar morphTarget = {};\n\t\t\tmorphTarget.name = morphTargets[ i ].name;\n\n\t\t\t// vertices\n\n\t\t\tif ( morphTargets[ i ].vertices !== undefined ) {\n\n\t\t\t\tmorphTarget.vertices = [];\n\n\t\t\t\tfor ( j = 0, jl = morphTargets[ i ].vertices.length; j < jl; j ++ ) {\n\n\t\t\t\t\tmorphTarget.vertices.push( morphTargets[ i ].vertices[ j ].clone() );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\t// normals\n\n\t\t\tif ( morphTargets[ i ].normals !== undefined ) {\n\n\t\t\t\tmorphTarget.normals = [];\n\n\t\t\t\tfor ( j = 0, jl = morphTargets[ i ].normals.length; j < jl; j ++ ) {\n\n\t\t\t\t\tmorphTarget.normals.push( morphTargets[ i ].normals[ j ].clone() );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tthis.morphTargets.push( morphTarget );\n\n\t\t}\n\n\t\t// morph normals\n\n\t\tvar morphNormals = source.morphNormals;\n\n\t\tfor ( i = 0, il = morphNormals.length; i < il; i ++ ) {\n\n\t\t\tvar morphNormal = {};\n\n\t\t\t// vertex normals\n\n\t\t\tif ( morphNormals[ i ].vertexNormals !== undefined ) {\n\n\t\t\t\tmorphNormal.vertexNormals = [];\n\n\t\t\t\tfor ( j = 0, jl = morphNormals[ i ].vertexNormals.length; j < jl; j ++ ) {\n\n\t\t\t\t\tvar srcVertexNormal = morphNormals[ i ].vertexNormals[ j ];\n\t\t\t\t\tvar destVertexNormal = {};\n\n\t\t\t\t\tdestVertexNormal.a = srcVertexNormal.a.clone();\n\t\t\t\t\tdestVertexNormal.b = srcVertexNormal.b.clone();\n\t\t\t\t\tdestVertexNormal.c = srcVertexNormal.c.clone();\n\n\t\t\t\t\tmorphNormal.vertexNormals.push( destVertexNormal );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\t// face normals\n\n\t\t\tif ( morphNormals[ i ].faceNormals !== undefined ) {\n\n\t\t\t\tmorphNormal.faceNormals = [];\n\n\t\t\t\tfor ( j = 0, jl = morphNormals[ i ].faceNormals.length; j < jl; j ++ ) {\n\n\t\t\t\t\tmorphNormal.faceNormals.push( morphNormals[ i ].faceNormals[ j ].clone() );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tthis.morphNormals.push( morphNormal );\n\n\t\t}\n\n\t\t// skin weights\n\n\t\tvar skinWeights = source.skinWeights;\n\n\t\tfor ( i = 0, il = skinWeights.length; i < il; i ++ ) {\n\n\t\t\tthis.skinWeights.push( skinWeights[ i ].clone() );\n\n\t\t}\n\n\t\t// skin indices\n\n\t\tvar skinIndices = source.skinIndices;\n\n\t\tfor ( i = 0, il = skinIndices.length; i < il; i ++ ) {\n\n\t\t\tthis.skinIndices.push( skinIndices[ i ].clone() );\n\n\t\t}\n\n\t\t// line distances\n\n\t\tvar lineDistances = source.lineDistances;\n\n\t\tfor ( i = 0, il = lineDistances.length; i < il; i ++ ) {\n\n\t\t\tthis.lineDistances.push( lineDistances[ i ] );\n\n\t\t}\n\n\t\t// bounding box\n\n\t\tvar boundingBox = source.boundingBox;\n\n\t\tif ( boundingBox !== null ) {\n\n\t\t\tthis.boundingBox = boundingBox.clone();\n\n\t\t}\n\n\t\t// bounding sphere\n\n\t\tvar boundingSphere = source.boundingSphere;\n\n\t\tif ( boundingSphere !== null ) {\n\n\t\t\tthis.boundingSphere = boundingSphere.clone();\n\n\t\t}\n\n\t\t// update flags\n\n\t\tthis.elementsNeedUpdate = source.elementsNeedUpdate;\n\t\tthis.verticesNeedUpdate = source.verticesNeedUpdate;\n\t\tthis.uvsNeedUpdate = source.uvsNeedUpdate;\n\t\tthis.normalsNeedUpdate = source.normalsNeedUpdate;\n\t\tthis.colorsNeedUpdate = source.colorsNeedUpdate;\n\t\tthis.lineDistancesNeedUpdate = source.lineDistancesNeedUpdate;\n\t\tthis.groupsNeedUpdate = source.groupsNeedUpdate;\n\n\t\treturn this;\n\n\t},\n\n\tdispose: function () {\n\n\t\tthis.dispatchEvent( { type: 'dispose' } );\n\n\t}\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction BufferAttribute( array, itemSize, normalized ) {\n\n\tif ( Array.isArray( array ) ) {\n\n\t\tthrow new TypeError( 'THREE.BufferAttribute: array should be a Typed Array.' );\n\n\t}\n\n\tthis.name = '';\n\n\tthis.array = array;\n\tthis.itemSize = itemSize;\n\tthis.count = array !== undefined ? array.length / itemSize : 0;\n\tthis.normalized = normalized === true;\n\n\tthis.dynamic = false;\n\tthis.updateRange = { offset: 0, count: - 1 };\n\n\tthis.version = 0;\n\n}\n\nObject.defineProperty( BufferAttribute.prototype, 'needsUpdate', {\n\n\tset: function ( value ) {\n\n\t\tif ( value === true ) this.version ++;\n\n\t}\n\n} );\n\nObject.assign( BufferAttribute.prototype, {\n\n\tisBufferAttribute: true,\n\n\tonUploadCallback: function () {},\n\n\tsetArray: function ( array ) {\n\n\t\tif ( Array.isArray( array ) ) {\n\n\t\t\tthrow new TypeError( 'THREE.BufferAttribute: array should be a Typed Array.' );\n\n\t\t}\n\n\t\tthis.count = array !== undefined ? array.length / this.itemSize : 0;\n\t\tthis.array = array;\n\n\t\treturn this;\n\n\t},\n\n\tsetDynamic: function ( value ) {\n\n\t\tthis.dynamic = value;\n\n\t\treturn this;\n\n\t},\n\n\tcopy: function ( source ) {\n\n\t\tthis.name = source.name;\n\t\tthis.array = new source.array.constructor( source.array );\n\t\tthis.itemSize = source.itemSize;\n\t\tthis.count = source.count;\n\t\tthis.normalized = source.normalized;\n\n\t\tthis.dynamic = source.dynamic;\n\n\t\treturn this;\n\n\t},\n\n\tcopyAt: function ( index1, attribute, index2 ) {\n\n\t\tindex1 *= this.itemSize;\n\t\tindex2 *= attribute.itemSize;\n\n\t\tfor ( var i = 0, l = this.itemSize; i < l; i ++ ) {\n\n\t\t\tthis.array[ index1 + i ] = attribute.array[ index2 + i ];\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tcopyArray: function ( array ) {\n\n\t\tthis.array.set( array );\n\n\t\treturn this;\n\n\t},\n\n\tcopyColorsArray: function ( colors ) {\n\n\t\tvar array = this.array, offset = 0;\n\n\t\tfor ( var i = 0, l = colors.length; i < l; i ++ ) {\n\n\t\t\tvar color = colors[ i ];\n\n\t\t\tif ( color === undefined ) {\n\n\t\t\t\tconsole.warn( 'THREE.BufferAttribute.copyColorsArray(): color is undefined', i );\n\t\t\t\tcolor = new Color();\n\n\t\t\t}\n\n\t\t\tarray[ offset ++ ] = color.r;\n\t\t\tarray[ offset ++ ] = color.g;\n\t\t\tarray[ offset ++ ] = color.b;\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tcopyVector2sArray: function ( vectors ) {\n\n\t\tvar array = this.array, offset = 0;\n\n\t\tfor ( var i = 0, l = vectors.length; i < l; i ++ ) {\n\n\t\t\tvar vector = vectors[ i ];\n\n\t\t\tif ( vector === undefined ) {\n\n\t\t\t\tconsole.warn( 'THREE.BufferAttribute.copyVector2sArray(): vector is undefined', i );\n\t\t\t\tvector = new Vector2();\n\n\t\t\t}\n\n\t\t\tarray[ offset ++ ] = vector.x;\n\t\t\tarray[ offset ++ ] = vector.y;\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tcopyVector3sArray: function ( vectors ) {\n\n\t\tvar array = this.array, offset = 0;\n\n\t\tfor ( var i = 0, l = vectors.length; i < l; i ++ ) {\n\n\t\t\tvar vector = vectors[ i ];\n\n\t\t\tif ( vector === undefined ) {\n\n\t\t\t\tconsole.warn( 'THREE.BufferAttribute.copyVector3sArray(): vector is undefined', i );\n\t\t\t\tvector = new Vector3();\n\n\t\t\t}\n\n\t\t\tarray[ offset ++ ] = vector.x;\n\t\t\tarray[ offset ++ ] = vector.y;\n\t\t\tarray[ offset ++ ] = vector.z;\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tcopyVector4sArray: function ( vectors ) {\n\n\t\tvar array = this.array, offset = 0;\n\n\t\tfor ( var i = 0, l = vectors.length; i < l; i ++ ) {\n\n\t\t\tvar vector = vectors[ i ];\n\n\t\t\tif ( vector === undefined ) {\n\n\t\t\t\tconsole.warn( 'THREE.BufferAttribute.copyVector4sArray(): vector is undefined', i );\n\t\t\t\tvector = new Vector4();\n\n\t\t\t}\n\n\t\t\tarray[ offset ++ ] = vector.x;\n\t\t\tarray[ offset ++ ] = vector.y;\n\t\t\tarray[ offset ++ ] = vector.z;\n\t\t\tarray[ offset ++ ] = vector.w;\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tset: function ( value, offset ) {\n\n\t\tif ( offset === undefined ) offset = 0;\n\n\t\tthis.array.set( value, offset );\n\n\t\treturn this;\n\n\t},\n\n\tgetX: function ( index ) {\n\n\t\treturn this.array[ index * this.itemSize ];\n\n\t},\n\n\tsetX: function ( index, x ) {\n\n\t\tthis.array[ index * this.itemSize ] = x;\n\n\t\treturn this;\n\n\t},\n\n\tgetY: function ( index ) {\n\n\t\treturn this.array[ index * this.itemSize + 1 ];\n\n\t},\n\n\tsetY: function ( index, y ) {\n\n\t\tthis.array[ index * this.itemSize + 1 ] = y;\n\n\t\treturn this;\n\n\t},\n\n\tgetZ: function ( index ) {\n\n\t\treturn this.array[ index * this.itemSize + 2 ];\n\n\t},\n\n\tsetZ: function ( index, z ) {\n\n\t\tthis.array[ index * this.itemSize + 2 ] = z;\n\n\t\treturn this;\n\n\t},\n\n\tgetW: function ( index ) {\n\n\t\treturn this.array[ index * this.itemSize + 3 ];\n\n\t},\n\n\tsetW: function ( index, w ) {\n\n\t\tthis.array[ index * this.itemSize + 3 ] = w;\n\n\t\treturn this;\n\n\t},\n\n\tsetXY: function ( index, x, y ) {\n\n\t\tindex *= this.itemSize;\n\n\t\tthis.array[ index + 0 ] = x;\n\t\tthis.array[ index + 1 ] = y;\n\n\t\treturn this;\n\n\t},\n\n\tsetXYZ: function ( index, x, y, z ) {\n\n\t\tindex *= this.itemSize;\n\n\t\tthis.array[ index + 0 ] = x;\n\t\tthis.array[ index + 1 ] = y;\n\t\tthis.array[ index + 2 ] = z;\n\n\t\treturn this;\n\n\t},\n\n\tsetXYZW: function ( index, x, y, z, w ) {\n\n\t\tindex *= this.itemSize;\n\n\t\tthis.array[ index + 0 ] = x;\n\t\tthis.array[ index + 1 ] = y;\n\t\tthis.array[ index + 2 ] = z;\n\t\tthis.array[ index + 3 ] = w;\n\n\t\treturn this;\n\n\t},\n\n\tonUpload: function ( callback ) {\n\n\t\tthis.onUploadCallback = callback;\n\n\t\treturn this;\n\n\t},\n\n\tclone: function () {\n\n\t\treturn new this.constructor( this.array, this.itemSize ).copy( this );\n\n\t},\n\n\ttoJSON: function () {\n\n\t\treturn {\n\t\t\titemSize: this.itemSize,\n\t\t\ttype: this.array.constructor.name,\n\t\t\tarray: Array.prototype.slice.call( this.array ),\n\t\t\tnormalized: this.normalized\n\t\t};\n\n\t}\n\n} );\n\n//\n\nfunction Int8BufferAttribute( array, itemSize, normalized ) {\n\n\tBufferAttribute.call( this, new Int8Array( array ), itemSize, normalized );\n\n}\n\nInt8BufferAttribute.prototype = Object.create( BufferAttribute.prototype );\nInt8BufferAttribute.prototype.constructor = Int8BufferAttribute;\n\n\nfunction Uint8BufferAttribute( array, itemSize, normalized ) {\n\n\tBufferAttribute.call( this, new Uint8Array( array ), itemSize, normalized );\n\n}\n\nUint8BufferAttribute.prototype = Object.create( BufferAttribute.prototype );\nUint8BufferAttribute.prototype.constructor = Uint8BufferAttribute;\n\n\nfunction Uint8ClampedBufferAttribute( array, itemSize, normalized ) {\n\n\tBufferAttribute.call( this, new Uint8ClampedArray( array ), itemSize, normalized );\n\n}\n\nUint8ClampedBufferAttribute.prototype = Object.create( BufferAttribute.prototype );\nUint8ClampedBufferAttribute.prototype.constructor = Uint8ClampedBufferAttribute;\n\n\nfunction Int16BufferAttribute( array, itemSize, normalized ) {\n\n\tBufferAttribute.call( this, new Int16Array( array ), itemSize, normalized );\n\n}\n\nInt16BufferAttribute.prototype = Object.create( BufferAttribute.prototype );\nInt16BufferAttribute.prototype.constructor = Int16BufferAttribute;\n\n\nfunction Uint16BufferAttribute( array, itemSize, normalized ) {\n\n\tBufferAttribute.call( this, new Uint16Array( array ), itemSize, normalized );\n\n}\n\nUint16BufferAttribute.prototype = Object.create( BufferAttribute.prototype );\nUint16BufferAttribute.prototype.constructor = Uint16BufferAttribute;\n\n\nfunction Int32BufferAttribute( array, itemSize, normalized ) {\n\n\tBufferAttribute.call( this, new Int32Array( array ), itemSize, normalized );\n\n}\n\nInt32BufferAttribute.prototype = Object.create( BufferAttribute.prototype );\nInt32BufferAttribute.prototype.constructor = Int32BufferAttribute;\n\n\nfunction Uint32BufferAttribute( array, itemSize, normalized ) {\n\n\tBufferAttribute.call( this, new Uint32Array( array ), itemSize, normalized );\n\n}\n\nUint32BufferAttribute.prototype = Object.create( BufferAttribute.prototype );\nUint32BufferAttribute.prototype.constructor = Uint32BufferAttribute;\n\n\nfunction Float32BufferAttribute( array, itemSize, normalized ) {\n\n\tBufferAttribute.call( this, new Float32Array( array ), itemSize, normalized );\n\n}\n\nFloat32BufferAttribute.prototype = Object.create( BufferAttribute.prototype );\nFloat32BufferAttribute.prototype.constructor = Float32BufferAttribute;\n\n\nfunction Float64BufferAttribute( array, itemSize, normalized ) {\n\n\tBufferAttribute.call( this, new Float64Array( array ), itemSize, normalized );\n\n}\n\nFloat64BufferAttribute.prototype = Object.create( BufferAttribute.prototype );\nFloat64BufferAttribute.prototype.constructor = Float64BufferAttribute;\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction DirectGeometry() {\n\n\tthis.vertices = [];\n\tthis.normals = [];\n\tthis.colors = [];\n\tthis.uvs = [];\n\tthis.uvs2 = [];\n\n\tthis.groups = [];\n\n\tthis.morphTargets = {};\n\n\tthis.skinWeights = [];\n\tthis.skinIndices = [];\n\n\t// this.lineDistances = [];\n\n\tthis.boundingBox = null;\n\tthis.boundingSphere = null;\n\n\t// update flags\n\n\tthis.verticesNeedUpdate = false;\n\tthis.normalsNeedUpdate = false;\n\tthis.colorsNeedUpdate = false;\n\tthis.uvsNeedUpdate = false;\n\tthis.groupsNeedUpdate = false;\n\n}\n\nObject.assign( DirectGeometry.prototype, {\n\n\tcomputeGroups: function ( geometry ) {\n\n\t\tvar group;\n\t\tvar groups = [];\n\t\tvar materialIndex = undefined;\n\n\t\tvar faces = geometry.faces;\n\n\t\tfor ( var i = 0; i < faces.length; i ++ ) {\n\n\t\t\tvar face = faces[ i ];\n\n\t\t\t// materials\n\n\t\t\tif ( face.materialIndex !== materialIndex ) {\n\n\t\t\t\tmaterialIndex = face.materialIndex;\n\n\t\t\t\tif ( group !== undefined ) {\n\n\t\t\t\t\tgroup.count = ( i * 3 ) - group.start;\n\t\t\t\t\tgroups.push( group );\n\n\t\t\t\t}\n\n\t\t\t\tgroup = {\n\t\t\t\t\tstart: i * 3,\n\t\t\t\t\tmaterialIndex: materialIndex\n\t\t\t\t};\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( group !== undefined ) {\n\n\t\t\tgroup.count = ( i * 3 ) - group.start;\n\t\t\tgroups.push( group );\n\n\t\t}\n\n\t\tthis.groups = groups;\n\n\t},\n\n\tfromGeometry: function ( geometry ) {\n\n\t\tvar faces = geometry.faces;\n\t\tvar vertices = geometry.vertices;\n\t\tvar faceVertexUvs = geometry.faceVertexUvs;\n\n\t\tvar hasFaceVertexUv = faceVertexUvs[ 0 ] && faceVertexUvs[ 0 ].length > 0;\n\t\tvar hasFaceVertexUv2 = faceVertexUvs[ 1 ] && faceVertexUvs[ 1 ].length > 0;\n\n\t\t// morphs\n\n\t\tvar morphTargets = geometry.morphTargets;\n\t\tvar morphTargetsLength = morphTargets.length;\n\n\t\tvar morphTargetsPosition;\n\n\t\tif ( morphTargetsLength > 0 ) {\n\n\t\t\tmorphTargetsPosition = [];\n\n\t\t\tfor ( var i = 0; i < morphTargetsLength; i ++ ) {\n\n\t\t\t\tmorphTargetsPosition[ i ] = {\n\t\t\t\t\tname: morphTargets[ i ].name,\n\t\t\t\t \tdata: []\n\t\t\t\t};\n\n\t\t\t}\n\n\t\t\tthis.morphTargets.position = morphTargetsPosition;\n\n\t\t}\n\n\t\tvar morphNormals = geometry.morphNormals;\n\t\tvar morphNormalsLength = morphNormals.length;\n\n\t\tvar morphTargetsNormal;\n\n\t\tif ( morphNormalsLength > 0 ) {\n\n\t\t\tmorphTargetsNormal = [];\n\n\t\t\tfor ( var i = 0; i < morphNormalsLength; i ++ ) {\n\n\t\t\t\tmorphTargetsNormal[ i ] = {\n\t\t\t\t\tname: morphNormals[ i ].name,\n\t\t\t\t \tdata: []\n\t\t\t\t};\n\n\t\t\t}\n\n\t\t\tthis.morphTargets.normal = morphTargetsNormal;\n\n\t\t}\n\n\t\t// skins\n\n\t\tvar skinIndices = geometry.skinIndices;\n\t\tvar skinWeights = geometry.skinWeights;\n\n\t\tvar hasSkinIndices = skinIndices.length === vertices.length;\n\t\tvar hasSkinWeights = skinWeights.length === vertices.length;\n\n\t\t//\n\n\t\tif ( vertices.length > 0 && faces.length === 0 ) {\n\n\t\t\tconsole.error( 'THREE.DirectGeometry: Faceless geometries are not supported.' );\n\n\t\t}\n\n\t\tfor ( var i = 0; i < faces.length; i ++ ) {\n\n\t\t\tvar face = faces[ i ];\n\n\t\t\tthis.vertices.push( vertices[ face.a ], vertices[ face.b ], vertices[ face.c ] );\n\n\t\t\tvar vertexNormals = face.vertexNormals;\n\n\t\t\tif ( vertexNormals.length === 3 ) {\n\n\t\t\t\tthis.normals.push( vertexNormals[ 0 ], vertexNormals[ 1 ], vertexNormals[ 2 ] );\n\n\t\t\t} else {\n\n\t\t\t\tvar normal = face.normal;\n\n\t\t\t\tthis.normals.push( normal, normal, normal );\n\n\t\t\t}\n\n\t\t\tvar vertexColors = face.vertexColors;\n\n\t\t\tif ( vertexColors.length === 3 ) {\n\n\t\t\t\tthis.colors.push( vertexColors[ 0 ], vertexColors[ 1 ], vertexColors[ 2 ] );\n\n\t\t\t} else {\n\n\t\t\t\tvar color = face.color;\n\n\t\t\t\tthis.colors.push( color, color, color );\n\n\t\t\t}\n\n\t\t\tif ( hasFaceVertexUv === true ) {\n\n\t\t\t\tvar vertexUvs = faceVertexUvs[ 0 ][ i ];\n\n\t\t\t\tif ( vertexUvs !== undefined ) {\n\n\t\t\t\t\tthis.uvs.push( vertexUvs[ 0 ], vertexUvs[ 1 ], vertexUvs[ 2 ] );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tconsole.warn( 'THREE.DirectGeometry.fromGeometry(): Undefined vertexUv ', i );\n\n\t\t\t\t\tthis.uvs.push( new Vector2(), new Vector2(), new Vector2() );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tif ( hasFaceVertexUv2 === true ) {\n\n\t\t\t\tvar vertexUvs = faceVertexUvs[ 1 ][ i ];\n\n\t\t\t\tif ( vertexUvs !== undefined ) {\n\n\t\t\t\t\tthis.uvs2.push( vertexUvs[ 0 ], vertexUvs[ 1 ], vertexUvs[ 2 ] );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tconsole.warn( 'THREE.DirectGeometry.fromGeometry(): Undefined vertexUv2 ', i );\n\n\t\t\t\t\tthis.uvs2.push( new Vector2(), new Vector2(), new Vector2() );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\t// morphs\n\n\t\t\tfor ( var j = 0; j < morphTargetsLength; j ++ ) {\n\n\t\t\t\tvar morphTarget = morphTargets[ j ].vertices;\n\n\t\t\t\tmorphTargetsPosition[ j ].data.push( morphTarget[ face.a ], morphTarget[ face.b ], morphTarget[ face.c ] );\n\n\t\t\t}\n\n\t\t\tfor ( var j = 0; j < morphNormalsLength; j ++ ) {\n\n\t\t\t\tvar morphNormal = morphNormals[ j ].vertexNormals[ i ];\n\n\t\t\t\tmorphTargetsNormal[ j ].data.push( morphNormal.a, morphNormal.b, morphNormal.c );\n\n\t\t\t}\n\n\t\t\t// skins\n\n\t\t\tif ( hasSkinIndices ) {\n\n\t\t\t\tthis.skinIndices.push( skinIndices[ face.a ], skinIndices[ face.b ], skinIndices[ face.c ] );\n\n\t\t\t}\n\n\t\t\tif ( hasSkinWeights ) {\n\n\t\t\t\tthis.skinWeights.push( skinWeights[ face.a ], skinWeights[ face.b ], skinWeights[ face.c ] );\n\n\t\t\t}\n\n\t\t}\n\n\t\tthis.computeGroups( geometry );\n\n\t\tthis.verticesNeedUpdate = geometry.verticesNeedUpdate;\n\t\tthis.normalsNeedUpdate = geometry.normalsNeedUpdate;\n\t\tthis.colorsNeedUpdate = geometry.colorsNeedUpdate;\n\t\tthis.uvsNeedUpdate = geometry.uvsNeedUpdate;\n\t\tthis.groupsNeedUpdate = geometry.groupsNeedUpdate;\n\n\t\treturn this;\n\n\t}\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction arrayMax( array ) {\n\n\tif ( array.length === 0 ) return - Infinity;\n\n\tvar max = array[ 0 ];\n\n\tfor ( var i = 1, l = array.length; i < l; ++ i ) {\n\n\t\tif ( array[ i ] > max ) max = array[ i ];\n\n\t}\n\n\treturn max;\n\n}\n\n/**\n * @author alteredq / http://alteredqualia.com/\n * @author mrdoob / http://mrdoob.com/\n */\n\nvar bufferGeometryId = 1; // BufferGeometry uses odd numbers as Id\n\nfunction BufferGeometry() {\n\n\tObject.defineProperty( this, 'id', { value: bufferGeometryId += 2 } );\n\n\tthis.uuid = _Math.generateUUID();\n\n\tthis.name = '';\n\tthis.type = 'BufferGeometry';\n\n\tthis.index = null;\n\tthis.attributes = {};\n\n\tthis.morphAttributes = {};\n\n\tthis.groups = [];\n\n\tthis.boundingBox = null;\n\tthis.boundingSphere = null;\n\n\tthis.drawRange = { start: 0, count: Infinity };\n\n\tthis.userData = {};\n\n}\n\nBufferGeometry.prototype = Object.assign( Object.create( EventDispatcher.prototype ), {\n\n\tconstructor: BufferGeometry,\n\n\tisBufferGeometry: true,\n\n\tgetIndex: function () {\n\n\t\treturn this.index;\n\n\t},\n\n\tsetIndex: function ( index ) {\n\n\t\tif ( Array.isArray( index ) ) {\n\n\t\t\tthis.index = new ( arrayMax( index ) > 65535 ? Uint32BufferAttribute : Uint16BufferAttribute )( index, 1 );\n\n\t\t} else {\n\n\t\t\tthis.index = index;\n\n\t\t}\n\n\t},\n\n\taddAttribute: function ( name, attribute ) {\n\n\t\tif ( ! ( attribute && attribute.isBufferAttribute ) && ! ( attribute && attribute.isInterleavedBufferAttribute ) ) {\n\n\t\t\tconsole.warn( 'THREE.BufferGeometry: .addAttribute() now expects ( name, attribute ).' );\n\n\t\t\treturn this.addAttribute( name, new BufferAttribute( arguments[ 1 ], arguments[ 2 ] ) );\n\n\t\t}\n\n\t\tif ( name === 'index' ) {\n\n\t\t\tconsole.warn( 'THREE.BufferGeometry.addAttribute: Use .setIndex() for index attribute.' );\n\t\t\tthis.setIndex( attribute );\n\n\t\t\treturn this;\n\n\t\t}\n\n\t\tthis.attributes[ name ] = attribute;\n\n\t\treturn this;\n\n\t},\n\n\tgetAttribute: function ( name ) {\n\n\t\treturn this.attributes[ name ];\n\n\t},\n\n\tremoveAttribute: function ( name ) {\n\n\t\tdelete this.attributes[ name ];\n\n\t\treturn this;\n\n\t},\n\n\taddGroup: function ( start, count, materialIndex ) {\n\n\t\tthis.groups.push( {\n\n\t\t\tstart: start,\n\t\t\tcount: count,\n\t\t\tmaterialIndex: materialIndex !== undefined ? materialIndex : 0\n\n\t\t} );\n\n\t},\n\n\tclearGroups: function () {\n\n\t\tthis.groups = [];\n\n\t},\n\n\tsetDrawRange: function ( start, count ) {\n\n\t\tthis.drawRange.start = start;\n\t\tthis.drawRange.count = count;\n\n\t},\n\n\tapplyMatrix: function ( matrix ) {\n\n\t\tvar position = this.attributes.position;\n\n\t\tif ( position !== undefined ) {\n\n\t\t\tmatrix.applyToBufferAttribute( position );\n\t\t\tposition.needsUpdate = true;\n\n\t\t}\n\n\t\tvar normal = this.attributes.normal;\n\n\t\tif ( normal !== undefined ) {\n\n\t\t\tvar normalMatrix = new Matrix3().getNormalMatrix( matrix );\n\n\t\t\tnormalMatrix.applyToBufferAttribute( normal );\n\t\t\tnormal.needsUpdate = true;\n\n\t\t}\n\n\t\tvar tangent = this.attributes.tangent;\n\n\t\tif ( tangent !== undefined ) {\n\n\t\t\tvar normalMatrix = new Matrix3().getNormalMatrix( matrix );\n\n\t\t\t// Tangent is vec4, but the '.w' component is a sign value (+1/-1).\n\t\t\tnormalMatrix.applyToBufferAttribute( tangent );\n\t\t\ttangent.needsUpdate = true;\n\n\t\t}\n\n\t\tif ( this.boundingBox !== null ) {\n\n\t\t\tthis.computeBoundingBox();\n\n\t\t}\n\n\t\tif ( this.boundingSphere !== null ) {\n\n\t\t\tthis.computeBoundingSphere();\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\trotateX: function () {\n\n\t\t// rotate geometry around world x-axis\n\n\t\tvar m1 = new Matrix4();\n\n\t\treturn function rotateX( angle ) {\n\n\t\t\tm1.makeRotationX( angle );\n\n\t\t\tthis.applyMatrix( m1 );\n\n\t\t\treturn this;\n\n\t\t};\n\n\t}(),\n\n\trotateY: function () {\n\n\t\t// rotate geometry around world y-axis\n\n\t\tvar m1 = new Matrix4();\n\n\t\treturn function rotateY( angle ) {\n\n\t\t\tm1.makeRotationY( angle );\n\n\t\t\tthis.applyMatrix( m1 );\n\n\t\t\treturn this;\n\n\t\t};\n\n\t}(),\n\n\trotateZ: function () {\n\n\t\t// rotate geometry around world z-axis\n\n\t\tvar m1 = new Matrix4();\n\n\t\treturn function rotateZ( angle ) {\n\n\t\t\tm1.makeRotationZ( angle );\n\n\t\t\tthis.applyMatrix( m1 );\n\n\t\t\treturn this;\n\n\t\t};\n\n\t}(),\n\n\ttranslate: function () {\n\n\t\t// translate geometry\n\n\t\tvar m1 = new Matrix4();\n\n\t\treturn function translate( x, y, z ) {\n\n\t\t\tm1.makeTranslation( x, y, z );\n\n\t\t\tthis.applyMatrix( m1 );\n\n\t\t\treturn this;\n\n\t\t};\n\n\t}(),\n\n\tscale: function () {\n\n\t\t// scale geometry\n\n\t\tvar m1 = new Matrix4();\n\n\t\treturn function scale( x, y, z ) {\n\n\t\t\tm1.makeScale( x, y, z );\n\n\t\t\tthis.applyMatrix( m1 );\n\n\t\t\treturn this;\n\n\t\t};\n\n\t}(),\n\n\tlookAt: function () {\n\n\t\tvar obj = new Object3D();\n\n\t\treturn function lookAt( vector ) {\n\n\t\t\tobj.lookAt( vector );\n\n\t\t\tobj.updateMatrix();\n\n\t\t\tthis.applyMatrix( obj.matrix );\n\n\t\t};\n\n\t}(),\n\n\tcenter: function () {\n\n\t\tvar offset = new Vector3();\n\n\t\treturn function center() {\n\n\t\t\tthis.computeBoundingBox();\n\n\t\t\tthis.boundingBox.getCenter( offset ).negate();\n\n\t\t\tthis.translate( offset.x, offset.y, offset.z );\n\n\t\t\treturn this;\n\n\t\t};\n\n\t}(),\n\n\tsetFromObject: function ( object ) {\n\n\t\t// console.log( 'THREE.BufferGeometry.setFromObject(). Converting', object, this );\n\n\t\tvar geometry = object.geometry;\n\n\t\tif ( object.isPoints || object.isLine ) {\n\n\t\t\tvar positions = new Float32BufferAttribute( geometry.vertices.length * 3, 3 );\n\t\t\tvar colors = new Float32BufferAttribute( geometry.colors.length * 3, 3 );\n\n\t\t\tthis.addAttribute( 'position', positions.copyVector3sArray( geometry.vertices ) );\n\t\t\tthis.addAttribute( 'color', colors.copyColorsArray( geometry.colors ) );\n\n\t\t\tif ( geometry.lineDistances && geometry.lineDistances.length === geometry.vertices.length ) {\n\n\t\t\t\tvar lineDistances = new Float32BufferAttribute( geometry.lineDistances.length, 1 );\n\n\t\t\t\tthis.addAttribute( 'lineDistance', lineDistances.copyArray( geometry.lineDistances ) );\n\n\t\t\t}\n\n\t\t\tif ( geometry.boundingSphere !== null ) {\n\n\t\t\t\tthis.boundingSphere = geometry.boundingSphere.clone();\n\n\t\t\t}\n\n\t\t\tif ( geometry.boundingBox !== null ) {\n\n\t\t\t\tthis.boundingBox = geometry.boundingBox.clone();\n\n\t\t\t}\n\n\t\t} else if ( object.isMesh ) {\n\n\t\t\tif ( geometry && geometry.isGeometry ) {\n\n\t\t\t\tthis.fromGeometry( geometry );\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tsetFromPoints: function ( points ) {\n\n\t\tvar position = [];\n\n\t\tfor ( var i = 0, l = points.length; i < l; i ++ ) {\n\n\t\t\tvar point = points[ i ];\n\t\t\tposition.push( point.x, point.y, point.z || 0 );\n\n\t\t}\n\n\t\tthis.addAttribute( 'position', new Float32BufferAttribute( position, 3 ) );\n\n\t\treturn this;\n\n\t},\n\n\tupdateFromObject: function ( object ) {\n\n\t\tvar geometry = object.geometry;\n\n\t\tif ( object.isMesh ) {\n\n\t\t\tvar direct = geometry.__directGeometry;\n\n\t\t\tif ( geometry.elementsNeedUpdate === true ) {\n\n\t\t\t\tdirect = undefined;\n\t\t\t\tgeometry.elementsNeedUpdate = false;\n\n\t\t\t}\n\n\t\t\tif ( direct === undefined ) {\n\n\t\t\t\treturn this.fromGeometry( geometry );\n\n\t\t\t}\n\n\t\t\tdirect.verticesNeedUpdate = geometry.verticesNeedUpdate;\n\t\t\tdirect.normalsNeedUpdate = geometry.normalsNeedUpdate;\n\t\t\tdirect.colorsNeedUpdate = geometry.colorsNeedUpdate;\n\t\t\tdirect.uvsNeedUpdate = geometry.uvsNeedUpdate;\n\t\t\tdirect.groupsNeedUpdate = geometry.groupsNeedUpdate;\n\n\t\t\tgeometry.verticesNeedUpdate = false;\n\t\t\tgeometry.normalsNeedUpdate = false;\n\t\t\tgeometry.colorsNeedUpdate = false;\n\t\t\tgeometry.uvsNeedUpdate = false;\n\t\t\tgeometry.groupsNeedUpdate = false;\n\n\t\t\tgeometry = direct;\n\n\t\t}\n\n\t\tvar attribute;\n\n\t\tif ( geometry.verticesNeedUpdate === true ) {\n\n\t\t\tattribute = this.attributes.position;\n\n\t\t\tif ( attribute !== undefined ) {\n\n\t\t\t\tattribute.copyVector3sArray( geometry.vertices );\n\t\t\t\tattribute.needsUpdate = true;\n\n\t\t\t}\n\n\t\t\tgeometry.verticesNeedUpdate = false;\n\n\t\t}\n\n\t\tif ( geometry.normalsNeedUpdate === true ) {\n\n\t\t\tattribute = this.attributes.normal;\n\n\t\t\tif ( attribute !== undefined ) {\n\n\t\t\t\tattribute.copyVector3sArray( geometry.normals );\n\t\t\t\tattribute.needsUpdate = true;\n\n\t\t\t}\n\n\t\t\tgeometry.normalsNeedUpdate = false;\n\n\t\t}\n\n\t\tif ( geometry.colorsNeedUpdate === true ) {\n\n\t\t\tattribute = this.attributes.color;\n\n\t\t\tif ( attribute !== undefined ) {\n\n\t\t\t\tattribute.copyColorsArray( geometry.colors );\n\t\t\t\tattribute.needsUpdate = true;\n\n\t\t\t}\n\n\t\t\tgeometry.colorsNeedUpdate = false;\n\n\t\t}\n\n\t\tif ( geometry.uvsNeedUpdate ) {\n\n\t\t\tattribute = this.attributes.uv;\n\n\t\t\tif ( attribute !== undefined ) {\n\n\t\t\t\tattribute.copyVector2sArray( geometry.uvs );\n\t\t\t\tattribute.needsUpdate = true;\n\n\t\t\t}\n\n\t\t\tgeometry.uvsNeedUpdate = false;\n\n\t\t}\n\n\t\tif ( geometry.lineDistancesNeedUpdate ) {\n\n\t\t\tattribute = this.attributes.lineDistance;\n\n\t\t\tif ( attribute !== undefined ) {\n\n\t\t\t\tattribute.copyArray( geometry.lineDistances );\n\t\t\t\tattribute.needsUpdate = true;\n\n\t\t\t}\n\n\t\t\tgeometry.lineDistancesNeedUpdate = false;\n\n\t\t}\n\n\t\tif ( geometry.groupsNeedUpdate ) {\n\n\t\t\tgeometry.computeGroups( object.geometry );\n\t\t\tthis.groups = geometry.groups;\n\n\t\t\tgeometry.groupsNeedUpdate = false;\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tfromGeometry: function ( geometry ) {\n\n\t\tgeometry.__directGeometry = new DirectGeometry().fromGeometry( geometry );\n\n\t\treturn this.fromDirectGeometry( geometry.__directGeometry );\n\n\t},\n\n\tfromDirectGeometry: function ( geometry ) {\n\n\t\tvar positions = new Float32Array( geometry.vertices.length * 3 );\n\t\tthis.addAttribute( 'position', new BufferAttribute( positions, 3 ).copyVector3sArray( geometry.vertices ) );\n\n\t\tif ( geometry.normals.length > 0 ) {\n\n\t\t\tvar normals = new Float32Array( geometry.normals.length * 3 );\n\t\t\tthis.addAttribute( 'normal', new BufferAttribute( normals, 3 ).copyVector3sArray( geometry.normals ) );\n\n\t\t}\n\n\t\tif ( geometry.colors.length > 0 ) {\n\n\t\t\tvar colors = new Float32Array( geometry.colors.length * 3 );\n\t\t\tthis.addAttribute( 'color', new BufferAttribute( colors, 3 ).copyColorsArray( geometry.colors ) );\n\n\t\t}\n\n\t\tif ( geometry.uvs.length > 0 ) {\n\n\t\t\tvar uvs = new Float32Array( geometry.uvs.length * 2 );\n\t\t\tthis.addAttribute( 'uv', new BufferAttribute( uvs, 2 ).copyVector2sArray( geometry.uvs ) );\n\n\t\t}\n\n\t\tif ( geometry.uvs2.length > 0 ) {\n\n\t\t\tvar uvs2 = new Float32Array( geometry.uvs2.length * 2 );\n\t\t\tthis.addAttribute( 'uv2', new BufferAttribute( uvs2, 2 ).copyVector2sArray( geometry.uvs2 ) );\n\n\t\t}\n\n\t\t// groups\n\n\t\tthis.groups = geometry.groups;\n\n\t\t// morphs\n\n\t\tfor ( var name in geometry.morphTargets ) {\n\n\t\t\tvar array = [];\n\t\t\tvar morphTargets = geometry.morphTargets[ name ];\n\n\t\t\tfor ( var i = 0, l = morphTargets.length; i < l; i ++ ) {\n\n\t\t\t\tvar morphTarget = morphTargets[ i ];\n\n\t\t\t\tvar attribute = new Float32BufferAttribute( morphTarget.data.length * 3, 3 );\n\t\t\t\tattribute.name = morphTarget.name;\n\n\t\t\t\tarray.push( attribute.copyVector3sArray( morphTarget.data ) );\n\n\t\t\t}\n\n\t\t\tthis.morphAttributes[ name ] = array;\n\n\t\t}\n\n\t\t// skinning\n\n\t\tif ( geometry.skinIndices.length > 0 ) {\n\n\t\t\tvar skinIndices = new Float32BufferAttribute( geometry.skinIndices.length * 4, 4 );\n\t\t\tthis.addAttribute( 'skinIndex', skinIndices.copyVector4sArray( geometry.skinIndices ) );\n\n\t\t}\n\n\t\tif ( geometry.skinWeights.length > 0 ) {\n\n\t\t\tvar skinWeights = new Float32BufferAttribute( geometry.skinWeights.length * 4, 4 );\n\t\t\tthis.addAttribute( 'skinWeight', skinWeights.copyVector4sArray( geometry.skinWeights ) );\n\n\t\t}\n\n\t\t//\n\n\t\tif ( geometry.boundingSphere !== null ) {\n\n\t\t\tthis.boundingSphere = geometry.boundingSphere.clone();\n\n\t\t}\n\n\t\tif ( geometry.boundingBox !== null ) {\n\n\t\t\tthis.boundingBox = geometry.boundingBox.clone();\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tcomputeBoundingBox: function () {\n\n\t\tvar box = new Box3();\n\n\t\treturn function computeBoundingBox() {\n\n\t\t\tif ( this.boundingBox === null ) {\n\n\t\t\t\tthis.boundingBox = new Box3();\n\n\t\t\t}\n\n\t\t\tvar position = this.attributes.position;\n\t\t\tvar morphAttributesPosition = this.morphAttributes.position;\n\n\t\t\tif ( position !== undefined ) {\n\n\t\t\t\tthis.boundingBox.setFromBufferAttribute( position );\n\n\t\t\t\t// process morph attributes if present\n\n\t\t\t\tif ( morphAttributesPosition ) {\n\n\t\t\t\t\tfor ( var i = 0, il = morphAttributesPosition.length; i < il; i ++ ) {\n\n\t\t\t\t\t\tvar morphAttribute = morphAttributesPosition[ i ];\n\t\t\t\t\t\tbox.setFromBufferAttribute( morphAttribute );\n\n\t\t\t\t\t\tthis.boundingBox.expandByPoint( box.min );\n\t\t\t\t\t\tthis.boundingBox.expandByPoint( box.max );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t} else {\n\n\t\t\t\tthis.boundingBox.makeEmpty();\n\n\t\t\t}\n\n\t\t\tif ( isNaN( this.boundingBox.min.x ) || isNaN( this.boundingBox.min.y ) || isNaN( this.boundingBox.min.z ) ) {\n\n\t\t\t\tconsole.error( 'THREE.BufferGeometry.computeBoundingBox: Computed min/max have NaN values. The \"position\" attribute is likely to have NaN values.', this );\n\n\t\t\t}\n\n\t\t};\n\n\t}(),\n\n\tcomputeBoundingSphere: function () {\n\n\t\tvar box = new Box3();\n\t\tvar boxMorphTargets = new Box3();\n\t\tvar vector = new Vector3();\n\n\t\treturn function computeBoundingSphere() {\n\n\t\t\tif ( this.boundingSphere === null ) {\n\n\t\t\t\tthis.boundingSphere = new Sphere();\n\n\t\t\t}\n\n\t\t\tvar position = this.attributes.position;\n\t\t\tvar morphAttributesPosition = this.morphAttributes.position;\n\n\t\t\tif ( position ) {\n\n\t\t\t\t// first, find the center of the bounding sphere\n\n\t\t\t\tvar center = this.boundingSphere.center;\n\n\t\t\t\tbox.setFromBufferAttribute( position );\n\n\t\t\t\t// process morph attributes if present\n\n\t\t\t\tif ( morphAttributesPosition ) {\n\n\t\t\t\t\tfor ( var i = 0, il = morphAttributesPosition.length; i < il; i ++ ) {\n\n\t\t\t\t\t\tvar morphAttribute = morphAttributesPosition[ i ];\n\t\t\t\t\t\tboxMorphTargets.setFromBufferAttribute( morphAttribute );\n\n\t\t\t\t\t\tbox.expandByPoint( boxMorphTargets.min );\n\t\t\t\t\t\tbox.expandByPoint( boxMorphTargets.max );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\tbox.getCenter( center );\n\n\t\t\t\t// second, try to find a boundingSphere with a radius smaller than the\n\t\t\t\t// boundingSphere of the boundingBox: sqrt(3) smaller in the best case\n\n\t\t\t\tvar maxRadiusSq = 0;\n\n\t\t\t\tfor ( var i = 0, il = position.count; i < il; i ++ ) {\n\n\t\t\t\t\tvector.fromBufferAttribute( position, i );\n\n\t\t\t\t\tmaxRadiusSq = Math.max( maxRadiusSq, center.distanceToSquared( vector ) );\n\n\t\t\t\t}\n\n\t\t\t\t// process morph attributes if present\n\n\t\t\t\tif ( morphAttributesPosition ) {\n\n\t\t\t\t\tfor ( var i = 0, il = morphAttributesPosition.length; i < il; i ++ ) {\n\n\t\t\t\t\t\tvar morphAttribute = morphAttributesPosition[ i ];\n\n\t\t\t\t\t\tfor ( var j = 0, jl = morphAttribute.count; j < jl; j ++ ) {\n\n\t\t\t\t\t\t\tvector.fromBufferAttribute( morphAttribute, j );\n\n\t\t\t\t\t\t\tmaxRadiusSq = Math.max( maxRadiusSq, center.distanceToSquared( vector ) );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\tthis.boundingSphere.radius = Math.sqrt( maxRadiusSq );\n\n\t\t\t\tif ( isNaN( this.boundingSphere.radius ) ) {\n\n\t\t\t\t\tconsole.error( 'THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The \"position\" attribute is likely to have NaN values.', this );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t};\n\n\t}(),\n\n\tcomputeFaceNormals: function () {\n\n\t\t// backwards compatibility\n\n\t},\n\n\tcomputeVertexNormals: function () {\n\n\t\tvar index = this.index;\n\t\tvar attributes = this.attributes;\n\n\t\tif ( attributes.position ) {\n\n\t\t\tvar positions = attributes.position.array;\n\n\t\t\tif ( attributes.normal === undefined ) {\n\n\t\t\t\tthis.addAttribute( 'normal', new BufferAttribute( new Float32Array( positions.length ), 3 ) );\n\n\t\t\t} else {\n\n\t\t\t\t// reset existing normals to zero\n\n\t\t\t\tvar array = attributes.normal.array;\n\n\t\t\t\tfor ( var i = 0, il = array.length; i < il; i ++ ) {\n\n\t\t\t\t\tarray[ i ] = 0;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tvar normals = attributes.normal.array;\n\n\t\t\tvar vA, vB, vC;\n\t\t\tvar pA = new Vector3(), pB = new Vector3(), pC = new Vector3();\n\t\t\tvar cb = new Vector3(), ab = new Vector3();\n\n\t\t\t// indexed elements\n\n\t\t\tif ( index ) {\n\n\t\t\t\tvar indices = index.array;\n\n\t\t\t\tfor ( var i = 0, il = index.count; i < il; i += 3 ) {\n\n\t\t\t\t\tvA = indices[ i + 0 ] * 3;\n\t\t\t\t\tvB = indices[ i + 1 ] * 3;\n\t\t\t\t\tvC = indices[ i + 2 ] * 3;\n\n\t\t\t\t\tpA.fromArray( positions, vA );\n\t\t\t\t\tpB.fromArray( positions, vB );\n\t\t\t\t\tpC.fromArray( positions, vC );\n\n\t\t\t\t\tcb.subVectors( pC, pB );\n\t\t\t\t\tab.subVectors( pA, pB );\n\t\t\t\t\tcb.cross( ab );\n\n\t\t\t\t\tnormals[ vA ] += cb.x;\n\t\t\t\t\tnormals[ vA + 1 ] += cb.y;\n\t\t\t\t\tnormals[ vA + 2 ] += cb.z;\n\n\t\t\t\t\tnormals[ vB ] += cb.x;\n\t\t\t\t\tnormals[ vB + 1 ] += cb.y;\n\t\t\t\t\tnormals[ vB + 2 ] += cb.z;\n\n\t\t\t\t\tnormals[ vC ] += cb.x;\n\t\t\t\t\tnormals[ vC + 1 ] += cb.y;\n\t\t\t\t\tnormals[ vC + 2 ] += cb.z;\n\n\t\t\t\t}\n\n\t\t\t} else {\n\n\t\t\t\t// non-indexed elements (unconnected triangle soup)\n\n\t\t\t\tfor ( var i = 0, il = positions.length; i < il; i += 9 ) {\n\n\t\t\t\t\tpA.fromArray( positions, i );\n\t\t\t\t\tpB.fromArray( positions, i + 3 );\n\t\t\t\t\tpC.fromArray( positions, i + 6 );\n\n\t\t\t\t\tcb.subVectors( pC, pB );\n\t\t\t\t\tab.subVectors( pA, pB );\n\t\t\t\t\tcb.cross( ab );\n\n\t\t\t\t\tnormals[ i ] = cb.x;\n\t\t\t\t\tnormals[ i + 1 ] = cb.y;\n\t\t\t\t\tnormals[ i + 2 ] = cb.z;\n\n\t\t\t\t\tnormals[ i + 3 ] = cb.x;\n\t\t\t\t\tnormals[ i + 4 ] = cb.y;\n\t\t\t\t\tnormals[ i + 5 ] = cb.z;\n\n\t\t\t\t\tnormals[ i + 6 ] = cb.x;\n\t\t\t\t\tnormals[ i + 7 ] = cb.y;\n\t\t\t\t\tnormals[ i + 8 ] = cb.z;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tthis.normalizeNormals();\n\n\t\t\tattributes.normal.needsUpdate = true;\n\n\t\t}\n\n\t},\n\n\tmerge: function ( geometry, offset ) {\n\n\t\tif ( ! ( geometry && geometry.isBufferGeometry ) ) {\n\n\t\t\tconsole.error( 'THREE.BufferGeometry.merge(): geometry not an instance of THREE.BufferGeometry.', geometry );\n\t\t\treturn;\n\n\t\t}\n\n\t\tif ( offset === undefined ) {\n\n\t\t\toffset = 0;\n\n\t\t\tconsole.warn(\n\t\t\t\t'THREE.BufferGeometry.merge(): Overwriting original geometry, starting at offset=0. '\n\t\t\t\t+ 'Use BufferGeometryUtils.mergeBufferGeometries() for lossless merge.'\n\t\t\t);\n\n\t\t}\n\n\t\tvar attributes = this.attributes;\n\n\t\tfor ( var key in attributes ) {\n\n\t\t\tif ( geometry.attributes[ key ] === undefined ) continue;\n\n\t\t\tvar attribute1 = attributes[ key ];\n\t\t\tvar attributeArray1 = attribute1.array;\n\n\t\t\tvar attribute2 = geometry.attributes[ key ];\n\t\t\tvar attributeArray2 = attribute2.array;\n\n\t\t\tvar attributeOffset = attribute2.itemSize * offset;\n\t\t\tvar length = Math.min( attributeArray2.length, attributeArray1.length - attributeOffset );\n\n\t\t\tfor ( var i = 0, j = attributeOffset; i < length; i ++, j ++ ) {\n\n\t\t\t\tattributeArray1[ j ] = attributeArray2[ i ];\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tnormalizeNormals: function () {\n\n\t\tvar vector = new Vector3();\n\n\t\treturn function normalizeNormals() {\n\n\t\t\tvar normals = this.attributes.normal;\n\n\t\t\tfor ( var i = 0, il = normals.count; i < il; i ++ ) {\n\n\t\t\t\tvector.x = normals.getX( i );\n\t\t\t\tvector.y = normals.getY( i );\n\t\t\t\tvector.z = normals.getZ( i );\n\n\t\t\t\tvector.normalize();\n\n\t\t\t\tnormals.setXYZ( i, vector.x, vector.y, vector.z );\n\n\t\t\t}\n\n\t\t};\n\n\t}(),\n\n\ttoNonIndexed: function () {\n\n\t\tfunction convertBufferAttribute( attribute, indices ) {\n\n\t\t\tvar array = attribute.array;\n\t\t\tvar itemSize = attribute.itemSize;\n\n\t\t\tvar array2 = new array.constructor( indices.length * itemSize );\n\n\t\t\tvar index = 0, index2 = 0;\n\n\t\t\tfor ( var i = 0, l = indices.length; i < l; i ++ ) {\n\n\t\t\t\tindex = indices[ i ] * itemSize;\n\n\t\t\t\tfor ( var j = 0; j < itemSize; j ++ ) {\n\n\t\t\t\t\tarray2[ index2 ++ ] = array[ index ++ ];\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\treturn new BufferAttribute( array2, itemSize );\n\n\t\t}\n\n\t\t//\n\n\t\tif ( this.index === null ) {\n\n\t\t\tconsole.warn( 'THREE.BufferGeometry.toNonIndexed(): Geometry is already non-indexed.' );\n\t\t\treturn this;\n\n\t\t}\n\n\t\tvar geometry2 = new BufferGeometry();\n\n\t\tvar indices = this.index.array;\n\t\tvar attributes = this.attributes;\n\n\t\t// attributes\n\n\t\tfor ( var name in attributes ) {\n\n\t\t\tvar attribute = attributes[ name ];\n\n\t\t\tvar newAttribute = convertBufferAttribute( attribute, indices );\n\n\t\t\tgeometry2.addAttribute( name, newAttribute );\n\n\t\t}\n\n\t\t// morph attributes\n\n\t\tvar morphAttributes = this.morphAttributes;\n\n\t\tfor ( name in morphAttributes ) {\n\n\t\t\tvar morphArray = [];\n\t\t\tvar morphAttribute = morphAttributes[ name ]; // morphAttribute: array of Float32BufferAttributes\n\n\t\t\tfor ( var i = 0, il = morphAttribute.length; i < il; i ++ ) {\n\n\t\t\t\tvar attribute = morphAttribute[ i ];\n\n\t\t\t\tvar newAttribute = convertBufferAttribute( attribute, indices );\n\n\t\t\t\tmorphArray.push( newAttribute );\n\n\t\t\t}\n\n\t\t\tgeometry2.morphAttributes[ name ] = morphArray;\n\n\t\t}\n\n\t\t// groups\n\n\t\tvar groups = this.groups;\n\n\t\tfor ( var i = 0, l = groups.length; i < l; i ++ ) {\n\n\t\t\tvar group = groups[ i ];\n\t\t\tgeometry2.addGroup( group.start, group.count, group.materialIndex );\n\n\t\t}\n\n\t\treturn geometry2;\n\n\t},\n\n\ttoJSON: function () {\n\n\t\tvar data = {\n\t\t\tmetadata: {\n\t\t\t\tversion: 4.5,\n\t\t\t\ttype: 'BufferGeometry',\n\t\t\t\tgenerator: 'BufferGeometry.toJSON'\n\t\t\t}\n\t\t};\n\n\t\t// standard BufferGeometry serialization\n\n\t\tdata.uuid = this.uuid;\n\t\tdata.type = this.type;\n\t\tif ( this.name !== '' ) data.name = this.name;\n\t\tif ( Object.keys( this.userData ).length > 0 ) data.userData = this.userData;\n\n\t\tif ( this.parameters !== undefined ) {\n\n\t\t\tvar parameters = this.parameters;\n\n\t\t\tfor ( var key in parameters ) {\n\n\t\t\t\tif ( parameters[ key ] !== undefined ) data[ key ] = parameters[ key ];\n\n\t\t\t}\n\n\t\t\treturn data;\n\n\t\t}\n\n\t\tdata.data = { attributes: {} };\n\n\t\tvar index = this.index;\n\n\t\tif ( index !== null ) {\n\n\t\t\tdata.data.index = {\n\t\t\t\ttype: index.array.constructor.name,\n\t\t\t\tarray: Array.prototype.slice.call( index.array )\n\t\t\t};\n\n\t\t}\n\n\t\tvar attributes = this.attributes;\n\n\t\tfor ( var key in attributes ) {\n\n\t\t\tvar attribute = attributes[ key ];\n\n\t\t\tvar attributeData = attribute.toJSON();\n\n\t\t\tif ( attribute.name !== '' ) attributeData.name = attribute.name;\n\n\t\t\tdata.data.attributes[ key ] = attributeData;\n\n\t\t}\n\n\t\tvar morphAttributes = {};\n\t\tvar hasMorphAttributes = false;\n\n\t\tfor ( var key in this.morphAttributes ) {\n\n\t\t\tvar attributeArray = this.morphAttributes[ key ];\n\n\t\t\tvar array = [];\n\n\t\t\tfor ( var i = 0, il = attributeArray.length; i < il; i ++ ) {\n\n\t\t\t\tvar attribute = attributeArray[ i ];\n\n\t\t\t\tvar attributeData = attribute.toJSON();\n\n\t\t\t\tif ( attribute.name !== '' ) attributeData.name = attribute.name;\n\n\t\t\t\tarray.push( attributeData );\n\n\t\t\t}\n\n\t\t\tif ( array.length > 0 ) {\n\n\t\t\t\tmorphAttributes[ key ] = array;\n\n\t\t\t\thasMorphAttributes = true;\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( hasMorphAttributes ) data.data.morphAttributes = morphAttributes;\n\n\t\tvar groups = this.groups;\n\n\t\tif ( groups.length > 0 ) {\n\n\t\t\tdata.data.groups = JSON.parse( JSON.stringify( groups ) );\n\n\t\t}\n\n\t\tvar boundingSphere = this.boundingSphere;\n\n\t\tif ( boundingSphere !== null ) {\n\n\t\t\tdata.data.boundingSphere = {\n\t\t\t\tcenter: boundingSphere.center.toArray(),\n\t\t\t\tradius: boundingSphere.radius\n\t\t\t};\n\n\t\t}\n\n\t\treturn data;\n\n\t},\n\n\tclone: function () {\n\n\t\t/*\n\t\t // Handle primitives\n\n\t\t var parameters = this.parameters;\n\n\t\t if ( parameters !== undefined ) {\n\n\t\t var values = [];\n\n\t\t for ( var key in parameters ) {\n\n\t\t values.push( parameters[ key ] );\n\n\t\t }\n\n\t\t var geometry = Object.create( this.constructor.prototype );\n\t\t this.constructor.apply( geometry, values );\n\t\t return geometry;\n\n\t\t }\n\n\t\t return new this.constructor().copy( this );\n\t\t */\n\n\t\treturn new BufferGeometry().copy( this );\n\n\t},\n\n\tcopy: function ( source ) {\n\n\t\tvar name, i, l;\n\n\t\t// reset\n\n\t\tthis.index = null;\n\t\tthis.attributes = {};\n\t\tthis.morphAttributes = {};\n\t\tthis.groups = [];\n\t\tthis.boundingBox = null;\n\t\tthis.boundingSphere = null;\n\n\t\t// name\n\n\t\tthis.name = source.name;\n\n\t\t// index\n\n\t\tvar index = source.index;\n\n\t\tif ( index !== null ) {\n\n\t\t\tthis.setIndex( index.clone() );\n\n\t\t}\n\n\t\t// attributes\n\n\t\tvar attributes = source.attributes;\n\n\t\tfor ( name in attributes ) {\n\n\t\t\tvar attribute = attributes[ name ];\n\t\t\tthis.addAttribute( name, attribute.clone() );\n\n\t\t}\n\n\t\t// morph attributes\n\n\t\tvar morphAttributes = source.morphAttributes;\n\n\t\tfor ( name in morphAttributes ) {\n\n\t\t\tvar array = [];\n\t\t\tvar morphAttribute = morphAttributes[ name ]; // morphAttribute: array of Float32BufferAttributes\n\n\t\t\tfor ( i = 0, l = morphAttribute.length; i < l; i ++ ) {\n\n\t\t\t\tarray.push( morphAttribute[ i ].clone() );\n\n\t\t\t}\n\n\t\t\tthis.morphAttributes[ name ] = array;\n\n\t\t}\n\n\t\t// groups\n\n\t\tvar groups = source.groups;\n\n\t\tfor ( i = 0, l = groups.length; i < l; i ++ ) {\n\n\t\t\tvar group = groups[ i ];\n\t\t\tthis.addGroup( group.start, group.count, group.materialIndex );\n\n\t\t}\n\n\t\t// bounding box\n\n\t\tvar boundingBox = source.boundingBox;\n\n\t\tif ( boundingBox !== null ) {\n\n\t\t\tthis.boundingBox = boundingBox.clone();\n\n\t\t}\n\n\t\t// bounding sphere\n\n\t\tvar boundingSphere = source.boundingSphere;\n\n\t\tif ( boundingSphere !== null ) {\n\n\t\t\tthis.boundingSphere = boundingSphere.clone();\n\n\t\t}\n\n\t\t// draw range\n\n\t\tthis.drawRange.start = source.drawRange.start;\n\t\tthis.drawRange.count = source.drawRange.count;\n\n\t\t// user data\n\n\t\tthis.userData = source.userData;\n\n\t\treturn this;\n\n\t},\n\n\tdispose: function () {\n\n\t\tthis.dispatchEvent( { type: 'dispose' } );\n\n\t}\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author Mugen87 / https://github.com/Mugen87\n */\n\n// BoxGeometry\n\nfunction BoxGeometry( width, height, depth, widthSegments, heightSegments, depthSegments ) {\n\n\tGeometry.call( this );\n\n\tthis.type = 'BoxGeometry';\n\n\tthis.parameters = {\n\t\twidth: width,\n\t\theight: height,\n\t\tdepth: depth,\n\t\twidthSegments: widthSegments,\n\t\theightSegments: heightSegments,\n\t\tdepthSegments: depthSegments\n\t};\n\n\tthis.fromBufferGeometry( new BoxBufferGeometry( width, height, depth, widthSegments, heightSegments, depthSegments ) );\n\tthis.mergeVertices();\n\n}\n\nBoxGeometry.prototype = Object.create( Geometry.prototype );\nBoxGeometry.prototype.constructor = BoxGeometry;\n\n// BoxBufferGeometry\n\nfunction BoxBufferGeometry( width, height, depth, widthSegments, heightSegments, depthSegments ) {\n\n\tBufferGeometry.call( this );\n\n\tthis.type = 'BoxBufferGeometry';\n\n\tthis.parameters = {\n\t\twidth: width,\n\t\theight: height,\n\t\tdepth: depth,\n\t\twidthSegments: widthSegments,\n\t\theightSegments: heightSegments,\n\t\tdepthSegments: depthSegments\n\t};\n\n\tvar scope = this;\n\n\twidth = width || 1;\n\theight = height || 1;\n\tdepth = depth || 1;\n\n\t// segments\n\n\twidthSegments = Math.floor( widthSegments ) || 1;\n\theightSegments = Math.floor( heightSegments ) || 1;\n\tdepthSegments = Math.floor( depthSegments ) || 1;\n\n\t// buffers\n\n\tvar indices = [];\n\tvar vertices = [];\n\tvar normals = [];\n\tvar uvs = [];\n\n\t// helper variables\n\n\tvar numberOfVertices = 0;\n\tvar groupStart = 0;\n\n\t// build each side of the box geometry\n\n\tbuildPlane( 'z', 'y', 'x', - 1, - 1, depth, height, width, depthSegments, heightSegments, 0 ); // px\n\tbuildPlane( 'z', 'y', 'x', 1, - 1, depth, height, - width, depthSegments, heightSegments, 1 ); // nx\n\tbuildPlane( 'x', 'z', 'y', 1, 1, width, depth, height, widthSegments, depthSegments, 2 ); // py\n\tbuildPlane( 'x', 'z', 'y', 1, - 1, width, depth, - height, widthSegments, depthSegments, 3 ); // ny\n\tbuildPlane( 'x', 'y', 'z', 1, - 1, width, height, depth, widthSegments, heightSegments, 4 ); // pz\n\tbuildPlane( 'x', 'y', 'z', - 1, - 1, width, height, - depth, widthSegments, heightSegments, 5 ); // nz\n\n\t// build geometry\n\n\tthis.setIndex( indices );\n\tthis.addAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\n\tthis.addAttribute( 'normal', new Float32BufferAttribute( normals, 3 ) );\n\tthis.addAttribute( 'uv', new Float32BufferAttribute( uvs, 2 ) );\n\n\tfunction buildPlane( u, v, w, udir, vdir, width, height, depth, gridX, gridY, materialIndex ) {\n\n\t\tvar segmentWidth = width / gridX;\n\t\tvar segmentHeight = height / gridY;\n\n\t\tvar widthHalf = width / 2;\n\t\tvar heightHalf = height / 2;\n\t\tvar depthHalf = depth / 2;\n\n\t\tvar gridX1 = gridX + 1;\n\t\tvar gridY1 = gridY + 1;\n\n\t\tvar vertexCounter = 0;\n\t\tvar groupCount = 0;\n\n\t\tvar ix, iy;\n\n\t\tvar vector = new Vector3();\n\n\t\t// generate vertices, normals and uvs\n\n\t\tfor ( iy = 0; iy < gridY1; iy ++ ) {\n\n\t\t\tvar y = iy * segmentHeight - heightHalf;\n\n\t\t\tfor ( ix = 0; ix < gridX1; ix ++ ) {\n\n\t\t\t\tvar x = ix * segmentWidth - widthHalf;\n\n\t\t\t\t// set values to correct vector component\n\n\t\t\t\tvector[ u ] = x * udir;\n\t\t\t\tvector[ v ] = y * vdir;\n\t\t\t\tvector[ w ] = depthHalf;\n\n\t\t\t\t// now apply vector to vertex buffer\n\n\t\t\t\tvertices.push( vector.x, vector.y, vector.z );\n\n\t\t\t\t// set values to correct vector component\n\n\t\t\t\tvector[ u ] = 0;\n\t\t\t\tvector[ v ] = 0;\n\t\t\t\tvector[ w ] = depth > 0 ? 1 : - 1;\n\n\t\t\t\t// now apply vector to normal buffer\n\n\t\t\t\tnormals.push( vector.x, vector.y, vector.z );\n\n\t\t\t\t// uvs\n\n\t\t\t\tuvs.push( ix / gridX );\n\t\t\t\tuvs.push( 1 - ( iy / gridY ) );\n\n\t\t\t\t// counters\n\n\t\t\t\tvertexCounter += 1;\n\n\t\t\t}\n\n\t\t}\n\n\t\t// indices\n\n\t\t// 1. you need three indices to draw a single face\n\t\t// 2. a single segment consists of two faces\n\t\t// 3. so we need to generate six (2*3) indices per segment\n\n\t\tfor ( iy = 0; iy < gridY; iy ++ ) {\n\n\t\t\tfor ( ix = 0; ix < gridX; ix ++ ) {\n\n\t\t\t\tvar a = numberOfVertices + ix + gridX1 * iy;\n\t\t\t\tvar b = numberOfVertices + ix + gridX1 * ( iy + 1 );\n\t\t\t\tvar c = numberOfVertices + ( ix + 1 ) + gridX1 * ( iy + 1 );\n\t\t\t\tvar d = numberOfVertices + ( ix + 1 ) + gridX1 * iy;\n\n\t\t\t\t// faces\n\n\t\t\t\tindices.push( a, b, d );\n\t\t\t\tindices.push( b, c, d );\n\n\t\t\t\t// increase counter\n\n\t\t\t\tgroupCount += 6;\n\n\t\t\t}\n\n\t\t}\n\n\t\t// add a group to the geometry. this will ensure multi material support\n\n\t\tscope.addGroup( groupStart, groupCount, materialIndex );\n\n\t\t// calculate new start value for groups\n\n\t\tgroupStart += groupCount;\n\n\t\t// update total number of vertices\n\n\t\tnumberOfVertices += vertexCounter;\n\n\t}\n\n}\n\nBoxBufferGeometry.prototype = Object.create( BufferGeometry.prototype );\nBoxBufferGeometry.prototype.constructor = BoxBufferGeometry;\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author Mugen87 / https://github.com/Mugen87\n */\n\n// PlaneGeometry\n\nfunction PlaneGeometry( width, height, widthSegments, heightSegments ) {\n\n\tGeometry.call( this );\n\n\tthis.type = 'PlaneGeometry';\n\n\tthis.parameters = {\n\t\twidth: width,\n\t\theight: height,\n\t\twidthSegments: widthSegments,\n\t\theightSegments: heightSegments\n\t};\n\n\tthis.fromBufferGeometry( new PlaneBufferGeometry( width, height, widthSegments, heightSegments ) );\n\tthis.mergeVertices();\n\n}\n\nPlaneGeometry.prototype = Object.create( Geometry.prototype );\nPlaneGeometry.prototype.constructor = PlaneGeometry;\n\n// PlaneBufferGeometry\n\nfunction PlaneBufferGeometry( width, height, widthSegments, heightSegments ) {\n\n\tBufferGeometry.call( this );\n\n\tthis.type = 'PlaneBufferGeometry';\n\n\tthis.parameters = {\n\t\twidth: width,\n\t\theight: height,\n\t\twidthSegments: widthSegments,\n\t\theightSegments: heightSegments\n\t};\n\n\twidth = width || 1;\n\theight = height || 1;\n\n\tvar width_half = width / 2;\n\tvar height_half = height / 2;\n\n\tvar gridX = Math.floor( widthSegments ) || 1;\n\tvar gridY = Math.floor( heightSegments ) || 1;\n\n\tvar gridX1 = gridX + 1;\n\tvar gridY1 = gridY + 1;\n\n\tvar segment_width = width / gridX;\n\tvar segment_height = height / gridY;\n\n\tvar ix, iy;\n\n\t// buffers\n\n\tvar indices = [];\n\tvar vertices = [];\n\tvar normals = [];\n\tvar uvs = [];\n\n\t// generate vertices, normals and uvs\n\n\tfor ( iy = 0; iy < gridY1; iy ++ ) {\n\n\t\tvar y = iy * segment_height - height_half;\n\n\t\tfor ( ix = 0; ix < gridX1; ix ++ ) {\n\n\t\t\tvar x = ix * segment_width - width_half;\n\n\t\t\tvertices.push( x, - y, 0 );\n\n\t\t\tnormals.push( 0, 0, 1 );\n\n\t\t\tuvs.push( ix / gridX );\n\t\t\tuvs.push( 1 - ( iy / gridY ) );\n\n\t\t}\n\n\t}\n\n\t// indices\n\n\tfor ( iy = 0; iy < gridY; iy ++ ) {\n\n\t\tfor ( ix = 0; ix < gridX; ix ++ ) {\n\n\t\t\tvar a = ix + gridX1 * iy;\n\t\t\tvar b = ix + gridX1 * ( iy + 1 );\n\t\t\tvar c = ( ix + 1 ) + gridX1 * ( iy + 1 );\n\t\t\tvar d = ( ix + 1 ) + gridX1 * iy;\n\n\t\t\t// faces\n\n\t\t\tindices.push( a, b, d );\n\t\t\tindices.push( b, c, d );\n\n\t\t}\n\n\t}\n\n\t// build geometry\n\n\tthis.setIndex( indices );\n\tthis.addAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\n\tthis.addAttribute( 'normal', new Float32BufferAttribute( normals, 3 ) );\n\tthis.addAttribute( 'uv', new Float32BufferAttribute( uvs, 2 ) );\n\n}\n\nPlaneBufferGeometry.prototype = Object.create( BufferGeometry.prototype );\nPlaneBufferGeometry.prototype.constructor = PlaneBufferGeometry;\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author alteredq / http://alteredqualia.com/\n */\n\nvar materialId = 0;\n\nfunction Material() {\n\n\tObject.defineProperty( this, 'id', { value: materialId ++ } );\n\n\tthis.uuid = _Math.generateUUID();\n\n\tthis.name = '';\n\tthis.type = 'Material';\n\n\tthis.fog = true;\n\tthis.lights = true;\n\n\tthis.blending = NormalBlending;\n\tthis.side = FrontSide;\n\tthis.flatShading = false;\n\tthis.vertexTangents = false;\n\tthis.vertexColors = NoColors; // THREE.NoColors, THREE.VertexColors, THREE.FaceColors\n\n\tthis.opacity = 1;\n\tthis.transparent = false;\n\n\tthis.blendSrc = SrcAlphaFactor;\n\tthis.blendDst = OneMinusSrcAlphaFactor;\n\tthis.blendEquation = AddEquation;\n\tthis.blendSrcAlpha = null;\n\tthis.blendDstAlpha = null;\n\tthis.blendEquationAlpha = null;\n\n\tthis.depthFunc = LessEqualDepth;\n\tthis.depthTest = true;\n\tthis.depthWrite = true;\n\n\tthis.clippingPlanes = null;\n\tthis.clipIntersection = false;\n\tthis.clipShadows = false;\n\n\tthis.shadowSide = null;\n\n\tthis.colorWrite = true;\n\n\tthis.precision = null; // override the renderer's default precision for this material\n\n\tthis.polygonOffset = false;\n\tthis.polygonOffsetFactor = 0;\n\tthis.polygonOffsetUnits = 0;\n\n\tthis.dithering = false;\n\n\tthis.alphaTest = 0;\n\tthis.premultipliedAlpha = false;\n\n\tthis.visible = true;\n\n\tthis.userData = {};\n\n\tthis.needsUpdate = true;\n\n}\n\nMaterial.prototype = Object.assign( Object.create( EventDispatcher.prototype ), {\n\n\tconstructor: Material,\n\n\tisMaterial: true,\n\n\tonBeforeCompile: function () {},\n\n\tsetValues: function ( values ) {\n\n\t\tif ( values === undefined ) return;\n\n\t\tfor ( var key in values ) {\n\n\t\t\tvar newValue = values[ key ];\n\n\t\t\tif ( newValue === undefined ) {\n\n\t\t\t\tconsole.warn( \"THREE.Material: '\" + key + \"' parameter is undefined.\" );\n\t\t\t\tcontinue;\n\n\t\t\t}\n\n\t\t\t// for backward compatability if shading is set in the constructor\n\t\t\tif ( key === 'shading' ) {\n\n\t\t\t\tconsole.warn( 'THREE.' + this.type + ': .shading has been removed. Use the boolean .flatShading instead.' );\n\t\t\t\tthis.flatShading = ( newValue === FlatShading ) ? true : false;\n\t\t\t\tcontinue;\n\n\t\t\t}\n\n\t\t\tvar currentValue = this[ key ];\n\n\t\t\tif ( currentValue === undefined ) {\n\n\t\t\t\tconsole.warn( \"THREE.\" + this.type + \": '\" + key + \"' is not a property of this material.\" );\n\t\t\t\tcontinue;\n\n\t\t\t}\n\n\t\t\tif ( currentValue && currentValue.isColor ) {\n\n\t\t\t\tcurrentValue.set( newValue );\n\n\t\t\t} else if ( ( currentValue && currentValue.isVector3 ) && ( newValue && newValue.isVector3 ) ) {\n\n\t\t\t\tcurrentValue.copy( newValue );\n\n\t\t\t} else {\n\n\t\t\t\tthis[ key ] = newValue;\n\n\t\t\t}\n\n\t\t}\n\n\t},\n\n\ttoJSON: function ( meta ) {\n\n\t\tvar isRoot = ( meta === undefined || typeof meta === 'string' );\n\n\t\tif ( isRoot ) {\n\n\t\t\tmeta = {\n\t\t\t\ttextures: {},\n\t\t\t\timages: {}\n\t\t\t};\n\n\t\t}\n\n\t\tvar data = {\n\t\t\tmetadata: {\n\t\t\t\tversion: 4.5,\n\t\t\t\ttype: 'Material',\n\t\t\t\tgenerator: 'Material.toJSON'\n\t\t\t}\n\t\t};\n\n\t\t// standard Material serialization\n\t\tdata.uuid = this.uuid;\n\t\tdata.type = this.type;\n\n\t\tif ( this.name !== '' ) data.name = this.name;\n\n\t\tif ( this.color && this.color.isColor ) data.color = this.color.getHex();\n\n\t\tif ( this.roughness !== undefined ) data.roughness = this.roughness;\n\t\tif ( this.metalness !== undefined ) data.metalness = this.metalness;\n\n\t\tif ( this.emissive && this.emissive.isColor ) data.emissive = this.emissive.getHex();\n\t\tif ( this.emissiveIntensity !== 1 ) data.emissiveIntensity = this.emissiveIntensity;\n\n\t\tif ( this.specular && this.specular.isColor ) data.specular = this.specular.getHex();\n\t\tif ( this.shininess !== undefined ) data.shininess = this.shininess;\n\t\tif ( this.clearCoat !== undefined ) data.clearCoat = this.clearCoat;\n\t\tif ( this.clearCoatRoughness !== undefined ) data.clearCoatRoughness = this.clearCoatRoughness;\n\n\t\tif ( this.map && this.map.isTexture ) data.map = this.map.toJSON( meta ).uuid;\n\t\tif ( this.matcap && this.matcap.isTexture ) data.matcap = this.matcap.toJSON( meta ).uuid;\n\t\tif ( this.alphaMap && this.alphaMap.isTexture ) data.alphaMap = this.alphaMap.toJSON( meta ).uuid;\n\t\tif ( this.lightMap && this.lightMap.isTexture ) data.lightMap = this.lightMap.toJSON( meta ).uuid;\n\n\t\tif ( this.aoMap && this.aoMap.isTexture ) {\n\n\t\t\tdata.aoMap = this.aoMap.toJSON( meta ).uuid;\n\t\t\tdata.aoMapIntensity = this.aoMapIntensity;\n\n\t\t}\n\n\t\tif ( this.bumpMap && this.bumpMap.isTexture ) {\n\n\t\t\tdata.bumpMap = this.bumpMap.toJSON( meta ).uuid;\n\t\t\tdata.bumpScale = this.bumpScale;\n\n\t\t}\n\n\t\tif ( this.normalMap && this.normalMap.isTexture ) {\n\n\t\t\tdata.normalMap = this.normalMap.toJSON( meta ).uuid;\n\t\t\tdata.normalMapType = this.normalMapType;\n\t\t\tdata.normalScale = this.normalScale.toArray();\n\n\t\t}\n\n\t\tif ( this.displacementMap && this.displacementMap.isTexture ) {\n\n\t\t\tdata.displacementMap = this.displacementMap.toJSON( meta ).uuid;\n\t\t\tdata.displacementScale = this.displacementScale;\n\t\t\tdata.displacementBias = this.displacementBias;\n\n\t\t}\n\n\t\tif ( this.roughnessMap && this.roughnessMap.isTexture ) data.roughnessMap = this.roughnessMap.toJSON( meta ).uuid;\n\t\tif ( this.metalnessMap && this.metalnessMap.isTexture ) data.metalnessMap = this.metalnessMap.toJSON( meta ).uuid;\n\n\t\tif ( this.emissiveMap && this.emissiveMap.isTexture ) data.emissiveMap = this.emissiveMap.toJSON( meta ).uuid;\n\t\tif ( this.specularMap && this.specularMap.isTexture ) data.specularMap = this.specularMap.toJSON( meta ).uuid;\n\n\t\tif ( this.envMap && this.envMap.isTexture ) {\n\n\t\t\tdata.envMap = this.envMap.toJSON( meta ).uuid;\n\t\t\tdata.reflectivity = this.reflectivity; // Scale behind envMap\n\n\t\t\tif ( this.combine !== undefined ) data.combine = this.combine;\n\t\t\tif ( this.envMapIntensity !== undefined ) data.envMapIntensity = this.envMapIntensity;\n\n\t\t}\n\n\t\tif ( this.gradientMap && this.gradientMap.isTexture ) {\n\n\t\t\tdata.gradientMap = this.gradientMap.toJSON( meta ).uuid;\n\n\t\t}\n\n\t\tif ( this.size !== undefined ) data.size = this.size;\n\t\tif ( this.sizeAttenuation !== undefined ) data.sizeAttenuation = this.sizeAttenuation;\n\n\t\tif ( this.blending !== NormalBlending ) data.blending = this.blending;\n\t\tif ( this.flatShading === true ) data.flatShading = this.flatShading;\n\t\tif ( this.side !== FrontSide ) data.side = this.side;\n\t\tif ( this.vertexColors !== NoColors ) data.vertexColors = this.vertexColors;\n\n\t\tif ( this.opacity < 1 ) data.opacity = this.opacity;\n\t\tif ( this.transparent === true ) data.transparent = this.transparent;\n\n\t\tdata.depthFunc = this.depthFunc;\n\t\tdata.depthTest = this.depthTest;\n\t\tdata.depthWrite = this.depthWrite;\n\n\t\t// rotation (SpriteMaterial)\n\t\tif ( this.rotation !== 0 ) data.rotation = this.rotation;\n\n\t\tif ( this.polygonOffset === true ) data.polygonOffset = true;\n\t\tif ( this.polygonOffsetFactor !== 0 ) data.polygonOffsetFactor = this.polygonOffsetFactor;\n\t\tif ( this.polygonOffsetUnits !== 0 ) data.polygonOffsetUnits = this.polygonOffsetUnits;\n\n\t\tif ( this.linewidth !== 1 ) data.linewidth = this.linewidth;\n\t\tif ( this.dashSize !== undefined ) data.dashSize = this.dashSize;\n\t\tif ( this.gapSize !== undefined ) data.gapSize = this.gapSize;\n\t\tif ( this.scale !== undefined ) data.scale = this.scale;\n\n\t\tif ( this.dithering === true ) data.dithering = true;\n\n\t\tif ( this.alphaTest > 0 ) data.alphaTest = this.alphaTest;\n\t\tif ( this.premultipliedAlpha === true ) data.premultipliedAlpha = this.premultipliedAlpha;\n\n\t\tif ( this.wireframe === true ) data.wireframe = this.wireframe;\n\t\tif ( this.wireframeLinewidth > 1 ) data.wireframeLinewidth = this.wireframeLinewidth;\n\t\tif ( this.wireframeLinecap !== 'round' ) data.wireframeLinecap = this.wireframeLinecap;\n\t\tif ( this.wireframeLinejoin !== 'round' ) data.wireframeLinejoin = this.wireframeLinejoin;\n\n\t\tif ( this.morphTargets === true ) data.morphTargets = true;\n\t\tif ( this.skinning === true ) data.skinning = true;\n\n\t\tif ( this.visible === false ) data.visible = false;\n\t\tif ( JSON.stringify( this.userData ) !== '{}' ) data.userData = this.userData;\n\n\t\t// TODO: Copied from Object3D.toJSON\n\n\t\tfunction extractFromCache( cache ) {\n\n\t\t\tvar values = [];\n\n\t\t\tfor ( var key in cache ) {\n\n\t\t\t\tvar data = cache[ key ];\n\t\t\t\tdelete data.metadata;\n\t\t\t\tvalues.push( data );\n\n\t\t\t}\n\n\t\t\treturn values;\n\n\t\t}\n\n\t\tif ( isRoot ) {\n\n\t\t\tvar textures = extractFromCache( meta.textures );\n\t\t\tvar images = extractFromCache( meta.images );\n\n\t\t\tif ( textures.length > 0 ) data.textures = textures;\n\t\t\tif ( images.length > 0 ) data.images = images;\n\n\t\t}\n\n\t\treturn data;\n\n\t},\n\n\tclone: function () {\n\n\t\treturn new this.constructor().copy( this );\n\n\t},\n\n\tcopy: function ( source ) {\n\n\t\tthis.name = source.name;\n\n\t\tthis.fog = source.fog;\n\t\tthis.lights = source.lights;\n\n\t\tthis.blending = source.blending;\n\t\tthis.side = source.side;\n\t\tthis.flatShading = source.flatShading;\n\t\tthis.vertexColors = source.vertexColors;\n\n\t\tthis.opacity = source.opacity;\n\t\tthis.transparent = source.transparent;\n\n\t\tthis.blendSrc = source.blendSrc;\n\t\tthis.blendDst = source.blendDst;\n\t\tthis.blendEquation = source.blendEquation;\n\t\tthis.blendSrcAlpha = source.blendSrcAlpha;\n\t\tthis.blendDstAlpha = source.blendDstAlpha;\n\t\tthis.blendEquationAlpha = source.blendEquationAlpha;\n\n\t\tthis.depthFunc = source.depthFunc;\n\t\tthis.depthTest = source.depthTest;\n\t\tthis.depthWrite = source.depthWrite;\n\n\t\tthis.colorWrite = source.colorWrite;\n\n\t\tthis.precision = source.precision;\n\n\t\tthis.polygonOffset = source.polygonOffset;\n\t\tthis.polygonOffsetFactor = source.polygonOffsetFactor;\n\t\tthis.polygonOffsetUnits = source.polygonOffsetUnits;\n\n\t\tthis.dithering = source.dithering;\n\n\t\tthis.alphaTest = source.alphaTest;\n\t\tthis.premultipliedAlpha = source.premultipliedAlpha;\n\n\t\tthis.visible = source.visible;\n\t\tthis.userData = JSON.parse( JSON.stringify( source.userData ) );\n\n\t\tthis.clipShadows = source.clipShadows;\n\t\tthis.clipIntersection = source.clipIntersection;\n\n\t\tvar srcPlanes = source.clippingPlanes,\n\t\t\tdstPlanes = null;\n\n\t\tif ( srcPlanes !== null ) {\n\n\t\t\tvar n = srcPlanes.length;\n\t\t\tdstPlanes = new Array( n );\n\n\t\t\tfor ( var i = 0; i !== n; ++ i )\n\t\t\t\tdstPlanes[ i ] = srcPlanes[ i ].clone();\n\n\t\t}\n\n\t\tthis.clippingPlanes = dstPlanes;\n\n\t\tthis.shadowSide = source.shadowSide;\n\n\t\treturn this;\n\n\t},\n\n\tdispose: function () {\n\n\t\tthis.dispatchEvent( { type: 'dispose' } );\n\n\t}\n\n} );\n\nvar default_vertex = \"void main() {\\n\\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\\n}\";\n\nvar default_fragment = \"void main() {\\n\\tgl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );\\n}\";\n\n/**\n * @author alteredq / http://alteredqualia.com/\n *\n * parameters = {\n *  defines: { \"label\" : \"value\" },\n *  uniforms: { \"parameter1\": { value: 1.0 }, \"parameter2\": { value2: 2 } },\n *\n *  fragmentShader: <string>,\n *  vertexShader: <string>,\n *\n *  wireframe: <boolean>,\n *  wireframeLinewidth: <float>,\n *\n *  lights: <bool>,\n *\n *  skinning: <bool>,\n *  morphTargets: <bool>,\n *  morphNormals: <bool>\n * }\n */\n\nfunction ShaderMaterial( parameters ) {\n\n\tMaterial.call( this );\n\n\tthis.type = 'ShaderMaterial';\n\n\tthis.defines = {};\n\tthis.uniforms = {};\n\n\tthis.vertexShader = default_vertex;\n\tthis.fragmentShader = default_fragment;\n\n\tthis.linewidth = 1;\n\n\tthis.wireframe = false;\n\tthis.wireframeLinewidth = 1;\n\n\tthis.fog = false; // set to use scene fog\n\tthis.lights = false; // set to use scene lights\n\tthis.clipping = false; // set to use user-defined clipping planes\n\n\tthis.skinning = false; // set to use skinning attribute streams\n\tthis.morphTargets = false; // set to use morph targets\n\tthis.morphNormals = false; // set to use morph normals\n\n\tthis.extensions = {\n\t\tderivatives: false, // set to use derivatives\n\t\tfragDepth: false, // set to use fragment depth values\n\t\tdrawBuffers: false, // set to use draw buffers\n\t\tshaderTextureLOD: false // set to use shader texture LOD\n\t};\n\n\t// When rendered geometry doesn't include these attributes but the material does,\n\t// use these default values in WebGL. This avoids errors when buffer data is missing.\n\tthis.defaultAttributeValues = {\n\t\t'color': [ 1, 1, 1 ],\n\t\t'uv': [ 0, 0 ],\n\t\t'uv2': [ 0, 0 ]\n\t};\n\n\tthis.index0AttributeName = undefined;\n\tthis.uniformsNeedUpdate = false;\n\n\tif ( parameters !== undefined ) {\n\n\t\tif ( parameters.attributes !== undefined ) {\n\n\t\t\tconsole.error( 'THREE.ShaderMaterial: attributes should now be defined in THREE.BufferGeometry instead.' );\n\n\t\t}\n\n\t\tthis.setValues( parameters );\n\n\t}\n\n}\n\nShaderMaterial.prototype = Object.create( Material.prototype );\nShaderMaterial.prototype.constructor = ShaderMaterial;\n\nShaderMaterial.prototype.isShaderMaterial = true;\n\nShaderMaterial.prototype.copy = function ( source ) {\n\n\tMaterial.prototype.copy.call( this, source );\n\n\tthis.fragmentShader = source.fragmentShader;\n\tthis.vertexShader = source.vertexShader;\n\n\tthis.uniforms = cloneUniforms( source.uniforms );\n\n\tthis.defines = Object.assign( {}, source.defines );\n\n\tthis.wireframe = source.wireframe;\n\tthis.wireframeLinewidth = source.wireframeLinewidth;\n\n\tthis.lights = source.lights;\n\tthis.clipping = source.clipping;\n\n\tthis.skinning = source.skinning;\n\n\tthis.morphTargets = source.morphTargets;\n\tthis.morphNormals = source.morphNormals;\n\n\tthis.extensions = source.extensions;\n\n\treturn this;\n\n};\n\nShaderMaterial.prototype.toJSON = function ( meta ) {\n\n\tvar data = Material.prototype.toJSON.call( this, meta );\n\n\tdata.uniforms = {};\n\n\tfor ( var name in this.uniforms ) {\n\n\t\tvar uniform = this.uniforms[ name ];\n\t\tvar value = uniform.value;\n\n\t\tif ( value && value.isTexture ) {\n\n\t\t\tdata.uniforms[ name ] = {\n\t\t\t\ttype: 't',\n\t\t\t\tvalue: value.toJSON( meta ).uuid\n\t\t\t};\n\n\t\t} else if ( value && value.isColor ) {\n\n\t\t\tdata.uniforms[ name ] = {\n\t\t\t\ttype: 'c',\n\t\t\t\tvalue: value.getHex()\n\t\t\t};\n\n\t\t} else if ( value && value.isVector2 ) {\n\n\t\t\tdata.uniforms[ name ] = {\n\t\t\t\ttype: 'v2',\n\t\t\t\tvalue: value.toArray()\n\t\t\t};\n\n\t\t} else if ( value && value.isVector3 ) {\n\n\t\t\tdata.uniforms[ name ] = {\n\t\t\t\ttype: 'v3',\n\t\t\t\tvalue: value.toArray()\n\t\t\t};\n\n\t\t} else if ( value && value.isVector4 ) {\n\n\t\t\tdata.uniforms[ name ] = {\n\t\t\t\ttype: 'v4',\n\t\t\t\tvalue: value.toArray()\n\t\t\t};\n\n\t\t} else if ( value && value.isMatrix3 ) {\n\n\t\t\tdata.uniforms[ name ] = {\n\t\t\t\ttype: 'm3',\n\t\t\t\tvalue: value.toArray()\n\t\t\t};\n\n\t\t} else if ( value && value.isMatrix4 ) {\n\n\t\t\tdata.uniforms[ name ] = {\n\t\t\t\ttype: 'm4',\n\t\t\t\tvalue: value.toArray()\n\t\t\t};\n\n\t\t} else {\n\n\t\t\tdata.uniforms[ name ] = {\n\t\t\t\tvalue: value\n\t\t\t};\n\n\t\t\t// note: the array variants v2v, v3v, v4v, m4v and tv are not supported so far\n\n\t\t}\n\n\t}\n\n\tif ( Object.keys( this.defines ).length > 0 ) data.defines = this.defines;\n\n\tdata.vertexShader = this.vertexShader;\n\tdata.fragmentShader = this.fragmentShader;\n\n\tvar extensions = {};\n\n\tfor ( var key in this.extensions ) {\n\n\t\tif ( this.extensions[ key ] === true ) extensions[ key ] = true;\n\n\t}\n\n\tif ( Object.keys( extensions ).length > 0 ) data.extensions = extensions;\n\n\treturn data;\n\n};\n\n/**\n * @author bhouston / http://clara.io\n */\n\nfunction Ray( origin, direction ) {\n\n\tthis.origin = ( origin !== undefined ) ? origin : new Vector3();\n\tthis.direction = ( direction !== undefined ) ? direction : new Vector3();\n\n}\n\nObject.assign( Ray.prototype, {\n\n\tset: function ( origin, direction ) {\n\n\t\tthis.origin.copy( origin );\n\t\tthis.direction.copy( direction );\n\n\t\treturn this;\n\n\t},\n\n\tclone: function () {\n\n\t\treturn new this.constructor().copy( this );\n\n\t},\n\n\tcopy: function ( ray ) {\n\n\t\tthis.origin.copy( ray.origin );\n\t\tthis.direction.copy( ray.direction );\n\n\t\treturn this;\n\n\t},\n\n\tat: function ( t, target ) {\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Ray: .at() target is now required' );\n\t\t\ttarget = new Vector3();\n\n\t\t}\n\n\t\treturn target.copy( this.direction ).multiplyScalar( t ).add( this.origin );\n\n\t},\n\n\tlookAt: function ( v ) {\n\n\t\tthis.direction.copy( v ).sub( this.origin ).normalize();\n\n\t\treturn this;\n\n\t},\n\n\trecast: function () {\n\n\t\tvar v1 = new Vector3();\n\n\t\treturn function recast( t ) {\n\n\t\t\tthis.origin.copy( this.at( t, v1 ) );\n\n\t\t\treturn this;\n\n\t\t};\n\n\t}(),\n\n\tclosestPointToPoint: function ( point, target ) {\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Ray: .closestPointToPoint() target is now required' );\n\t\t\ttarget = new Vector3();\n\n\t\t}\n\n\t\ttarget.subVectors( point, this.origin );\n\n\t\tvar directionDistance = target.dot( this.direction );\n\n\t\tif ( directionDistance < 0 ) {\n\n\t\t\treturn target.copy( this.origin );\n\n\t\t}\n\n\t\treturn target.copy( this.direction ).multiplyScalar( directionDistance ).add( this.origin );\n\n\t},\n\n\tdistanceToPoint: function ( point ) {\n\n\t\treturn Math.sqrt( this.distanceSqToPoint( point ) );\n\n\t},\n\n\tdistanceSqToPoint: function () {\n\n\t\tvar v1 = new Vector3();\n\n\t\treturn function distanceSqToPoint( point ) {\n\n\t\t\tvar directionDistance = v1.subVectors( point, this.origin ).dot( this.direction );\n\n\t\t\t// point behind the ray\n\n\t\t\tif ( directionDistance < 0 ) {\n\n\t\t\t\treturn this.origin.distanceToSquared( point );\n\n\t\t\t}\n\n\t\t\tv1.copy( this.direction ).multiplyScalar( directionDistance ).add( this.origin );\n\n\t\t\treturn v1.distanceToSquared( point );\n\n\t\t};\n\n\t}(),\n\n\tdistanceSqToSegment: function () {\n\n\t\tvar segCenter = new Vector3();\n\t\tvar segDir = new Vector3();\n\t\tvar diff = new Vector3();\n\n\t\treturn function distanceSqToSegment( v0, v1, optionalPointOnRay, optionalPointOnSegment ) {\n\n\t\t\t// from http://www.geometrictools.com/GTEngine/Include/Mathematics/GteDistRaySegment.h\n\t\t\t// It returns the min distance between the ray and the segment\n\t\t\t// defined by v0 and v1\n\t\t\t// It can also set two optional targets :\n\t\t\t// - The closest point on the ray\n\t\t\t// - The closest point on the segment\n\n\t\t\tsegCenter.copy( v0 ).add( v1 ).multiplyScalar( 0.5 );\n\t\t\tsegDir.copy( v1 ).sub( v0 ).normalize();\n\t\t\tdiff.copy( this.origin ).sub( segCenter );\n\n\t\t\tvar segExtent = v0.distanceTo( v1 ) * 0.5;\n\t\t\tvar a01 = - this.direction.dot( segDir );\n\t\t\tvar b0 = diff.dot( this.direction );\n\t\t\tvar b1 = - diff.dot( segDir );\n\t\t\tvar c = diff.lengthSq();\n\t\t\tvar det = Math.abs( 1 - a01 * a01 );\n\t\t\tvar s0, s1, sqrDist, extDet;\n\n\t\t\tif ( det > 0 ) {\n\n\t\t\t\t// The ray and segment are not parallel.\n\n\t\t\t\ts0 = a01 * b1 - b0;\n\t\t\t\ts1 = a01 * b0 - b1;\n\t\t\t\textDet = segExtent * det;\n\n\t\t\t\tif ( s0 >= 0 ) {\n\n\t\t\t\t\tif ( s1 >= - extDet ) {\n\n\t\t\t\t\t\tif ( s1 <= extDet ) {\n\n\t\t\t\t\t\t\t// region 0\n\t\t\t\t\t\t\t// Minimum at interior points of ray and segment.\n\n\t\t\t\t\t\t\tvar invDet = 1 / det;\n\t\t\t\t\t\t\ts0 *= invDet;\n\t\t\t\t\t\t\ts1 *= invDet;\n\t\t\t\t\t\t\tsqrDist = s0 * ( s0 + a01 * s1 + 2 * b0 ) + s1 * ( a01 * s0 + s1 + 2 * b1 ) + c;\n\n\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\t// region 1\n\n\t\t\t\t\t\t\ts1 = segExtent;\n\t\t\t\t\t\t\ts0 = Math.max( 0, - ( a01 * s1 + b0 ) );\n\t\t\t\t\t\t\tsqrDist = - s0 * s0 + s1 * ( s1 + 2 * b1 ) + c;\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\t// region 5\n\n\t\t\t\t\t\ts1 = - segExtent;\n\t\t\t\t\t\ts0 = Math.max( 0, - ( a01 * s1 + b0 ) );\n\t\t\t\t\t\tsqrDist = - s0 * s0 + s1 * ( s1 + 2 * b1 ) + c;\n\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\n\t\t\t\t\tif ( s1 <= - extDet ) {\n\n\t\t\t\t\t\t// region 4\n\n\t\t\t\t\t\ts0 = Math.max( 0, - ( - a01 * segExtent + b0 ) );\n\t\t\t\t\t\ts1 = ( s0 > 0 ) ? - segExtent : Math.min( Math.max( - segExtent, - b1 ), segExtent );\n\t\t\t\t\t\tsqrDist = - s0 * s0 + s1 * ( s1 + 2 * b1 ) + c;\n\n\t\t\t\t\t} else if ( s1 <= extDet ) {\n\n\t\t\t\t\t\t// region 3\n\n\t\t\t\t\t\ts0 = 0;\n\t\t\t\t\t\ts1 = Math.min( Math.max( - segExtent, - b1 ), segExtent );\n\t\t\t\t\t\tsqrDist = s1 * ( s1 + 2 * b1 ) + c;\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\t// region 2\n\n\t\t\t\t\t\ts0 = Math.max( 0, - ( a01 * segExtent + b0 ) );\n\t\t\t\t\t\ts1 = ( s0 > 0 ) ? segExtent : Math.min( Math.max( - segExtent, - b1 ), segExtent );\n\t\t\t\t\t\tsqrDist = - s0 * s0 + s1 * ( s1 + 2 * b1 ) + c;\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t} else {\n\n\t\t\t\t// Ray and segment are parallel.\n\n\t\t\t\ts1 = ( a01 > 0 ) ? - segExtent : segExtent;\n\t\t\t\ts0 = Math.max( 0, - ( a01 * s1 + b0 ) );\n\t\t\t\tsqrDist = - s0 * s0 + s1 * ( s1 + 2 * b1 ) + c;\n\n\t\t\t}\n\n\t\t\tif ( optionalPointOnRay ) {\n\n\t\t\t\toptionalPointOnRay.copy( this.direction ).multiplyScalar( s0 ).add( this.origin );\n\n\t\t\t}\n\n\t\t\tif ( optionalPointOnSegment ) {\n\n\t\t\t\toptionalPointOnSegment.copy( segDir ).multiplyScalar( s1 ).add( segCenter );\n\n\t\t\t}\n\n\t\t\treturn sqrDist;\n\n\t\t};\n\n\t}(),\n\n\tintersectSphere: function () {\n\n\t\tvar v1 = new Vector3();\n\n\t\treturn function intersectSphere( sphere, target ) {\n\n\t\t\tv1.subVectors( sphere.center, this.origin );\n\t\t\tvar tca = v1.dot( this.direction );\n\t\t\tvar d2 = v1.dot( v1 ) - tca * tca;\n\t\t\tvar radius2 = sphere.radius * sphere.radius;\n\n\t\t\tif ( d2 > radius2 ) return null;\n\n\t\t\tvar thc = Math.sqrt( radius2 - d2 );\n\n\t\t\t// t0 = first intersect point - entrance on front of sphere\n\t\t\tvar t0 = tca - thc;\n\n\t\t\t// t1 = second intersect point - exit point on back of sphere\n\t\t\tvar t1 = tca + thc;\n\n\t\t\t// test to see if both t0 and t1 are behind the ray - if so, return null\n\t\t\tif ( t0 < 0 && t1 < 0 ) return null;\n\n\t\t\t// test to see if t0 is behind the ray:\n\t\t\t// if it is, the ray is inside the sphere, so return the second exit point scaled by t1,\n\t\t\t// in order to always return an intersect point that is in front of the ray.\n\t\t\tif ( t0 < 0 ) return this.at( t1, target );\n\n\t\t\t// else t0 is in front of the ray, so return the first collision point scaled by t0\n\t\t\treturn this.at( t0, target );\n\n\t\t};\n\n\t}(),\n\n\tintersectsSphere: function ( sphere ) {\n\n\t\treturn this.distanceSqToPoint( sphere.center ) <= ( sphere.radius * sphere.radius );\n\n\t},\n\n\tdistanceToPlane: function ( plane ) {\n\n\t\tvar denominator = plane.normal.dot( this.direction );\n\n\t\tif ( denominator === 0 ) {\n\n\t\t\t// line is coplanar, return origin\n\t\t\tif ( plane.distanceToPoint( this.origin ) === 0 ) {\n\n\t\t\t\treturn 0;\n\n\t\t\t}\n\n\t\t\t// Null is preferable to undefined since undefined means.... it is undefined\n\n\t\t\treturn null;\n\n\t\t}\n\n\t\tvar t = - ( this.origin.dot( plane.normal ) + plane.constant ) / denominator;\n\n\t\t// Return if the ray never intersects the plane\n\n\t\treturn t >= 0 ? t : null;\n\n\t},\n\n\tintersectPlane: function ( plane, target ) {\n\n\t\tvar t = this.distanceToPlane( plane );\n\n\t\tif ( t === null ) {\n\n\t\t\treturn null;\n\n\t\t}\n\n\t\treturn this.at( t, target );\n\n\t},\n\n\tintersectsPlane: function ( plane ) {\n\n\t\t// check if the ray lies on the plane first\n\n\t\tvar distToPoint = plane.distanceToPoint( this.origin );\n\n\t\tif ( distToPoint === 0 ) {\n\n\t\t\treturn true;\n\n\t\t}\n\n\t\tvar denominator = plane.normal.dot( this.direction );\n\n\t\tif ( denominator * distToPoint < 0 ) {\n\n\t\t\treturn true;\n\n\t\t}\n\n\t\t// ray origin is behind the plane (and is pointing behind it)\n\n\t\treturn false;\n\n\t},\n\n\tintersectBox: function ( box, target ) {\n\n\t\tvar tmin, tmax, tymin, tymax, tzmin, tzmax;\n\n\t\tvar invdirx = 1 / this.direction.x,\n\t\t\tinvdiry = 1 / this.direction.y,\n\t\t\tinvdirz = 1 / this.direction.z;\n\n\t\tvar origin = this.origin;\n\n\t\tif ( invdirx >= 0 ) {\n\n\t\t\ttmin = ( box.min.x - origin.x ) * invdirx;\n\t\t\ttmax = ( box.max.x - origin.x ) * invdirx;\n\n\t\t} else {\n\n\t\t\ttmin = ( box.max.x - origin.x ) * invdirx;\n\t\t\ttmax = ( box.min.x - origin.x ) * invdirx;\n\n\t\t}\n\n\t\tif ( invdiry >= 0 ) {\n\n\t\t\ttymin = ( box.min.y - origin.y ) * invdiry;\n\t\t\ttymax = ( box.max.y - origin.y ) * invdiry;\n\n\t\t} else {\n\n\t\t\ttymin = ( box.max.y - origin.y ) * invdiry;\n\t\t\ttymax = ( box.min.y - origin.y ) * invdiry;\n\n\t\t}\n\n\t\tif ( ( tmin > tymax ) || ( tymin > tmax ) ) return null;\n\n\t\t// These lines also handle the case where tmin or tmax is NaN\n\t\t// (result of 0 * Infinity). x !== x returns true if x is NaN\n\n\t\tif ( tymin > tmin || tmin !== tmin ) tmin = tymin;\n\n\t\tif ( tymax < tmax || tmax !== tmax ) tmax = tymax;\n\n\t\tif ( invdirz >= 0 ) {\n\n\t\t\ttzmin = ( box.min.z - origin.z ) * invdirz;\n\t\t\ttzmax = ( box.max.z - origin.z ) * invdirz;\n\n\t\t} else {\n\n\t\t\ttzmin = ( box.max.z - origin.z ) * invdirz;\n\t\t\ttzmax = ( box.min.z - origin.z ) * invdirz;\n\n\t\t}\n\n\t\tif ( ( tmin > tzmax ) || ( tzmin > tmax ) ) return null;\n\n\t\tif ( tzmin > tmin || tmin !== tmin ) tmin = tzmin;\n\n\t\tif ( tzmax < tmax || tmax !== tmax ) tmax = tzmax;\n\n\t\t//return point closest to the ray (positive side)\n\n\t\tif ( tmax < 0 ) return null;\n\n\t\treturn this.at( tmin >= 0 ? tmin : tmax, target );\n\n\t},\n\n\tintersectsBox: ( function () {\n\n\t\tvar v = new Vector3();\n\n\t\treturn function intersectsBox( box ) {\n\n\t\t\treturn this.intersectBox( box, v ) !== null;\n\n\t\t};\n\n\t} )(),\n\n\tintersectTriangle: function () {\n\n\t\t// Compute the offset origin, edges, and normal.\n\t\tvar diff = new Vector3();\n\t\tvar edge1 = new Vector3();\n\t\tvar edge2 = new Vector3();\n\t\tvar normal = new Vector3();\n\n\t\treturn function intersectTriangle( a, b, c, backfaceCulling, target ) {\n\n\t\t\t// from http://www.geometrictools.com/GTEngine/Include/Mathematics/GteIntrRay3Triangle3.h\n\n\t\t\tedge1.subVectors( b, a );\n\t\t\tedge2.subVectors( c, a );\n\t\t\tnormal.crossVectors( edge1, edge2 );\n\n\t\t\t// Solve Q + t*D = b1*E1 + b2*E2 (Q = kDiff, D = ray direction,\n\t\t\t// E1 = kEdge1, E2 = kEdge2, N = Cross(E1,E2)) by\n\t\t\t//   |Dot(D,N)|*b1 = sign(Dot(D,N))*Dot(D,Cross(Q,E2))\n\t\t\t//   |Dot(D,N)|*b2 = sign(Dot(D,N))*Dot(D,Cross(E1,Q))\n\t\t\t//   |Dot(D,N)|*t = -sign(Dot(D,N))*Dot(Q,N)\n\t\t\tvar DdN = this.direction.dot( normal );\n\t\t\tvar sign;\n\n\t\t\tif ( DdN > 0 ) {\n\n\t\t\t\tif ( backfaceCulling ) return null;\n\t\t\t\tsign = 1;\n\n\t\t\t} else if ( DdN < 0 ) {\n\n\t\t\t\tsign = - 1;\n\t\t\t\tDdN = - DdN;\n\n\t\t\t} else {\n\n\t\t\t\treturn null;\n\n\t\t\t}\n\n\t\t\tdiff.subVectors( this.origin, a );\n\t\t\tvar DdQxE2 = sign * this.direction.dot( edge2.crossVectors( diff, edge2 ) );\n\n\t\t\t// b1 < 0, no intersection\n\t\t\tif ( DdQxE2 < 0 ) {\n\n\t\t\t\treturn null;\n\n\t\t\t}\n\n\t\t\tvar DdE1xQ = sign * this.direction.dot( edge1.cross( diff ) );\n\n\t\t\t// b2 < 0, no intersection\n\t\t\tif ( DdE1xQ < 0 ) {\n\n\t\t\t\treturn null;\n\n\t\t\t}\n\n\t\t\t// b1+b2 > 1, no intersection\n\t\t\tif ( DdQxE2 + DdE1xQ > DdN ) {\n\n\t\t\t\treturn null;\n\n\t\t\t}\n\n\t\t\t// Line intersects triangle, check if ray does.\n\t\t\tvar QdN = - sign * diff.dot( normal );\n\n\t\t\t// t < 0, no intersection\n\t\t\tif ( QdN < 0 ) {\n\n\t\t\t\treturn null;\n\n\t\t\t}\n\n\t\t\t// Ray intersects triangle.\n\t\t\treturn this.at( QdN / DdN, target );\n\n\t\t};\n\n\t}(),\n\n\tapplyMatrix4: function ( matrix4 ) {\n\n\t\tthis.origin.applyMatrix4( matrix4 );\n\t\tthis.direction.transformDirection( matrix4 );\n\n\t\treturn this;\n\n\t},\n\n\tequals: function ( ray ) {\n\n\t\treturn ray.origin.equals( this.origin ) && ray.direction.equals( this.direction );\n\n\t}\n\n} );\n\n/**\n * @author bhouston / http://clara.io\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction Triangle( a, b, c ) {\n\n\tthis.a = ( a !== undefined ) ? a : new Vector3();\n\tthis.b = ( b !== undefined ) ? b : new Vector3();\n\tthis.c = ( c !== undefined ) ? c : new Vector3();\n\n}\n\nObject.assign( Triangle, {\n\n\tgetNormal: function () {\n\n\t\tvar v0 = new Vector3();\n\n\t\treturn function getNormal( a, b, c, target ) {\n\n\t\t\tif ( target === undefined ) {\n\n\t\t\t\tconsole.warn( 'THREE.Triangle: .getNormal() target is now required' );\n\t\t\t\ttarget = new Vector3();\n\n\t\t\t}\n\n\t\t\ttarget.subVectors( c, b );\n\t\t\tv0.subVectors( a, b );\n\t\t\ttarget.cross( v0 );\n\n\t\t\tvar targetLengthSq = target.lengthSq();\n\t\t\tif ( targetLengthSq > 0 ) {\n\n\t\t\t\treturn target.multiplyScalar( 1 / Math.sqrt( targetLengthSq ) );\n\n\t\t\t}\n\n\t\t\treturn target.set( 0, 0, 0 );\n\n\t\t};\n\n\t}(),\n\n\t// static/instance method to calculate barycentric coordinates\n\t// based on: http://www.blackpawn.com/texts/pointinpoly/default.html\n\tgetBarycoord: function () {\n\n\t\tvar v0 = new Vector3();\n\t\tvar v1 = new Vector3();\n\t\tvar v2 = new Vector3();\n\n\t\treturn function getBarycoord( point, a, b, c, target ) {\n\n\t\t\tv0.subVectors( c, a );\n\t\t\tv1.subVectors( b, a );\n\t\t\tv2.subVectors( point, a );\n\n\t\t\tvar dot00 = v0.dot( v0 );\n\t\t\tvar dot01 = v0.dot( v1 );\n\t\t\tvar dot02 = v0.dot( v2 );\n\t\t\tvar dot11 = v1.dot( v1 );\n\t\t\tvar dot12 = v1.dot( v2 );\n\n\t\t\tvar denom = ( dot00 * dot11 - dot01 * dot01 );\n\n\t\t\tif ( target === undefined ) {\n\n\t\t\t\tconsole.warn( 'THREE.Triangle: .getBarycoord() target is now required' );\n\t\t\t\ttarget = new Vector3();\n\n\t\t\t}\n\n\t\t\t// collinear or singular triangle\n\t\t\tif ( denom === 0 ) {\n\n\t\t\t\t// arbitrary location outside of triangle?\n\t\t\t\t// not sure if this is the best idea, maybe should be returning undefined\n\t\t\t\treturn target.set( - 2, - 1, - 1 );\n\n\t\t\t}\n\n\t\t\tvar invDenom = 1 / denom;\n\t\t\tvar u = ( dot11 * dot02 - dot01 * dot12 ) * invDenom;\n\t\t\tvar v = ( dot00 * dot12 - dot01 * dot02 ) * invDenom;\n\n\t\t\t// barycentric coordinates must always sum to 1\n\t\t\treturn target.set( 1 - u - v, v, u );\n\n\t\t};\n\n\t}(),\n\n\tcontainsPoint: function () {\n\n\t\tvar v1 = new Vector3();\n\n\t\treturn function containsPoint( point, a, b, c ) {\n\n\t\t\tTriangle.getBarycoord( point, a, b, c, v1 );\n\n\t\t\treturn ( v1.x >= 0 ) && ( v1.y >= 0 ) && ( ( v1.x + v1.y ) <= 1 );\n\n\t\t};\n\n\t}(),\n\n\tgetUV: function () {\n\n\t\tvar barycoord = new Vector3();\n\n\t\treturn function getUV( point, p1, p2, p3, uv1, uv2, uv3, target ) {\n\n\t\t\tthis.getBarycoord( point, p1, p2, p3, barycoord );\n\n\t\t\ttarget.set( 0, 0 );\n\t\t\ttarget.addScaledVector( uv1, barycoord.x );\n\t\t\ttarget.addScaledVector( uv2, barycoord.y );\n\t\t\ttarget.addScaledVector( uv3, barycoord.z );\n\n\t\t\treturn target;\n\n\t\t};\n\n\t}(),\n\n\tisFrontFacing: function () {\n\n\t\tvar v0 = new Vector3();\n\t\tvar v1 = new Vector3();\n\n\t\treturn function isFrontFacing( a, b, c, direction ) {\n\n\t\t\tv0.subVectors( c, b );\n\t\t\tv1.subVectors( a, b );\n\n\t\t\t// strictly front facing\n\t\t\treturn ( v0.cross( v1 ).dot( direction ) < 0 ) ? true : false;\n\n\t\t};\n\n\t}()\n\n} );\n\nObject.assign( Triangle.prototype, {\n\n\tset: function ( a, b, c ) {\n\n\t\tthis.a.copy( a );\n\t\tthis.b.copy( b );\n\t\tthis.c.copy( c );\n\n\t\treturn this;\n\n\t},\n\n\tsetFromPointsAndIndices: function ( points, i0, i1, i2 ) {\n\n\t\tthis.a.copy( points[ i0 ] );\n\t\tthis.b.copy( points[ i1 ] );\n\t\tthis.c.copy( points[ i2 ] );\n\n\t\treturn this;\n\n\t},\n\n\tclone: function () {\n\n\t\treturn new this.constructor().copy( this );\n\n\t},\n\n\tcopy: function ( triangle ) {\n\n\t\tthis.a.copy( triangle.a );\n\t\tthis.b.copy( triangle.b );\n\t\tthis.c.copy( triangle.c );\n\n\t\treturn this;\n\n\t},\n\n\tgetArea: function () {\n\n\t\tvar v0 = new Vector3();\n\t\tvar v1 = new Vector3();\n\n\t\treturn function getArea() {\n\n\t\t\tv0.subVectors( this.c, this.b );\n\t\t\tv1.subVectors( this.a, this.b );\n\n\t\t\treturn v0.cross( v1 ).length() * 0.5;\n\n\t\t};\n\n\t}(),\n\n\tgetMidpoint: function ( target ) {\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Triangle: .getMidpoint() target is now required' );\n\t\t\ttarget = new Vector3();\n\n\t\t}\n\n\t\treturn target.addVectors( this.a, this.b ).add( this.c ).multiplyScalar( 1 / 3 );\n\n\t},\n\n\tgetNormal: function ( target ) {\n\n\t\treturn Triangle.getNormal( this.a, this.b, this.c, target );\n\n\t},\n\n\tgetPlane: function ( target ) {\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Triangle: .getPlane() target is now required' );\n\t\t\ttarget = new Vector3();\n\n\t\t}\n\n\t\treturn target.setFromCoplanarPoints( this.a, this.b, this.c );\n\n\t},\n\n\tgetBarycoord: function ( point, target ) {\n\n\t\treturn Triangle.getBarycoord( point, this.a, this.b, this.c, target );\n\n\t},\n\n\tgetUV: function ( point, uv1, uv2, uv3, target ) {\n\n\t\treturn Triangle.getUV( point, this.a, this.b, this.c, uv1, uv2, uv3, target );\n\n\t},\n\n\tcontainsPoint: function ( point ) {\n\n\t\treturn Triangle.containsPoint( point, this.a, this.b, this.c );\n\n\t},\n\n\tisFrontFacing: function ( direction ) {\n\n\t\treturn Triangle.isFrontFacing( this.a, this.b, this.c, direction );\n\n\t},\n\n\tintersectsBox: function ( box ) {\n\n\t\treturn box.intersectsTriangle( this );\n\n\t},\n\n\tclosestPointToPoint: function () {\n\n\t\tvar vab = new Vector3();\n\t\tvar vac = new Vector3();\n\t\tvar vbc = new Vector3();\n\t\tvar vap = new Vector3();\n\t\tvar vbp = new Vector3();\n\t\tvar vcp = new Vector3();\n\n\t\treturn function closestPointToPoint( p, target ) {\n\n\t\t\tif ( target === undefined ) {\n\n\t\t\t\tconsole.warn( 'THREE.Triangle: .closestPointToPoint() target is now required' );\n\t\t\t\ttarget = new Vector3();\n\n\t\t\t}\n\n\t\t\tvar a = this.a, b = this.b, c = this.c;\n\t\t\tvar v, w;\n\n\t\t\t// algorithm thanks to Real-Time Collision Detection by Christer Ericson,\n\t\t\t// published by Morgan Kaufmann Publishers, (c) 2005 Elsevier Inc.,\n\t\t\t// under the accompanying license; see chapter 5.1.5 for detailed explanation.\n\t\t\t// basically, we're distinguishing which of the voronoi regions of the triangle\n\t\t\t// the point lies in with the minimum amount of redundant computation.\n\n\t\t\tvab.subVectors( b, a );\n\t\t\tvac.subVectors( c, a );\n\t\t\tvap.subVectors( p, a );\n\t\t\tvar d1 = vab.dot( vap );\n\t\t\tvar d2 = vac.dot( vap );\n\t\t\tif ( d1 <= 0 && d2 <= 0 ) {\n\n\t\t\t\t// vertex region of A; barycentric coords (1, 0, 0)\n\t\t\t\treturn target.copy( a );\n\n\t\t\t}\n\n\t\t\tvbp.subVectors( p, b );\n\t\t\tvar d3 = vab.dot( vbp );\n\t\t\tvar d4 = vac.dot( vbp );\n\t\t\tif ( d3 >= 0 && d4 <= d3 ) {\n\n\t\t\t\t// vertex region of B; barycentric coords (0, 1, 0)\n\t\t\t\treturn target.copy( b );\n\n\t\t\t}\n\n\t\t\tvar vc = d1 * d4 - d3 * d2;\n\t\t\tif ( vc <= 0 && d1 >= 0 && d3 <= 0 ) {\n\n\t\t\t\tv = d1 / ( d1 - d3 );\n\t\t\t\t// edge region of AB; barycentric coords (1-v, v, 0)\n\t\t\t\treturn target.copy( a ).addScaledVector( vab, v );\n\n\t\t\t}\n\n\t\t\tvcp.subVectors( p, c );\n\t\t\tvar d5 = vab.dot( vcp );\n\t\t\tvar d6 = vac.dot( vcp );\n\t\t\tif ( d6 >= 0 && d5 <= d6 ) {\n\n\t\t\t\t// vertex region of C; barycentric coords (0, 0, 1)\n\t\t\t\treturn target.copy( c );\n\n\t\t\t}\n\n\t\t\tvar vb = d5 * d2 - d1 * d6;\n\t\t\tif ( vb <= 0 && d2 >= 0 && d6 <= 0 ) {\n\n\t\t\t\tw = d2 / ( d2 - d6 );\n\t\t\t\t// edge region of AC; barycentric coords (1-w, 0, w)\n\t\t\t\treturn target.copy( a ).addScaledVector( vac, w );\n\n\t\t\t}\n\n\t\t\tvar va = d3 * d6 - d5 * d4;\n\t\t\tif ( va <= 0 && ( d4 - d3 ) >= 0 && ( d5 - d6 ) >= 0 ) {\n\n\t\t\t\tvbc.subVectors( c, b );\n\t\t\t\tw = ( d4 - d3 ) / ( ( d4 - d3 ) + ( d5 - d6 ) );\n\t\t\t\t// edge region of BC; barycentric coords (0, 1-w, w)\n\t\t\t\treturn target.copy( b ).addScaledVector( vbc, w ); // edge region of BC\n\n\t\t\t}\n\n\t\t\t// face region\n\t\t\tvar denom = 1 / ( va + vb + vc );\n\t\t\t// u = va * denom\n\t\t\tv = vb * denom;\n\t\t\tw = vc * denom;\n\t\t\treturn target.copy( a ).addScaledVector( vab, v ).addScaledVector( vac, w );\n\n\t\t};\n\n\t}(),\n\n\tequals: function ( triangle ) {\n\n\t\treturn triangle.a.equals( this.a ) && triangle.b.equals( this.b ) && triangle.c.equals( this.c );\n\n\t}\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author alteredq / http://alteredqualia.com/\n *\n * parameters = {\n *  color: <hex>,\n *  opacity: <float>,\n *  map: new THREE.Texture( <Image> ),\n *\n *  lightMap: new THREE.Texture( <Image> ),\n *  lightMapIntensity: <float>\n *\n *  aoMap: new THREE.Texture( <Image> ),\n *  aoMapIntensity: <float>\n *\n *  specularMap: new THREE.Texture( <Image> ),\n *\n *  alphaMap: new THREE.Texture( <Image> ),\n *\n *  envMap: new THREE.CubeTexture( [posx, negx, posy, negy, posz, negz] ),\n *  combine: THREE.Multiply,\n *  reflectivity: <float>,\n *  refractionRatio: <float>,\n *\n *  depthTest: <bool>,\n *  depthWrite: <bool>,\n *\n *  wireframe: <boolean>,\n *  wireframeLinewidth: <float>,\n *\n *  skinning: <bool>,\n *  morphTargets: <bool>\n * }\n */\n\nfunction MeshBasicMaterial( parameters ) {\n\n\tMaterial.call( this );\n\n\tthis.type = 'MeshBasicMaterial';\n\n\tthis.color = new Color( 0xffffff ); // emissive\n\n\tthis.map = null;\n\n\tthis.lightMap = null;\n\tthis.lightMapIntensity = 1.0;\n\n\tthis.aoMap = null;\n\tthis.aoMapIntensity = 1.0;\n\n\tthis.specularMap = null;\n\n\tthis.alphaMap = null;\n\n\tthis.envMap = null;\n\tthis.combine = MultiplyOperation;\n\tthis.reflectivity = 1;\n\tthis.refractionRatio = 0.98;\n\n\tthis.wireframe = false;\n\tthis.wireframeLinewidth = 1;\n\tthis.wireframeLinecap = 'round';\n\tthis.wireframeLinejoin = 'round';\n\n\tthis.skinning = false;\n\tthis.morphTargets = false;\n\n\tthis.lights = false;\n\n\tthis.setValues( parameters );\n\n}\n\nMeshBasicMaterial.prototype = Object.create( Material.prototype );\nMeshBasicMaterial.prototype.constructor = MeshBasicMaterial;\n\nMeshBasicMaterial.prototype.isMeshBasicMaterial = true;\n\nMeshBasicMaterial.prototype.copy = function ( source ) {\n\n\tMaterial.prototype.copy.call( this, source );\n\n\tthis.color.copy( source.color );\n\n\tthis.map = source.map;\n\n\tthis.lightMap = source.lightMap;\n\tthis.lightMapIntensity = source.lightMapIntensity;\n\n\tthis.aoMap = source.aoMap;\n\tthis.aoMapIntensity = source.aoMapIntensity;\n\n\tthis.specularMap = source.specularMap;\n\n\tthis.alphaMap = source.alphaMap;\n\n\tthis.envMap = source.envMap;\n\tthis.combine = source.combine;\n\tthis.reflectivity = source.reflectivity;\n\tthis.refractionRatio = source.refractionRatio;\n\n\tthis.wireframe = source.wireframe;\n\tthis.wireframeLinewidth = source.wireframeLinewidth;\n\tthis.wireframeLinecap = source.wireframeLinecap;\n\tthis.wireframeLinejoin = source.wireframeLinejoin;\n\n\tthis.skinning = source.skinning;\n\tthis.morphTargets = source.morphTargets;\n\n\treturn this;\n\n};\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author alteredq / http://alteredqualia.com/\n * @author mikael emtinger / http://gomo.se/\n * @author jonobr1 / http://jonobr1.com/\n */\n\nfunction Mesh( geometry, material ) {\n\n\tObject3D.call( this );\n\n\tthis.type = 'Mesh';\n\n\tthis.geometry = geometry !== undefined ? geometry : new BufferGeometry();\n\tthis.material = material !== undefined ? material : new MeshBasicMaterial( { color: Math.random() * 0xffffff } );\n\n\tthis.drawMode = TrianglesDrawMode;\n\n\tthis.updateMorphTargets();\n\n}\n\nMesh.prototype = Object.assign( Object.create( Object3D.prototype ), {\n\n\tconstructor: Mesh,\n\n\tisMesh: true,\n\n\tsetDrawMode: function ( value ) {\n\n\t\tthis.drawMode = value;\n\n\t},\n\n\tcopy: function ( source ) {\n\n\t\tObject3D.prototype.copy.call( this, source );\n\n\t\tthis.drawMode = source.drawMode;\n\n\t\tif ( source.morphTargetInfluences !== undefined ) {\n\n\t\t\tthis.morphTargetInfluences = source.morphTargetInfluences.slice();\n\n\t\t}\n\n\t\tif ( source.morphTargetDictionary !== undefined ) {\n\n\t\t\tthis.morphTargetDictionary = Object.assign( {}, source.morphTargetDictionary );\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tupdateMorphTargets: function () {\n\n\t\tvar geometry = this.geometry;\n\t\tvar m, ml, name;\n\n\t\tif ( geometry.isBufferGeometry ) {\n\n\t\t\tvar morphAttributes = geometry.morphAttributes;\n\t\t\tvar keys = Object.keys( morphAttributes );\n\n\t\t\tif ( keys.length > 0 ) {\n\n\t\t\t\tvar morphAttribute = morphAttributes[ keys[ 0 ] ];\n\n\t\t\t\tif ( morphAttribute !== undefined ) {\n\n\t\t\t\t\tthis.morphTargetInfluences = [];\n\t\t\t\t\tthis.morphTargetDictionary = {};\n\n\t\t\t\t\tfor ( m = 0, ml = morphAttribute.length; m < ml; m ++ ) {\n\n\t\t\t\t\t\tname = morphAttribute[ m ].name || String( m );\n\n\t\t\t\t\t\tthis.morphTargetInfluences.push( 0 );\n\t\t\t\t\t\tthis.morphTargetDictionary[ name ] = m;\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\tvar morphTargets = geometry.morphTargets;\n\n\t\t\tif ( morphTargets !== undefined && morphTargets.length > 0 ) {\n\n\t\t\t\tconsole.error( 'THREE.Mesh.updateMorphTargets() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.' );\n\n\t\t\t}\n\n\t\t}\n\n\t},\n\n\traycast: ( function () {\n\n\t\tvar inverseMatrix = new Matrix4();\n\t\tvar ray = new Ray();\n\t\tvar sphere = new Sphere();\n\n\t\tvar vA = new Vector3();\n\t\tvar vB = new Vector3();\n\t\tvar vC = new Vector3();\n\n\t\tvar tempA = new Vector3();\n\t\tvar tempB = new Vector3();\n\t\tvar tempC = new Vector3();\n\n\t\tvar morphA = new Vector3();\n\t\tvar morphB = new Vector3();\n\t\tvar morphC = new Vector3();\n\n\t\tvar uvA = new Vector2();\n\t\tvar uvB = new Vector2();\n\t\tvar uvC = new Vector2();\n\n\t\tvar intersectionPoint = new Vector3();\n\t\tvar intersectionPointWorld = new Vector3();\n\n\t\tfunction checkIntersection( object, material, raycaster, ray, pA, pB, pC, point ) {\n\n\t\t\tvar intersect;\n\n\t\t\tif ( material.side === BackSide ) {\n\n\t\t\t\tintersect = ray.intersectTriangle( pC, pB, pA, true, point );\n\n\t\t\t} else {\n\n\t\t\t\tintersect = ray.intersectTriangle( pA, pB, pC, material.side !== DoubleSide, point );\n\n\t\t\t}\n\n\t\t\tif ( intersect === null ) return null;\n\n\t\t\tintersectionPointWorld.copy( point );\n\t\t\tintersectionPointWorld.applyMatrix4( object.matrixWorld );\n\n\t\t\tvar distance = raycaster.ray.origin.distanceTo( intersectionPointWorld );\n\n\t\t\tif ( distance < raycaster.near || distance > raycaster.far ) return null;\n\n\t\t\treturn {\n\t\t\t\tdistance: distance,\n\t\t\t\tpoint: intersectionPointWorld.clone(),\n\t\t\t\tobject: object\n\t\t\t};\n\n\t\t}\n\n\t\tfunction checkBufferGeometryIntersection( object, material, raycaster, ray, position, morphPosition, uv, a, b, c ) {\n\n\t\t\tvA.fromBufferAttribute( position, a );\n\t\t\tvB.fromBufferAttribute( position, b );\n\t\t\tvC.fromBufferAttribute( position, c );\n\n\t\t\tvar morphInfluences = object.morphTargetInfluences;\n\n\t\t\tif ( material.morphTargets && morphPosition && morphInfluences ) {\n\n\t\t\t\tmorphA.set( 0, 0, 0 );\n\t\t\t\tmorphB.set( 0, 0, 0 );\n\t\t\t\tmorphC.set( 0, 0, 0 );\n\n\t\t\t\tfor ( var i = 0, il = morphPosition.length; i < il; i ++ ) {\n\n\t\t\t\t\tvar influence = morphInfluences[ i ];\n\t\t\t\t\tvar morphAttribute = morphPosition[ i ];\n\n\t\t\t\t\tif ( influence === 0 ) continue;\n\n\t\t\t\t\ttempA.fromBufferAttribute( morphAttribute, a );\n\t\t\t\t\ttempB.fromBufferAttribute( morphAttribute, b );\n\t\t\t\t\ttempC.fromBufferAttribute( morphAttribute, c );\n\n\t\t\t\t\tmorphA.addScaledVector( tempA.sub( vA ), influence );\n\t\t\t\t\tmorphB.addScaledVector( tempB.sub( vB ), influence );\n\t\t\t\t\tmorphC.addScaledVector( tempC.sub( vC ), influence );\n\n\t\t\t\t}\n\n\t\t\t\tvA.add( morphA );\n\t\t\t\tvB.add( morphB );\n\t\t\t\tvC.add( morphC );\n\n\t\t\t}\n\n\t\t\tvar intersection = checkIntersection( object, material, raycaster, ray, vA, vB, vC, intersectionPoint );\n\n\t\t\tif ( intersection ) {\n\n\t\t\t\tif ( uv ) {\n\n\t\t\t\t\tuvA.fromBufferAttribute( uv, a );\n\t\t\t\t\tuvB.fromBufferAttribute( uv, b );\n\t\t\t\t\tuvC.fromBufferAttribute( uv, c );\n\n\t\t\t\t\tintersection.uv = Triangle.getUV( intersectionPoint, vA, vB, vC, uvA, uvB, uvC, new Vector2() );\n\n\t\t\t\t}\n\n\t\t\t\tvar face = new Face3( a, b, c );\n\t\t\t\tTriangle.getNormal( vA, vB, vC, face.normal );\n\n\t\t\t\tintersection.face = face;\n\n\t\t\t}\n\n\t\t\treturn intersection;\n\n\t\t}\n\n\t\treturn function raycast( raycaster, intersects ) {\n\n\t\t\tvar geometry = this.geometry;\n\t\t\tvar material = this.material;\n\t\t\tvar matrixWorld = this.matrixWorld;\n\n\t\t\tif ( material === undefined ) return;\n\n\t\t\t// Checking boundingSphere distance to ray\n\n\t\t\tif ( geometry.boundingSphere === null ) geometry.computeBoundingSphere();\n\n\t\t\tsphere.copy( geometry.boundingSphere );\n\t\t\tsphere.applyMatrix4( matrixWorld );\n\n\t\t\tif ( raycaster.ray.intersectsSphere( sphere ) === false ) return;\n\n\t\t\t//\n\n\t\t\tinverseMatrix.getInverse( matrixWorld );\n\t\t\tray.copy( raycaster.ray ).applyMatrix4( inverseMatrix );\n\n\t\t\t// Check boundingBox before continuing\n\n\t\t\tif ( geometry.boundingBox !== null ) {\n\n\t\t\t\tif ( ray.intersectsBox( geometry.boundingBox ) === false ) return;\n\n\t\t\t}\n\n\t\t\tvar intersection;\n\n\t\t\tif ( geometry.isBufferGeometry ) {\n\n\t\t\t\tvar a, b, c;\n\t\t\t\tvar index = geometry.index;\n\t\t\t\tvar position = geometry.attributes.position;\n\t\t\t\tvar morphPosition = geometry.morphAttributes.position;\n\t\t\t\tvar uv = geometry.attributes.uv;\n\t\t\t\tvar groups = geometry.groups;\n\t\t\t\tvar drawRange = geometry.drawRange;\n\t\t\t\tvar i, j, il, jl;\n\t\t\t\tvar group, groupMaterial;\n\t\t\t\tvar start, end;\n\n\t\t\t\tif ( index !== null ) {\n\n\t\t\t\t\t// indexed buffer geometry\n\n\t\t\t\t\tif ( Array.isArray( material ) ) {\n\n\t\t\t\t\t\tfor ( i = 0, il = groups.length; i < il; i ++ ) {\n\n\t\t\t\t\t\t\tgroup = groups[ i ];\n\t\t\t\t\t\t\tgroupMaterial = material[ group.materialIndex ];\n\n\t\t\t\t\t\t\tstart = Math.max( group.start, drawRange.start );\n\t\t\t\t\t\t\tend = Math.min( ( group.start + group.count ), ( drawRange.start + drawRange.count ) );\n\n\t\t\t\t\t\t\tfor ( j = start, jl = end; j < jl; j += 3 ) {\n\n\t\t\t\t\t\t\t\ta = index.getX( j );\n\t\t\t\t\t\t\t\tb = index.getX( j + 1 );\n\t\t\t\t\t\t\t\tc = index.getX( j + 2 );\n\n\t\t\t\t\t\t\t\tintersection = checkBufferGeometryIntersection( this, groupMaterial, raycaster, ray, position, morphPosition, uv, a, b, c );\n\n\t\t\t\t\t\t\t\tif ( intersection ) {\n\n\t\t\t\t\t\t\t\t\tintersection.faceIndex = Math.floor( j / 3 ); // triangle number in indexed buffer semantics\n\t\t\t\t\t\t\t\t\tintersection.face.materialIndex = group.materialIndex;\n\t\t\t\t\t\t\t\t\tintersects.push( intersection );\n\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tstart = Math.max( 0, drawRange.start );\n\t\t\t\t\t\tend = Math.min( index.count, ( drawRange.start + drawRange.count ) );\n\n\t\t\t\t\t\tfor ( i = start, il = end; i < il; i += 3 ) {\n\n\t\t\t\t\t\t\ta = index.getX( i );\n\t\t\t\t\t\t\tb = index.getX( i + 1 );\n\t\t\t\t\t\t\tc = index.getX( i + 2 );\n\n\t\t\t\t\t\t\tintersection = checkBufferGeometryIntersection( this, material, raycaster, ray, position, morphPosition, uv, a, b, c );\n\n\t\t\t\t\t\t\tif ( intersection ) {\n\n\t\t\t\t\t\t\t\tintersection.faceIndex = Math.floor( i / 3 ); // triangle number in indexed buffer semantics\n\t\t\t\t\t\t\t\tintersects.push( intersection );\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t} else if ( position !== undefined ) {\n\n\t\t\t\t\t// non-indexed buffer geometry\n\n\t\t\t\t\tif ( Array.isArray( material ) ) {\n\n\t\t\t\t\t\tfor ( i = 0, il = groups.length; i < il; i ++ ) {\n\n\t\t\t\t\t\t\tgroup = groups[ i ];\n\t\t\t\t\t\t\tgroupMaterial = material[ group.materialIndex ];\n\n\t\t\t\t\t\t\tstart = Math.max( group.start, drawRange.start );\n\t\t\t\t\t\t\tend = Math.min( ( group.start + group.count ), ( drawRange.start + drawRange.count ) );\n\n\t\t\t\t\t\t\tfor ( j = start, jl = end; j < jl; j += 3 ) {\n\n\t\t\t\t\t\t\t\ta = j;\n\t\t\t\t\t\t\t\tb = j + 1;\n\t\t\t\t\t\t\t\tc = j + 2;\n\n\t\t\t\t\t\t\t\tintersection = checkBufferGeometryIntersection( this, groupMaterial, raycaster, ray, position, morphPosition, uv, a, b, c );\n\n\t\t\t\t\t\t\t\tif ( intersection ) {\n\n\t\t\t\t\t\t\t\t\tintersection.faceIndex = Math.floor( j / 3 ); // triangle number in non-indexed buffer semantics\n\t\t\t\t\t\t\t\t\tintersection.face.materialIndex = group.materialIndex;\n\t\t\t\t\t\t\t\t\tintersects.push( intersection );\n\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tstart = Math.max( 0, drawRange.start );\n\t\t\t\t\t\tend = Math.min( position.count, ( drawRange.start + drawRange.count ) );\n\n\t\t\t\t\t\tfor ( i = start, il = end; i < il; i += 3 ) {\n\n\t\t\t\t\t\t\ta = i;\n\t\t\t\t\t\t\tb = i + 1;\n\t\t\t\t\t\t\tc = i + 2;\n\n\t\t\t\t\t\t\tintersection = checkBufferGeometryIntersection( this, material, raycaster, ray, position, morphPosition, uv, a, b, c );\n\n\t\t\t\t\t\t\tif ( intersection ) {\n\n\t\t\t\t\t\t\t\tintersection.faceIndex = Math.floor( i / 3 ); // triangle number in non-indexed buffer semantics\n\t\t\t\t\t\t\t\tintersects.push( intersection );\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t} else if ( geometry.isGeometry ) {\n\n\t\t\t\tvar fvA, fvB, fvC;\n\t\t\t\tvar isMultiMaterial = Array.isArray( material );\n\n\t\t\t\tvar vertices = geometry.vertices;\n\t\t\t\tvar faces = geometry.faces;\n\t\t\t\tvar uvs;\n\n\t\t\t\tvar faceVertexUvs = geometry.faceVertexUvs[ 0 ];\n\t\t\t\tif ( faceVertexUvs.length > 0 ) uvs = faceVertexUvs;\n\n\t\t\t\tfor ( var f = 0, fl = faces.length; f < fl; f ++ ) {\n\n\t\t\t\t\tvar face = faces[ f ];\n\t\t\t\t\tvar faceMaterial = isMultiMaterial ? material[ face.materialIndex ] : material;\n\n\t\t\t\t\tif ( faceMaterial === undefined ) continue;\n\n\t\t\t\t\tfvA = vertices[ face.a ];\n\t\t\t\t\tfvB = vertices[ face.b ];\n\t\t\t\t\tfvC = vertices[ face.c ];\n\n\t\t\t\t\tintersection = checkIntersection( this, faceMaterial, raycaster, ray, fvA, fvB, fvC, intersectionPoint );\n\n\t\t\t\t\tif ( intersection ) {\n\n\t\t\t\t\t\tif ( uvs && uvs[ f ] ) {\n\n\t\t\t\t\t\t\tvar uvs_f = uvs[ f ];\n\t\t\t\t\t\t\tuvA.copy( uvs_f[ 0 ] );\n\t\t\t\t\t\t\tuvB.copy( uvs_f[ 1 ] );\n\t\t\t\t\t\t\tuvC.copy( uvs_f[ 2 ] );\n\n\t\t\t\t\t\t\tintersection.uv = Triangle.getUV( intersectionPoint, fvA, fvB, fvC, uvA, uvB, uvC, new Vector2() );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tintersection.face = face;\n\t\t\t\t\t\tintersection.faceIndex = f;\n\t\t\t\t\t\tintersects.push( intersection );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t};\n\n\t}() ),\n\n\tclone: function () {\n\n\t\treturn new this.constructor( this.geometry, this.material ).copy( this );\n\n\t}\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction WebGLBackground( renderer, state, objects, premultipliedAlpha ) {\n\n\tvar clearColor = new Color( 0x000000 );\n\tvar clearAlpha = 0;\n\n\tvar planeMesh;\n\tvar boxMesh;\n\t// Store the current background texture and its `version`\n\t// so we can recompile the material accordingly.\n\tvar currentBackground = null;\n\tvar currentBackgroundVersion = 0;\n\n\tfunction render( renderList, scene, camera, forceClear ) {\n\n\t\tvar background = scene.background;\n\n\t\t// Ignore background in AR\n\t\t// TODO: Reconsider this.\n\n\t\tvar vr = renderer.vr;\n\t\tvar session = vr.getSession && vr.getSession();\n\n\t\tif ( session && session.environmentBlendMode === 'additive' ) {\n\n\t\t\tbackground = null;\n\n\t\t}\n\n\t\tif ( background === null ) {\n\n\t\t\tsetClear( clearColor, clearAlpha );\n\t\t\tcurrentBackground = null;\n\t\t\tcurrentBackgroundVersion = 0;\n\n\t\t} else if ( background && background.isColor ) {\n\n\t\t\tsetClear( background, 1 );\n\t\t\tforceClear = true;\n\t\t\tcurrentBackground = null;\n\t\t\tcurrentBackgroundVersion = 0;\n\n\t\t}\n\n\t\tif ( renderer.autoClear || forceClear ) {\n\n\t\t\trenderer.clear( renderer.autoClearColor, renderer.autoClearDepth, renderer.autoClearStencil );\n\n\t\t}\n\n\t\tif ( background && ( background.isCubeTexture || background.isWebGLRenderTargetCube ) ) {\n\n\t\t\tif ( boxMesh === undefined ) {\n\n\t\t\t\tboxMesh = new Mesh(\n\t\t\t\t\tnew BoxBufferGeometry( 1, 1, 1 ),\n\t\t\t\t\tnew ShaderMaterial( {\n\t\t\t\t\t\ttype: 'BackgroundCubeMaterial',\n\t\t\t\t\t\tuniforms: cloneUniforms( ShaderLib.cube.uniforms ),\n\t\t\t\t\t\tvertexShader: ShaderLib.cube.vertexShader,\n\t\t\t\t\t\tfragmentShader: ShaderLib.cube.fragmentShader,\n\t\t\t\t\t\tside: BackSide,\n\t\t\t\t\t\tdepthTest: false,\n\t\t\t\t\t\tdepthWrite: false,\n\t\t\t\t\t\tfog: false\n\t\t\t\t\t} )\n\t\t\t\t);\n\n\t\t\t\tboxMesh.geometry.removeAttribute( 'normal' );\n\t\t\t\tboxMesh.geometry.removeAttribute( 'uv' );\n\n\t\t\t\tboxMesh.onBeforeRender = function ( renderer, scene, camera ) {\n\n\t\t\t\t\tthis.matrixWorld.copyPosition( camera.matrixWorld );\n\n\t\t\t\t};\n\n\t\t\t\t// enable code injection for non-built-in material\n\t\t\t\tObject.defineProperty( boxMesh.material, 'map', {\n\n\t\t\t\t\tget: function () {\n\n\t\t\t\t\t\treturn this.uniforms.tCube.value;\n\n\t\t\t\t\t}\n\n\t\t\t\t} );\n\n\t\t\t\tobjects.update( boxMesh );\n\n\t\t\t}\n\n\t\t\tvar texture = background.isWebGLRenderTargetCube ? background.texture : background;\n\t\t\tboxMesh.material.uniforms.tCube.value = texture;\n\t\t\tboxMesh.material.uniforms.tFlip.value = ( background.isWebGLRenderTargetCube ) ? 1 : - 1;\n\n\t\t\tif ( currentBackground !== background ||\n\t\t\t     currentBackgroundVersion !== texture.version ) {\n\n\t\t\t\tboxMesh.material.needsUpdate = true;\n\n\t\t\t\tcurrentBackground = background;\n\t\t\t\tcurrentBackgroundVersion = texture.version;\n\n\t\t\t}\n\n\t\t\t// push to the pre-sorted opaque render list\n\t\t\trenderList.unshift( boxMesh, boxMesh.geometry, boxMesh.material, 0, 0, null );\n\n\t\t} else if ( background && background.isTexture ) {\n\n\t\t\tif ( planeMesh === undefined ) {\n\n\t\t\t\tplaneMesh = new Mesh(\n\t\t\t\t\tnew PlaneBufferGeometry( 2, 2 ),\n\t\t\t\t\tnew ShaderMaterial( {\n\t\t\t\t\t\ttype: 'BackgroundMaterial',\n\t\t\t\t\t\tuniforms: cloneUniforms( ShaderLib.background.uniforms ),\n\t\t\t\t\t\tvertexShader: ShaderLib.background.vertexShader,\n\t\t\t\t\t\tfragmentShader: ShaderLib.background.fragmentShader,\n\t\t\t\t\t\tside: FrontSide,\n\t\t\t\t\t\tdepthTest: false,\n\t\t\t\t\t\tdepthWrite: false,\n\t\t\t\t\t\tfog: false\n\t\t\t\t\t} )\n\t\t\t\t);\n\n\t\t\t\tplaneMesh.geometry.removeAttribute( 'normal' );\n\n\t\t\t\t// enable code injection for non-built-in material\n\t\t\t\tObject.defineProperty( planeMesh.material, 'map', {\n\n\t\t\t\t\tget: function () {\n\n\t\t\t\t\t\treturn this.uniforms.t2D.value;\n\n\t\t\t\t\t}\n\n\t\t\t\t} );\n\n\t\t\t\tobjects.update( planeMesh );\n\n\t\t\t}\n\n\t\t\tplaneMesh.material.uniforms.t2D.value = background;\n\n\t\t\tif ( background.matrixAutoUpdate === true ) {\n\n\t\t\t\tbackground.updateMatrix();\n\n\t\t\t}\n\n\t\t\tplaneMesh.material.uniforms.uvTransform.value.copy( background.matrix );\n\n\t\t\tif ( currentBackground !== background ||\n\t\t\t\t   currentBackgroundVersion !== background.version ) {\n\n\t\t\t\tplaneMesh.material.needsUpdate = true;\n\n\t\t\t\tcurrentBackground = background;\n\t\t\t\tcurrentBackgroundVersion = background.version;\n\n\t\t\t}\n\n\n\t\t\t// push to the pre-sorted opaque render list\n\t\t\trenderList.unshift( planeMesh, planeMesh.geometry, planeMesh.material, 0, 0, null );\n\n\t\t}\n\n\t}\n\n\tfunction setClear( color, alpha ) {\n\n\t\tstate.buffers.color.setClear( color.r, color.g, color.b, alpha, premultipliedAlpha );\n\n\t}\n\n\treturn {\n\n\t\tgetClearColor: function () {\n\n\t\t\treturn clearColor;\n\n\t\t},\n\t\tsetClearColor: function ( color, alpha ) {\n\n\t\t\tclearColor.set( color );\n\t\t\tclearAlpha = alpha !== undefined ? alpha : 1;\n\t\t\tsetClear( clearColor, clearAlpha );\n\n\t\t},\n\t\tgetClearAlpha: function () {\n\n\t\t\treturn clearAlpha;\n\n\t\t},\n\t\tsetClearAlpha: function ( alpha ) {\n\n\t\t\tclearAlpha = alpha;\n\t\t\tsetClear( clearColor, clearAlpha );\n\n\t\t},\n\t\trender: render\n\n\t};\n\n}\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction WebGLBufferRenderer( gl, extensions, info, capabilities ) {\n\n\tvar mode;\n\n\tfunction setMode( value ) {\n\n\t\tmode = value;\n\n\t}\n\n\tfunction render( start, count ) {\n\n\t\tgl.drawArrays( mode, start, count );\n\n\t\tinfo.update( count, mode );\n\n\t}\n\n\tfunction renderInstances( geometry, start, count ) {\n\n\t\tvar extension;\n\n\t\tif ( capabilities.isWebGL2 ) {\n\n\t\t\textension = gl;\n\n\t\t} else {\n\n\t\t\textension = extensions.get( 'ANGLE_instanced_arrays' );\n\n\t\t\tif ( extension === null ) {\n\n\t\t\t\tconsole.error( 'THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.' );\n\t\t\t\treturn;\n\n\t\t\t}\n\n\t\t}\n\n\t\textension[ capabilities.isWebGL2 ? 'drawArraysInstanced' : 'drawArraysInstancedANGLE' ]( mode, start, count, geometry.maxInstancedCount );\n\n\t\tinfo.update( count, mode, geometry.maxInstancedCount );\n\n\t}\n\n\t//\n\n\tthis.setMode = setMode;\n\tthis.render = render;\n\tthis.renderInstances = renderInstances;\n\n}\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction WebGLCapabilities( gl, extensions, parameters ) {\n\n\tvar maxAnisotropy;\n\n\tfunction getMaxAnisotropy() {\n\n\t\tif ( maxAnisotropy !== undefined ) return maxAnisotropy;\n\n\t\tvar extension = extensions.get( 'EXT_texture_filter_anisotropic' );\n\n\t\tif ( extension !== null ) {\n\n\t\t\tmaxAnisotropy = gl.getParameter( extension.MAX_TEXTURE_MAX_ANISOTROPY_EXT );\n\n\t\t} else {\n\n\t\t\tmaxAnisotropy = 0;\n\n\t\t}\n\n\t\treturn maxAnisotropy;\n\n\t}\n\n\tfunction getMaxPrecision( precision ) {\n\n\t\tif ( precision === 'highp' ) {\n\n\t\t\tif ( gl.getShaderPrecisionFormat( 35633, 36338 ).precision > 0 &&\n\t\t\t     gl.getShaderPrecisionFormat( 35632, 36338 ).precision > 0 ) {\n\n\t\t\t\treturn 'highp';\n\n\t\t\t}\n\n\t\t\tprecision = 'mediump';\n\n\t\t}\n\n\t\tif ( precision === 'mediump' ) {\n\n\t\t\tif ( gl.getShaderPrecisionFormat( 35633, 36337 ).precision > 0 &&\n\t\t\t     gl.getShaderPrecisionFormat( 35632, 36337 ).precision > 0 ) {\n\n\t\t\t\treturn 'mediump';\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn 'lowp';\n\n\t}\n\n\tvar isWebGL2 = typeof WebGL2RenderingContext !== 'undefined' && gl instanceof WebGL2RenderingContext;\n\n\tvar precision = parameters.precision !== undefined ? parameters.precision : 'highp';\n\tvar maxPrecision = getMaxPrecision( precision );\n\n\tif ( maxPrecision !== precision ) {\n\n\t\tconsole.warn( 'THREE.WebGLRenderer:', precision, 'not supported, using', maxPrecision, 'instead.' );\n\t\tprecision = maxPrecision;\n\n\t}\n\n\tvar logarithmicDepthBuffer = parameters.logarithmicDepthBuffer === true;\n\n\tvar maxTextures = gl.getParameter( 34930 );\n\tvar maxVertexTextures = gl.getParameter( 35660 );\n\tvar maxTextureSize = gl.getParameter( 3379 );\n\tvar maxCubemapSize = gl.getParameter( 34076 );\n\n\tvar maxAttributes = gl.getParameter( 34921 );\n\tvar maxVertexUniforms = gl.getParameter( 36347 );\n\tvar maxVaryings = gl.getParameter( 36348 );\n\tvar maxFragmentUniforms = gl.getParameter( 36349 );\n\n\tvar vertexTextures = maxVertexTextures > 0;\n\tvar floatFragmentTextures = isWebGL2 || !! extensions.get( 'OES_texture_float' );\n\tvar floatVertexTextures = vertexTextures && floatFragmentTextures;\n\n\tvar maxSamples = isWebGL2 ? gl.getParameter( 36183 ) : 0;\n\n\treturn {\n\n\t\tisWebGL2: isWebGL2,\n\n\t\tgetMaxAnisotropy: getMaxAnisotropy,\n\t\tgetMaxPrecision: getMaxPrecision,\n\n\t\tprecision: precision,\n\t\tlogarithmicDepthBuffer: logarithmicDepthBuffer,\n\n\t\tmaxTextures: maxTextures,\n\t\tmaxVertexTextures: maxVertexTextures,\n\t\tmaxTextureSize: maxTextureSize,\n\t\tmaxCubemapSize: maxCubemapSize,\n\n\t\tmaxAttributes: maxAttributes,\n\t\tmaxVertexUniforms: maxVertexUniforms,\n\t\tmaxVaryings: maxVaryings,\n\t\tmaxFragmentUniforms: maxFragmentUniforms,\n\n\t\tvertexTextures: vertexTextures,\n\t\tfloatFragmentTextures: floatFragmentTextures,\n\t\tfloatVertexTextures: floatVertexTextures,\n\n\t\tmaxSamples: maxSamples\n\n\t};\n\n}\n\n/**\n * @author tschw\n */\n\nfunction WebGLClipping() {\n\n\tvar scope = this,\n\n\t\tglobalState = null,\n\t\tnumGlobalPlanes = 0,\n\t\tlocalClippingEnabled = false,\n\t\trenderingShadows = false,\n\n\t\tplane = new Plane(),\n\t\tviewNormalMatrix = new Matrix3(),\n\n\t\tuniform = { value: null, needsUpdate: false };\n\n\tthis.uniform = uniform;\n\tthis.numPlanes = 0;\n\tthis.numIntersection = 0;\n\n\tthis.init = function ( planes, enableLocalClipping, camera ) {\n\n\t\tvar enabled =\n\t\t\tplanes.length !== 0 ||\n\t\t\tenableLocalClipping ||\n\t\t\t// enable state of previous frame - the clipping code has to\n\t\t\t// run another frame in order to reset the state:\n\t\t\tnumGlobalPlanes !== 0 ||\n\t\t\tlocalClippingEnabled;\n\n\t\tlocalClippingEnabled = enableLocalClipping;\n\n\t\tglobalState = projectPlanes( planes, camera, 0 );\n\t\tnumGlobalPlanes = planes.length;\n\n\t\treturn enabled;\n\n\t};\n\n\tthis.beginShadows = function () {\n\n\t\trenderingShadows = true;\n\t\tprojectPlanes( null );\n\n\t};\n\n\tthis.endShadows = function () {\n\n\t\trenderingShadows = false;\n\t\tresetGlobalState();\n\n\t};\n\n\tthis.setState = function ( planes, clipIntersection, clipShadows, camera, cache, fromCache ) {\n\n\t\tif ( ! localClippingEnabled || planes === null || planes.length === 0 || renderingShadows && ! clipShadows ) {\n\n\t\t\t// there's no local clipping\n\n\t\t\tif ( renderingShadows ) {\n\n\t\t\t\t// there's no global clipping\n\n\t\t\t\tprojectPlanes( null );\n\n\t\t\t} else {\n\n\t\t\t\tresetGlobalState();\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\tvar nGlobal = renderingShadows ? 0 : numGlobalPlanes,\n\t\t\t\tlGlobal = nGlobal * 4,\n\n\t\t\t\tdstArray = cache.clippingState || null;\n\n\t\t\tuniform.value = dstArray; // ensure unique state\n\n\t\t\tdstArray = projectPlanes( planes, camera, lGlobal, fromCache );\n\n\t\t\tfor ( var i = 0; i !== lGlobal; ++ i ) {\n\n\t\t\t\tdstArray[ i ] = globalState[ i ];\n\n\t\t\t}\n\n\t\t\tcache.clippingState = dstArray;\n\t\t\tthis.numIntersection = clipIntersection ? this.numPlanes : 0;\n\t\t\tthis.numPlanes += nGlobal;\n\n\t\t}\n\n\n\t};\n\n\tfunction resetGlobalState() {\n\n\t\tif ( uniform.value !== globalState ) {\n\n\t\t\tuniform.value = globalState;\n\t\t\tuniform.needsUpdate = numGlobalPlanes > 0;\n\n\t\t}\n\n\t\tscope.numPlanes = numGlobalPlanes;\n\t\tscope.numIntersection = 0;\n\n\t}\n\n\tfunction projectPlanes( planes, camera, dstOffset, skipTransform ) {\n\n\t\tvar nPlanes = planes !== null ? planes.length : 0,\n\t\t\tdstArray = null;\n\n\t\tif ( nPlanes !== 0 ) {\n\n\t\t\tdstArray = uniform.value;\n\n\t\t\tif ( skipTransform !== true || dstArray === null ) {\n\n\t\t\t\tvar flatSize = dstOffset + nPlanes * 4,\n\t\t\t\t\tviewMatrix = camera.matrixWorldInverse;\n\n\t\t\t\tviewNormalMatrix.getNormalMatrix( viewMatrix );\n\n\t\t\t\tif ( dstArray === null || dstArray.length < flatSize ) {\n\n\t\t\t\t\tdstArray = new Float32Array( flatSize );\n\n\t\t\t\t}\n\n\t\t\t\tfor ( var i = 0, i4 = dstOffset; i !== nPlanes; ++ i, i4 += 4 ) {\n\n\t\t\t\t\tplane.copy( planes[ i ] ).applyMatrix4( viewMatrix, viewNormalMatrix );\n\n\t\t\t\t\tplane.normal.toArray( dstArray, i4 );\n\t\t\t\t\tdstArray[ i4 + 3 ] = plane.constant;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tuniform.value = dstArray;\n\t\t\tuniform.needsUpdate = true;\n\n\t\t}\n\n\t\tscope.numPlanes = nPlanes;\n\n\t\treturn dstArray;\n\n\t}\n\n}\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction WebGLExtensions( gl ) {\n\n\tvar extensions = {};\n\n\treturn {\n\n\t\tget: function ( name ) {\n\n\t\t\tif ( extensions[ name ] !== undefined ) {\n\n\t\t\t\treturn extensions[ name ];\n\n\t\t\t}\n\n\t\t\tvar extension;\n\n\t\t\tswitch ( name ) {\n\n\t\t\t\tcase 'WEBGL_depth_texture':\n\t\t\t\t\textension = gl.getExtension( 'WEBGL_depth_texture' ) || gl.getExtension( 'MOZ_WEBGL_depth_texture' ) || gl.getExtension( 'WEBKIT_WEBGL_depth_texture' );\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'EXT_texture_filter_anisotropic':\n\t\t\t\t\textension = gl.getExtension( 'EXT_texture_filter_anisotropic' ) || gl.getExtension( 'MOZ_EXT_texture_filter_anisotropic' ) || gl.getExtension( 'WEBKIT_EXT_texture_filter_anisotropic' );\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'WEBGL_compressed_texture_s3tc':\n\t\t\t\t\textension = gl.getExtension( 'WEBGL_compressed_texture_s3tc' ) || gl.getExtension( 'MOZ_WEBGL_compressed_texture_s3tc' ) || gl.getExtension( 'WEBKIT_WEBGL_compressed_texture_s3tc' );\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'WEBGL_compressed_texture_pvrtc':\n\t\t\t\t\textension = gl.getExtension( 'WEBGL_compressed_texture_pvrtc' ) || gl.getExtension( 'WEBKIT_WEBGL_compressed_texture_pvrtc' );\n\t\t\t\t\tbreak;\n\n\t\t\t\tdefault:\n\t\t\t\t\textension = gl.getExtension( name );\n\n\t\t\t}\n\n\t\t\tif ( extension === null ) {\n\n\t\t\t\tconsole.warn( 'THREE.WebGLRenderer: ' + name + ' extension not supported.' );\n\n\t\t\t}\n\n\t\t\textensions[ name ] = extension;\n\n\t\t\treturn extension;\n\n\t\t}\n\n\t};\n\n}\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction WebGLGeometries( gl, attributes, info ) {\n\n\tvar geometries = {};\n\tvar wireframeAttributes = {};\n\n\tfunction onGeometryDispose( event ) {\n\n\t\tvar geometry = event.target;\n\t\tvar buffergeometry = geometries[ geometry.id ];\n\n\t\tif ( buffergeometry.index !== null ) {\n\n\t\t\tattributes.remove( buffergeometry.index );\n\n\t\t}\n\n\t\tfor ( var name in buffergeometry.attributes ) {\n\n\t\t\tattributes.remove( buffergeometry.attributes[ name ] );\n\n\t\t}\n\n\t\tgeometry.removeEventListener( 'dispose', onGeometryDispose );\n\n\t\tdelete geometries[ geometry.id ];\n\n\t\tvar attribute = wireframeAttributes[ buffergeometry.id ];\n\n\t\tif ( attribute ) {\n\n\t\t\tattributes.remove( attribute );\n\t\t\tdelete wireframeAttributes[ buffergeometry.id ];\n\n\t\t}\n\n\t\t//\n\n\t\tinfo.memory.geometries --;\n\n\t}\n\n\tfunction get( object, geometry ) {\n\n\t\tvar buffergeometry = geometries[ geometry.id ];\n\n\t\tif ( buffergeometry ) return buffergeometry;\n\n\t\tgeometry.addEventListener( 'dispose', onGeometryDispose );\n\n\t\tif ( geometry.isBufferGeometry ) {\n\n\t\t\tbuffergeometry = geometry;\n\n\t\t} else if ( geometry.isGeometry ) {\n\n\t\t\tif ( geometry._bufferGeometry === undefined ) {\n\n\t\t\t\tgeometry._bufferGeometry = new BufferGeometry().setFromObject( object );\n\n\t\t\t}\n\n\t\t\tbuffergeometry = geometry._bufferGeometry;\n\n\t\t}\n\n\t\tgeometries[ geometry.id ] = buffergeometry;\n\n\t\tinfo.memory.geometries ++;\n\n\t\treturn buffergeometry;\n\n\t}\n\n\tfunction update( geometry ) {\n\n\t\tvar index = geometry.index;\n\t\tvar geometryAttributes = geometry.attributes;\n\n\t\tif ( index !== null ) {\n\n\t\t\tattributes.update( index, 34963 );\n\n\t\t}\n\n\t\tfor ( var name in geometryAttributes ) {\n\n\t\t\tattributes.update( geometryAttributes[ name ], 34962 );\n\n\t\t}\n\n\t\t// morph targets\n\n\t\tvar morphAttributes = geometry.morphAttributes;\n\n\t\tfor ( var name in morphAttributes ) {\n\n\t\t\tvar array = morphAttributes[ name ];\n\n\t\t\tfor ( var i = 0, l = array.length; i < l; i ++ ) {\n\n\t\t\t\tattributes.update( array[ i ], 34962 );\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\tfunction getWireframeAttribute( geometry ) {\n\n\t\tvar attribute = wireframeAttributes[ geometry.id ];\n\n\t\tif ( attribute ) return attribute;\n\n\t\tvar indices = [];\n\n\t\tvar geometryIndex = geometry.index;\n\t\tvar geometryAttributes = geometry.attributes;\n\n\t\t// console.time( 'wireframe' );\n\n\t\tif ( geometryIndex !== null ) {\n\n\t\t\tvar array = geometryIndex.array;\n\n\t\t\tfor ( var i = 0, l = array.length; i < l; i += 3 ) {\n\n\t\t\t\tvar a = array[ i + 0 ];\n\t\t\t\tvar b = array[ i + 1 ];\n\t\t\t\tvar c = array[ i + 2 ];\n\n\t\t\t\tindices.push( a, b, b, c, c, a );\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\tvar array = geometryAttributes.position.array;\n\n\t\t\tfor ( var i = 0, l = ( array.length / 3 ) - 1; i < l; i += 3 ) {\n\n\t\t\t\tvar a = i + 0;\n\t\t\t\tvar b = i + 1;\n\t\t\t\tvar c = i + 2;\n\n\t\t\t\tindices.push( a, b, b, c, c, a );\n\n\t\t\t}\n\n\t\t}\n\n\t\t// console.timeEnd( 'wireframe' );\n\n\t\tattribute = new ( arrayMax( indices ) > 65535 ? Uint32BufferAttribute : Uint16BufferAttribute )( indices, 1 );\n\n\t\tattributes.update( attribute, 34963 );\n\n\t\twireframeAttributes[ geometry.id ] = attribute;\n\n\t\treturn attribute;\n\n\t}\n\n\treturn {\n\n\t\tget: get,\n\t\tupdate: update,\n\n\t\tgetWireframeAttribute: getWireframeAttribute\n\n\t};\n\n}\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction WebGLIndexedBufferRenderer( gl, extensions, info, capabilities ) {\n\n\tvar mode;\n\n\tfunction setMode( value ) {\n\n\t\tmode = value;\n\n\t}\n\n\tvar type, bytesPerElement;\n\n\tfunction setIndex( value ) {\n\n\t\ttype = value.type;\n\t\tbytesPerElement = value.bytesPerElement;\n\n\t}\n\n\tfunction render( start, count ) {\n\n\t\tgl.drawElements( mode, count, type, start * bytesPerElement );\n\n\t\tinfo.update( count, mode );\n\n\t}\n\n\tfunction renderInstances( geometry, start, count ) {\n\n\t\tvar extension;\n\n\t\tif ( capabilities.isWebGL2 ) {\n\n\t\t\textension = gl;\n\n\t\t} else {\n\n\t\t\tvar extension = extensions.get( 'ANGLE_instanced_arrays' );\n\n\t\t\tif ( extension === null ) {\n\n\t\t\t\tconsole.error( 'THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.' );\n\t\t\t\treturn;\n\n\t\t\t}\n\n\t\t}\n\n\t\textension[ capabilities.isWebGL2 ? 'drawElementsInstanced' : 'drawElementsInstancedANGLE' ]( mode, count, type, start * bytesPerElement, geometry.maxInstancedCount );\n\n\t\tinfo.update( count, mode, geometry.maxInstancedCount );\n\n\t}\n\n\t//\n\n\tthis.setMode = setMode;\n\tthis.setIndex = setIndex;\n\tthis.render = render;\n\tthis.renderInstances = renderInstances;\n\n}\n\n/**\n * @author Mugen87 / https://github.com/Mugen87\n */\n\nfunction WebGLInfo( gl ) {\n\n\tvar memory = {\n\t\tgeometries: 0,\n\t\ttextures: 0\n\t};\n\n\tvar render = {\n\t\tframe: 0,\n\t\tcalls: 0,\n\t\ttriangles: 0,\n\t\tpoints: 0,\n\t\tlines: 0\n\t};\n\n\tfunction update( count, mode, instanceCount ) {\n\n\t\tinstanceCount = instanceCount || 1;\n\n\t\trender.calls ++;\n\n\t\tswitch ( mode ) {\n\n\t\t\tcase 4:\n\t\t\t\trender.triangles += instanceCount * ( count / 3 );\n\t\t\t\tbreak;\n\n\t\t\tcase 5:\n\t\t\tcase 6:\n\t\t\t\trender.triangles += instanceCount * ( count - 2 );\n\t\t\t\tbreak;\n\n\t\t\tcase 1:\n\t\t\t\trender.lines += instanceCount * ( count / 2 );\n\t\t\t\tbreak;\n\n\t\t\tcase 3:\n\t\t\t\trender.lines += instanceCount * ( count - 1 );\n\t\t\t\tbreak;\n\n\t\t\tcase 2:\n\t\t\t\trender.lines += instanceCount * count;\n\t\t\t\tbreak;\n\n\t\t\tcase 0:\n\t\t\t\trender.points += instanceCount * count;\n\t\t\t\tbreak;\n\n\t\t\tdefault:\n\t\t\t\tconsole.error( 'THREE.WebGLInfo: Unknown draw mode:', mode );\n\t\t\t\tbreak;\n\n\t\t}\n\n\t}\n\n\tfunction reset() {\n\n\t\trender.frame ++;\n\t\trender.calls = 0;\n\t\trender.triangles = 0;\n\t\trender.points = 0;\n\t\trender.lines = 0;\n\n\t}\n\n\treturn {\n\t\tmemory: memory,\n\t\trender: render,\n\t\tprograms: null,\n\t\tautoReset: true,\n\t\treset: reset,\n\t\tupdate: update\n\t};\n\n}\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction absNumericalSort( a, b ) {\n\n\treturn Math.abs( b[ 1 ] ) - Math.abs( a[ 1 ] );\n\n}\n\nfunction WebGLMorphtargets( gl ) {\n\n\tvar influencesList = {};\n\tvar morphInfluences = new Float32Array( 8 );\n\n\tfunction update( object, geometry, material, program ) {\n\n\t\tvar objectInfluences = object.morphTargetInfluences;\n\n\t\tvar length = objectInfluences.length;\n\n\t\tvar influences = influencesList[ geometry.id ];\n\n\t\tif ( influences === undefined ) {\n\n\t\t\t// initialise list\n\n\t\t\tinfluences = [];\n\n\t\t\tfor ( var i = 0; i < length; i ++ ) {\n\n\t\t\t\tinfluences[ i ] = [ i, 0 ];\n\n\t\t\t}\n\n\t\t\tinfluencesList[ geometry.id ] = influences;\n\n\t\t}\n\n\t\tvar morphTargets = material.morphTargets && geometry.morphAttributes.position;\n\t\tvar morphNormals = material.morphNormals && geometry.morphAttributes.normal;\n\n\t\t// Remove current morphAttributes\n\n\t\tfor ( var i = 0; i < length; i ++ ) {\n\n\t\t\tvar influence = influences[ i ];\n\n\t\t\tif ( influence[ 1 ] !== 0 ) {\n\n\t\t\t\tif ( morphTargets ) geometry.removeAttribute( 'morphTarget' + i );\n\t\t\t\tif ( morphNormals ) geometry.removeAttribute( 'morphNormal' + i );\n\n\t\t\t}\n\n\t\t}\n\n\t\t// Collect influences\n\n\t\tfor ( var i = 0; i < length; i ++ ) {\n\n\t\t\tvar influence = influences[ i ];\n\n\t\t\tinfluence[ 0 ] = i;\n\t\t\tinfluence[ 1 ] = objectInfluences[ i ];\n\n\t\t}\n\n\t\tinfluences.sort( absNumericalSort );\n\n\t\t// Add morphAttributes\n\n\t\tfor ( var i = 0; i < 8; i ++ ) {\n\n\t\t\tvar influence = influences[ i ];\n\n\t\t\tif ( influence ) {\n\n\t\t\t\tvar index = influence[ 0 ];\n\t\t\t\tvar value = influence[ 1 ];\n\n\t\t\t\tif ( value ) {\n\n\t\t\t\t\tif ( morphTargets ) geometry.addAttribute( 'morphTarget' + i, morphTargets[ index ] );\n\t\t\t\t\tif ( morphNormals ) geometry.addAttribute( 'morphNormal' + i, morphNormals[ index ] );\n\n\t\t\t\t\tmorphInfluences[ i ] = value;\n\t\t\t\t\tcontinue;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tmorphInfluences[ i ] = 0;\n\n\t\t}\n\n\t\tprogram.getUniforms().setValue( gl, 'morphTargetInfluences', morphInfluences );\n\n\t}\n\n\treturn {\n\n\t\tupdate: update\n\n\t};\n\n}\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction WebGLObjects( geometries, info ) {\n\n\tvar updateList = {};\n\n\tfunction update( object ) {\n\n\t\tvar frame = info.render.frame;\n\n\t\tvar geometry = object.geometry;\n\t\tvar buffergeometry = geometries.get( object, geometry );\n\n\t\t// Update once per frame\n\n\t\tif ( updateList[ buffergeometry.id ] !== frame ) {\n\n\t\t\tif ( geometry.isGeometry ) {\n\n\t\t\t\tbuffergeometry.updateFromObject( object );\n\n\t\t\t}\n\n\t\t\tgeometries.update( buffergeometry );\n\n\t\t\tupdateList[ buffergeometry.id ] = frame;\n\n\t\t}\n\n\t\treturn buffergeometry;\n\n\t}\n\n\tfunction dispose() {\n\n\t\tupdateList = {};\n\n\t}\n\n\treturn {\n\n\t\tupdate: update,\n\t\tdispose: dispose\n\n\t};\n\n}\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction CubeTexture( images, mapping, wrapS, wrapT, magFilter, minFilter, format, type, anisotropy, encoding ) {\n\n\timages = images !== undefined ? images : [];\n\tmapping = mapping !== undefined ? mapping : CubeReflectionMapping;\n\tformat = format !== undefined ? format : RGBFormat;\n\n\tTexture.call( this, images, mapping, wrapS, wrapT, magFilter, minFilter, format, type, anisotropy, encoding );\n\n\tthis.flipY = false;\n\n}\n\nCubeTexture.prototype = Object.create( Texture.prototype );\nCubeTexture.prototype.constructor = CubeTexture;\n\nCubeTexture.prototype.isCubeTexture = true;\n\nObject.defineProperty( CubeTexture.prototype, 'images', {\n\n\tget: function () {\n\n\t\treturn this.image;\n\n\t},\n\n\tset: function ( value ) {\n\n\t\tthis.image = value;\n\n\t}\n\n} );\n\n/**\n * @author Takahiro https://github.com/takahirox\n */\n\nfunction DataTexture2DArray( data, width, height, depth ) {\n\n\tTexture.call( this, null );\n\n\tthis.image = { data: data, width: width, height: height, depth: depth };\n\n\tthis.magFilter = NearestFilter;\n\tthis.minFilter = NearestFilter;\n\n\tthis.wrapR = ClampToEdgeWrapping;\n\n\tthis.generateMipmaps = false;\n\tthis.flipY = false;\n\n}\n\nDataTexture2DArray.prototype = Object.create( Texture.prototype );\nDataTexture2DArray.prototype.constructor = DataTexture2DArray;\nDataTexture2DArray.prototype.isDataTexture2DArray = true;\n\n/**\n * @author Artur Trzesiok\n */\n\nfunction DataTexture3D( data, width, height, depth ) {\n\n\t// We're going to add .setXXX() methods for setting properties later.\n\t// Users can still set in DataTexture3D directly.\n\t//\n\t//\tvar texture = new THREE.DataTexture3D( data, width, height, depth );\n\t// \ttexture.anisotropy = 16;\n\t//\n\t// See #14839\n\n\tTexture.call( this, null );\n\n\tthis.image = { data: data, width: width, height: height, depth: depth };\n\n\tthis.magFilter = NearestFilter;\n\tthis.minFilter = NearestFilter;\n\n\tthis.wrapR = ClampToEdgeWrapping;\n\n\tthis.generateMipmaps = false;\n\tthis.flipY = false;\n\n}\n\nDataTexture3D.prototype = Object.create( Texture.prototype );\nDataTexture3D.prototype.constructor = DataTexture3D;\nDataTexture3D.prototype.isDataTexture3D = true;\n\n/**\n * @author tschw\n * @author Mugen87 / https://github.com/Mugen87\n * @author mrdoob / http://mrdoob.com/\n *\n * Uniforms of a program.\n * Those form a tree structure with a special top-level container for the root,\n * which you get by calling 'new WebGLUniforms( gl, program )'.\n *\n *\n * Properties of inner nodes including the top-level container:\n *\n * .seq - array of nested uniforms\n * .map - nested uniforms by name\n *\n *\n * Methods of all nodes except the top-level container:\n *\n * .setValue( gl, value, [textures] )\n *\n * \t\tuploads a uniform value(s)\n *  \tthe 'textures' parameter is needed for sampler uniforms\n *\n *\n * Static methods of the top-level container (textures factorizations):\n *\n * .upload( gl, seq, values, textures )\n *\n * \t\tsets uniforms in 'seq' to 'values[id].value'\n *\n * .seqWithValue( seq, values ) : filteredSeq\n *\n * \t\tfilters 'seq' entries with corresponding entry in values\n *\n *\n * Methods of the top-level container (textures factorizations):\n *\n * .setValue( gl, name, value, textures )\n *\n * \t\tsets uniform with  name 'name' to 'value'\n *\n * .setOptional( gl, obj, prop )\n *\n * \t\tlike .set for an optional property of the object\n *\n */\n\nvar emptyTexture = new Texture();\nvar emptyTexture2dArray = new DataTexture2DArray();\nvar emptyTexture3d = new DataTexture3D();\nvar emptyCubeTexture = new CubeTexture();\n\n// --- Utilities ---\n\n// Array Caches (provide typed arrays for temporary by size)\n\nvar arrayCacheF32 = [];\nvar arrayCacheI32 = [];\n\n// Float32Array caches used for uploading Matrix uniforms\n\nvar mat4array = new Float32Array( 16 );\nvar mat3array = new Float32Array( 9 );\nvar mat2array = new Float32Array( 4 );\n\n// Flattening for arrays of vectors and matrices\n\nfunction flatten( array, nBlocks, blockSize ) {\n\n\tvar firstElem = array[ 0 ];\n\n\tif ( firstElem <= 0 || firstElem > 0 ) return array;\n\t// unoptimized: ! isNaN( firstElem )\n\t// see http://jacksondunstan.com/articles/983\n\n\tvar n = nBlocks * blockSize,\n\t\tr = arrayCacheF32[ n ];\n\n\tif ( r === undefined ) {\n\n\t\tr = new Float32Array( n );\n\t\tarrayCacheF32[ n ] = r;\n\n\t}\n\n\tif ( nBlocks !== 0 ) {\n\n\t\tfirstElem.toArray( r, 0 );\n\n\t\tfor ( var i = 1, offset = 0; i !== nBlocks; ++ i ) {\n\n\t\t\toffset += blockSize;\n\t\t\tarray[ i ].toArray( r, offset );\n\n\t\t}\n\n\t}\n\n\treturn r;\n\n}\n\nfunction arraysEqual( a, b ) {\n\n\tif ( a.length !== b.length ) return false;\n\n\tfor ( var i = 0, l = a.length; i < l; i ++ ) {\n\n\t\tif ( a[ i ] !== b[ i ] ) return false;\n\n\t}\n\n\treturn true;\n\n}\n\nfunction copyArray( a, b ) {\n\n\tfor ( var i = 0, l = b.length; i < l; i ++ ) {\n\n\t\ta[ i ] = b[ i ];\n\n\t}\n\n}\n\n// Texture unit allocation\n\nfunction allocTexUnits( textures, n ) {\n\n\tvar r = arrayCacheI32[ n ];\n\n\tif ( r === undefined ) {\n\n\t\tr = new Int32Array( n );\n\t\tarrayCacheI32[ n ] = r;\n\n\t}\n\n\tfor ( var i = 0; i !== n; ++ i )\n\t\tr[ i ] = textures.allocateTextureUnit();\n\n\treturn r;\n\n}\n\n// --- Setters ---\n\n// Note: Defining these methods externally, because they come in a bunch\n// and this way their names minify.\n\n// Single scalar\n\nfunction setValueV1f( gl, v ) {\n\n\tvar cache = this.cache;\n\n\tif ( cache[ 0 ] === v ) return;\n\n\tgl.uniform1f( this.addr, v );\n\n\tcache[ 0 ] = v;\n\n}\n\n// Single float vector (from flat array or THREE.VectorN)\n\nfunction setValueV2f( gl, v ) {\n\n\tvar cache = this.cache;\n\n\tif ( v.x !== undefined ) {\n\n\t\tif ( cache[ 0 ] !== v.x || cache[ 1 ] !== v.y ) {\n\n\t\t\tgl.uniform2f( this.addr, v.x, v.y );\n\n\t\t\tcache[ 0 ] = v.x;\n\t\t\tcache[ 1 ] = v.y;\n\n\t\t}\n\n\t} else {\n\n\t\tif ( arraysEqual( cache, v ) ) return;\n\n\t\tgl.uniform2fv( this.addr, v );\n\n\t\tcopyArray( cache, v );\n\n\t}\n\n}\n\nfunction setValueV3f( gl, v ) {\n\n\tvar cache = this.cache;\n\n\tif ( v.x !== undefined ) {\n\n\t\tif ( cache[ 0 ] !== v.x || cache[ 1 ] !== v.y || cache[ 2 ] !== v.z ) {\n\n\t\t\tgl.uniform3f( this.addr, v.x, v.y, v.z );\n\n\t\t\tcache[ 0 ] = v.x;\n\t\t\tcache[ 1 ] = v.y;\n\t\t\tcache[ 2 ] = v.z;\n\n\t\t}\n\n\t} else if ( v.r !== undefined ) {\n\n\t\tif ( cache[ 0 ] !== v.r || cache[ 1 ] !== v.g || cache[ 2 ] !== v.b ) {\n\n\t\t\tgl.uniform3f( this.addr, v.r, v.g, v.b );\n\n\t\t\tcache[ 0 ] = v.r;\n\t\t\tcache[ 1 ] = v.g;\n\t\t\tcache[ 2 ] = v.b;\n\n\t\t}\n\n\t} else {\n\n\t\tif ( arraysEqual( cache, v ) ) return;\n\n\t\tgl.uniform3fv( this.addr, v );\n\n\t\tcopyArray( cache, v );\n\n\t}\n\n}\n\nfunction setValueV4f( gl, v ) {\n\n\tvar cache = this.cache;\n\n\tif ( v.x !== undefined ) {\n\n\t\tif ( cache[ 0 ] !== v.x || cache[ 1 ] !== v.y || cache[ 2 ] !== v.z || cache[ 3 ] !== v.w ) {\n\n\t\t\tgl.uniform4f( this.addr, v.x, v.y, v.z, v.w );\n\n\t\t\tcache[ 0 ] = v.x;\n\t\t\tcache[ 1 ] = v.y;\n\t\t\tcache[ 2 ] = v.z;\n\t\t\tcache[ 3 ] = v.w;\n\n\t\t}\n\n\t} else {\n\n\t\tif ( arraysEqual( cache, v ) ) return;\n\n\t\tgl.uniform4fv( this.addr, v );\n\n\t\tcopyArray( cache, v );\n\n\t}\n\n}\n\n// Single matrix (from flat array or MatrixN)\n\nfunction setValueM2( gl, v ) {\n\n\tvar cache = this.cache;\n\tvar elements = v.elements;\n\n\tif ( elements === undefined ) {\n\n\t\tif ( arraysEqual( cache, v ) ) return;\n\n\t\tgl.uniformMatrix2fv( this.addr, false, v );\n\n\t\tcopyArray( cache, v );\n\n\t} else {\n\n\t\tif ( arraysEqual( cache, elements ) ) return;\n\n\t\tmat2array.set( elements );\n\n\t\tgl.uniformMatrix2fv( this.addr, false, mat2array );\n\n\t\tcopyArray( cache, elements );\n\n\t}\n\n}\n\nfunction setValueM3( gl, v ) {\n\n\tvar cache = this.cache;\n\tvar elements = v.elements;\n\n\tif ( elements === undefined ) {\n\n\t\tif ( arraysEqual( cache, v ) ) return;\n\n\t\tgl.uniformMatrix3fv( this.addr, false, v );\n\n\t\tcopyArray( cache, v );\n\n\t} else {\n\n\t\tif ( arraysEqual( cache, elements ) ) return;\n\n\t\tmat3array.set( elements );\n\n\t\tgl.uniformMatrix3fv( this.addr, false, mat3array );\n\n\t\tcopyArray( cache, elements );\n\n\t}\n\n}\n\nfunction setValueM4( gl, v ) {\n\n\tvar cache = this.cache;\n\tvar elements = v.elements;\n\n\tif ( elements === undefined ) {\n\n\t\tif ( arraysEqual( cache, v ) ) return;\n\n\t\tgl.uniformMatrix4fv( this.addr, false, v );\n\n\t\tcopyArray( cache, v );\n\n\t} else {\n\n\t\tif ( arraysEqual( cache, elements ) ) return;\n\n\t\tmat4array.set( elements );\n\n\t\tgl.uniformMatrix4fv( this.addr, false, mat4array );\n\n\t\tcopyArray( cache, elements );\n\n\t}\n\n}\n\n// Single texture (2D / Cube)\n\nfunction setValueT1( gl, v, textures ) {\n\n\tvar cache = this.cache;\n\tvar unit = textures.allocateTextureUnit();\n\n\tif ( cache[ 0 ] !== unit ) {\n\n\t\tgl.uniform1i( this.addr, unit );\n\t\tcache[ 0 ] = unit;\n\n\t}\n\n\ttextures.safeSetTexture2D( v || emptyTexture, unit );\n\n}\n\nfunction setValueT2DArray1( gl, v, textures ) {\n\n\tvar cache = this.cache;\n\tvar unit = textures.allocateTextureUnit();\n\n\tif ( cache[ 0 ] !== unit ) {\n\n\t\tgl.uniform1i( this.addr, unit );\n\t\tcache[ 0 ] = unit;\n\n\t}\n\n\ttextures.setTexture2DArray( v || emptyTexture2dArray, unit );\n\n}\n\nfunction setValueT3D1( gl, v, textures ) {\n\n\tvar cache = this.cache;\n\tvar unit = textures.allocateTextureUnit();\n\n\tif ( cache[ 0 ] !== unit ) {\n\n\t\tgl.uniform1i( this.addr, unit );\n\t\tcache[ 0 ] = unit;\n\n\t}\n\n\ttextures.setTexture3D( v || emptyTexture3d, unit );\n\n}\n\nfunction setValueT6( gl, v, textures ) {\n\n\tvar cache = this.cache;\n\tvar unit = textures.allocateTextureUnit();\n\n\tif ( cache[ 0 ] !== unit ) {\n\n\t\tgl.uniform1i( this.addr, unit );\n\t\tcache[ 0 ] = unit;\n\n\t}\n\n\ttextures.safeSetTextureCube( v || emptyCubeTexture, unit );\n\n}\n\n// Integer / Boolean vectors or arrays thereof (always flat arrays)\n\nfunction setValueV1i( gl, v ) {\n\n\tvar cache = this.cache;\n\n\tif ( cache[ 0 ] === v ) return;\n\n\tgl.uniform1i( this.addr, v );\n\n\tcache[ 0 ] = v;\n\n}\n\nfunction setValueV2i( gl, v ) {\n\n\tvar cache = this.cache;\n\n\tif ( arraysEqual( cache, v ) ) return;\n\n\tgl.uniform2iv( this.addr, v );\n\n\tcopyArray( cache, v );\n\n}\n\nfunction setValueV3i( gl, v ) {\n\n\tvar cache = this.cache;\n\n\tif ( arraysEqual( cache, v ) ) return;\n\n\tgl.uniform3iv( this.addr, v );\n\n\tcopyArray( cache, v );\n\n}\n\nfunction setValueV4i( gl, v ) {\n\n\tvar cache = this.cache;\n\n\tif ( arraysEqual( cache, v ) ) return;\n\n\tgl.uniform4iv( this.addr, v );\n\n\tcopyArray( cache, v );\n\n}\n\n// Helper to pick the right setter for the singular case\n\nfunction getSingularSetter( type ) {\n\n\tswitch ( type ) {\n\n\t\tcase 0x1406: return setValueV1f; // FLOAT\n\t\tcase 0x8b50: return setValueV2f; // _VEC2\n\t\tcase 0x8b51: return setValueV3f; // _VEC3\n\t\tcase 0x8b52: return setValueV4f; // _VEC4\n\n\t\tcase 0x8b5a: return setValueM2; // _MAT2\n\t\tcase 0x8b5b: return setValueM3; // _MAT3\n\t\tcase 0x8b5c: return setValueM4; // _MAT4\n\n\t\tcase 0x8b5e: case 0x8d66: return setValueT1; // SAMPLER_2D, SAMPLER_EXTERNAL_OES\n\t\tcase 0x8b5f: return setValueT3D1; // SAMPLER_3D\n\t\tcase 0x8b60: return setValueT6; // SAMPLER_CUBE\n\t\tcase 0x8DC1: return setValueT2DArray1; // SAMPLER_2D_ARRAY\n\n\t\tcase 0x1404: case 0x8b56: return setValueV1i; // INT, BOOL\n\t\tcase 0x8b53: case 0x8b57: return setValueV2i; // _VEC2\n\t\tcase 0x8b54: case 0x8b58: return setValueV3i; // _VEC3\n\t\tcase 0x8b55: case 0x8b59: return setValueV4i; // _VEC4\n\n\t}\n\n}\n\n// Array of scalars\nfunction setValueV1fArray( gl, v ) {\n\n\tgl.uniform1fv( this.addr, v );\n\n}\n\n// Integer / Boolean vectors or arrays thereof (always flat arrays)\nfunction setValueV1iArray( gl, v ) {\n\n\tgl.uniform1iv( this.addr, v );\n\n}\n\nfunction setValueV2iArray( gl, v ) {\n\n\tgl.uniform2iv( this.addr, v );\n\n}\n\nfunction setValueV3iArray( gl, v ) {\n\n\tgl.uniform3iv( this.addr, v );\n\n}\n\nfunction setValueV4iArray( gl, v ) {\n\n\tgl.uniform4iv( this.addr, v );\n\n}\n\n\n// Array of vectors (flat or from THREE classes)\n\nfunction setValueV2fArray( gl, v ) {\n\n\tvar data = flatten( v, this.size, 2 );\n\n\tgl.uniform2fv( this.addr, data );\n\n}\n\nfunction setValueV3fArray( gl, v ) {\n\n\tvar data = flatten( v, this.size, 3 );\n\n\tgl.uniform3fv( this.addr, data );\n\n}\n\nfunction setValueV4fArray( gl, v ) {\n\n\tvar data = flatten( v, this.size, 4 );\n\n\tgl.uniform4fv( this.addr, data );\n\n}\n\n// Array of matrices (flat or from THREE clases)\n\nfunction setValueM2Array( gl, v ) {\n\n\tvar data = flatten( v, this.size, 4 );\n\n\tgl.uniformMatrix2fv( this.addr, false, data );\n\n}\n\nfunction setValueM3Array( gl, v ) {\n\n\tvar data = flatten( v, this.size, 9 );\n\n\tgl.uniformMatrix3fv( this.addr, false, data );\n\n}\n\nfunction setValueM4Array( gl, v ) {\n\n\tvar data = flatten( v, this.size, 16 );\n\n\tgl.uniformMatrix4fv( this.addr, false, data );\n\n}\n\n// Array of textures (2D / Cube)\n\nfunction setValueT1Array( gl, v, textures ) {\n\n\tvar n = v.length;\n\n\tvar units = allocTexUnits( textures, n );\n\n\tgl.uniform1iv( this.addr, units );\n\n\tfor ( var i = 0; i !== n; ++ i ) {\n\n\t\ttextures.safeSetTexture2D( v[ i ] || emptyTexture, units[ i ] );\n\n\t}\n\n}\n\nfunction setValueT6Array( gl, v, textures ) {\n\n\tvar n = v.length;\n\n\tvar units = allocTexUnits( textures, n );\n\n\tgl.uniform1iv( this.addr, units );\n\n\tfor ( var i = 0; i !== n; ++ i ) {\n\n\t\ttextures.safeSetTextureCube( v[ i ] || emptyCubeTexture, units[ i ] );\n\n\t}\n\n}\n\n// Helper to pick the right setter for a pure (bottom-level) array\n\nfunction getPureArraySetter( type ) {\n\n\tswitch ( type ) {\n\n\t\tcase 0x1406: return setValueV1fArray; // FLOAT\n\t\tcase 0x8b50: return setValueV2fArray; // _VEC2\n\t\tcase 0x8b51: return setValueV3fArray; // _VEC3\n\t\tcase 0x8b52: return setValueV4fArray; // _VEC4\n\n\t\tcase 0x8b5a: return setValueM2Array; // _MAT2\n\t\tcase 0x8b5b: return setValueM3Array; // _MAT3\n\t\tcase 0x8b5c: return setValueM4Array; // _MAT4\n\n\t\tcase 0x8b5e: return setValueT1Array; // SAMPLER_2D\n\t\tcase 0x8b60: return setValueT6Array; // SAMPLER_CUBE\n\n\t\tcase 0x1404: case 0x8b56: return setValueV1iArray; // INT, BOOL\n\t\tcase 0x8b53: case 0x8b57: return setValueV2iArray; // _VEC2\n\t\tcase 0x8b54: case 0x8b58: return setValueV3iArray; // _VEC3\n\t\tcase 0x8b55: case 0x8b59: return setValueV4iArray; // _VEC4\n\n\t}\n\n}\n\n// --- Uniform Classes ---\n\nfunction SingleUniform( id, activeInfo, addr ) {\n\n\tthis.id = id;\n\tthis.addr = addr;\n\tthis.cache = [];\n\tthis.setValue = getSingularSetter( activeInfo.type );\n\n\t// this.path = activeInfo.name; // DEBUG\n\n}\n\nfunction PureArrayUniform( id, activeInfo, addr ) {\n\n\tthis.id = id;\n\tthis.addr = addr;\n\tthis.cache = [];\n\tthis.size = activeInfo.size;\n\tthis.setValue = getPureArraySetter( activeInfo.type );\n\n\t// this.path = activeInfo.name; // DEBUG\n\n}\n\nPureArrayUniform.prototype.updateCache = function ( data ) {\n\n\tvar cache = this.cache;\n\n\tif ( data instanceof Float32Array && cache.length !== data.length ) {\n\n\t\tthis.cache = new Float32Array( data.length );\n\n\t}\n\n\tcopyArray( cache, data );\n\n};\n\nfunction StructuredUniform( id ) {\n\n\tthis.id = id;\n\n\tthis.seq = [];\n\tthis.map = {};\n\n}\n\nStructuredUniform.prototype.setValue = function ( gl, value, textures ) {\n\n\tvar seq = this.seq;\n\n\tfor ( var i = 0, n = seq.length; i !== n; ++ i ) {\n\n\t\tvar u = seq[ i ];\n\t\tu.setValue( gl, value[ u.id ], textures );\n\n\t}\n\n};\n\n// --- Top-level ---\n\n// Parser - builds up the property tree from the path strings\n\nvar RePathPart = /([\\w\\d_]+)(\\])?(\\[|\\.)?/g;\n\n// extracts\n// \t- the identifier (member name or array index)\n//  - followed by an optional right bracket (found when array index)\n//  - followed by an optional left bracket or dot (type of subscript)\n//\n// Note: These portions can be read in a non-overlapping fashion and\n// allow straightforward parsing of the hierarchy that WebGL encodes\n// in the uniform names.\n\nfunction addUniform( container, uniformObject ) {\n\n\tcontainer.seq.push( uniformObject );\n\tcontainer.map[ uniformObject.id ] = uniformObject;\n\n}\n\nfunction parseUniform( activeInfo, addr, container ) {\n\n\tvar path = activeInfo.name,\n\t\tpathLength = path.length;\n\n\t// reset RegExp object, because of the early exit of a previous run\n\tRePathPart.lastIndex = 0;\n\n\twhile ( true ) {\n\n\t\tvar match = RePathPart.exec( path ),\n\t\t\tmatchEnd = RePathPart.lastIndex,\n\n\t\t\tid = match[ 1 ],\n\t\t\tidIsIndex = match[ 2 ] === ']',\n\t\t\tsubscript = match[ 3 ];\n\n\t\tif ( idIsIndex ) id = id | 0; // convert to integer\n\n\t\tif ( subscript === undefined || subscript === '[' && matchEnd + 2 === pathLength ) {\n\n\t\t\t// bare name or \"pure\" bottom-level array \"[0]\" suffix\n\n\t\t\taddUniform( container, subscript === undefined ?\n\t\t\t\tnew SingleUniform( id, activeInfo, addr ) :\n\t\t\t\tnew PureArrayUniform( id, activeInfo, addr ) );\n\n\t\t\tbreak;\n\n\t\t} else {\n\n\t\t\t// step into inner node / create it in case it doesn't exist\n\n\t\t\tvar map = container.map, next = map[ id ];\n\n\t\t\tif ( next === undefined ) {\n\n\t\t\t\tnext = new StructuredUniform( id );\n\t\t\t\taddUniform( container, next );\n\n\t\t\t}\n\n\t\t\tcontainer = next;\n\n\t\t}\n\n\t}\n\n}\n\n// Root Container\n\nfunction WebGLUniforms( gl, program ) {\n\n\tthis.seq = [];\n\tthis.map = {};\n\n\tvar n = gl.getProgramParameter( program, 35718 );\n\n\tfor ( var i = 0; i < n; ++ i ) {\n\n\t\tvar info = gl.getActiveUniform( program, i ),\n\t\t\taddr = gl.getUniformLocation( program, info.name );\n\n\t\tparseUniform( info, addr, this );\n\n\t}\n\n}\n\nWebGLUniforms.prototype.setValue = function ( gl, name, value, textures ) {\n\n\tvar u = this.map[ name ];\n\n\tif ( u !== undefined ) u.setValue( gl, value, textures );\n\n};\n\nWebGLUniforms.prototype.setOptional = function ( gl, object, name ) {\n\n\tvar v = object[ name ];\n\n\tif ( v !== undefined ) this.setValue( gl, name, v );\n\n};\n\n\n// Static interface\n\nWebGLUniforms.upload = function ( gl, seq, values, textures ) {\n\n\tfor ( var i = 0, n = seq.length; i !== n; ++ i ) {\n\n\t\tvar u = seq[ i ],\n\t\t\tv = values[ u.id ];\n\n\t\tif ( v.needsUpdate !== false ) {\n\n\t\t\t// note: always updating when .needsUpdate is undefined\n\t\t\tu.setValue( gl, v.value, textures );\n\n\t\t}\n\n\t}\n\n};\n\nWebGLUniforms.seqWithValue = function ( seq, values ) {\n\n\tvar r = [];\n\n\tfor ( var i = 0, n = seq.length; i !== n; ++ i ) {\n\n\t\tvar u = seq[ i ];\n\t\tif ( u.id in values ) r.push( u );\n\n\t}\n\n\treturn r;\n\n};\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction addLineNumbers( string ) {\n\n\tvar lines = string.split( '\\n' );\n\n\tfor ( var i = 0; i < lines.length; i ++ ) {\n\n\t\tlines[ i ] = ( i + 1 ) + ': ' + lines[ i ];\n\n\t}\n\n\treturn lines.join( '\\n' );\n\n}\n\nfunction WebGLShader( gl, type, string, debug ) {\n\n\tvar shader = gl.createShader( type );\n\n\tgl.shaderSource( shader, string );\n\tgl.compileShader( shader );\n\n\tif ( debug === true ) {\n\n\t\tif ( gl.getShaderParameter( shader, 35713 ) === false ) {\n\n\t\t\tconsole.error( 'THREE.WebGLShader: Shader couldn\\'t compile.' );\n\n\t\t}\n\n\t\tif ( gl.getShaderInfoLog( shader ) !== '' ) {\n\n\t\t\tconsole.warn( 'THREE.WebGLShader: gl.getShaderInfoLog()', type === 35633 ? 'vertex' : 'fragment', gl.getShaderInfoLog( shader ), addLineNumbers( string ) );\n\n\t\t}\n\n\t}\n\n\t// --enable-privileged-webgl-extension\n\t// console.log( type, gl.getExtension( 'WEBGL_debug_shaders' ).getTranslatedShaderSource( shader ) );\n\n\treturn shader;\n\n}\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nvar programIdCount = 0;\n\nfunction getEncodingComponents( encoding ) {\n\n\tswitch ( encoding ) {\n\n\t\tcase LinearEncoding:\n\t\t\treturn [ 'Linear', '( value )' ];\n\t\tcase sRGBEncoding:\n\t\t\treturn [ 'sRGB', '( value )' ];\n\t\tcase RGBEEncoding:\n\t\t\treturn [ 'RGBE', '( value )' ];\n\t\tcase RGBM7Encoding:\n\t\t\treturn [ 'RGBM', '( value, 7.0 )' ];\n\t\tcase RGBM16Encoding:\n\t\t\treturn [ 'RGBM', '( value, 16.0 )' ];\n\t\tcase RGBDEncoding:\n\t\t\treturn [ 'RGBD', '( value, 256.0 )' ];\n\t\tcase GammaEncoding:\n\t\t\treturn [ 'Gamma', '( value, float( GAMMA_FACTOR ) )' ];\n\t\tdefault:\n\t\t\tthrow new Error( 'unsupported encoding: ' + encoding );\n\n\t}\n\n}\n\nfunction getTexelDecodingFunction( functionName, encoding ) {\n\n\tvar components = getEncodingComponents( encoding );\n\treturn 'vec4 ' + functionName + '( vec4 value ) { return ' + components[ 0 ] + 'ToLinear' + components[ 1 ] + '; }';\n\n}\n\nfunction getTexelEncodingFunction( functionName, encoding ) {\n\n\tvar components = getEncodingComponents( encoding );\n\treturn 'vec4 ' + functionName + '( vec4 value ) { return LinearTo' + components[ 0 ] + components[ 1 ] + '; }';\n\n}\n\nfunction getToneMappingFunction( functionName, toneMapping ) {\n\n\tvar toneMappingName;\n\n\tswitch ( toneMapping ) {\n\n\t\tcase LinearToneMapping:\n\t\t\ttoneMappingName = 'Linear';\n\t\t\tbreak;\n\n\t\tcase ReinhardToneMapping:\n\t\t\ttoneMappingName = 'Reinhard';\n\t\t\tbreak;\n\n\t\tcase Uncharted2ToneMapping:\n\t\t\ttoneMappingName = 'Uncharted2';\n\t\t\tbreak;\n\n\t\tcase CineonToneMapping:\n\t\t\ttoneMappingName = 'OptimizedCineon';\n\t\t\tbreak;\n\n\t\tcase ACESFilmicToneMapping:\n\t\t\ttoneMappingName = 'ACESFilmic';\n\t\t\tbreak;\n\n\t\tdefault:\n\t\t\tthrow new Error( 'unsupported toneMapping: ' + toneMapping );\n\n\t}\n\n\treturn 'vec3 ' + functionName + '( vec3 color ) { return ' + toneMappingName + 'ToneMapping( color ); }';\n\n}\n\nfunction generateExtensions( extensions, parameters, rendererExtensions ) {\n\n\textensions = extensions || {};\n\n\tvar chunks = [\n\t\t( extensions.derivatives || parameters.envMapCubeUV || parameters.bumpMap || ( parameters.normalMap && ! parameters.objectSpaceNormalMap ) || parameters.flatShading ) ? '#extension GL_OES_standard_derivatives : enable' : '',\n\t\t( extensions.fragDepth || parameters.logarithmicDepthBuffer ) && rendererExtensions.get( 'EXT_frag_depth' ) ? '#extension GL_EXT_frag_depth : enable' : '',\n\t\t( extensions.drawBuffers ) && rendererExtensions.get( 'WEBGL_draw_buffers' ) ? '#extension GL_EXT_draw_buffers : require' : '',\n\t\t( extensions.shaderTextureLOD || parameters.envMap ) && rendererExtensions.get( 'EXT_shader_texture_lod' ) ? '#extension GL_EXT_shader_texture_lod : enable' : ''\n\t];\n\n\treturn chunks.filter( filterEmptyLine ).join( '\\n' );\n\n}\n\nfunction generateDefines( defines ) {\n\n\tvar chunks = [];\n\n\tfor ( var name in defines ) {\n\n\t\tvar value = defines[ name ];\n\n\t\tif ( value === false ) continue;\n\n\t\tchunks.push( '#define ' + name + ' ' + value );\n\n\t}\n\n\treturn chunks.join( '\\n' );\n\n}\n\nfunction fetchAttributeLocations( gl, program ) {\n\n\tvar attributes = {};\n\n\tvar n = gl.getProgramParameter( program, 35721 );\n\n\tfor ( var i = 0; i < n; i ++ ) {\n\n\t\tvar info = gl.getActiveAttrib( program, i );\n\t\tvar name = info.name;\n\n\t\t// console.log( 'THREE.WebGLProgram: ACTIVE VERTEX ATTRIBUTE:', name, i );\n\n\t\tattributes[ name ] = gl.getAttribLocation( program, name );\n\n\t}\n\n\treturn attributes;\n\n}\n\nfunction filterEmptyLine( string ) {\n\n\treturn string !== '';\n\n}\n\nfunction replaceLightNums( string, parameters ) {\n\n\treturn string\n\t\t.replace( /NUM_DIR_LIGHTS/g, parameters.numDirLights )\n\t\t.replace( /NUM_SPOT_LIGHTS/g, parameters.numSpotLights )\n\t\t.replace( /NUM_RECT_AREA_LIGHTS/g, parameters.numRectAreaLights )\n\t\t.replace( /NUM_POINT_LIGHTS/g, parameters.numPointLights )\n\t\t.replace( /NUM_HEMI_LIGHTS/g, parameters.numHemiLights );\n\n}\n\nfunction replaceClippingPlaneNums( string, parameters ) {\n\n\treturn string\n\t\t.replace( /NUM_CLIPPING_PLANES/g, parameters.numClippingPlanes )\n\t\t.replace( /UNION_CLIPPING_PLANES/g, ( parameters.numClippingPlanes - parameters.numClipIntersection ) );\n\n}\n\nfunction parseIncludes( string ) {\n\n\tvar pattern = /^[ \\t]*#include +<([\\w\\d./]+)>/gm;\n\n\tfunction replace( match, include ) {\n\n\t\tvar replace = ShaderChunk[ include ];\n\n\t\tif ( replace === undefined ) {\n\n\t\t\tthrow new Error( 'Can not resolve #include <' + include + '>' );\n\n\t\t}\n\n\t\treturn parseIncludes( replace );\n\n\t}\n\n\treturn string.replace( pattern, replace );\n\n}\n\nfunction unrollLoops( string ) {\n\n\tvar pattern = /#pragma unroll_loop[\\s]+?for \\( int i \\= (\\d+)\\; i < (\\d+)\\; i \\+\\+ \\) \\{([\\s\\S]+?)(?=\\})\\}/g;\n\n\tfunction replace( match, start, end, snippet ) {\n\n\t\tvar unroll = '';\n\n\t\tfor ( var i = parseInt( start ); i < parseInt( end ); i ++ ) {\n\n\t\t\tunroll += snippet.replace( /\\[ i \\]/g, '[ ' + i + ' ]' );\n\n\t\t}\n\n\t\treturn unroll;\n\n\t}\n\n\treturn string.replace( pattern, replace );\n\n}\n\nfunction WebGLProgram( renderer, extensions, code, material, shader, parameters, capabilities, textures ) {\n\n\tvar gl = renderer.context;\n\n\tvar defines = material.defines;\n\n\tvar vertexShader = shader.vertexShader;\n\tvar fragmentShader = shader.fragmentShader;\n\n\tvar shadowMapTypeDefine = 'SHADOWMAP_TYPE_BASIC';\n\n\tif ( parameters.shadowMapType === PCFShadowMap ) {\n\n\t\tshadowMapTypeDefine = 'SHADOWMAP_TYPE_PCF';\n\n\t} else if ( parameters.shadowMapType === PCFSoftShadowMap ) {\n\n\t\tshadowMapTypeDefine = 'SHADOWMAP_TYPE_PCF_SOFT';\n\n\t}\n\n\tvar envMapTypeDefine = 'ENVMAP_TYPE_CUBE';\n\tvar envMapModeDefine = 'ENVMAP_MODE_REFLECTION';\n\tvar envMapBlendingDefine = 'ENVMAP_BLENDING_MULTIPLY';\n\n\tif ( parameters.envMap ) {\n\n\t\tswitch ( material.envMap.mapping ) {\n\n\t\t\tcase CubeReflectionMapping:\n\t\t\tcase CubeRefractionMapping:\n\t\t\t\tenvMapTypeDefine = 'ENVMAP_TYPE_CUBE';\n\t\t\t\tbreak;\n\n\t\t\tcase CubeUVReflectionMapping:\n\t\t\tcase CubeUVRefractionMapping:\n\t\t\t\tenvMapTypeDefine = 'ENVMAP_TYPE_CUBE_UV';\n\t\t\t\tbreak;\n\n\t\t\tcase EquirectangularReflectionMapping:\n\t\t\tcase EquirectangularRefractionMapping:\n\t\t\t\tenvMapTypeDefine = 'ENVMAP_TYPE_EQUIREC';\n\t\t\t\tbreak;\n\n\t\t\tcase SphericalReflectionMapping:\n\t\t\t\tenvMapTypeDefine = 'ENVMAP_TYPE_SPHERE';\n\t\t\t\tbreak;\n\n\t\t}\n\n\t\tswitch ( material.envMap.mapping ) {\n\n\t\t\tcase CubeRefractionMapping:\n\t\t\tcase EquirectangularRefractionMapping:\n\t\t\t\tenvMapModeDefine = 'ENVMAP_MODE_REFRACTION';\n\t\t\t\tbreak;\n\n\t\t}\n\n\t\tswitch ( material.combine ) {\n\n\t\t\tcase MultiplyOperation:\n\t\t\t\tenvMapBlendingDefine = 'ENVMAP_BLENDING_MULTIPLY';\n\t\t\t\tbreak;\n\n\t\t\tcase MixOperation:\n\t\t\t\tenvMapBlendingDefine = 'ENVMAP_BLENDING_MIX';\n\t\t\t\tbreak;\n\n\t\t\tcase AddOperation:\n\t\t\t\tenvMapBlendingDefine = 'ENVMAP_BLENDING_ADD';\n\t\t\t\tbreak;\n\n\t\t}\n\n\t}\n\n\tvar gammaFactorDefine = ( renderer.gammaFactor > 0 ) ? renderer.gammaFactor : 1.0;\n\n\t// console.log( 'building new program ' );\n\n\t//\n\n\tvar customExtensions = capabilities.isWebGL2 ? '' : generateExtensions( material.extensions, parameters, extensions );\n\n\tvar customDefines = generateDefines( defines );\n\n\t//\n\n\tvar program = gl.createProgram();\n\n\tvar prefixVertex, prefixFragment;\n\n\tif ( material.isRawShaderMaterial ) {\n\n\t\tprefixVertex = [\n\n\t\t\tcustomDefines\n\n\t\t].filter( filterEmptyLine ).join( '\\n' );\n\n\t\tif ( prefixVertex.length > 0 ) {\n\n\t\t\tprefixVertex += '\\n';\n\n\t\t}\n\n\t\tprefixFragment = [\n\n\t\t\tcustomExtensions,\n\t\t\tcustomDefines\n\n\t\t].filter( filterEmptyLine ).join( '\\n' );\n\n\t\tif ( prefixFragment.length > 0 ) {\n\n\t\t\tprefixFragment += '\\n';\n\n\t\t}\n\n\t} else {\n\n\t\tprefixVertex = [\n\n\t\t\t'precision ' + parameters.precision + ' float;',\n\t\t\t'precision ' + parameters.precision + ' int;',\n\n\t\t\t'#define SHADER_NAME ' + shader.name,\n\n\t\t\tcustomDefines,\n\n\t\t\tparameters.supportsVertexTextures ? '#define VERTEX_TEXTURES' : '',\n\n\t\t\t'#define GAMMA_FACTOR ' + gammaFactorDefine,\n\n\t\t\t'#define MAX_BONES ' + parameters.maxBones,\n\t\t\t( parameters.useFog && parameters.fog ) ? '#define USE_FOG' : '',\n\t\t\t( parameters.useFog && parameters.fogExp ) ? '#define FOG_EXP2' : '',\n\n\t\t\tparameters.map ? '#define USE_MAP' : '',\n\t\t\tparameters.envMap ? '#define USE_ENVMAP' : '',\n\t\t\tparameters.envMap ? '#define ' + envMapModeDefine : '',\n\t\t\tparameters.lightMap ? '#define USE_LIGHTMAP' : '',\n\t\t\tparameters.aoMap ? '#define USE_AOMAP' : '',\n\t\t\tparameters.emissiveMap ? '#define USE_EMISSIVEMAP' : '',\n\t\t\tparameters.bumpMap ? '#define USE_BUMPMAP' : '',\n\t\t\tparameters.normalMap ? '#define USE_NORMALMAP' : '',\n\t\t\t( parameters.normalMap && parameters.objectSpaceNormalMap ) ? '#define OBJECTSPACE_NORMALMAP' : '',\n\t\t\tparameters.displacementMap && parameters.supportsVertexTextures ? '#define USE_DISPLACEMENTMAP' : '',\n\t\t\tparameters.specularMap ? '#define USE_SPECULARMAP' : '',\n\t\t\tparameters.roughnessMap ? '#define USE_ROUGHNESSMAP' : '',\n\t\t\tparameters.metalnessMap ? '#define USE_METALNESSMAP' : '',\n\t\t\tparameters.alphaMap ? '#define USE_ALPHAMAP' : '',\n\n\t\t\tparameters.vertexTangents ? '#define USE_TANGENT' : '',\n\t\t\tparameters.vertexColors ? '#define USE_COLOR' : '',\n\n\t\t\tparameters.flatShading ? '#define FLAT_SHADED' : '',\n\n\t\t\tparameters.skinning ? '#define USE_SKINNING' : '',\n\t\t\tparameters.useVertexTexture ? '#define BONE_TEXTURE' : '',\n\n\t\t\tparameters.morphTargets ? '#define USE_MORPHTARGETS' : '',\n\t\t\tparameters.morphNormals && parameters.flatShading === false ? '#define USE_MORPHNORMALS' : '',\n\t\t\tparameters.doubleSided ? '#define DOUBLE_SIDED' : '',\n\t\t\tparameters.flipSided ? '#define FLIP_SIDED' : '',\n\n\t\t\tparameters.shadowMapEnabled ? '#define USE_SHADOWMAP' : '',\n\t\t\tparameters.shadowMapEnabled ? '#define ' + shadowMapTypeDefine : '',\n\n\t\t\tparameters.sizeAttenuation ? '#define USE_SIZEATTENUATION' : '',\n\n\t\t\tparameters.logarithmicDepthBuffer ? '#define USE_LOGDEPTHBUF' : '',\n\t\t\tparameters.logarithmicDepthBuffer && ( capabilities.isWebGL2 || extensions.get( 'EXT_frag_depth' ) ) ? '#define USE_LOGDEPTHBUF_EXT' : '',\n\n\t\t\t'uniform mat4 modelMatrix;',\n\t\t\t'uniform mat4 modelViewMatrix;',\n\t\t\t'uniform mat4 projectionMatrix;',\n\t\t\t'uniform mat4 viewMatrix;',\n\t\t\t'uniform mat3 normalMatrix;',\n\t\t\t'uniform vec3 cameraPosition;',\n\n\t\t\t'attribute vec3 position;',\n\t\t\t'attribute vec3 normal;',\n\t\t\t'attribute vec2 uv;',\n\n\t\t\t'#ifdef USE_TANGENT',\n\n\t\t\t'\tattribute vec4 tangent;',\n\n\t\t\t'#endif',\n\n\t\t\t'#ifdef USE_COLOR',\n\n\t\t\t'\tattribute vec3 color;',\n\n\t\t\t'#endif',\n\n\t\t\t'#ifdef USE_MORPHTARGETS',\n\n\t\t\t'\tattribute vec3 morphTarget0;',\n\t\t\t'\tattribute vec3 morphTarget1;',\n\t\t\t'\tattribute vec3 morphTarget2;',\n\t\t\t'\tattribute vec3 morphTarget3;',\n\n\t\t\t'\t#ifdef USE_MORPHNORMALS',\n\n\t\t\t'\t\tattribute vec3 morphNormal0;',\n\t\t\t'\t\tattribute vec3 morphNormal1;',\n\t\t\t'\t\tattribute vec3 morphNormal2;',\n\t\t\t'\t\tattribute vec3 morphNormal3;',\n\n\t\t\t'\t#else',\n\n\t\t\t'\t\tattribute vec3 morphTarget4;',\n\t\t\t'\t\tattribute vec3 morphTarget5;',\n\t\t\t'\t\tattribute vec3 morphTarget6;',\n\t\t\t'\t\tattribute vec3 morphTarget7;',\n\n\t\t\t'\t#endif',\n\n\t\t\t'#endif',\n\n\t\t\t'#ifdef USE_SKINNING',\n\n\t\t\t'\tattribute vec4 skinIndex;',\n\t\t\t'\tattribute vec4 skinWeight;',\n\n\t\t\t'#endif',\n\n\t\t\t'\\n'\n\n\t\t].filter( filterEmptyLine ).join( '\\n' );\n\n\t\tprefixFragment = [\n\n\t\t\tcustomExtensions,\n\n\t\t\t'precision ' + parameters.precision + ' float;',\n\t\t\t'precision ' + parameters.precision + ' int;',\n\n\t\t\t'#define SHADER_NAME ' + shader.name,\n\n\t\t\tcustomDefines,\n\n\t\t\tparameters.alphaTest ? '#define ALPHATEST ' + parameters.alphaTest + ( parameters.alphaTest % 1 ? '' : '.0' ) : '', // add '.0' if integer\n\n\t\t\t'#define GAMMA_FACTOR ' + gammaFactorDefine,\n\n\t\t\t( parameters.useFog && parameters.fog ) ? '#define USE_FOG' : '',\n\t\t\t( parameters.useFog && parameters.fogExp ) ? '#define FOG_EXP2' : '',\n\n\t\t\tparameters.map ? '#define USE_MAP' : '',\n\t\t\tparameters.matcap ? '#define USE_MATCAP' : '',\n\t\t\tparameters.envMap ? '#define USE_ENVMAP' : '',\n\t\t\tparameters.envMap ? '#define ' + envMapTypeDefine : '',\n\t\t\tparameters.envMap ? '#define ' + envMapModeDefine : '',\n\t\t\tparameters.envMap ? '#define ' + envMapBlendingDefine : '',\n\t\t\tparameters.lightMap ? '#define USE_LIGHTMAP' : '',\n\t\t\tparameters.aoMap ? '#define USE_AOMAP' : '',\n\t\t\tparameters.emissiveMap ? '#define USE_EMISSIVEMAP' : '',\n\t\t\tparameters.bumpMap ? '#define USE_BUMPMAP' : '',\n\t\t\tparameters.normalMap ? '#define USE_NORMALMAP' : '',\n\t\t\t( parameters.normalMap && parameters.objectSpaceNormalMap ) ? '#define OBJECTSPACE_NORMALMAP' : '',\n\t\t\tparameters.specularMap ? '#define USE_SPECULARMAP' : '',\n\t\t\tparameters.roughnessMap ? '#define USE_ROUGHNESSMAP' : '',\n\t\t\tparameters.metalnessMap ? '#define USE_METALNESSMAP' : '',\n\t\t\tparameters.alphaMap ? '#define USE_ALPHAMAP' : '',\n\n\t\t\tparameters.vertexTangents ? '#define USE_TANGENT' : '',\n\t\t\tparameters.vertexColors ? '#define USE_COLOR' : '',\n\n\t\t\tparameters.gradientMap ? '#define USE_GRADIENTMAP' : '',\n\n\t\t\tparameters.flatShading ? '#define FLAT_SHADED' : '',\n\n\t\t\tparameters.doubleSided ? '#define DOUBLE_SIDED' : '',\n\t\t\tparameters.flipSided ? '#define FLIP_SIDED' : '',\n\n\t\t\tparameters.shadowMapEnabled ? '#define USE_SHADOWMAP' : '',\n\t\t\tparameters.shadowMapEnabled ? '#define ' + shadowMapTypeDefine : '',\n\n\t\t\tparameters.premultipliedAlpha ? '#define PREMULTIPLIED_ALPHA' : '',\n\n\t\t\tparameters.physicallyCorrectLights ? '#define PHYSICALLY_CORRECT_LIGHTS' : '',\n\n\t\t\tparameters.logarithmicDepthBuffer ? '#define USE_LOGDEPTHBUF' : '',\n\t\t\tparameters.logarithmicDepthBuffer && ( capabilities.isWebGL2 || extensions.get( 'EXT_frag_depth' ) ) ? '#define USE_LOGDEPTHBUF_EXT' : '',\n\n\t\t\tparameters.envMap && ( capabilities.isWebGL2 || extensions.get( 'EXT_shader_texture_lod' ) ) ? '#define TEXTURE_LOD_EXT' : '',\n\n\t\t\t'uniform mat4 viewMatrix;',\n\t\t\t'uniform vec3 cameraPosition;',\n\n\t\t\t( parameters.toneMapping !== NoToneMapping ) ? '#define TONE_MAPPING' : '',\n\t\t\t( parameters.toneMapping !== NoToneMapping ) ? ShaderChunk[ 'tonemapping_pars_fragment' ] : '', // this code is required here because it is used by the toneMapping() function defined below\n\t\t\t( parameters.toneMapping !== NoToneMapping ) ? getToneMappingFunction( 'toneMapping', parameters.toneMapping ) : '',\n\n\t\t\tparameters.dithering ? '#define DITHERING' : '',\n\n\t\t\t( parameters.outputEncoding || parameters.mapEncoding || parameters.matcapEncoding || parameters.envMapEncoding || parameters.emissiveMapEncoding ) ?\n\t\t\t\tShaderChunk[ 'encodings_pars_fragment' ] : '', // this code is required here because it is used by the various encoding/decoding function defined below\n\t\t\tparameters.mapEncoding ? getTexelDecodingFunction( 'mapTexelToLinear', parameters.mapEncoding ) : '',\n\t\t\tparameters.matcapEncoding ? getTexelDecodingFunction( 'matcapTexelToLinear', parameters.matcapEncoding ) : '',\n\t\t\tparameters.envMapEncoding ? getTexelDecodingFunction( 'envMapTexelToLinear', parameters.envMapEncoding ) : '',\n\t\t\tparameters.emissiveMapEncoding ? getTexelDecodingFunction( 'emissiveMapTexelToLinear', parameters.emissiveMapEncoding ) : '',\n\t\t\tparameters.outputEncoding ? getTexelEncodingFunction( 'linearToOutputTexel', parameters.outputEncoding ) : '',\n\n\t\t\tparameters.depthPacking ? '#define DEPTH_PACKING ' + material.depthPacking : '',\n\n\t\t\t'\\n'\n\n\t\t].filter( filterEmptyLine ).join( '\\n' );\n\n\t}\n\n\tvertexShader = parseIncludes( vertexShader );\n\tvertexShader = replaceLightNums( vertexShader, parameters );\n\tvertexShader = replaceClippingPlaneNums( vertexShader, parameters );\n\n\tfragmentShader = parseIncludes( fragmentShader );\n\tfragmentShader = replaceLightNums( fragmentShader, parameters );\n\tfragmentShader = replaceClippingPlaneNums( fragmentShader, parameters );\n\n\tvertexShader = unrollLoops( vertexShader );\n\tfragmentShader = unrollLoops( fragmentShader );\n\n\tif ( capabilities.isWebGL2 && ! material.isRawShaderMaterial ) {\n\n\t\tvar isGLSL3ShaderMaterial = false;\n\n\t\tvar versionRegex = /^\\s*#version\\s+300\\s+es\\s*\\n/;\n\n\t\tif ( material.isShaderMaterial &&\n\t\t\tvertexShader.match( versionRegex ) !== null &&\n\t\t\tfragmentShader.match( versionRegex ) !== null ) {\n\n\t\t\tisGLSL3ShaderMaterial = true;\n\n\t\t\tvertexShader = vertexShader.replace( versionRegex, '' );\n\t\t\tfragmentShader = fragmentShader.replace( versionRegex, '' );\n\n\t\t}\n\n\t\t// GLSL 3.0 conversion\n\t\tprefixVertex = [\n\t\t\t'#version 300 es\\n',\n\t\t\t'#define attribute in',\n\t\t\t'#define varying out',\n\t\t\t'#define texture2D texture'\n\t\t].join( '\\n' ) + '\\n' + prefixVertex;\n\n\t\tprefixFragment = [\n\t\t\t'#version 300 es\\n',\n\t\t\t'#define varying in',\n\t\t\tisGLSL3ShaderMaterial ? '' : 'out highp vec4 pc_fragColor;',\n\t\t\tisGLSL3ShaderMaterial ? '' : '#define gl_FragColor pc_fragColor',\n\t\t\t'#define gl_FragDepthEXT gl_FragDepth',\n\t\t\t'#define texture2D texture',\n\t\t\t'#define textureCube texture',\n\t\t\t'#define texture2DProj textureProj',\n\t\t\t'#define texture2DLodEXT textureLod',\n\t\t\t'#define texture2DProjLodEXT textureProjLod',\n\t\t\t'#define textureCubeLodEXT textureLod',\n\t\t\t'#define texture2DGradEXT textureGrad',\n\t\t\t'#define texture2DProjGradEXT textureProjGrad',\n\t\t\t'#define textureCubeGradEXT textureGrad'\n\t\t].join( '\\n' ) + '\\n' + prefixFragment;\n\n\t}\n\n\tvar vertexGlsl = prefixVertex + vertexShader;\n\tvar fragmentGlsl = prefixFragment + fragmentShader;\n\n\t// console.log( '*VERTEX*', vertexGlsl );\n\t// console.log( '*FRAGMENT*', fragmentGlsl );\n\n\tvar glVertexShader = WebGLShader( gl, 35633, vertexGlsl, renderer.debug.checkShaderErrors );\n\tvar glFragmentShader = WebGLShader( gl, 35632, fragmentGlsl, renderer.debug.checkShaderErrors );\n\n\tgl.attachShader( program, glVertexShader );\n\tgl.attachShader( program, glFragmentShader );\n\n\t// Force a particular attribute to index 0.\n\n\tif ( material.index0AttributeName !== undefined ) {\n\n\t\tgl.bindAttribLocation( program, 0, material.index0AttributeName );\n\n\t} else if ( parameters.morphTargets === true ) {\n\n\t\t// programs with morphTargets displace position out of attribute 0\n\t\tgl.bindAttribLocation( program, 0, 'position' );\n\n\t}\n\n\tgl.linkProgram( program );\n\n\t// check for link errors\n\tif ( renderer.debug.checkShaderErrors ) {\n\n\t\tvar programLog = gl.getProgramInfoLog( program ).trim();\n\t\tvar vertexLog = gl.getShaderInfoLog( glVertexShader ).trim();\n\t\tvar fragmentLog = gl.getShaderInfoLog( glFragmentShader ).trim();\n\n\t\tvar runnable = true;\n\t\tvar haveDiagnostics = true;\n\n\t\t// console.log( '**VERTEX**', gl.getExtension( 'WEBGL_debug_shaders' ).getTranslatedShaderSource( glVertexShader ) );\n\t\t// console.log( '**FRAGMENT**', gl.getExtension( 'WEBGL_debug_shaders' ).getTranslatedShaderSource( glFragmentShader ) );\n\n\t\tif ( gl.getProgramParameter( program, 35714 ) === false ) {\n\n\t\t\trunnable = false;\n\n\t\t\tconsole.error( 'THREE.WebGLProgram: shader error: ', gl.getError(), '35715', gl.getProgramParameter( program, 35715 ), 'gl.getProgramInfoLog', programLog, vertexLog, fragmentLog );\n\n\t\t} else if ( programLog !== '' ) {\n\n\t\t\tconsole.warn( 'THREE.WebGLProgram: gl.getProgramInfoLog()', programLog );\n\n\t\t} else if ( vertexLog === '' || fragmentLog === '' ) {\n\n\t\t\thaveDiagnostics = false;\n\n\t\t}\n\n\t\tif ( haveDiagnostics ) {\n\n\t\t\tthis.diagnostics = {\n\n\t\t\t\trunnable: runnable,\n\t\t\t\tmaterial: material,\n\n\t\t\t\tprogramLog: programLog,\n\n\t\t\t\tvertexShader: {\n\n\t\t\t\t\tlog: vertexLog,\n\t\t\t\t\tprefix: prefixVertex\n\n\t\t\t\t},\n\n\t\t\t\tfragmentShader: {\n\n\t\t\t\t\tlog: fragmentLog,\n\t\t\t\t\tprefix: prefixFragment\n\n\t\t\t\t}\n\n\t\t\t};\n\n\t\t}\n\n\t}\n\n\t// clean up\n\n\tgl.deleteShader( glVertexShader );\n\tgl.deleteShader( glFragmentShader );\n\n\t// set up caching for uniform locations\n\n\tvar cachedUniforms;\n\n\tthis.getUniforms = function () {\n\n\t\tif ( cachedUniforms === undefined ) {\n\n\t\t\tcachedUniforms = new WebGLUniforms( gl, program, textures );\n\n\t\t}\n\n\t\treturn cachedUniforms;\n\n\t};\n\n\t// set up caching for attribute locations\n\n\tvar cachedAttributes;\n\n\tthis.getAttributes = function () {\n\n\t\tif ( cachedAttributes === undefined ) {\n\n\t\t\tcachedAttributes = fetchAttributeLocations( gl, program );\n\n\t\t}\n\n\t\treturn cachedAttributes;\n\n\t};\n\n\t// free resource\n\n\tthis.destroy = function () {\n\n\t\tgl.deleteProgram( program );\n\t\tthis.program = undefined;\n\n\t};\n\n\t// DEPRECATED\n\n\tObject.defineProperties( this, {\n\n\t\tuniforms: {\n\t\t\tget: function () {\n\n\t\t\t\tconsole.warn( 'THREE.WebGLProgram: .uniforms is now .getUniforms().' );\n\t\t\t\treturn this.getUniforms();\n\n\t\t\t}\n\t\t},\n\n\t\tattributes: {\n\t\t\tget: function () {\n\n\t\t\t\tconsole.warn( 'THREE.WebGLProgram: .attributes is now .getAttributes().' );\n\t\t\t\treturn this.getAttributes();\n\n\t\t\t}\n\t\t}\n\n\t} );\n\n\n\t//\n\n\tthis.name = shader.name;\n\tthis.id = programIdCount ++;\n\tthis.code = code;\n\tthis.usedTimes = 1;\n\tthis.program = program;\n\tthis.vertexShader = glVertexShader;\n\tthis.fragmentShader = glFragmentShader;\n\n\treturn this;\n\n}\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction WebGLPrograms( renderer, extensions, capabilities, textures ) {\n\n\tvar programs = [];\n\n\tvar shaderIDs = {\n\t\tMeshDepthMaterial: 'depth',\n\t\tMeshDistanceMaterial: 'distanceRGBA',\n\t\tMeshNormalMaterial: 'normal',\n\t\tMeshBasicMaterial: 'basic',\n\t\tMeshLambertMaterial: 'lambert',\n\t\tMeshPhongMaterial: 'phong',\n\t\tMeshToonMaterial: 'phong',\n\t\tMeshStandardMaterial: 'physical',\n\t\tMeshPhysicalMaterial: 'physical',\n\t\tMeshMatcapMaterial: 'matcap',\n\t\tLineBasicMaterial: 'basic',\n\t\tLineDashedMaterial: 'dashed',\n\t\tPointsMaterial: 'points',\n\t\tShadowMaterial: 'shadow',\n\t\tSpriteMaterial: 'sprite'\n\t};\n\n\tvar parameterNames = [\n\t\t\"precision\", \"supportsVertexTextures\", \"map\", \"mapEncoding\", \"matcap\", \"matcapEncoding\", \"envMap\", \"envMapMode\", \"envMapEncoding\",\n\t\t\"lightMap\", \"aoMap\", \"emissiveMap\", \"emissiveMapEncoding\", \"bumpMap\", \"normalMap\", \"objectSpaceNormalMap\", \"displacementMap\", \"specularMap\",\n\t\t\"roughnessMap\", \"metalnessMap\", \"gradientMap\",\n\t\t\"alphaMap\", \"combine\", \"vertexColors\", \"vertexTangents\", \"fog\", \"useFog\", \"fogExp\",\n\t\t\"flatShading\", \"sizeAttenuation\", \"logarithmicDepthBuffer\", \"skinning\",\n\t\t\"maxBones\", \"useVertexTexture\", \"morphTargets\", \"morphNormals\",\n\t\t\"maxMorphTargets\", \"maxMorphNormals\", \"premultipliedAlpha\",\n\t\t\"numDirLights\", \"numPointLights\", \"numSpotLights\", \"numHemiLights\", \"numRectAreaLights\",\n\t\t\"shadowMapEnabled\", \"shadowMapType\", \"toneMapping\", 'physicallyCorrectLights',\n\t\t\"alphaTest\", \"doubleSided\", \"flipSided\", \"numClippingPlanes\", \"numClipIntersection\", \"depthPacking\", \"dithering\"\n\t];\n\n\n\tfunction allocateBones( object ) {\n\n\t\tvar skeleton = object.skeleton;\n\t\tvar bones = skeleton.bones;\n\n\t\tif ( capabilities.floatVertexTextures ) {\n\n\t\t\treturn 1024;\n\n\t\t} else {\n\n\t\t\t// default for when object is not specified\n\t\t\t// ( for example when prebuilding shader to be used with multiple objects )\n\t\t\t//\n\t\t\t//  - leave some extra space for other uniforms\n\t\t\t//  - limit here is ANGLE's 254 max uniform vectors\n\t\t\t//    (up to 54 should be safe)\n\n\t\t\tvar nVertexUniforms = capabilities.maxVertexUniforms;\n\t\t\tvar nVertexMatrices = Math.floor( ( nVertexUniforms - 20 ) / 4 );\n\n\t\t\tvar maxBones = Math.min( nVertexMatrices, bones.length );\n\n\t\t\tif ( maxBones < bones.length ) {\n\n\t\t\t\tconsole.warn( 'THREE.WebGLRenderer: Skeleton has ' + bones.length + ' bones. This GPU supports ' + maxBones + '.' );\n\t\t\t\treturn 0;\n\n\t\t\t}\n\n\t\t\treturn maxBones;\n\n\t\t}\n\n\t}\n\n\tfunction getTextureEncodingFromMap( map, gammaOverrideLinear ) {\n\n\t\tvar encoding;\n\n\t\tif ( ! map ) {\n\n\t\t\tencoding = LinearEncoding;\n\n\t\t} else if ( map.isTexture ) {\n\n\t\t\tencoding = map.encoding;\n\n\t\t} else if ( map.isWebGLRenderTarget ) {\n\n\t\t\tconsole.warn( \"THREE.WebGLPrograms.getTextureEncodingFromMap: don't use render targets as textures. Use their .texture property instead.\" );\n\t\t\tencoding = map.texture.encoding;\n\n\t\t}\n\n\t\t// add backwards compatibility for WebGLRenderer.gammaInput/gammaOutput parameter, should probably be removed at some point.\n\t\tif ( encoding === LinearEncoding && gammaOverrideLinear ) {\n\n\t\t\tencoding = GammaEncoding;\n\n\t\t}\n\n\t\treturn encoding;\n\n\t}\n\n\tthis.getParameters = function ( material, lights, shadows, fog, nClipPlanes, nClipIntersection, object ) {\n\n\t\tvar shaderID = shaderIDs[ material.type ];\n\n\t\t// heuristics to create shader parameters according to lights in the scene\n\t\t// (not to blow over maxLights budget)\n\n\t\tvar maxBones = object.isSkinnedMesh ? allocateBones( object ) : 0;\n\t\tvar precision = capabilities.precision;\n\n\t\tif ( material.precision !== null ) {\n\n\t\t\tprecision = capabilities.getMaxPrecision( material.precision );\n\n\t\t\tif ( precision !== material.precision ) {\n\n\t\t\t\tconsole.warn( 'THREE.WebGLProgram.getParameters:', material.precision, 'not supported, using', precision, 'instead.' );\n\n\t\t\t}\n\n\t\t}\n\n\t\tvar currentRenderTarget = renderer.getRenderTarget();\n\n\t\tvar parameters = {\n\n\t\t\tshaderID: shaderID,\n\n\t\t\tprecision: precision,\n\t\t\tsupportsVertexTextures: capabilities.vertexTextures,\n\t\t\toutputEncoding: getTextureEncodingFromMap( ( ! currentRenderTarget ) ? null : currentRenderTarget.texture, renderer.gammaOutput ),\n\t\t\tmap: !! material.map,\n\t\t\tmapEncoding: getTextureEncodingFromMap( material.map, renderer.gammaInput ),\n\t\t\tmatcap: !! material.matcap,\n\t\t\tmatcapEncoding: getTextureEncodingFromMap( material.matcap, renderer.gammaInput ),\n\t\t\tenvMap: !! material.envMap,\n\t\t\tenvMapMode: material.envMap && material.envMap.mapping,\n\t\t\tenvMapEncoding: getTextureEncodingFromMap( material.envMap, renderer.gammaInput ),\n\t\t\tenvMapCubeUV: ( !! material.envMap ) && ( ( material.envMap.mapping === CubeUVReflectionMapping ) || ( material.envMap.mapping === CubeUVRefractionMapping ) ),\n\t\t\tlightMap: !! material.lightMap,\n\t\t\taoMap: !! material.aoMap,\n\t\t\temissiveMap: !! material.emissiveMap,\n\t\t\temissiveMapEncoding: getTextureEncodingFromMap( material.emissiveMap, renderer.gammaInput ),\n\t\t\tbumpMap: !! material.bumpMap,\n\t\t\tnormalMap: !! material.normalMap,\n\t\t\tobjectSpaceNormalMap: material.normalMapType === ObjectSpaceNormalMap,\n\t\t\tdisplacementMap: !! material.displacementMap,\n\t\t\troughnessMap: !! material.roughnessMap,\n\t\t\tmetalnessMap: !! material.metalnessMap,\n\t\t\tspecularMap: !! material.specularMap,\n\t\t\talphaMap: !! material.alphaMap,\n\n\t\t\tgradientMap: !! material.gradientMap,\n\n\t\t\tcombine: material.combine,\n\n\t\t\tvertexTangents: ( material.normalMap && material.vertexTangents ),\n\t\t\tvertexColors: material.vertexColors,\n\n\t\t\tfog: !! fog,\n\t\t\tuseFog: material.fog,\n\t\t\tfogExp: ( fog && fog.isFogExp2 ),\n\n\t\t\tflatShading: material.flatShading,\n\n\t\t\tsizeAttenuation: material.sizeAttenuation,\n\t\t\tlogarithmicDepthBuffer: capabilities.logarithmicDepthBuffer,\n\n\t\t\tskinning: material.skinning && maxBones > 0,\n\t\t\tmaxBones: maxBones,\n\t\t\tuseVertexTexture: capabilities.floatVertexTextures,\n\n\t\t\tmorphTargets: material.morphTargets,\n\t\t\tmorphNormals: material.morphNormals,\n\t\t\tmaxMorphTargets: renderer.maxMorphTargets,\n\t\t\tmaxMorphNormals: renderer.maxMorphNormals,\n\n\t\t\tnumDirLights: lights.directional.length,\n\t\t\tnumPointLights: lights.point.length,\n\t\t\tnumSpotLights: lights.spot.length,\n\t\t\tnumRectAreaLights: lights.rectArea.length,\n\t\t\tnumHemiLights: lights.hemi.length,\n\n\t\t\tnumClippingPlanes: nClipPlanes,\n\t\t\tnumClipIntersection: nClipIntersection,\n\n\t\t\tdithering: material.dithering,\n\n\t\t\tshadowMapEnabled: renderer.shadowMap.enabled && object.receiveShadow && shadows.length > 0,\n\t\t\tshadowMapType: renderer.shadowMap.type,\n\n\t\t\ttoneMapping: renderer.toneMapping,\n\t\t\tphysicallyCorrectLights: renderer.physicallyCorrectLights,\n\n\t\t\tpremultipliedAlpha: material.premultipliedAlpha,\n\n\t\t\talphaTest: material.alphaTest,\n\t\t\tdoubleSided: material.side === DoubleSide,\n\t\t\tflipSided: material.side === BackSide,\n\n\t\t\tdepthPacking: ( material.depthPacking !== undefined ) ? material.depthPacking : false\n\n\t\t};\n\n\t\treturn parameters;\n\n\t};\n\n\tthis.getProgramCode = function ( material, parameters ) {\n\n\t\tvar array = [];\n\n\t\tif ( parameters.shaderID ) {\n\n\t\t\tarray.push( parameters.shaderID );\n\n\t\t} else {\n\n\t\t\tarray.push( material.fragmentShader );\n\t\t\tarray.push( material.vertexShader );\n\n\t\t}\n\n\t\tif ( material.defines !== undefined ) {\n\n\t\t\tfor ( var name in material.defines ) {\n\n\t\t\t\tarray.push( name );\n\t\t\t\tarray.push( material.defines[ name ] );\n\n\t\t\t}\n\n\t\t}\n\n\t\tfor ( var i = 0; i < parameterNames.length; i ++ ) {\n\n\t\t\tarray.push( parameters[ parameterNames[ i ] ] );\n\n\t\t}\n\n\t\tarray.push( material.onBeforeCompile.toString() );\n\n\t\tarray.push( renderer.gammaOutput );\n\n\t\tarray.push( renderer.gammaFactor );\n\n\t\treturn array.join();\n\n\t};\n\n\tthis.acquireProgram = function ( material, shader, parameters, code ) {\n\n\t\tvar program;\n\n\t\t// Check if code has been already compiled\n\t\tfor ( var p = 0, pl = programs.length; p < pl; p ++ ) {\n\n\t\t\tvar programInfo = programs[ p ];\n\n\t\t\tif ( programInfo.code === code ) {\n\n\t\t\t\tprogram = programInfo;\n\t\t\t\t++ program.usedTimes;\n\n\t\t\t\tbreak;\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( program === undefined ) {\n\n\t\t\tprogram = new WebGLProgram( renderer, extensions, code, material, shader, parameters, capabilities, textures );\n\t\t\tprograms.push( program );\n\n\t\t}\n\n\t\treturn program;\n\n\t};\n\n\tthis.releaseProgram = function ( program ) {\n\n\t\tif ( -- program.usedTimes === 0 ) {\n\n\t\t\t// Remove from unordered set\n\t\t\tvar i = programs.indexOf( program );\n\t\t\tprograms[ i ] = programs[ programs.length - 1 ];\n\t\t\tprograms.pop();\n\n\t\t\t// Free WebGL resources\n\t\t\tprogram.destroy();\n\n\t\t}\n\n\t};\n\n\t// Exposed for resource monitoring & error feedback via renderer.info:\n\tthis.programs = programs;\n\n}\n\n/**\n * @author fordacious / fordacious.github.io\n */\n\nfunction WebGLProperties() {\n\n\tvar properties = new WeakMap();\n\n\tfunction get( object ) {\n\n\t\tvar map = properties.get( object );\n\n\t\tif ( map === undefined ) {\n\n\t\t\tmap = {};\n\t\t\tproperties.set( object, map );\n\n\t\t}\n\n\t\treturn map;\n\n\t}\n\n\tfunction remove( object ) {\n\n\t\tproperties.delete( object );\n\n\t}\n\n\tfunction update( object, key, value ) {\n\n\t\tproperties.get( object )[ key ] = value;\n\n\t}\n\n\tfunction dispose() {\n\n\t\tproperties = new WeakMap();\n\n\t}\n\n\treturn {\n\t\tget: get,\n\t\tremove: remove,\n\t\tupdate: update,\n\t\tdispose: dispose\n\t};\n\n}\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction painterSortStable( a, b ) {\n\n\tif ( a.groupOrder !== b.groupOrder ) {\n\n\t\treturn a.groupOrder - b.groupOrder;\n\n\t} else if ( a.renderOrder !== b.renderOrder ) {\n\n\t\treturn a.renderOrder - b.renderOrder;\n\n\t} else if ( a.program !== b.program ) {\n\n\t\treturn a.program.id - b.program.id;\n\n\t} else if ( a.material.id !== b.material.id ) {\n\n\t\treturn a.material.id - b.material.id;\n\n\t} else if ( a.z !== b.z ) {\n\n\t\treturn a.z - b.z;\n\n\t} else {\n\n\t\treturn a.id - b.id;\n\n\t}\n\n}\n\nfunction reversePainterSortStable( a, b ) {\n\n\tif ( a.groupOrder !== b.groupOrder ) {\n\n\t\treturn a.groupOrder - b.groupOrder;\n\n\t} else if ( a.renderOrder !== b.renderOrder ) {\n\n\t\treturn a.renderOrder - b.renderOrder;\n\n\t} else if ( a.z !== b.z ) {\n\n\t\treturn b.z - a.z;\n\n\t} else {\n\n\t\treturn a.id - b.id;\n\n\t}\n\n}\n\n\nfunction WebGLRenderList() {\n\n\tvar renderItems = [];\n\tvar renderItemsIndex = 0;\n\n\tvar opaque = [];\n\tvar transparent = [];\n\n\tvar defaultProgram = { id: - 1 };\n\n\tfunction init() {\n\n\t\trenderItemsIndex = 0;\n\n\t\topaque.length = 0;\n\t\ttransparent.length = 0;\n\n\t}\n\n\tfunction getNextRenderItem( object, geometry, material, groupOrder, z, group ) {\n\n\t\tvar renderItem = renderItems[ renderItemsIndex ];\n\n\t\tif ( renderItem === undefined ) {\n\n\t\t\trenderItem = {\n\t\t\t\tid: object.id,\n\t\t\t\tobject: object,\n\t\t\t\tgeometry: geometry,\n\t\t\t\tmaterial: material,\n\t\t\t\tprogram: material.program || defaultProgram,\n\t\t\t\tgroupOrder: groupOrder,\n\t\t\t\trenderOrder: object.renderOrder,\n\t\t\t\tz: z,\n\t\t\t\tgroup: group\n\t\t\t};\n\n\t\t\trenderItems[ renderItemsIndex ] = renderItem;\n\n\t\t} else {\n\n\t\t\trenderItem.id = object.id;\n\t\t\trenderItem.object = object;\n\t\t\trenderItem.geometry = geometry;\n\t\t\trenderItem.material = material;\n\t\t\trenderItem.program = material.program || defaultProgram;\n\t\t\trenderItem.groupOrder = groupOrder;\n\t\t\trenderItem.renderOrder = object.renderOrder;\n\t\t\trenderItem.z = z;\n\t\t\trenderItem.group = group;\n\n\t\t}\n\n\t\trenderItemsIndex ++;\n\n\t\treturn renderItem;\n\n\t}\n\n\tfunction push( object, geometry, material, groupOrder, z, group ) {\n\n\t\tvar renderItem = getNextRenderItem( object, geometry, material, groupOrder, z, group );\n\n\t\t( material.transparent === true ? transparent : opaque ).push( renderItem );\n\n\t}\n\n\tfunction unshift( object, geometry, material, groupOrder, z, group ) {\n\n\t\tvar renderItem = getNextRenderItem( object, geometry, material, groupOrder, z, group );\n\n\t\t( material.transparent === true ? transparent : opaque ).unshift( renderItem );\n\n\t}\n\n\tfunction sort() {\n\n\t\tif ( opaque.length > 1 ) opaque.sort( painterSortStable );\n\t\tif ( transparent.length > 1 ) transparent.sort( reversePainterSortStable );\n\n\t}\n\n\treturn {\n\t\topaque: opaque,\n\t\ttransparent: transparent,\n\n\t\tinit: init,\n\t\tpush: push,\n\t\tunshift: unshift,\n\n\t\tsort: sort\n\t};\n\n}\n\nfunction WebGLRenderLists() {\n\n\tvar lists = {};\n\n\tfunction onSceneDispose( event ) {\n\n\t\tvar scene = event.target;\n\n\t\tscene.removeEventListener( 'dispose', onSceneDispose );\n\n\t\tdelete lists[ scene.id ];\n\n\t}\n\n\tfunction get( scene, camera ) {\n\n\t\tvar cameras = lists[ scene.id ];\n\t\tvar list;\n\t\tif ( cameras === undefined ) {\n\n\t\t\tlist = new WebGLRenderList();\n\t\t\tlists[ scene.id ] = {};\n\t\t\tlists[ scene.id ][ camera.id ] = list;\n\n\t\t\tscene.addEventListener( 'dispose', onSceneDispose );\n\n\t\t} else {\n\n\t\t\tlist = cameras[ camera.id ];\n\t\t\tif ( list === undefined ) {\n\n\t\t\t\tlist = new WebGLRenderList();\n\t\t\t\tcameras[ camera.id ] = list;\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn list;\n\n\t}\n\n\tfunction dispose() {\n\n\t\tlists = {};\n\n\t}\n\n\treturn {\n\t\tget: get,\n\t\tdispose: dispose\n\t};\n\n}\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction UniformsCache() {\n\n\tvar lights = {};\n\n\treturn {\n\n\t\tget: function ( light ) {\n\n\t\t\tif ( lights[ light.id ] !== undefined ) {\n\n\t\t\t\treturn lights[ light.id ];\n\n\t\t\t}\n\n\t\t\tvar uniforms;\n\n\t\t\tswitch ( light.type ) {\n\n\t\t\t\tcase 'DirectionalLight':\n\t\t\t\t\tuniforms = {\n\t\t\t\t\t\tdirection: new Vector3(),\n\t\t\t\t\t\tcolor: new Color(),\n\n\t\t\t\t\t\tshadow: false,\n\t\t\t\t\t\tshadowBias: 0,\n\t\t\t\t\t\tshadowRadius: 1,\n\t\t\t\t\t\tshadowMapSize: new Vector2()\n\t\t\t\t\t};\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'SpotLight':\n\t\t\t\t\tuniforms = {\n\t\t\t\t\t\tposition: new Vector3(),\n\t\t\t\t\t\tdirection: new Vector3(),\n\t\t\t\t\t\tcolor: new Color(),\n\t\t\t\t\t\tdistance: 0,\n\t\t\t\t\t\tconeCos: 0,\n\t\t\t\t\t\tpenumbraCos: 0,\n\t\t\t\t\t\tdecay: 0,\n\n\t\t\t\t\t\tshadow: false,\n\t\t\t\t\t\tshadowBias: 0,\n\t\t\t\t\t\tshadowRadius: 1,\n\t\t\t\t\t\tshadowMapSize: new Vector2()\n\t\t\t\t\t};\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'PointLight':\n\t\t\t\t\tuniforms = {\n\t\t\t\t\t\tposition: new Vector3(),\n\t\t\t\t\t\tcolor: new Color(),\n\t\t\t\t\t\tdistance: 0,\n\t\t\t\t\t\tdecay: 0,\n\n\t\t\t\t\t\tshadow: false,\n\t\t\t\t\t\tshadowBias: 0,\n\t\t\t\t\t\tshadowRadius: 1,\n\t\t\t\t\t\tshadowMapSize: new Vector2(),\n\t\t\t\t\t\tshadowCameraNear: 1,\n\t\t\t\t\t\tshadowCameraFar: 1000\n\t\t\t\t\t};\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'HemisphereLight':\n\t\t\t\t\tuniforms = {\n\t\t\t\t\t\tdirection: new Vector3(),\n\t\t\t\t\t\tskyColor: new Color(),\n\t\t\t\t\t\tgroundColor: new Color()\n\t\t\t\t\t};\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'RectAreaLight':\n\t\t\t\t\tuniforms = {\n\t\t\t\t\t\tcolor: new Color(),\n\t\t\t\t\t\tposition: new Vector3(),\n\t\t\t\t\t\thalfWidth: new Vector3(),\n\t\t\t\t\t\thalfHeight: new Vector3()\n\t\t\t\t\t\t// TODO (abelnation): set RectAreaLight shadow uniforms\n\t\t\t\t\t};\n\t\t\t\t\tbreak;\n\n\t\t\t}\n\n\t\t\tlights[ light.id ] = uniforms;\n\n\t\t\treturn uniforms;\n\n\t\t}\n\n\t};\n\n}\n\nvar count = 0;\n\nfunction WebGLLights() {\n\n\tvar cache = new UniformsCache();\n\n\tvar state = {\n\n\t\tid: count ++,\n\n\t\thash: {\n\t\t\tstateID: - 1,\n\t\t\tdirectionalLength: - 1,\n\t\t\tpointLength: - 1,\n\t\t\tspotLength: - 1,\n\t\t\trectAreaLength: - 1,\n\t\t\themiLength: - 1,\n\t\t\tshadowsLength: - 1\n\t\t},\n\n\t\tambient: [ 0, 0, 0 ],\n\t\tprobe: [],\n\t\tdirectional: [],\n\t\tdirectionalShadowMap: [],\n\t\tdirectionalShadowMatrix: [],\n\t\tspot: [],\n\t\tspotShadowMap: [],\n\t\tspotShadowMatrix: [],\n\t\trectArea: [],\n\t\tpoint: [],\n\t\tpointShadowMap: [],\n\t\tpointShadowMatrix: [],\n\t\themi: []\n\n\t};\n\n\tfor ( var i = 0; i < 9; i ++ ) state.probe.push( new Vector3() );\n\n\tvar vector3 = new Vector3();\n\tvar matrix4 = new Matrix4();\n\tvar matrix42 = new Matrix4();\n\n\tfunction setup( lights, shadows, camera ) {\n\n\t\tvar r = 0, g = 0, b = 0;\n\n\t\tfor ( var i = 0; i < 9; i ++ ) state.probe[ i ].set( 0, 0, 0 );\n\n\t\tvar directionalLength = 0;\n\t\tvar pointLength = 0;\n\t\tvar spotLength = 0;\n\t\tvar rectAreaLength = 0;\n\t\tvar hemiLength = 0;\n\n\t\tvar viewMatrix = camera.matrixWorldInverse;\n\n\t\tfor ( var i = 0, l = lights.length; i < l; i ++ ) {\n\n\t\t\tvar light = lights[ i ];\n\n\t\t\tvar color = light.color;\n\t\t\tvar intensity = light.intensity;\n\t\t\tvar distance = light.distance;\n\n\t\t\tvar shadowMap = ( light.shadow && light.shadow.map ) ? light.shadow.map.texture : null;\n\n\t\t\tif ( light.isAmbientLight ) {\n\n\t\t\t\tr += color.r * intensity;\n\t\t\t\tg += color.g * intensity;\n\t\t\t\tb += color.b * intensity;\n\n\t\t\t} else if ( light.isLightProbe ) {\n\n\t\t\t\tfor ( var j = 0; j < 9; j ++ ) {\n\n\t\t\t\t\tstate.probe[ j ].addScaledVector( light.sh.coefficients[ j ], intensity );\n\n\t\t\t\t}\n\n\t\t\t} else if ( light.isDirectionalLight ) {\n\n\t\t\t\tvar uniforms = cache.get( light );\n\n\t\t\t\tuniforms.color.copy( light.color ).multiplyScalar( light.intensity );\n\t\t\t\tuniforms.direction.setFromMatrixPosition( light.matrixWorld );\n\t\t\t\tvector3.setFromMatrixPosition( light.target.matrixWorld );\n\t\t\t\tuniforms.direction.sub( vector3 );\n\t\t\t\tuniforms.direction.transformDirection( viewMatrix );\n\n\t\t\t\tuniforms.shadow = light.castShadow;\n\n\t\t\t\tif ( light.castShadow ) {\n\n\t\t\t\t\tvar shadow = light.shadow;\n\n\t\t\t\t\tuniforms.shadowBias = shadow.bias;\n\t\t\t\t\tuniforms.shadowRadius = shadow.radius;\n\t\t\t\t\tuniforms.shadowMapSize = shadow.mapSize;\n\n\t\t\t\t}\n\n\t\t\t\tstate.directionalShadowMap[ directionalLength ] = shadowMap;\n\t\t\t\tstate.directionalShadowMatrix[ directionalLength ] = light.shadow.matrix;\n\t\t\t\tstate.directional[ directionalLength ] = uniforms;\n\n\t\t\t\tdirectionalLength ++;\n\n\t\t\t} else if ( light.isSpotLight ) {\n\n\t\t\t\tvar uniforms = cache.get( light );\n\n\t\t\t\tuniforms.position.setFromMatrixPosition( light.matrixWorld );\n\t\t\t\tuniforms.position.applyMatrix4( viewMatrix );\n\n\t\t\t\tuniforms.color.copy( color ).multiplyScalar( intensity );\n\t\t\t\tuniforms.distance = distance;\n\n\t\t\t\tuniforms.direction.setFromMatrixPosition( light.matrixWorld );\n\t\t\t\tvector3.setFromMatrixPosition( light.target.matrixWorld );\n\t\t\t\tuniforms.direction.sub( vector3 );\n\t\t\t\tuniforms.direction.transformDirection( viewMatrix );\n\n\t\t\t\tuniforms.coneCos = Math.cos( light.angle );\n\t\t\t\tuniforms.penumbraCos = Math.cos( light.angle * ( 1 - light.penumbra ) );\n\t\t\t\tuniforms.decay = light.decay;\n\n\t\t\t\tuniforms.shadow = light.castShadow;\n\n\t\t\t\tif ( light.castShadow ) {\n\n\t\t\t\t\tvar shadow = light.shadow;\n\n\t\t\t\t\tuniforms.shadowBias = shadow.bias;\n\t\t\t\t\tuniforms.shadowRadius = shadow.radius;\n\t\t\t\t\tuniforms.shadowMapSize = shadow.mapSize;\n\n\t\t\t\t}\n\n\t\t\t\tstate.spotShadowMap[ spotLength ] = shadowMap;\n\t\t\t\tstate.spotShadowMatrix[ spotLength ] = light.shadow.matrix;\n\t\t\t\tstate.spot[ spotLength ] = uniforms;\n\n\t\t\t\tspotLength ++;\n\n\t\t\t} else if ( light.isRectAreaLight ) {\n\n\t\t\t\tvar uniforms = cache.get( light );\n\n\t\t\t\t// (a) intensity is the total visible light emitted\n\t\t\t\t//uniforms.color.copy( color ).multiplyScalar( intensity / ( light.width * light.height * Math.PI ) );\n\n\t\t\t\t// (b) intensity is the brightness of the light\n\t\t\t\tuniforms.color.copy( color ).multiplyScalar( intensity );\n\n\t\t\t\tuniforms.position.setFromMatrixPosition( light.matrixWorld );\n\t\t\t\tuniforms.position.applyMatrix4( viewMatrix );\n\n\t\t\t\t// extract local rotation of light to derive width/height half vectors\n\t\t\t\tmatrix42.identity();\n\t\t\t\tmatrix4.copy( light.matrixWorld );\n\t\t\t\tmatrix4.premultiply( viewMatrix );\n\t\t\t\tmatrix42.extractRotation( matrix4 );\n\n\t\t\t\tuniforms.halfWidth.set( light.width * 0.5, 0.0, 0.0 );\n\t\t\t\tuniforms.halfHeight.set( 0.0, light.height * 0.5, 0.0 );\n\n\t\t\t\tuniforms.halfWidth.applyMatrix4( matrix42 );\n\t\t\t\tuniforms.halfHeight.applyMatrix4( matrix42 );\n\n\t\t\t\t// TODO (abelnation): RectAreaLight distance?\n\t\t\t\t// uniforms.distance = distance;\n\n\t\t\t\tstate.rectArea[ rectAreaLength ] = uniforms;\n\n\t\t\t\trectAreaLength ++;\n\n\t\t\t} else if ( light.isPointLight ) {\n\n\t\t\t\tvar uniforms = cache.get( light );\n\n\t\t\t\tuniforms.position.setFromMatrixPosition( light.matrixWorld );\n\t\t\t\tuniforms.position.applyMatrix4( viewMatrix );\n\n\t\t\t\tuniforms.color.copy( light.color ).multiplyScalar( light.intensity );\n\t\t\t\tuniforms.distance = light.distance;\n\t\t\t\tuniforms.decay = light.decay;\n\n\t\t\t\tuniforms.shadow = light.castShadow;\n\n\t\t\t\tif ( light.castShadow ) {\n\n\t\t\t\t\tvar shadow = light.shadow;\n\n\t\t\t\t\tuniforms.shadowBias = shadow.bias;\n\t\t\t\t\tuniforms.shadowRadius = shadow.radius;\n\t\t\t\t\tuniforms.shadowMapSize = shadow.mapSize;\n\t\t\t\t\tuniforms.shadowCameraNear = shadow.camera.near;\n\t\t\t\t\tuniforms.shadowCameraFar = shadow.camera.far;\n\n\t\t\t\t}\n\n\t\t\t\tstate.pointShadowMap[ pointLength ] = shadowMap;\n\t\t\t\tstate.pointShadowMatrix[ pointLength ] = light.shadow.matrix;\n\t\t\t\tstate.point[ pointLength ] = uniforms;\n\n\t\t\t\tpointLength ++;\n\n\t\t\t} else if ( light.isHemisphereLight ) {\n\n\t\t\t\tvar uniforms = cache.get( light );\n\n\t\t\t\tuniforms.direction.setFromMatrixPosition( light.matrixWorld );\n\t\t\t\tuniforms.direction.transformDirection( viewMatrix );\n\t\t\t\tuniforms.direction.normalize();\n\n\t\t\t\tuniforms.skyColor.copy( light.color ).multiplyScalar( intensity );\n\t\t\t\tuniforms.groundColor.copy( light.groundColor ).multiplyScalar( intensity );\n\n\t\t\t\tstate.hemi[ hemiLength ] = uniforms;\n\n\t\t\t\themiLength ++;\n\n\t\t\t}\n\n\t\t}\n\n\t\tstate.ambient[ 0 ] = r;\n\t\tstate.ambient[ 1 ] = g;\n\t\tstate.ambient[ 2 ] = b;\n\n\t\tstate.directional.length = directionalLength;\n\t\tstate.spot.length = spotLength;\n\t\tstate.rectArea.length = rectAreaLength;\n\t\tstate.point.length = pointLength;\n\t\tstate.hemi.length = hemiLength;\n\n\t\tstate.hash.stateID = state.id;\n\t\tstate.hash.directionalLength = directionalLength;\n\t\tstate.hash.pointLength = pointLength;\n\t\tstate.hash.spotLength = spotLength;\n\t\tstate.hash.rectAreaLength = rectAreaLength;\n\t\tstate.hash.hemiLength = hemiLength;\n\t\tstate.hash.shadowsLength = shadows.length;\n\n\t}\n\n\treturn {\n\t\tsetup: setup,\n\t\tstate: state\n\t};\n\n}\n\n/**\n * @author Mugen87 / https://github.com/Mugen87\n */\n\nfunction WebGLRenderState() {\n\n\tvar lights = new WebGLLights();\n\n\tvar lightsArray = [];\n\tvar shadowsArray = [];\n\n\tfunction init() {\n\n\t\tlightsArray.length = 0;\n\t\tshadowsArray.length = 0;\n\n\t}\n\n\tfunction pushLight( light ) {\n\n\t\tlightsArray.push( light );\n\n\t}\n\n\tfunction pushShadow( shadowLight ) {\n\n\t\tshadowsArray.push( shadowLight );\n\n\t}\n\n\tfunction setupLights( camera ) {\n\n\t\tlights.setup( lightsArray, shadowsArray, camera );\n\n\t}\n\n\tvar state = {\n\t\tlightsArray: lightsArray,\n\t\tshadowsArray: shadowsArray,\n\n\t\tlights: lights\n\t};\n\n\treturn {\n\t\tinit: init,\n\t\tstate: state,\n\t\tsetupLights: setupLights,\n\n\t\tpushLight: pushLight,\n\t\tpushShadow: pushShadow\n\t};\n\n}\n\nfunction WebGLRenderStates() {\n\n\tvar renderStates = {};\n\n\tfunction onSceneDispose( event ) {\n\n\t\tvar scene = event.target;\n\n\t\tscene.removeEventListener( 'dispose', onSceneDispose );\n\n\t\tdelete renderStates[ scene.id ];\n\n\t}\n\n\tfunction get( scene, camera ) {\n\n\t\tvar renderState;\n\n\t\tif ( renderStates[ scene.id ] === undefined ) {\n\n\t\t\trenderState = new WebGLRenderState();\n\t\t\trenderStates[ scene.id ] = {};\n\t\t\trenderStates[ scene.id ][ camera.id ] = renderState;\n\n\t\t\tscene.addEventListener( 'dispose', onSceneDispose );\n\n\t\t} else {\n\n\t\t\tif ( renderStates[ scene.id ][ camera.id ] === undefined ) {\n\n\t\t\t\trenderState = new WebGLRenderState();\n\t\t\t\trenderStates[ scene.id ][ camera.id ] = renderState;\n\n\t\t\t} else {\n\n\t\t\t\trenderState = renderStates[ scene.id ][ camera.id ];\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn renderState;\n\n\t}\n\n\tfunction dispose() {\n\n\t\trenderStates = {};\n\n\t}\n\n\treturn {\n\t\tget: get,\n\t\tdispose: dispose\n\t};\n\n}\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author alteredq / http://alteredqualia.com/\n * @author bhouston / https://clara.io\n * @author WestLangley / http://github.com/WestLangley\n *\n * parameters = {\n *\n *  opacity: <float>,\n *\n *  map: new THREE.Texture( <Image> ),\n *\n *  alphaMap: new THREE.Texture( <Image> ),\n *\n *  displacementMap: new THREE.Texture( <Image> ),\n *  displacementScale: <float>,\n *  displacementBias: <float>,\n *\n *  wireframe: <boolean>,\n *  wireframeLinewidth: <float>\n * }\n */\n\nfunction MeshDepthMaterial( parameters ) {\n\n\tMaterial.call( this );\n\n\tthis.type = 'MeshDepthMaterial';\n\n\tthis.depthPacking = BasicDepthPacking;\n\n\tthis.skinning = false;\n\tthis.morphTargets = false;\n\n\tthis.map = null;\n\n\tthis.alphaMap = null;\n\n\tthis.displacementMap = null;\n\tthis.displacementScale = 1;\n\tthis.displacementBias = 0;\n\n\tthis.wireframe = false;\n\tthis.wireframeLinewidth = 1;\n\n\tthis.fog = false;\n\tthis.lights = false;\n\n\tthis.setValues( parameters );\n\n}\n\nMeshDepthMaterial.prototype = Object.create( Material.prototype );\nMeshDepthMaterial.prototype.constructor = MeshDepthMaterial;\n\nMeshDepthMaterial.prototype.isMeshDepthMaterial = true;\n\nMeshDepthMaterial.prototype.copy = function ( source ) {\n\n\tMaterial.prototype.copy.call( this, source );\n\n\tthis.depthPacking = source.depthPacking;\n\n\tthis.skinning = source.skinning;\n\tthis.morphTargets = source.morphTargets;\n\n\tthis.map = source.map;\n\n\tthis.alphaMap = source.alphaMap;\n\n\tthis.displacementMap = source.displacementMap;\n\tthis.displacementScale = source.displacementScale;\n\tthis.displacementBias = source.displacementBias;\n\n\tthis.wireframe = source.wireframe;\n\tthis.wireframeLinewidth = source.wireframeLinewidth;\n\n\treturn this;\n\n};\n\n/**\n * @author WestLangley / http://github.com/WestLangley\n *\n * parameters = {\n *\n *  referencePosition: <float>,\n *  nearDistance: <float>,\n *  farDistance: <float>,\n *\n *  skinning: <bool>,\n *  morphTargets: <bool>,\n *\n *  map: new THREE.Texture( <Image> ),\n *\n *  alphaMap: new THREE.Texture( <Image> ),\n *\n *  displacementMap: new THREE.Texture( <Image> ),\n *  displacementScale: <float>,\n *  displacementBias: <float>\n *\n * }\n */\n\nfunction MeshDistanceMaterial( parameters ) {\n\n\tMaterial.call( this );\n\n\tthis.type = 'MeshDistanceMaterial';\n\n\tthis.referencePosition = new Vector3();\n\tthis.nearDistance = 1;\n\tthis.farDistance = 1000;\n\n\tthis.skinning = false;\n\tthis.morphTargets = false;\n\n\tthis.map = null;\n\n\tthis.alphaMap = null;\n\n\tthis.displacementMap = null;\n\tthis.displacementScale = 1;\n\tthis.displacementBias = 0;\n\n\tthis.fog = false;\n\tthis.lights = false;\n\n\tthis.setValues( parameters );\n\n}\n\nMeshDistanceMaterial.prototype = Object.create( Material.prototype );\nMeshDistanceMaterial.prototype.constructor = MeshDistanceMaterial;\n\nMeshDistanceMaterial.prototype.isMeshDistanceMaterial = true;\n\nMeshDistanceMaterial.prototype.copy = function ( source ) {\n\n\tMaterial.prototype.copy.call( this, source );\n\n\tthis.referencePosition.copy( source.referencePosition );\n\tthis.nearDistance = source.nearDistance;\n\tthis.farDistance = source.farDistance;\n\n\tthis.skinning = source.skinning;\n\tthis.morphTargets = source.morphTargets;\n\n\tthis.map = source.map;\n\n\tthis.alphaMap = source.alphaMap;\n\n\tthis.displacementMap = source.displacementMap;\n\tthis.displacementScale = source.displacementScale;\n\tthis.displacementBias = source.displacementBias;\n\n\treturn this;\n\n};\n\n/**\n * @author alteredq / http://alteredqualia.com/\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction WebGLShadowMap( _renderer, _objects, maxTextureSize ) {\n\n\tvar _frustum = new Frustum(),\n\t\t_projScreenMatrix = new Matrix4(),\n\n\t\t_shadowMapSize = new Vector2(),\n\t\t_maxShadowMapSize = new Vector2( maxTextureSize, maxTextureSize ),\n\n\t\t_lookTarget = new Vector3(),\n\t\t_lightPositionWorld = new Vector3(),\n\n\t\t_MorphingFlag = 1,\n\t\t_SkinningFlag = 2,\n\n\t\t_NumberOfMaterialVariants = ( _MorphingFlag | _SkinningFlag ) + 1,\n\n\t\t_depthMaterials = new Array( _NumberOfMaterialVariants ),\n\t\t_distanceMaterials = new Array( _NumberOfMaterialVariants ),\n\n\t\t_materialCache = {};\n\n\tvar shadowSide = { 0: BackSide, 1: FrontSide, 2: DoubleSide };\n\n\tvar cubeDirections = [\n\t\tnew Vector3( 1, 0, 0 ), new Vector3( - 1, 0, 0 ), new Vector3( 0, 0, 1 ),\n\t\tnew Vector3( 0, 0, - 1 ), new Vector3( 0, 1, 0 ), new Vector3( 0, - 1, 0 )\n\t];\n\n\tvar cubeUps = [\n\t\tnew Vector3( 0, 1, 0 ), new Vector3( 0, 1, 0 ), new Vector3( 0, 1, 0 ),\n\t\tnew Vector3( 0, 1, 0 ), new Vector3( 0, 0, 1 ),\tnew Vector3( 0, 0, - 1 )\n\t];\n\n\tvar cube2DViewPorts = [\n\t\tnew Vector4(), new Vector4(), new Vector4(),\n\t\tnew Vector4(), new Vector4(), new Vector4()\n\t];\n\n\t// init\n\n\tfor ( var i = 0; i !== _NumberOfMaterialVariants; ++ i ) {\n\n\t\tvar useMorphing = ( i & _MorphingFlag ) !== 0;\n\t\tvar useSkinning = ( i & _SkinningFlag ) !== 0;\n\n\t\tvar depthMaterial = new MeshDepthMaterial( {\n\n\t\t\tdepthPacking: RGBADepthPacking,\n\n\t\t\tmorphTargets: useMorphing,\n\t\t\tskinning: useSkinning\n\n\t\t} );\n\n\t\t_depthMaterials[ i ] = depthMaterial;\n\n\t\t//\n\n\t\tvar distanceMaterial = new MeshDistanceMaterial( {\n\n\t\t\tmorphTargets: useMorphing,\n\t\t\tskinning: useSkinning\n\n\t\t} );\n\n\t\t_distanceMaterials[ i ] = distanceMaterial;\n\n\t}\n\n\t//\n\n\tvar scope = this;\n\n\tthis.enabled = false;\n\n\tthis.autoUpdate = true;\n\tthis.needsUpdate = false;\n\n\tthis.type = PCFShadowMap;\n\n\tthis.render = function ( lights, scene, camera ) {\n\n\t\tif ( scope.enabled === false ) return;\n\t\tif ( scope.autoUpdate === false && scope.needsUpdate === false ) return;\n\n\t\tif ( lights.length === 0 ) return;\n\n\t\tvar currentRenderTarget = _renderer.getRenderTarget();\n\t\tvar activeCubeFace = _renderer.getActiveCubeFace();\n\t\tvar activeMipMapLevel = _renderer.getActiveMipMapLevel();\n\n\t\tvar _state = _renderer.state;\n\n\t\t// Set GL state for depth map.\n\t\t_state.setBlending( NoBlending );\n\t\t_state.buffers.color.setClear( 1, 1, 1, 1 );\n\t\t_state.buffers.depth.setTest( true );\n\t\t_state.setScissorTest( false );\n\n\t\t// render depth map\n\n\t\tvar faceCount;\n\n\t\tfor ( var i = 0, il = lights.length; i < il; i ++ ) {\n\n\t\t\tvar light = lights[ i ];\n\t\t\tvar shadow = light.shadow;\n\t\t\tvar isPointLight = light && light.isPointLight;\n\n\t\t\tif ( shadow === undefined ) {\n\n\t\t\t\tconsole.warn( 'THREE.WebGLShadowMap:', light, 'has no shadow.' );\n\t\t\t\tcontinue;\n\n\t\t\t}\n\n\t\t\tvar shadowCamera = shadow.camera;\n\n\t\t\t_shadowMapSize.copy( shadow.mapSize );\n\t\t\t_shadowMapSize.min( _maxShadowMapSize );\n\n\t\t\tif ( isPointLight ) {\n\n\t\t\t\tvar vpWidth = _shadowMapSize.x;\n\t\t\t\tvar vpHeight = _shadowMapSize.y;\n\n\t\t\t\t// These viewports map a cube-map onto a 2D texture with the\n\t\t\t\t// following orientation:\n\t\t\t\t//\n\t\t\t\t//  xzXZ\n\t\t\t\t//   y Y\n\t\t\t\t//\n\t\t\t\t// X - Positive x direction\n\t\t\t\t// x - Negative x direction\n\t\t\t\t// Y - Positive y direction\n\t\t\t\t// y - Negative y direction\n\t\t\t\t// Z - Positive z direction\n\t\t\t\t// z - Negative z direction\n\n\t\t\t\t// positive X\n\t\t\t\tcube2DViewPorts[ 0 ].set( vpWidth * 2, vpHeight, vpWidth, vpHeight );\n\t\t\t\t// negative X\n\t\t\t\tcube2DViewPorts[ 1 ].set( 0, vpHeight, vpWidth, vpHeight );\n\t\t\t\t// positive Z\n\t\t\t\tcube2DViewPorts[ 2 ].set( vpWidth * 3, vpHeight, vpWidth, vpHeight );\n\t\t\t\t// negative Z\n\t\t\t\tcube2DViewPorts[ 3 ].set( vpWidth, vpHeight, vpWidth, vpHeight );\n\t\t\t\t// positive Y\n\t\t\t\tcube2DViewPorts[ 4 ].set( vpWidth * 3, 0, vpWidth, vpHeight );\n\t\t\t\t// negative Y\n\t\t\t\tcube2DViewPorts[ 5 ].set( vpWidth, 0, vpWidth, vpHeight );\n\n\t\t\t\t_shadowMapSize.x *= 4.0;\n\t\t\t\t_shadowMapSize.y *= 2.0;\n\n\t\t\t}\n\n\t\t\tif ( shadow.map === null ) {\n\n\t\t\t\tvar pars = { minFilter: NearestFilter, magFilter: NearestFilter, format: RGBAFormat };\n\n\t\t\t\tshadow.map = new WebGLRenderTarget( _shadowMapSize.x, _shadowMapSize.y, pars );\n\t\t\t\tshadow.map.texture.name = light.name + \".shadowMap\";\n\n\t\t\t\tshadowCamera.updateProjectionMatrix();\n\n\t\t\t}\n\n\t\t\tif ( shadow.isSpotLightShadow ) {\n\n\t\t\t\tshadow.update( light );\n\n\t\t\t}\n\n\t\t\tvar shadowMap = shadow.map;\n\t\t\tvar shadowMatrix = shadow.matrix;\n\n\t\t\t_lightPositionWorld.setFromMatrixPosition( light.matrixWorld );\n\t\t\tshadowCamera.position.copy( _lightPositionWorld );\n\n\t\t\tif ( isPointLight ) {\n\n\t\t\t\tfaceCount = 6;\n\n\t\t\t\t// for point lights we set the shadow matrix to be a translation-only matrix\n\t\t\t\t// equal to inverse of the light's position\n\n\t\t\t\tshadowMatrix.makeTranslation( - _lightPositionWorld.x, - _lightPositionWorld.y, - _lightPositionWorld.z );\n\n\t\t\t} else {\n\n\t\t\t\tfaceCount = 1;\n\n\t\t\t\t_lookTarget.setFromMatrixPosition( light.target.matrixWorld );\n\t\t\t\tshadowCamera.lookAt( _lookTarget );\n\t\t\t\tshadowCamera.updateMatrixWorld();\n\n\t\t\t\t// compute shadow matrix\n\n\t\t\t\tshadowMatrix.set(\n\t\t\t\t\t0.5, 0.0, 0.0, 0.5,\n\t\t\t\t\t0.0, 0.5, 0.0, 0.5,\n\t\t\t\t\t0.0, 0.0, 0.5, 0.5,\n\t\t\t\t\t0.0, 0.0, 0.0, 1.0\n\t\t\t\t);\n\n\t\t\t\tshadowMatrix.multiply( shadowCamera.projectionMatrix );\n\t\t\t\tshadowMatrix.multiply( shadowCamera.matrixWorldInverse );\n\n\t\t\t}\n\n\t\t\t_renderer.setRenderTarget( shadowMap );\n\t\t\t_renderer.clear();\n\n\t\t\t// render shadow map for each cube face (if omni-directional) or\n\t\t\t// run a single pass if not\n\n\t\t\tfor ( var face = 0; face < faceCount; face ++ ) {\n\n\t\t\t\tif ( isPointLight ) {\n\n\t\t\t\t\t_lookTarget.copy( shadowCamera.position );\n\t\t\t\t\t_lookTarget.add( cubeDirections[ face ] );\n\t\t\t\t\tshadowCamera.up.copy( cubeUps[ face ] );\n\t\t\t\t\tshadowCamera.lookAt( _lookTarget );\n\t\t\t\t\tshadowCamera.updateMatrixWorld();\n\n\t\t\t\t\tvar vpDimensions = cube2DViewPorts[ face ];\n\t\t\t\t\t_state.viewport( vpDimensions );\n\n\t\t\t\t}\n\n\t\t\t\t// update camera matrices and frustum\n\n\t\t\t\t_projScreenMatrix.multiplyMatrices( shadowCamera.projectionMatrix, shadowCamera.matrixWorldInverse );\n\t\t\t\t_frustum.setFromMatrix( _projScreenMatrix );\n\n\t\t\t\t// set object matrices & frustum culling\n\n\t\t\t\trenderObject( scene, camera, shadowCamera, isPointLight );\n\n\t\t\t}\n\n\t\t}\n\n\t\tscope.needsUpdate = false;\n\n\t\t_renderer.setRenderTarget( currentRenderTarget, activeCubeFace, activeMipMapLevel );\n\n\t};\n\n\tfunction getDepthMaterial( object, material, isPointLight, lightPositionWorld, shadowCameraNear, shadowCameraFar ) {\n\n\t\tvar geometry = object.geometry;\n\n\t\tvar result = null;\n\n\t\tvar materialVariants = _depthMaterials;\n\t\tvar customMaterial = object.customDepthMaterial;\n\n\t\tif ( isPointLight ) {\n\n\t\t\tmaterialVariants = _distanceMaterials;\n\t\t\tcustomMaterial = object.customDistanceMaterial;\n\n\t\t}\n\n\t\tif ( ! customMaterial ) {\n\n\t\t\tvar useMorphing = false;\n\n\t\t\tif ( material.morphTargets ) {\n\n\t\t\t\tif ( geometry && geometry.isBufferGeometry ) {\n\n\t\t\t\t\tuseMorphing = geometry.morphAttributes && geometry.morphAttributes.position && geometry.morphAttributes.position.length > 0;\n\n\t\t\t\t} else if ( geometry && geometry.isGeometry ) {\n\n\t\t\t\t\tuseMorphing = geometry.morphTargets && geometry.morphTargets.length > 0;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tif ( object.isSkinnedMesh && material.skinning === false ) {\n\n\t\t\t\tconsole.warn( 'THREE.WebGLShadowMap: THREE.SkinnedMesh with material.skinning set to false:', object );\n\n\t\t\t}\n\n\t\t\tvar useSkinning = object.isSkinnedMesh && material.skinning;\n\n\t\t\tvar variantIndex = 0;\n\n\t\t\tif ( useMorphing ) variantIndex |= _MorphingFlag;\n\t\t\tif ( useSkinning ) variantIndex |= _SkinningFlag;\n\n\t\t\tresult = materialVariants[ variantIndex ];\n\n\t\t} else {\n\n\t\t\tresult = customMaterial;\n\n\t\t}\n\n\t\tif ( _renderer.localClippingEnabled &&\n\t\t\t\tmaterial.clipShadows === true &&\n\t\t\t\tmaterial.clippingPlanes.length !== 0 ) {\n\n\t\t\t// in this case we need a unique material instance reflecting the\n\t\t\t// appropriate state\n\n\t\t\tvar keyA = result.uuid, keyB = material.uuid;\n\n\t\t\tvar materialsForVariant = _materialCache[ keyA ];\n\n\t\t\tif ( materialsForVariant === undefined ) {\n\n\t\t\t\tmaterialsForVariant = {};\n\t\t\t\t_materialCache[ keyA ] = materialsForVariant;\n\n\t\t\t}\n\n\t\t\tvar cachedMaterial = materialsForVariant[ keyB ];\n\n\t\t\tif ( cachedMaterial === undefined ) {\n\n\t\t\t\tcachedMaterial = result.clone();\n\t\t\t\tmaterialsForVariant[ keyB ] = cachedMaterial;\n\n\t\t\t}\n\n\t\t\tresult = cachedMaterial;\n\n\t\t}\n\n\t\tresult.visible = material.visible;\n\t\tresult.wireframe = material.wireframe;\n\n\t\tresult.side = ( material.shadowSide != null ) ? material.shadowSide : shadowSide[ material.side ];\n\n\t\tresult.clipShadows = material.clipShadows;\n\t\tresult.clippingPlanes = material.clippingPlanes;\n\t\tresult.clipIntersection = material.clipIntersection;\n\n\t\tresult.wireframeLinewidth = material.wireframeLinewidth;\n\t\tresult.linewidth = material.linewidth;\n\n\t\tif ( isPointLight && result.isMeshDistanceMaterial ) {\n\n\t\t\tresult.referencePosition.copy( lightPositionWorld );\n\t\t\tresult.nearDistance = shadowCameraNear;\n\t\t\tresult.farDistance = shadowCameraFar;\n\n\t\t}\n\n\t\treturn result;\n\n\t}\n\n\tfunction renderObject( object, camera, shadowCamera, isPointLight ) {\n\n\t\tif ( object.visible === false ) return;\n\n\t\tvar visible = object.layers.test( camera.layers );\n\n\t\tif ( visible && ( object.isMesh || object.isLine || object.isPoints ) ) {\n\n\t\t\tif ( object.castShadow && ( ! object.frustumCulled || _frustum.intersectsObject( object ) ) ) {\n\n\t\t\t\tobject.modelViewMatrix.multiplyMatrices( shadowCamera.matrixWorldInverse, object.matrixWorld );\n\n\t\t\t\tvar geometry = _objects.update( object );\n\t\t\t\tvar material = object.material;\n\n\t\t\t\tif ( Array.isArray( material ) ) {\n\n\t\t\t\t\tvar groups = geometry.groups;\n\n\t\t\t\t\tfor ( var k = 0, kl = groups.length; k < kl; k ++ ) {\n\n\t\t\t\t\t\tvar group = groups[ k ];\n\t\t\t\t\t\tvar groupMaterial = material[ group.materialIndex ];\n\n\t\t\t\t\t\tif ( groupMaterial && groupMaterial.visible ) {\n\n\t\t\t\t\t\t\tvar depthMaterial = getDepthMaterial( object, groupMaterial, isPointLight, _lightPositionWorld, shadowCamera.near, shadowCamera.far );\n\t\t\t\t\t\t\t_renderer.renderBufferDirect( shadowCamera, null, geometry, depthMaterial, object, group );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t} else if ( material.visible ) {\n\n\t\t\t\t\tvar depthMaterial = getDepthMaterial( object, material, isPointLight, _lightPositionWorld, shadowCamera.near, shadowCamera.far );\n\t\t\t\t\t_renderer.renderBufferDirect( shadowCamera, null, geometry, depthMaterial, object, null );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tvar children = object.children;\n\n\t\tfor ( var i = 0, l = children.length; i < l; i ++ ) {\n\n\t\t\trenderObject( children[ i ], camera, shadowCamera, isPointLight );\n\n\t\t}\n\n\t}\n\n}\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction WebGLState( gl, extensions, utils, capabilities ) {\n\n\tfunction ColorBuffer() {\n\n\t\tvar locked = false;\n\n\t\tvar color = new Vector4();\n\t\tvar currentColorMask = null;\n\t\tvar currentColorClear = new Vector4( 0, 0, 0, 0 );\n\n\t\treturn {\n\n\t\t\tsetMask: function ( colorMask ) {\n\n\t\t\t\tif ( currentColorMask !== colorMask && ! locked ) {\n\n\t\t\t\t\tgl.colorMask( colorMask, colorMask, colorMask, colorMask );\n\t\t\t\t\tcurrentColorMask = colorMask;\n\n\t\t\t\t}\n\n\t\t\t},\n\n\t\t\tsetLocked: function ( lock ) {\n\n\t\t\t\tlocked = lock;\n\n\t\t\t},\n\n\t\t\tsetClear: function ( r, g, b, a, premultipliedAlpha ) {\n\n\t\t\t\tif ( premultipliedAlpha === true ) {\n\n\t\t\t\t\tr *= a; g *= a; b *= a;\n\n\t\t\t\t}\n\n\t\t\t\tcolor.set( r, g, b, a );\n\n\t\t\t\tif ( currentColorClear.equals( color ) === false ) {\n\n\t\t\t\t\tgl.clearColor( r, g, b, a );\n\t\t\t\t\tcurrentColorClear.copy( color );\n\n\t\t\t\t}\n\n\t\t\t},\n\n\t\t\treset: function () {\n\n\t\t\t\tlocked = false;\n\n\t\t\t\tcurrentColorMask = null;\n\t\t\t\tcurrentColorClear.set( - 1, 0, 0, 0 ); // set to invalid state\n\n\t\t\t}\n\n\t\t};\n\n\t}\n\n\tfunction DepthBuffer() {\n\n\t\tvar locked = false;\n\n\t\tvar currentDepthMask = null;\n\t\tvar currentDepthFunc = null;\n\t\tvar currentDepthClear = null;\n\n\t\treturn {\n\n\t\t\tsetTest: function ( depthTest ) {\n\n\t\t\t\tif ( depthTest ) {\n\n\t\t\t\t\tenable( 2929 );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tdisable( 2929 );\n\n\t\t\t\t}\n\n\t\t\t},\n\n\t\t\tsetMask: function ( depthMask ) {\n\n\t\t\t\tif ( currentDepthMask !== depthMask && ! locked ) {\n\n\t\t\t\t\tgl.depthMask( depthMask );\n\t\t\t\t\tcurrentDepthMask = depthMask;\n\n\t\t\t\t}\n\n\t\t\t},\n\n\t\t\tsetFunc: function ( depthFunc ) {\n\n\t\t\t\tif ( currentDepthFunc !== depthFunc ) {\n\n\t\t\t\t\tif ( depthFunc ) {\n\n\t\t\t\t\t\tswitch ( depthFunc ) {\n\n\t\t\t\t\t\t\tcase NeverDepth:\n\n\t\t\t\t\t\t\t\tgl.depthFunc( 512 );\n\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\tcase AlwaysDepth:\n\n\t\t\t\t\t\t\t\tgl.depthFunc( 519 );\n\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\tcase LessDepth:\n\n\t\t\t\t\t\t\t\tgl.depthFunc( 513 );\n\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\tcase LessEqualDepth:\n\n\t\t\t\t\t\t\t\tgl.depthFunc( 515 );\n\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\tcase EqualDepth:\n\n\t\t\t\t\t\t\t\tgl.depthFunc( 514 );\n\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\tcase GreaterEqualDepth:\n\n\t\t\t\t\t\t\t\tgl.depthFunc( 518 );\n\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\tcase GreaterDepth:\n\n\t\t\t\t\t\t\t\tgl.depthFunc( 516 );\n\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\tcase NotEqualDepth:\n\n\t\t\t\t\t\t\t\tgl.depthFunc( 517 );\n\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\tdefault:\n\n\t\t\t\t\t\t\t\tgl.depthFunc( 515 );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tgl.depthFunc( 515 );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tcurrentDepthFunc = depthFunc;\n\n\t\t\t\t}\n\n\t\t\t},\n\n\t\t\tsetLocked: function ( lock ) {\n\n\t\t\t\tlocked = lock;\n\n\t\t\t},\n\n\t\t\tsetClear: function ( depth ) {\n\n\t\t\t\tif ( currentDepthClear !== depth ) {\n\n\t\t\t\t\tgl.clearDepth( depth );\n\t\t\t\t\tcurrentDepthClear = depth;\n\n\t\t\t\t}\n\n\t\t\t},\n\n\t\t\treset: function () {\n\n\t\t\t\tlocked = false;\n\n\t\t\t\tcurrentDepthMask = null;\n\t\t\t\tcurrentDepthFunc = null;\n\t\t\t\tcurrentDepthClear = null;\n\n\t\t\t}\n\n\t\t};\n\n\t}\n\n\tfunction StencilBuffer() {\n\n\t\tvar locked = false;\n\n\t\tvar currentStencilMask = null;\n\t\tvar currentStencilFunc = null;\n\t\tvar currentStencilRef = null;\n\t\tvar currentStencilFuncMask = null;\n\t\tvar currentStencilFail = null;\n\t\tvar currentStencilZFail = null;\n\t\tvar currentStencilZPass = null;\n\t\tvar currentStencilClear = null;\n\n\t\treturn {\n\n\t\t\tsetTest: function ( stencilTest ) {\n\n\t\t\t\tif ( stencilTest ) {\n\n\t\t\t\t\tenable( 2960 );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tdisable( 2960 );\n\n\t\t\t\t}\n\n\t\t\t},\n\n\t\t\tsetMask: function ( stencilMask ) {\n\n\t\t\t\tif ( currentStencilMask !== stencilMask && ! locked ) {\n\n\t\t\t\t\tgl.stencilMask( stencilMask );\n\t\t\t\t\tcurrentStencilMask = stencilMask;\n\n\t\t\t\t}\n\n\t\t\t},\n\n\t\t\tsetFunc: function ( stencilFunc, stencilRef, stencilMask ) {\n\n\t\t\t\tif ( currentStencilFunc !== stencilFunc ||\n\t\t\t\t     currentStencilRef \t!== stencilRef \t||\n\t\t\t\t     currentStencilFuncMask !== stencilMask ) {\n\n\t\t\t\t\tgl.stencilFunc( stencilFunc, stencilRef, stencilMask );\n\n\t\t\t\t\tcurrentStencilFunc = stencilFunc;\n\t\t\t\t\tcurrentStencilRef = stencilRef;\n\t\t\t\t\tcurrentStencilFuncMask = stencilMask;\n\n\t\t\t\t}\n\n\t\t\t},\n\n\t\t\tsetOp: function ( stencilFail, stencilZFail, stencilZPass ) {\n\n\t\t\t\tif ( currentStencilFail\t !== stencilFail \t||\n\t\t\t\t     currentStencilZFail !== stencilZFail ||\n\t\t\t\t     currentStencilZPass !== stencilZPass ) {\n\n\t\t\t\t\tgl.stencilOp( stencilFail, stencilZFail, stencilZPass );\n\n\t\t\t\t\tcurrentStencilFail = stencilFail;\n\t\t\t\t\tcurrentStencilZFail = stencilZFail;\n\t\t\t\t\tcurrentStencilZPass = stencilZPass;\n\n\t\t\t\t}\n\n\t\t\t},\n\n\t\t\tsetLocked: function ( lock ) {\n\n\t\t\t\tlocked = lock;\n\n\t\t\t},\n\n\t\t\tsetClear: function ( stencil ) {\n\n\t\t\t\tif ( currentStencilClear !== stencil ) {\n\n\t\t\t\t\tgl.clearStencil( stencil );\n\t\t\t\t\tcurrentStencilClear = stencil;\n\n\t\t\t\t}\n\n\t\t\t},\n\n\t\t\treset: function () {\n\n\t\t\t\tlocked = false;\n\n\t\t\t\tcurrentStencilMask = null;\n\t\t\t\tcurrentStencilFunc = null;\n\t\t\t\tcurrentStencilRef = null;\n\t\t\t\tcurrentStencilFuncMask = null;\n\t\t\t\tcurrentStencilFail = null;\n\t\t\t\tcurrentStencilZFail = null;\n\t\t\t\tcurrentStencilZPass = null;\n\t\t\t\tcurrentStencilClear = null;\n\n\t\t\t}\n\n\t\t};\n\n\t}\n\n\t//\n\n\tvar colorBuffer = new ColorBuffer();\n\tvar depthBuffer = new DepthBuffer();\n\tvar stencilBuffer = new StencilBuffer();\n\n\tvar maxVertexAttributes = gl.getParameter( 34921 );\n\tvar newAttributes = new Uint8Array( maxVertexAttributes );\n\tvar enabledAttributes = new Uint8Array( maxVertexAttributes );\n\tvar attributeDivisors = new Uint8Array( maxVertexAttributes );\n\n\tvar enabledCapabilities = {};\n\n\tvar compressedTextureFormats = null;\n\n\tvar currentProgram = null;\n\n\tvar currentBlendingEnabled = null;\n\tvar currentBlending = null;\n\tvar currentBlendEquation = null;\n\tvar currentBlendSrc = null;\n\tvar currentBlendDst = null;\n\tvar currentBlendEquationAlpha = null;\n\tvar currentBlendSrcAlpha = null;\n\tvar currentBlendDstAlpha = null;\n\tvar currentPremultipledAlpha = false;\n\n\tvar currentFlipSided = null;\n\tvar currentCullFace = null;\n\n\tvar currentLineWidth = null;\n\n\tvar currentPolygonOffsetFactor = null;\n\tvar currentPolygonOffsetUnits = null;\n\n\tvar maxTextures = gl.getParameter( 35661 );\n\n\tvar lineWidthAvailable = false;\n\tvar version = 0;\n\tvar glVersion = gl.getParameter( 7938 );\n\n\tif ( glVersion.indexOf( 'WebGL' ) !== - 1 ) {\n\n\t\tversion = parseFloat( /^WebGL\\ ([0-9])/.exec( glVersion )[ 1 ] );\n\t\tlineWidthAvailable = ( version >= 1.0 );\n\n\t} else if ( glVersion.indexOf( 'OpenGL ES' ) !== - 1 ) {\n\n\t\tversion = parseFloat( /^OpenGL\\ ES\\ ([0-9])/.exec( glVersion )[ 1 ] );\n\t\tlineWidthAvailable = ( version >= 2.0 );\n\n\t}\n\n\tvar currentTextureSlot = null;\n\tvar currentBoundTextures = {};\n\n\tvar currentScissor = new Vector4();\n\tvar currentViewport = new Vector4();\n\n\tfunction createTexture( type, target, count ) {\n\n\t\tvar data = new Uint8Array( 4 ); // 4 is required to match default unpack alignment of 4.\n\t\tvar texture = gl.createTexture();\n\n\t\tgl.bindTexture( type, texture );\n\t\tgl.texParameteri( type, 10241, 9728 );\n\t\tgl.texParameteri( type, 10240, 9728 );\n\n\t\tfor ( var i = 0; i < count; i ++ ) {\n\n\t\t\tgl.texImage2D( target + i, 0, 6408, 1, 1, 0, 6408, 5121, data );\n\n\t\t}\n\n\t\treturn texture;\n\n\t}\n\n\tvar emptyTextures = {};\n\temptyTextures[ 3553 ] = createTexture( 3553, 3553, 1 );\n\temptyTextures[ 34067 ] = createTexture( 34067, 34069, 6 );\n\n\t// init\n\n\tcolorBuffer.setClear( 0, 0, 0, 1 );\n\tdepthBuffer.setClear( 1 );\n\tstencilBuffer.setClear( 0 );\n\n\tenable( 2929 );\n\tdepthBuffer.setFunc( LessEqualDepth );\n\n\tsetFlipSided( false );\n\tsetCullFace( CullFaceBack );\n\tenable( 2884 );\n\n\tsetBlending( NoBlending );\n\n\t//\n\n\tfunction initAttributes() {\n\n\t\tfor ( var i = 0, l = newAttributes.length; i < l; i ++ ) {\n\n\t\t\tnewAttributes[ i ] = 0;\n\n\t\t}\n\n\t}\n\n\tfunction enableAttribute( attribute ) {\n\n\t\tenableAttributeAndDivisor( attribute, 0 );\n\n\t}\n\n\tfunction enableAttributeAndDivisor( attribute, meshPerAttribute ) {\n\n\t\tnewAttributes[ attribute ] = 1;\n\n\t\tif ( enabledAttributes[ attribute ] === 0 ) {\n\n\t\t\tgl.enableVertexAttribArray( attribute );\n\t\t\tenabledAttributes[ attribute ] = 1;\n\n\t\t}\n\n\t\tif ( attributeDivisors[ attribute ] !== meshPerAttribute ) {\n\n\t\t\tvar extension = capabilities.isWebGL2 ? gl : extensions.get( 'ANGLE_instanced_arrays' );\n\n\t\t\textension[ capabilities.isWebGL2 ? 'vertexAttribDivisor' : 'vertexAttribDivisorANGLE' ]( attribute, meshPerAttribute );\n\t\t\tattributeDivisors[ attribute ] = meshPerAttribute;\n\n\t\t}\n\n\t}\n\n\tfunction disableUnusedAttributes() {\n\n\t\tfor ( var i = 0, l = enabledAttributes.length; i !== l; ++ i ) {\n\n\t\t\tif ( enabledAttributes[ i ] !== newAttributes[ i ] ) {\n\n\t\t\t\tgl.disableVertexAttribArray( i );\n\t\t\t\tenabledAttributes[ i ] = 0;\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\tfunction enable( id ) {\n\n\t\tif ( enabledCapabilities[ id ] !== true ) {\n\n\t\t\tgl.enable( id );\n\t\t\tenabledCapabilities[ id ] = true;\n\n\t\t}\n\n\t}\n\n\tfunction disable( id ) {\n\n\t\tif ( enabledCapabilities[ id ] !== false ) {\n\n\t\t\tgl.disable( id );\n\t\t\tenabledCapabilities[ id ] = false;\n\n\t\t}\n\n\t}\n\n\tfunction getCompressedTextureFormats() {\n\n\t\tif ( compressedTextureFormats === null ) {\n\n\t\t\tcompressedTextureFormats = [];\n\n\t\t\tif ( extensions.get( 'WEBGL_compressed_texture_pvrtc' ) ||\n\t\t\t     extensions.get( 'WEBGL_compressed_texture_s3tc' ) ||\n\t\t\t     extensions.get( 'WEBGL_compressed_texture_etc1' ) ||\n\t\t\t     extensions.get( 'WEBGL_compressed_texture_astc' ) ) {\n\n\t\t\t\tvar formats = gl.getParameter( 34467 );\n\n\t\t\t\tfor ( var i = 0; i < formats.length; i ++ ) {\n\n\t\t\t\t\tcompressedTextureFormats.push( formats[ i ] );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn compressedTextureFormats;\n\n\t}\n\n\tfunction useProgram( program ) {\n\n\t\tif ( currentProgram !== program ) {\n\n\t\t\tgl.useProgram( program );\n\n\t\t\tcurrentProgram = program;\n\n\t\t\treturn true;\n\n\t\t}\n\n\t\treturn false;\n\n\t}\n\n\tfunction setBlending( blending, blendEquation, blendSrc, blendDst, blendEquationAlpha, blendSrcAlpha, blendDstAlpha, premultipliedAlpha ) {\n\n\t\tif ( blending === NoBlending ) {\n\n\t\t\tif ( currentBlendingEnabled ) {\n\n\t\t\t\tdisable( 3042 );\n\t\t\t\tcurrentBlendingEnabled = false;\n\n\t\t\t}\n\n\t\t\treturn;\n\n\t\t}\n\n\t\tif ( ! currentBlendingEnabled ) {\n\n\t\t\tenable( 3042 );\n\t\t\tcurrentBlendingEnabled = true;\n\n\t\t}\n\n\t\tif ( blending !== CustomBlending ) {\n\n\t\t\tif ( blending !== currentBlending || premultipliedAlpha !== currentPremultipledAlpha ) {\n\n\t\t\t\tif ( currentBlendEquation !== AddEquation || currentBlendEquationAlpha !== AddEquation ) {\n\n\t\t\t\t\tgl.blendEquation( 32774 );\n\n\t\t\t\t\tcurrentBlendEquation = AddEquation;\n\t\t\t\t\tcurrentBlendEquationAlpha = AddEquation;\n\n\t\t\t\t}\n\n\t\t\t\tif ( premultipliedAlpha ) {\n\n\t\t\t\t\tswitch ( blending ) {\n\n\t\t\t\t\t\tcase NormalBlending:\n\t\t\t\t\t\t\tgl.blendFuncSeparate( 1, 771, 1, 771 );\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tcase AdditiveBlending:\n\t\t\t\t\t\t\tgl.blendFunc( 1, 1 );\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tcase SubtractiveBlending:\n\t\t\t\t\t\t\tgl.blendFuncSeparate( 0, 0, 769, 771 );\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tcase MultiplyBlending:\n\t\t\t\t\t\t\tgl.blendFuncSeparate( 0, 768, 0, 770 );\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\tconsole.error( 'THREE.WebGLState: Invalid blending: ', blending );\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\n\t\t\t\t\tswitch ( blending ) {\n\n\t\t\t\t\t\tcase NormalBlending:\n\t\t\t\t\t\t\tgl.blendFuncSeparate( 770, 771, 1, 771 );\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tcase AdditiveBlending:\n\t\t\t\t\t\t\tgl.blendFunc( 770, 1 );\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tcase SubtractiveBlending:\n\t\t\t\t\t\t\tgl.blendFunc( 0, 769 );\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tcase MultiplyBlending:\n\t\t\t\t\t\t\tgl.blendFunc( 0, 768 );\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\tconsole.error( 'THREE.WebGLState: Invalid blending: ', blending );\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\tcurrentBlendSrc = null;\n\t\t\t\tcurrentBlendDst = null;\n\t\t\t\tcurrentBlendSrcAlpha = null;\n\t\t\t\tcurrentBlendDstAlpha = null;\n\n\t\t\t\tcurrentBlending = blending;\n\t\t\t\tcurrentPremultipledAlpha = premultipliedAlpha;\n\n\t\t\t}\n\n\t\t\treturn;\n\n\t\t}\n\n\t\t// custom blending\n\n\t\tblendEquationAlpha = blendEquationAlpha || blendEquation;\n\t\tblendSrcAlpha = blendSrcAlpha || blendSrc;\n\t\tblendDstAlpha = blendDstAlpha || blendDst;\n\n\t\tif ( blendEquation !== currentBlendEquation || blendEquationAlpha !== currentBlendEquationAlpha ) {\n\n\t\t\tgl.blendEquationSeparate( utils.convert( blendEquation ), utils.convert( blendEquationAlpha ) );\n\n\t\t\tcurrentBlendEquation = blendEquation;\n\t\t\tcurrentBlendEquationAlpha = blendEquationAlpha;\n\n\t\t}\n\n\t\tif ( blendSrc !== currentBlendSrc || blendDst !== currentBlendDst || blendSrcAlpha !== currentBlendSrcAlpha || blendDstAlpha !== currentBlendDstAlpha ) {\n\n\t\t\tgl.blendFuncSeparate( utils.convert( blendSrc ), utils.convert( blendDst ), utils.convert( blendSrcAlpha ), utils.convert( blendDstAlpha ) );\n\n\t\t\tcurrentBlendSrc = blendSrc;\n\t\t\tcurrentBlendDst = blendDst;\n\t\t\tcurrentBlendSrcAlpha = blendSrcAlpha;\n\t\t\tcurrentBlendDstAlpha = blendDstAlpha;\n\n\t\t}\n\n\t\tcurrentBlending = blending;\n\t\tcurrentPremultipledAlpha = null;\n\n\t}\n\n\tfunction setMaterial( material, frontFaceCW ) {\n\n\t\tmaterial.side === DoubleSide\n\t\t\t? disable( 2884 )\n\t\t\t: enable( 2884 );\n\n\t\tvar flipSided = ( material.side === BackSide );\n\t\tif ( frontFaceCW ) flipSided = ! flipSided;\n\n\t\tsetFlipSided( flipSided );\n\n\t\t( material.blending === NormalBlending && material.transparent === false )\n\t\t\t? setBlending( NoBlending )\n\t\t\t: setBlending( material.blending, material.blendEquation, material.blendSrc, material.blendDst, material.blendEquationAlpha, material.blendSrcAlpha, material.blendDstAlpha, material.premultipliedAlpha );\n\n\t\tdepthBuffer.setFunc( material.depthFunc );\n\t\tdepthBuffer.setTest( material.depthTest );\n\t\tdepthBuffer.setMask( material.depthWrite );\n\t\tcolorBuffer.setMask( material.colorWrite );\n\n\t\tsetPolygonOffset( material.polygonOffset, material.polygonOffsetFactor, material.polygonOffsetUnits );\n\n\t}\n\n\t//\n\n\tfunction setFlipSided( flipSided ) {\n\n\t\tif ( currentFlipSided !== flipSided ) {\n\n\t\t\tif ( flipSided ) {\n\n\t\t\t\tgl.frontFace( 2304 );\n\n\t\t\t} else {\n\n\t\t\t\tgl.frontFace( 2305 );\n\n\t\t\t}\n\n\t\t\tcurrentFlipSided = flipSided;\n\n\t\t}\n\n\t}\n\n\tfunction setCullFace( cullFace ) {\n\n\t\tif ( cullFace !== CullFaceNone ) {\n\n\t\t\tenable( 2884 );\n\n\t\t\tif ( cullFace !== currentCullFace ) {\n\n\t\t\t\tif ( cullFace === CullFaceBack ) {\n\n\t\t\t\t\tgl.cullFace( 1029 );\n\n\t\t\t\t} else if ( cullFace === CullFaceFront ) {\n\n\t\t\t\t\tgl.cullFace( 1028 );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tgl.cullFace( 1032 );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\tdisable( 2884 );\n\n\t\t}\n\n\t\tcurrentCullFace = cullFace;\n\n\t}\n\n\tfunction setLineWidth( width ) {\n\n\t\tif ( width !== currentLineWidth ) {\n\n\t\t\tif ( lineWidthAvailable ) gl.lineWidth( width );\n\n\t\t\tcurrentLineWidth = width;\n\n\t\t}\n\n\t}\n\n\tfunction setPolygonOffset( polygonOffset, factor, units ) {\n\n\t\tif ( polygonOffset ) {\n\n\t\t\tenable( 32823 );\n\n\t\t\tif ( currentPolygonOffsetFactor !== factor || currentPolygonOffsetUnits !== units ) {\n\n\t\t\t\tgl.polygonOffset( factor, units );\n\n\t\t\t\tcurrentPolygonOffsetFactor = factor;\n\t\t\t\tcurrentPolygonOffsetUnits = units;\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\tdisable( 32823 );\n\n\t\t}\n\n\t}\n\n\tfunction setScissorTest( scissorTest ) {\n\n\t\tif ( scissorTest ) {\n\n\t\t\tenable( 3089 );\n\n\t\t} else {\n\n\t\t\tdisable( 3089 );\n\n\t\t}\n\n\t}\n\n\t// texture\n\n\tfunction activeTexture( webglSlot ) {\n\n\t\tif ( webglSlot === undefined ) webglSlot = 33984 + maxTextures - 1;\n\n\t\tif ( currentTextureSlot !== webglSlot ) {\n\n\t\t\tgl.activeTexture( webglSlot );\n\t\t\tcurrentTextureSlot = webglSlot;\n\n\t\t}\n\n\t}\n\n\tfunction bindTexture( webglType, webglTexture ) {\n\n\t\tif ( currentTextureSlot === null ) {\n\n\t\t\tactiveTexture();\n\n\t\t}\n\n\t\tvar boundTexture = currentBoundTextures[ currentTextureSlot ];\n\n\t\tif ( boundTexture === undefined ) {\n\n\t\t\tboundTexture = { type: undefined, texture: undefined };\n\t\t\tcurrentBoundTextures[ currentTextureSlot ] = boundTexture;\n\n\t\t}\n\n\t\tif ( boundTexture.type !== webglType || boundTexture.texture !== webglTexture ) {\n\n\t\t\tgl.bindTexture( webglType, webglTexture || emptyTextures[ webglType ] );\n\n\t\t\tboundTexture.type = webglType;\n\t\t\tboundTexture.texture = webglTexture;\n\n\t\t}\n\n\t}\n\n\tfunction compressedTexImage2D() {\n\n\t\ttry {\n\n\t\t\tgl.compressedTexImage2D.apply( gl, arguments );\n\n\t\t} catch ( error ) {\n\n\t\t\tconsole.error( 'THREE.WebGLState:', error );\n\n\t\t}\n\n\t}\n\n\tfunction texImage2D() {\n\n\t\ttry {\n\n\t\t\tgl.texImage2D.apply( gl, arguments );\n\n\t\t} catch ( error ) {\n\n\t\t\tconsole.error( 'THREE.WebGLState:', error );\n\n\t\t}\n\n\t}\n\n\tfunction texImage3D() {\n\n\t\ttry {\n\n\t\t\tgl.texImage3D.apply( gl, arguments );\n\n\t\t} catch ( error ) {\n\n\t\t\tconsole.error( 'THREE.WebGLState:', error );\n\n\t\t}\n\n\t}\n\n\t//\n\n\tfunction scissor( scissor ) {\n\n\t\tif ( currentScissor.equals( scissor ) === false ) {\n\n\t\t\tgl.scissor( scissor.x, scissor.y, scissor.z, scissor.w );\n\t\t\tcurrentScissor.copy( scissor );\n\n\t\t}\n\n\t}\n\n\tfunction viewport( viewport ) {\n\n\t\tif ( currentViewport.equals( viewport ) === false ) {\n\n\t\t\tgl.viewport( viewport.x, viewport.y, viewport.z, viewport.w );\n\t\t\tcurrentViewport.copy( viewport );\n\n\t\t}\n\n\t}\n\n\t//\n\n\tfunction reset() {\n\n\t\tfor ( var i = 0; i < enabledAttributes.length; i ++ ) {\n\n\t\t\tif ( enabledAttributes[ i ] === 1 ) {\n\n\t\t\t\tgl.disableVertexAttribArray( i );\n\t\t\t\tenabledAttributes[ i ] = 0;\n\n\t\t\t}\n\n\t\t}\n\n\t\tenabledCapabilities = {};\n\n\t\tcompressedTextureFormats = null;\n\n\t\tcurrentTextureSlot = null;\n\t\tcurrentBoundTextures = {};\n\n\t\tcurrentProgram = null;\n\n\t\tcurrentBlending = null;\n\n\t\tcurrentFlipSided = null;\n\t\tcurrentCullFace = null;\n\n\t\tcolorBuffer.reset();\n\t\tdepthBuffer.reset();\n\t\tstencilBuffer.reset();\n\n\t}\n\n\treturn {\n\n\t\tbuffers: {\n\t\t\tcolor: colorBuffer,\n\t\t\tdepth: depthBuffer,\n\t\t\tstencil: stencilBuffer\n\t\t},\n\n\t\tinitAttributes: initAttributes,\n\t\tenableAttribute: enableAttribute,\n\t\tenableAttributeAndDivisor: enableAttributeAndDivisor,\n\t\tdisableUnusedAttributes: disableUnusedAttributes,\n\t\tenable: enable,\n\t\tdisable: disable,\n\t\tgetCompressedTextureFormats: getCompressedTextureFormats,\n\n\t\tuseProgram: useProgram,\n\n\t\tsetBlending: setBlending,\n\t\tsetMaterial: setMaterial,\n\n\t\tsetFlipSided: setFlipSided,\n\t\tsetCullFace: setCullFace,\n\n\t\tsetLineWidth: setLineWidth,\n\t\tsetPolygonOffset: setPolygonOffset,\n\n\t\tsetScissorTest: setScissorTest,\n\n\t\tactiveTexture: activeTexture,\n\t\tbindTexture: bindTexture,\n\t\tcompressedTexImage2D: compressedTexImage2D,\n\t\ttexImage2D: texImage2D,\n\t\ttexImage3D: texImage3D,\n\n\t\tscissor: scissor,\n\t\tviewport: viewport,\n\n\t\treset: reset\n\n\t};\n\n}\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction WebGLTextures( _gl, extensions, state, properties, capabilities, utils, info ) {\n\n\tvar _videoTextures = {};\n\tvar _canvas;\n\n\t//\n\n\tvar useOffscreenCanvas = typeof OffscreenCanvas !== 'undefined';\n\n\tfunction createCanvas( width, height ) {\n\n\t\t// Use OffscreenCanvas when available. Specially needed in web workers\n\n\t\treturn useOffscreenCanvas ?\n\t\t\tnew OffscreenCanvas( width, height ) :\n\t\t\tdocument.createElementNS( 'http://www.w3.org/1999/xhtml', 'canvas' );\n\n\t}\n\n\tfunction resizeImage( image, needsPowerOfTwo, needsNewCanvas, maxSize ) {\n\n\t\tvar scale = 1;\n\n\t\t// handle case if texture exceeds max size\n\n\t\tif ( image.width > maxSize || image.height > maxSize ) {\n\n\t\t\tscale = maxSize / Math.max( image.width, image.height );\n\n\t\t}\n\n\t\t// only perform resize if necessary\n\n\t\tif ( scale < 1 || needsPowerOfTwo === true ) {\n\n\t\t\t// only perform resize for certain image types\n\n\t\t\tif ( ( typeof HTMLImageElement !== 'undefined' && image instanceof HTMLImageElement ) ||\n\t\t\t\t( typeof HTMLCanvasElement !== 'undefined' && image instanceof HTMLCanvasElement ) ||\n\t\t\t\t( typeof ImageBitmap !== 'undefined' && image instanceof ImageBitmap ) ) {\n\n\t\t\t\tvar floor = needsPowerOfTwo ? _Math.floorPowerOfTwo : Math.floor;\n\n\t\t\t\tvar width = floor( scale * image.width );\n\t\t\t\tvar height = floor( scale * image.height );\n\n\t\t\t\tif ( _canvas === undefined ) _canvas = createCanvas( width, height );\n\n\t\t\t\t// cube textures can't reuse the same canvas\n\n\t\t\t\tvar canvas = needsNewCanvas ? createCanvas( width, height ) : _canvas;\n\n\t\t\t\tcanvas.width = width;\n\t\t\t\tcanvas.height = height;\n\n\t\t\t\tvar context = canvas.getContext( '2d' );\n\t\t\t\tcontext.drawImage( image, 0, 0, width, height );\n\n\t\t\t\tconsole.warn( 'THREE.WebGLRenderer: Texture has been resized from (' + image.width + 'x' + image.height + ') to (' + width + 'x' + height + ').' );\n\n\t\t\t\treturn canvas;\n\n\t\t\t} else {\n\n\t\t\t\tif ( 'data' in image ) {\n\n\t\t\t\t\tconsole.warn( 'THREE.WebGLRenderer: Image in DataTexture is too big (' + image.width + 'x' + image.height + ').' );\n\n\t\t\t\t}\n\n\t\t\t\treturn image;\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn image;\n\n\t}\n\n\tfunction isPowerOfTwo( image ) {\n\n\t\treturn _Math.isPowerOfTwo( image.width ) && _Math.isPowerOfTwo( image.height );\n\n\t}\n\n\tfunction textureNeedsPowerOfTwo( texture ) {\n\n\t\tif ( capabilities.isWebGL2 ) return false;\n\n\t\treturn ( texture.wrapS !== ClampToEdgeWrapping || texture.wrapT !== ClampToEdgeWrapping ) ||\n\t\t\t( texture.minFilter !== NearestFilter && texture.minFilter !== LinearFilter );\n\n\t}\n\n\tfunction textureNeedsGenerateMipmaps( texture, supportsMips ) {\n\n\t\treturn texture.generateMipmaps && supportsMips &&\n\t\t\ttexture.minFilter !== NearestFilter && texture.minFilter !== LinearFilter;\n\n\t}\n\n\tfunction generateMipmap( target, texture, width, height ) {\n\n\t\t_gl.generateMipmap( target );\n\n\t\tvar textureProperties = properties.get( texture );\n\n\t\t// Note: Math.log( x ) * Math.LOG2E used instead of Math.log2( x ) which is not supported by IE11\n\t\ttextureProperties.__maxMipLevel = Math.log( Math.max( width, height ) ) * Math.LOG2E;\n\n\t}\n\n\tfunction getInternalFormat( glFormat, glType ) {\n\n\t\tif ( ! capabilities.isWebGL2 ) return glFormat;\n\n\t\tvar internalFormat = glFormat;\n\n\t\tif ( glFormat === 6403 ) {\n\n\t\t\tif ( glType === 5126 ) internalFormat = 33326;\n\t\t\tif ( glType === 5131 ) internalFormat = 33325;\n\t\t\tif ( glType === 5121 ) internalFormat = 33321;\n\n\t\t}\n\n\t\tif ( glFormat === 6407 ) {\n\n\t\t\tif ( glType === 5126 ) internalFormat = 34837;\n\t\t\tif ( glType === 5131 ) internalFormat = 34843;\n\t\t\tif ( glType === 5121 ) internalFormat = 32849;\n\n\t\t}\n\n\t\tif ( glFormat === 6408 ) {\n\n\t\t\tif ( glType === 5126 ) internalFormat = 34836;\n\t\t\tif ( glType === 5131 ) internalFormat = 34842;\n\t\t\tif ( glType === 5121 ) internalFormat = 32856;\n\n\t\t}\n\n\t\tif ( internalFormat === 33325 || internalFormat === 33326 ||\n\t\t\tinternalFormat === 34842 || internalFormat === 34836 ) {\n\n\t\t\textensions.get( 'EXT_color_buffer_float' );\n\n\t\t} else if ( internalFormat === 34843 || internalFormat === 34837 ) {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderer: Floating point textures with RGB format not supported. Please use RGBA instead.' );\n\n\t\t}\n\n\t\treturn internalFormat;\n\n\t}\n\n\t// Fallback filters for non-power-of-2 textures\n\n\tfunction filterFallback( f ) {\n\n\t\tif ( f === NearestFilter || f === NearestMipMapNearestFilter || f === NearestMipMapLinearFilter ) {\n\n\t\t\treturn 9728;\n\n\t\t}\n\n\t\treturn 9729;\n\n\t}\n\n\t//\n\n\tfunction onTextureDispose( event ) {\n\n\t\tvar texture = event.target;\n\n\t\ttexture.removeEventListener( 'dispose', onTextureDispose );\n\n\t\tdeallocateTexture( texture );\n\n\t\tif ( texture.isVideoTexture ) {\n\n\t\t\tdelete _videoTextures[ texture.id ];\n\n\t\t}\n\n\t\tinfo.memory.textures --;\n\n\t}\n\n\tfunction onRenderTargetDispose( event ) {\n\n\t\tvar renderTarget = event.target;\n\n\t\trenderTarget.removeEventListener( 'dispose', onRenderTargetDispose );\n\n\t\tdeallocateRenderTarget( renderTarget );\n\n\t\tinfo.memory.textures --;\n\n\t}\n\n\t//\n\n\tfunction deallocateTexture( texture ) {\n\n\t\tvar textureProperties = properties.get( texture );\n\n\t\tif ( textureProperties.__webglInit === undefined ) return;\n\n\t\t_gl.deleteTexture( textureProperties.__webglTexture );\n\n\t\tproperties.remove( texture );\n\n\t}\n\n\tfunction deallocateRenderTarget( renderTarget ) {\n\n\t\tvar renderTargetProperties = properties.get( renderTarget );\n\t\tvar textureProperties = properties.get( renderTarget.texture );\n\n\t\tif ( ! renderTarget ) return;\n\n\t\tif ( textureProperties.__webglTexture !== undefined ) {\n\n\t\t\t_gl.deleteTexture( textureProperties.__webglTexture );\n\n\t\t}\n\n\t\tif ( renderTarget.depthTexture ) {\n\n\t\t\trenderTarget.depthTexture.dispose();\n\n\t\t}\n\n\t\tif ( renderTarget.isWebGLRenderTargetCube ) {\n\n\t\t\tfor ( var i = 0; i < 6; i ++ ) {\n\n\t\t\t\t_gl.deleteFramebuffer( renderTargetProperties.__webglFramebuffer[ i ] );\n\t\t\t\tif ( renderTargetProperties.__webglDepthbuffer ) _gl.deleteRenderbuffer( renderTargetProperties.__webglDepthbuffer[ i ] );\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\t_gl.deleteFramebuffer( renderTargetProperties.__webglFramebuffer );\n\t\t\tif ( renderTargetProperties.__webglDepthbuffer ) _gl.deleteRenderbuffer( renderTargetProperties.__webglDepthbuffer );\n\n\t\t}\n\n\t\tproperties.remove( renderTarget.texture );\n\t\tproperties.remove( renderTarget );\n\n\t}\n\n\t//\n\n\tvar textureUnits = 0;\n\n\tfunction resetTextureUnits() {\n\n\t\ttextureUnits = 0;\n\n\t}\n\n\tfunction allocateTextureUnit() {\n\n\t\tvar textureUnit = textureUnits;\n\n\t\tif ( textureUnit >= capabilities.maxTextures ) {\n\n\t\t\tconsole.warn( 'THREE.WebGLTextures: Trying to use ' + textureUnit + ' texture units while this GPU supports only ' + capabilities.maxTextures );\n\n\t\t}\n\n\t\ttextureUnits += 1;\n\n\t\treturn textureUnit;\n\n\t}\n\n\t//\n\n\tfunction setTexture2D( texture, slot ) {\n\n\t\tvar textureProperties = properties.get( texture );\n\n\t\tif ( texture.isVideoTexture ) updateVideoTexture( texture );\n\n\t\tif ( texture.version > 0 && textureProperties.__version !== texture.version ) {\n\n\t\t\tvar image = texture.image;\n\n\t\t\tif ( image === undefined ) {\n\n\t\t\t\tconsole.warn( 'THREE.WebGLRenderer: Texture marked for update but image is undefined' );\n\n\t\t\t} else if ( image.complete === false ) {\n\n\t\t\t\tconsole.warn( 'THREE.WebGLRenderer: Texture marked for update but image is incomplete' );\n\n\t\t\t} else {\n\n\t\t\t\tuploadTexture( textureProperties, texture, slot );\n\t\t\t\treturn;\n\n\t\t\t}\n\n\t\t}\n\n\t\tstate.activeTexture( 33984 + slot );\n\t\tstate.bindTexture( 3553, textureProperties.__webglTexture );\n\n\t}\n\n\tfunction setTexture2DArray( texture, slot ) {\n\n\t\tvar textureProperties = properties.get( texture );\n\n\t\tif ( texture.version > 0 && textureProperties.__version !== texture.version ) {\n\n\t\t\tuploadTexture( textureProperties, texture, slot );\n\t\t\treturn;\n\n\t\t}\n\n\t\tstate.activeTexture( 33984 + slot );\n\t\tstate.bindTexture( 35866, textureProperties.__webglTexture );\n\n\t}\n\n\tfunction setTexture3D( texture, slot ) {\n\n\t\tvar textureProperties = properties.get( texture );\n\n\t\tif ( texture.version > 0 && textureProperties.__version !== texture.version ) {\n\n\t\t\tuploadTexture( textureProperties, texture, slot );\n\t\t\treturn;\n\n\t\t}\n\n\t\tstate.activeTexture( 33984 + slot );\n\t\tstate.bindTexture( 32879, textureProperties.__webglTexture );\n\n\t}\n\n\tfunction setTextureCube( texture, slot ) {\n\n\t\tvar textureProperties = properties.get( texture );\n\n\t\tif ( texture.image.length === 6 ) {\n\n\t\t\tif ( texture.version > 0 && textureProperties.__version !== texture.version ) {\n\n\t\t\t\tinitTexture( textureProperties, texture );\n\n\t\t\t\tstate.activeTexture( 33984 + slot );\n\t\t\t\tstate.bindTexture( 34067, textureProperties.__webglTexture );\n\n\t\t\t\t_gl.pixelStorei( 37440, texture.flipY );\n\n\t\t\t\tvar isCompressed = ( texture && texture.isCompressedTexture );\n\t\t\t\tvar isDataTexture = ( texture.image[ 0 ] && texture.image[ 0 ].isDataTexture );\n\n\t\t\t\tvar cubeImage = [];\n\n\t\t\t\tfor ( var i = 0; i < 6; i ++ ) {\n\n\t\t\t\t\tif ( ! isCompressed && ! isDataTexture ) {\n\n\t\t\t\t\t\tcubeImage[ i ] = resizeImage( texture.image[ i ], false, true, capabilities.maxCubemapSize );\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tcubeImage[ i ] = isDataTexture ? texture.image[ i ].image : texture.image[ i ];\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\tvar image = cubeImage[ 0 ],\n\t\t\t\t\tsupportsMips = isPowerOfTwo( image ) || capabilities.isWebGL2,\n\t\t\t\t\tglFormat = utils.convert( texture.format ),\n\t\t\t\t\tglType = utils.convert( texture.type ),\n\t\t\t\t\tglInternalFormat = getInternalFormat( glFormat, glType );\n\n\t\t\t\tsetTextureParameters( 34067, texture, supportsMips );\n\n\t\t\t\tfor ( var i = 0; i < 6; i ++ ) {\n\n\t\t\t\t\tif ( ! isCompressed ) {\n\n\t\t\t\t\t\tif ( isDataTexture ) {\n\n\t\t\t\t\t\t\tstate.texImage2D( 34069 + i, 0, glInternalFormat, cubeImage[ i ].width, cubeImage[ i ].height, 0, glFormat, glType, cubeImage[ i ].data );\n\n\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\tstate.texImage2D( 34069 + i, 0, glInternalFormat, glFormat, glType, cubeImage[ i ] );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tvar mipmap, mipmaps = cubeImage[ i ].mipmaps;\n\n\t\t\t\t\t\tfor ( var j = 0, jl = mipmaps.length; j < jl; j ++ ) {\n\n\t\t\t\t\t\t\tmipmap = mipmaps[ j ];\n\n\t\t\t\t\t\t\tif ( texture.format !== RGBAFormat && texture.format !== RGBFormat ) {\n\n\t\t\t\t\t\t\t\tif ( state.getCompressedTextureFormats().indexOf( glFormat ) > - 1 ) {\n\n\t\t\t\t\t\t\t\t\tstate.compressedTexImage2D( 34069 + i, j, glInternalFormat, mipmap.width, mipmap.height, 0, mipmap.data );\n\n\t\t\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\t\t\tconsole.warn( 'THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()' );\n\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\t\tstate.texImage2D( 34069 + i, j, glInternalFormat, mipmap.width, mipmap.height, 0, glFormat, glType, mipmap.data );\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\tif ( ! isCompressed ) {\n\n\t\t\t\t\ttextureProperties.__maxMipLevel = 0;\n\n\t\t\t\t} else {\n\n\t\t\t\t\ttextureProperties.__maxMipLevel = mipmaps.length - 1;\n\n\t\t\t\t}\n\n\t\t\t\tif ( textureNeedsGenerateMipmaps( texture, supportsMips ) ) {\n\n\t\t\t\t\t// We assume images for cube map have the same size.\n\t\t\t\t\tgenerateMipmap( 34067, texture, image.width, image.height );\n\n\t\t\t\t}\n\n\t\t\t\ttextureProperties.__version = texture.version;\n\n\t\t\t\tif ( texture.onUpdate ) texture.onUpdate( texture );\n\n\t\t\t} else {\n\n\t\t\t\tstate.activeTexture( 33984 + slot );\n\t\t\t\tstate.bindTexture( 34067, textureProperties.__webglTexture );\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\tfunction setTextureCubeDynamic( texture, slot ) {\n\n\t\tstate.activeTexture( 33984 + slot );\n\t\tstate.bindTexture( 34067, properties.get( texture ).__webglTexture );\n\n\t}\n\n\tfunction setTextureParameters( textureType, texture, supportsMips ) {\n\n\t\tvar extension;\n\n\t\tif ( supportsMips ) {\n\n\t\t\t_gl.texParameteri( textureType, 10242, utils.convert( texture.wrapS ) );\n\t\t\t_gl.texParameteri( textureType, 10243, utils.convert( texture.wrapT ) );\n\n\t\t\tif ( textureType === 32879 || textureType === 35866 ) {\n\n\t\t\t\t_gl.texParameteri( textureType, 32882, utils.convert( texture.wrapR ) );\n\n\t\t\t}\n\n\t\t\t_gl.texParameteri( textureType, 10240, utils.convert( texture.magFilter ) );\n\t\t\t_gl.texParameteri( textureType, 10241, utils.convert( texture.minFilter ) );\n\n\t\t} else {\n\n\t\t\t_gl.texParameteri( textureType, 10242, 33071 );\n\t\t\t_gl.texParameteri( textureType, 10243, 33071 );\n\n\t\t\tif ( textureType === 32879 || textureType === 35866 ) {\n\n\t\t\t\t_gl.texParameteri( textureType, 32882, 33071 );\n\n\t\t\t}\n\n\t\t\tif ( texture.wrapS !== ClampToEdgeWrapping || texture.wrapT !== ClampToEdgeWrapping ) {\n\n\t\t\t\tconsole.warn( 'THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping.' );\n\n\t\t\t}\n\n\t\t\t_gl.texParameteri( textureType, 10240, filterFallback( texture.magFilter ) );\n\t\t\t_gl.texParameteri( textureType, 10241, filterFallback( texture.minFilter ) );\n\n\t\t\tif ( texture.minFilter !== NearestFilter && texture.minFilter !== LinearFilter ) {\n\n\t\t\t\tconsole.warn( 'THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.' );\n\n\t\t\t}\n\n\t\t}\n\n\t\textension = extensions.get( 'EXT_texture_filter_anisotropic' );\n\n\t\tif ( extension ) {\n\n\t\t\tif ( texture.type === FloatType && extensions.get( 'OES_texture_float_linear' ) === null ) return;\n\t\t\tif ( texture.type === HalfFloatType && ( capabilities.isWebGL2 || extensions.get( 'OES_texture_half_float_linear' ) ) === null ) return;\n\n\t\t\tif ( texture.anisotropy > 1 || properties.get( texture ).__currentAnisotropy ) {\n\n\t\t\t\t_gl.texParameterf( textureType, extension.TEXTURE_MAX_ANISOTROPY_EXT, Math.min( texture.anisotropy, capabilities.getMaxAnisotropy() ) );\n\t\t\t\tproperties.get( texture ).__currentAnisotropy = texture.anisotropy;\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\tfunction initTexture( textureProperties, texture ) {\n\n\t\tif ( textureProperties.__webglInit === undefined ) {\n\n\t\t\ttextureProperties.__webglInit = true;\n\n\t\t\ttexture.addEventListener( 'dispose', onTextureDispose );\n\n\t\t\ttextureProperties.__webglTexture = _gl.createTexture();\n\n\t\t\tinfo.memory.textures ++;\n\n\t\t}\n\n\t}\n\n\tfunction uploadTexture( textureProperties, texture, slot ) {\n\n\t\tvar textureType = 3553;\n\n\t\tif ( texture.isDataTexture2DArray ) textureType = 35866;\n\t\tif ( texture.isDataTexture3D ) textureType = 32879;\n\n\t\tinitTexture( textureProperties, texture );\n\n\t\tstate.activeTexture( 33984 + slot );\n\t\tstate.bindTexture( textureType, textureProperties.__webglTexture );\n\n\t\t_gl.pixelStorei( 37440, texture.flipY );\n\t\t_gl.pixelStorei( 37441, texture.premultiplyAlpha );\n\t\t_gl.pixelStorei( 3317, texture.unpackAlignment );\n\n\t\tvar needsPowerOfTwo = textureNeedsPowerOfTwo( texture ) && isPowerOfTwo( texture.image ) === false;\n\t\tvar image = resizeImage( texture.image, needsPowerOfTwo, false, capabilities.maxTextureSize );\n\n\t\tvar supportsMips = isPowerOfTwo( image ) || capabilities.isWebGL2,\n\t\t\tglFormat = utils.convert( texture.format ),\n\t\t\tglType = utils.convert( texture.type ),\n\t\t\tglInternalFormat = getInternalFormat( glFormat, glType );\n\n\t\tsetTextureParameters( textureType, texture, supportsMips );\n\n\t\tvar mipmap, mipmaps = texture.mipmaps;\n\n\t\tif ( texture.isDepthTexture ) {\n\n\t\t\t// populate depth texture with dummy data\n\n\t\t\tglInternalFormat = 6402;\n\n\t\t\tif ( texture.type === FloatType ) {\n\n\t\t\t\tif ( ! capabilities.isWebGL2 ) throw new Error( 'Float Depth Texture only supported in WebGL2.0' );\n\t\t\t\tglInternalFormat = 36012;\n\n\t\t\t} else if ( capabilities.isWebGL2 ) {\n\n\t\t\t\t// WebGL 2.0 requires signed internalformat for glTexImage2D\n\t\t\t\tglInternalFormat = 33189;\n\n\t\t\t}\n\n\t\t\tif ( texture.format === DepthFormat && glInternalFormat === 6402 ) {\n\n\t\t\t\t// The error INVALID_OPERATION is generated by texImage2D if format and internalformat are\n\t\t\t\t// DEPTH_COMPONENT and type is not UNSIGNED_SHORT or UNSIGNED_INT\n\t\t\t\t// (https://www.khronos.org/registry/webgl/extensions/WEBGL_depth_texture/)\n\t\t\t\tif ( texture.type !== UnsignedShortType && texture.type !== UnsignedIntType ) {\n\n\t\t\t\t\tconsole.warn( 'THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture.' );\n\n\t\t\t\t\ttexture.type = UnsignedShortType;\n\t\t\t\t\tglType = utils.convert( texture.type );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\t// Depth stencil textures need the DEPTH_STENCIL internal format\n\t\t\t// (https://www.khronos.org/registry/webgl/extensions/WEBGL_depth_texture/)\n\t\t\tif ( texture.format === DepthStencilFormat ) {\n\n\t\t\t\tglInternalFormat = 34041;\n\n\t\t\t\t// The error INVALID_OPERATION is generated by texImage2D if format and internalformat are\n\t\t\t\t// DEPTH_STENCIL and type is not UNSIGNED_INT_24_8_WEBGL.\n\t\t\t\t// (https://www.khronos.org/registry/webgl/extensions/WEBGL_depth_texture/)\n\t\t\t\tif ( texture.type !== UnsignedInt248Type ) {\n\n\t\t\t\t\tconsole.warn( 'THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture.' );\n\n\t\t\t\t\ttexture.type = UnsignedInt248Type;\n\t\t\t\t\tglType = utils.convert( texture.type );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tstate.texImage2D( 3553, 0, glInternalFormat, image.width, image.height, 0, glFormat, glType, null );\n\n\t\t} else if ( texture.isDataTexture ) {\n\n\t\t\t// use manually created mipmaps if available\n\t\t\t// if there are no manual mipmaps\n\t\t\t// set 0 level mipmap and then use GL to generate other mipmap levels\n\n\t\t\tif ( mipmaps.length > 0 && supportsMips ) {\n\n\t\t\t\tfor ( var i = 0, il = mipmaps.length; i < il; i ++ ) {\n\n\t\t\t\t\tmipmap = mipmaps[ i ];\n\t\t\t\t\tstate.texImage2D( 3553, i, glInternalFormat, mipmap.width, mipmap.height, 0, glFormat, glType, mipmap.data );\n\n\t\t\t\t}\n\n\t\t\t\ttexture.generateMipmaps = false;\n\t\t\t\ttextureProperties.__maxMipLevel = mipmaps.length - 1;\n\n\t\t\t} else {\n\n\t\t\t\tstate.texImage2D( 3553, 0, glInternalFormat, image.width, image.height, 0, glFormat, glType, image.data );\n\t\t\t\ttextureProperties.__maxMipLevel = 0;\n\n\t\t\t}\n\n\t\t} else if ( texture.isCompressedTexture ) {\n\n\t\t\tfor ( var i = 0, il = mipmaps.length; i < il; i ++ ) {\n\n\t\t\t\tmipmap = mipmaps[ i ];\n\n\t\t\t\tif ( texture.format !== RGBAFormat && texture.format !== RGBFormat ) {\n\n\t\t\t\t\tif ( state.getCompressedTextureFormats().indexOf( glFormat ) > - 1 ) {\n\n\t\t\t\t\t\tstate.compressedTexImage2D( 3553, i, glInternalFormat, mipmap.width, mipmap.height, 0, mipmap.data );\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tconsole.warn( 'THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()' );\n\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\n\t\t\t\t\tstate.texImage2D( 3553, i, glInternalFormat, mipmap.width, mipmap.height, 0, glFormat, glType, mipmap.data );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\ttextureProperties.__maxMipLevel = mipmaps.length - 1;\n\n\t\t} else if ( texture.isDataTexture2DArray ) {\n\n\t\t\tstate.texImage3D( 35866, 0, glInternalFormat, image.width, image.height, image.depth, 0, glFormat, glType, image.data );\n\t\t\ttextureProperties.__maxMipLevel = 0;\n\n\t\t} else if ( texture.isDataTexture3D ) {\n\n\t\t\tstate.texImage3D( 32879, 0, glInternalFormat, image.width, image.height, image.depth, 0, glFormat, glType, image.data );\n\t\t\ttextureProperties.__maxMipLevel = 0;\n\n\t\t} else {\n\n\t\t\t// regular Texture (image, video, canvas)\n\n\t\t\t// use manually created mipmaps if available\n\t\t\t// if there are no manual mipmaps\n\t\t\t// set 0 level mipmap and then use GL to generate other mipmap levels\n\n\t\t\tif ( mipmaps.length > 0 && supportsMips ) {\n\n\t\t\t\tfor ( var i = 0, il = mipmaps.length; i < il; i ++ ) {\n\n\t\t\t\t\tmipmap = mipmaps[ i ];\n\t\t\t\t\tstate.texImage2D( 3553, i, glInternalFormat, glFormat, glType, mipmap );\n\n\t\t\t\t}\n\n\t\t\t\ttexture.generateMipmaps = false;\n\t\t\t\ttextureProperties.__maxMipLevel = mipmaps.length - 1;\n\n\t\t\t} else {\n\n\t\t\t\tstate.texImage2D( 3553, 0, glInternalFormat, glFormat, glType, image );\n\t\t\t\ttextureProperties.__maxMipLevel = 0;\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( textureNeedsGenerateMipmaps( texture, supportsMips ) ) {\n\n\t\t\tgenerateMipmap( 3553, texture, image.width, image.height );\n\n\t\t}\n\n\t\ttextureProperties.__version = texture.version;\n\n\t\tif ( texture.onUpdate ) texture.onUpdate( texture );\n\n\t}\n\n\t// Render targets\n\n\t// Setup storage for target texture and bind it to correct framebuffer\n\tfunction setupFrameBufferTexture( framebuffer, renderTarget, attachment, textureTarget ) {\n\n\t\tvar glFormat = utils.convert( renderTarget.texture.format );\n\t\tvar glType = utils.convert( renderTarget.texture.type );\n\t\tvar glInternalFormat = getInternalFormat( glFormat, glType );\n\t\tstate.texImage2D( textureTarget, 0, glInternalFormat, renderTarget.width, renderTarget.height, 0, glFormat, glType, null );\n\t\t_gl.bindFramebuffer( 36160, framebuffer );\n\t\t_gl.framebufferTexture2D( 36160, attachment, textureTarget, properties.get( renderTarget.texture ).__webglTexture, 0 );\n\t\t_gl.bindFramebuffer( 36160, null );\n\n\t}\n\n\t// Setup storage for internal depth/stencil buffers and bind to correct framebuffer\n\tfunction setupRenderBufferStorage( renderbuffer, renderTarget, isMultisample ) {\n\n\t\t_gl.bindRenderbuffer( 36161, renderbuffer );\n\n\t\tif ( renderTarget.depthBuffer && ! renderTarget.stencilBuffer ) {\n\n\t\t\tif ( isMultisample ) {\n\n\t\t\t\tvar samples = getRenderTargetSamples( renderTarget );\n\n\t\t\t\t_gl.renderbufferStorageMultisample( 36161, samples, 33189, renderTarget.width, renderTarget.height );\n\n\t\t\t} else {\n\n\t\t\t\t_gl.renderbufferStorage( 36161, 33189, renderTarget.width, renderTarget.height );\n\n\t\t\t}\n\n\t\t\t_gl.framebufferRenderbuffer( 36160, 36096, 36161, renderbuffer );\n\n\t\t} else if ( renderTarget.depthBuffer && renderTarget.stencilBuffer ) {\n\n\t\t\tif ( isMultisample ) {\n\n\t\t\t\tvar samples = getRenderTargetSamples( renderTarget );\n\n\t\t\t\t_gl.renderbufferStorageMultisample( 36161, samples, 34041, renderTarget.width, renderTarget.height );\n\n\t\t\t} else {\n\n\t\t\t\t_gl.renderbufferStorage( 36161, 34041, renderTarget.width, renderTarget.height );\n\n\t\t\t}\n\n\n\t\t\t_gl.framebufferRenderbuffer( 36160, 33306, 36161, renderbuffer );\n\n\t\t} else {\n\n\t\t\tvar glFormat = utils.convert( renderTarget.texture.format );\n\t\t\tvar glType = utils.convert( renderTarget.texture.type );\n\t\t\tvar glInternalFormat = getInternalFormat( glFormat, glType );\n\n\t\t\tif ( isMultisample ) {\n\n\t\t\t\tvar samples = getRenderTargetSamples( renderTarget );\n\n\t\t\t\t_gl.renderbufferStorageMultisample( 36161, samples, glInternalFormat, renderTarget.width, renderTarget.height );\n\n\t\t\t} else {\n\n\t\t\t\t_gl.renderbufferStorage( 36161, glInternalFormat, renderTarget.width, renderTarget.height );\n\n\t\t\t}\n\n\t\t}\n\n\t\t_gl.bindRenderbuffer( 36161, null );\n\n\t}\n\n\t// Setup resources for a Depth Texture for a FBO (needs an extension)\n\tfunction setupDepthTexture( framebuffer, renderTarget ) {\n\n\t\tvar isCube = ( renderTarget && renderTarget.isWebGLRenderTargetCube );\n\t\tif ( isCube ) throw new Error( 'Depth Texture with cube render targets is not supported' );\n\n\t\t_gl.bindFramebuffer( 36160, framebuffer );\n\n\t\tif ( ! ( renderTarget.depthTexture && renderTarget.depthTexture.isDepthTexture ) ) {\n\n\t\t\tthrow new Error( 'renderTarget.depthTexture must be an instance of THREE.DepthTexture' );\n\n\t\t}\n\n\t\t// upload an empty depth texture with framebuffer size\n\t\tif ( ! properties.get( renderTarget.depthTexture ).__webglTexture ||\n\t\t\t\trenderTarget.depthTexture.image.width !== renderTarget.width ||\n\t\t\t\trenderTarget.depthTexture.image.height !== renderTarget.height ) {\n\n\t\t\trenderTarget.depthTexture.image.width = renderTarget.width;\n\t\t\trenderTarget.depthTexture.image.height = renderTarget.height;\n\t\t\trenderTarget.depthTexture.needsUpdate = true;\n\n\t\t}\n\n\t\tsetTexture2D( renderTarget.depthTexture, 0 );\n\n\t\tvar webglDepthTexture = properties.get( renderTarget.depthTexture ).__webglTexture;\n\n\t\tif ( renderTarget.depthTexture.format === DepthFormat ) {\n\n\t\t\t_gl.framebufferTexture2D( 36160, 36096, 3553, webglDepthTexture, 0 );\n\n\t\t} else if ( renderTarget.depthTexture.format === DepthStencilFormat ) {\n\n\t\t\t_gl.framebufferTexture2D( 36160, 33306, 3553, webglDepthTexture, 0 );\n\n\t\t} else {\n\n\t\t\tthrow new Error( 'Unknown depthTexture format' );\n\n\t\t}\n\n\t}\n\n\t// Setup GL resources for a non-texture depth buffer\n\tfunction setupDepthRenderbuffer( renderTarget ) {\n\n\t\tvar renderTargetProperties = properties.get( renderTarget );\n\n\t\tvar isCube = ( renderTarget.isWebGLRenderTargetCube === true );\n\n\t\tif ( renderTarget.depthTexture ) {\n\n\t\t\tif ( isCube ) throw new Error( 'target.depthTexture not supported in Cube render targets' );\n\n\t\t\tsetupDepthTexture( renderTargetProperties.__webglFramebuffer, renderTarget );\n\n\t\t} else {\n\n\t\t\tif ( isCube ) {\n\n\t\t\t\trenderTargetProperties.__webglDepthbuffer = [];\n\n\t\t\t\tfor ( var i = 0; i < 6; i ++ ) {\n\n\t\t\t\t\t_gl.bindFramebuffer( 36160, renderTargetProperties.__webglFramebuffer[ i ] );\n\t\t\t\t\trenderTargetProperties.__webglDepthbuffer[ i ] = _gl.createRenderbuffer();\n\t\t\t\t\tsetupRenderBufferStorage( renderTargetProperties.__webglDepthbuffer[ i ], renderTarget );\n\n\t\t\t\t}\n\n\t\t\t} else {\n\n\t\t\t\t_gl.bindFramebuffer( 36160, renderTargetProperties.__webglFramebuffer );\n\t\t\t\trenderTargetProperties.__webglDepthbuffer = _gl.createRenderbuffer();\n\t\t\t\tsetupRenderBufferStorage( renderTargetProperties.__webglDepthbuffer, renderTarget );\n\n\t\t\t}\n\n\t\t}\n\n\t\t_gl.bindFramebuffer( 36160, null );\n\n\t}\n\n\t// Set up GL resources for the render target\n\tfunction setupRenderTarget( renderTarget ) {\n\n\t\tvar renderTargetProperties = properties.get( renderTarget );\n\t\tvar textureProperties = properties.get( renderTarget.texture );\n\n\t\trenderTarget.addEventListener( 'dispose', onRenderTargetDispose );\n\n\t\ttextureProperties.__webglTexture = _gl.createTexture();\n\n\t\tinfo.memory.textures ++;\n\n\t\tvar isCube = ( renderTarget.isWebGLRenderTargetCube === true );\n\t\tvar isMultisample = ( renderTarget.isWebGLMultisampleRenderTarget === true );\n\t\tvar supportsMips = isPowerOfTwo( renderTarget ) || capabilities.isWebGL2;\n\n\t\t// Setup framebuffer\n\n\t\tif ( isCube ) {\n\n\t\t\trenderTargetProperties.__webglFramebuffer = [];\n\n\t\t\tfor ( var i = 0; i < 6; i ++ ) {\n\n\t\t\t\trenderTargetProperties.__webglFramebuffer[ i ] = _gl.createFramebuffer();\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\trenderTargetProperties.__webglFramebuffer = _gl.createFramebuffer();\n\n\t\t\tif ( isMultisample ) {\n\n\t\t\t\tif ( capabilities.isWebGL2 ) {\n\n\t\t\t\t\trenderTargetProperties.__webglMultisampledFramebuffer = _gl.createFramebuffer();\n\t\t\t\t\trenderTargetProperties.__webglColorRenderbuffer = _gl.createRenderbuffer();\n\n\t\t\t\t\t_gl.bindRenderbuffer( 36161, renderTargetProperties.__webglColorRenderbuffer );\n\t\t\t\t\tvar glFormat = utils.convert( renderTarget.texture.format );\n\t\t\t\t\tvar glType = utils.convert( renderTarget.texture.type );\n\t\t\t\t\tvar glInternalFormat = getInternalFormat( glFormat, glType );\n\t\t\t\t\tvar samples = getRenderTargetSamples( renderTarget );\n\t\t\t\t\t_gl.renderbufferStorageMultisample( 36161, samples, glInternalFormat, renderTarget.width, renderTarget.height );\n\n\t\t\t\t\t_gl.bindFramebuffer( 36160, renderTargetProperties.__webglMultisampledFramebuffer );\n\t\t\t\t\t_gl.framebufferRenderbuffer( 36160, 36064, 36161, renderTargetProperties.__webglColorRenderbuffer );\n\t\t\t\t\t_gl.bindRenderbuffer( 36161, null );\n\n\t\t\t\t\tif ( renderTarget.depthBuffer ) {\n\n\t\t\t\t\t\trenderTargetProperties.__webglDepthRenderbuffer = _gl.createRenderbuffer();\n\t\t\t\t\t\tsetupRenderBufferStorage( renderTargetProperties.__webglDepthRenderbuffer, renderTarget, true );\n\n\t\t\t\t\t}\n\n\t\t\t\t\t_gl.bindFramebuffer( 36160, null );\n\n\n\t\t\t\t} else {\n\n\t\t\t\t\tconsole.warn( 'THREE.WebGLRenderer: WebGLMultisampleRenderTarget can only be used with WebGL2.' );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\t// Setup color buffer\n\n\t\tif ( isCube ) {\n\n\t\t\tstate.bindTexture( 34067, textureProperties.__webglTexture );\n\t\t\tsetTextureParameters( 34067, renderTarget.texture, supportsMips );\n\n\t\t\tfor ( var i = 0; i < 6; i ++ ) {\n\n\t\t\t\tsetupFrameBufferTexture( renderTargetProperties.__webglFramebuffer[ i ], renderTarget, 36064, 34069 + i );\n\n\t\t\t}\n\n\t\t\tif ( textureNeedsGenerateMipmaps( renderTarget.texture, supportsMips ) ) {\n\n\t\t\t\tgenerateMipmap( 34067, renderTarget.texture, renderTarget.width, renderTarget.height );\n\n\t\t\t}\n\n\t\t\tstate.bindTexture( 34067, null );\n\n\t\t} else {\n\n\t\t\tstate.bindTexture( 3553, textureProperties.__webglTexture );\n\t\t\tsetTextureParameters( 3553, renderTarget.texture, supportsMips );\n\t\t\tsetupFrameBufferTexture( renderTargetProperties.__webglFramebuffer, renderTarget, 36064, 3553 );\n\n\t\t\tif ( textureNeedsGenerateMipmaps( renderTarget.texture, supportsMips ) ) {\n\n\t\t\t\tgenerateMipmap( 3553, renderTarget.texture, renderTarget.width, renderTarget.height );\n\n\t\t\t}\n\n\t\t\tstate.bindTexture( 3553, null );\n\n\t\t}\n\n\t\t// Setup depth and stencil buffers\n\n\t\tif ( renderTarget.depthBuffer ) {\n\n\t\t\tsetupDepthRenderbuffer( renderTarget );\n\n\t\t}\n\n\t}\n\n\tfunction updateRenderTargetMipmap( renderTarget ) {\n\n\t\tvar texture = renderTarget.texture;\n\t\tvar supportsMips = isPowerOfTwo( renderTarget ) || capabilities.isWebGL2;\n\n\t\tif ( textureNeedsGenerateMipmaps( texture, supportsMips ) ) {\n\n\t\t\tvar target = renderTarget.isWebGLRenderTargetCube ? 34067 : 3553;\n\t\t\tvar webglTexture = properties.get( texture ).__webglTexture;\n\n\t\t\tstate.bindTexture( target, webglTexture );\n\t\t\tgenerateMipmap( target, texture, renderTarget.width, renderTarget.height );\n\t\t\tstate.bindTexture( target, null );\n\n\t\t}\n\n\t}\n\n\tfunction updateMultisampleRenderTarget( renderTarget ) {\n\n\t\tif ( renderTarget.isWebGLMultisampleRenderTarget ) {\n\n\t\t\tif ( capabilities.isWebGL2 ) {\n\n\t\t\t\tvar renderTargetProperties = properties.get( renderTarget );\n\n\t\t\t\t_gl.bindFramebuffer( 36008, renderTargetProperties.__webglMultisampledFramebuffer );\n\t\t\t\t_gl.bindFramebuffer( 36009, renderTargetProperties.__webglFramebuffer );\n\n\t\t\t\tvar width = renderTarget.width;\n\t\t\t\tvar height = renderTarget.height;\n\t\t\t\tvar mask = 16384;\n\n\t\t\t\tif ( renderTarget.depthBuffer ) mask |= 256;\n\t\t\t\tif ( renderTarget.stencilBuffer ) mask |= 1024;\n\n\t\t\t\t_gl.blitFramebuffer( 0, 0, width, height, 0, 0, width, height, mask, 9728 );\n\n\t\t\t} else {\n\n\t\t\t\tconsole.warn( 'THREE.WebGLRenderer: WebGLMultisampleRenderTarget can only be used with WebGL2.' );\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\tfunction getRenderTargetSamples( renderTarget ) {\n\n\t\treturn ( capabilities.isWebGL2 && renderTarget.isWebGLMultisampleRenderTarget ) ?\n\t\t\tMath.min( capabilities.maxSamples, renderTarget.samples ) : 0;\n\n\t}\n\n\tfunction updateVideoTexture( texture ) {\n\n\t\tvar id = texture.id;\n\t\tvar frame = info.render.frame;\n\n\t\t// Check the last frame we updated the VideoTexture\n\n\t\tif ( _videoTextures[ id ] !== frame ) {\n\n\t\t\t_videoTextures[ id ] = frame;\n\t\t\ttexture.update();\n\n\t\t}\n\n\t}\n\n\t// backwards compatibility\n\n\tvar warnedTexture2D = false;\n\tvar warnedTextureCube = false;\n\n\tfunction safeSetTexture2D( texture, slot ) {\n\n\t\tif ( texture && texture.isWebGLRenderTarget ) {\n\n\t\t\tif ( warnedTexture2D === false ) {\n\n\t\t\t\tconsole.warn( \"THREE.WebGLTextures.safeSetTexture2D: don't use render targets as textures. Use their .texture property instead.\" );\n\t\t\t\twarnedTexture2D = true;\n\n\t\t\t}\n\n\t\t\ttexture = texture.texture;\n\n\t\t}\n\n\t\tsetTexture2D( texture, slot );\n\n\t}\n\n\tfunction safeSetTextureCube( texture, slot ) {\n\n\t\tif ( texture && texture.isWebGLRenderTargetCube ) {\n\n\t\t\tif ( warnedTextureCube === false ) {\n\n\t\t\t\tconsole.warn( \"THREE.WebGLTextures.safeSetTextureCube: don't use cube render targets as textures. Use their .texture property instead.\" );\n\t\t\t\twarnedTextureCube = true;\n\n\t\t\t}\n\n\t\t\ttexture = texture.texture;\n\n\t\t}\n\n\t\t// currently relying on the fact that WebGLRenderTargetCube.texture is a Texture and NOT a CubeTexture\n\t\t// TODO: unify these code paths\n\t\tif ( ( texture && texture.isCubeTexture ) ||\n\t\t\t( Array.isArray( texture.image ) && texture.image.length === 6 ) ) {\n\n\t\t\t// CompressedTexture can have Array in image :/\n\n\t\t\t// this function alone should take care of cube textures\n\t\t\tsetTextureCube( texture, slot );\n\n\t\t} else {\n\n\t\t\t// assumed: texture property of THREE.WebGLRenderTargetCube\n\t\t\tsetTextureCubeDynamic( texture, slot );\n\n\t\t}\n\n\t}\n\n\t//\n\n\tthis.allocateTextureUnit = allocateTextureUnit;\n\tthis.resetTextureUnits = resetTextureUnits;\n\n\tthis.setTexture2D = setTexture2D;\n\tthis.setTexture2DArray = setTexture2DArray;\n\tthis.setTexture3D = setTexture3D;\n\tthis.setTextureCube = setTextureCube;\n\tthis.setTextureCubeDynamic = setTextureCubeDynamic;\n\tthis.setupRenderTarget = setupRenderTarget;\n\tthis.updateRenderTargetMipmap = updateRenderTargetMipmap;\n\tthis.updateMultisampleRenderTarget = updateMultisampleRenderTarget;\n\n\tthis.safeSetTexture2D = safeSetTexture2D;\n\tthis.safeSetTextureCube = safeSetTextureCube;\n\n}\n\n/**\n * @author thespite / http://www.twitter.com/thespite\n */\n\nfunction WebGLUtils( gl, extensions, capabilities ) {\n\n\tfunction convert( p ) {\n\n\t\tvar extension;\n\n\t\tif ( p === RepeatWrapping ) return 10497;\n\t\tif ( p === ClampToEdgeWrapping ) return 33071;\n\t\tif ( p === MirroredRepeatWrapping ) return 33648;\n\n\t\tif ( p === NearestFilter ) return 9728;\n\t\tif ( p === NearestMipMapNearestFilter ) return 9984;\n\t\tif ( p === NearestMipMapLinearFilter ) return 9986;\n\n\t\tif ( p === LinearFilter ) return 9729;\n\t\tif ( p === LinearMipMapNearestFilter ) return 9985;\n\t\tif ( p === LinearMipMapLinearFilter ) return 9987;\n\n\t\tif ( p === UnsignedByteType ) return 5121;\n\t\tif ( p === UnsignedShort4444Type ) return 32819;\n\t\tif ( p === UnsignedShort5551Type ) return 32820;\n\t\tif ( p === UnsignedShort565Type ) return 33635;\n\n\t\tif ( p === ByteType ) return 5120;\n\t\tif ( p === ShortType ) return 5122;\n\t\tif ( p === UnsignedShortType ) return 5123;\n\t\tif ( p === IntType ) return 5124;\n\t\tif ( p === UnsignedIntType ) return 5125;\n\t\tif ( p === FloatType ) return 5126;\n\n\t\tif ( p === HalfFloatType ) {\n\n\t\t\tif ( capabilities.isWebGL2 ) return 5131;\n\n\t\t\textension = extensions.get( 'OES_texture_half_float' );\n\n\t\t\tif ( extension !== null ) return extension.HALF_FLOAT_OES;\n\n\t\t}\n\n\t\tif ( p === AlphaFormat ) return 6406;\n\t\tif ( p === RGBFormat ) return 6407;\n\t\tif ( p === RGBAFormat ) return 6408;\n\t\tif ( p === LuminanceFormat ) return 6409;\n\t\tif ( p === LuminanceAlphaFormat ) return 6410;\n\t\tif ( p === DepthFormat ) return 6402;\n\t\tif ( p === DepthStencilFormat ) return 34041;\n\t\tif ( p === RedFormat ) return 6403;\n\n\t\tif ( p === AddEquation ) return 32774;\n\t\tif ( p === SubtractEquation ) return 32778;\n\t\tif ( p === ReverseSubtractEquation ) return 32779;\n\n\t\tif ( p === ZeroFactor ) return 0;\n\t\tif ( p === OneFactor ) return 1;\n\t\tif ( p === SrcColorFactor ) return 768;\n\t\tif ( p === OneMinusSrcColorFactor ) return 769;\n\t\tif ( p === SrcAlphaFactor ) return 770;\n\t\tif ( p === OneMinusSrcAlphaFactor ) return 771;\n\t\tif ( p === DstAlphaFactor ) return 772;\n\t\tif ( p === OneMinusDstAlphaFactor ) return 773;\n\n\t\tif ( p === DstColorFactor ) return 774;\n\t\tif ( p === OneMinusDstColorFactor ) return 775;\n\t\tif ( p === SrcAlphaSaturateFactor ) return 776;\n\n\t\tif ( p === RGB_S3TC_DXT1_Format || p === RGBA_S3TC_DXT1_Format ||\n\t\t\tp === RGBA_S3TC_DXT3_Format || p === RGBA_S3TC_DXT5_Format ) {\n\n\t\t\textension = extensions.get( 'WEBGL_compressed_texture_s3tc' );\n\n\t\t\tif ( extension !== null ) {\n\n\t\t\t\tif ( p === RGB_S3TC_DXT1_Format ) return extension.COMPRESSED_RGB_S3TC_DXT1_EXT;\n\t\t\t\tif ( p === RGBA_S3TC_DXT1_Format ) return extension.COMPRESSED_RGBA_S3TC_DXT1_EXT;\n\t\t\t\tif ( p === RGBA_S3TC_DXT3_Format ) return extension.COMPRESSED_RGBA_S3TC_DXT3_EXT;\n\t\t\t\tif ( p === RGBA_S3TC_DXT5_Format ) return extension.COMPRESSED_RGBA_S3TC_DXT5_EXT;\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( p === RGB_PVRTC_4BPPV1_Format || p === RGB_PVRTC_2BPPV1_Format ||\n\t\t\tp === RGBA_PVRTC_4BPPV1_Format || p === RGBA_PVRTC_2BPPV1_Format ) {\n\n\t\t\textension = extensions.get( 'WEBGL_compressed_texture_pvrtc' );\n\n\t\t\tif ( extension !== null ) {\n\n\t\t\t\tif ( p === RGB_PVRTC_4BPPV1_Format ) return extension.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;\n\t\t\t\tif ( p === RGB_PVRTC_2BPPV1_Format ) return extension.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;\n\t\t\t\tif ( p === RGBA_PVRTC_4BPPV1_Format ) return extension.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;\n\t\t\t\tif ( p === RGBA_PVRTC_2BPPV1_Format ) return extension.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG;\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( p === RGB_ETC1_Format ) {\n\n\t\t\textension = extensions.get( 'WEBGL_compressed_texture_etc1' );\n\n\t\t\tif ( extension !== null ) return extension.COMPRESSED_RGB_ETC1_WEBGL;\n\n\t\t}\n\n\t\tif ( p === RGBA_ASTC_4x4_Format || p === RGBA_ASTC_5x4_Format || p === RGBA_ASTC_5x5_Format ||\n\t\t\tp === RGBA_ASTC_6x5_Format || p === RGBA_ASTC_6x6_Format || p === RGBA_ASTC_8x5_Format ||\n\t\t\tp === RGBA_ASTC_8x6_Format || p === RGBA_ASTC_8x8_Format || p === RGBA_ASTC_10x5_Format ||\n\t\t\tp === RGBA_ASTC_10x6_Format || p === RGBA_ASTC_10x8_Format || p === RGBA_ASTC_10x10_Format ||\n\t\t\tp === RGBA_ASTC_12x10_Format || p === RGBA_ASTC_12x12_Format ) {\n\n\t\t\textension = extensions.get( 'WEBGL_compressed_texture_astc' );\n\n\t\t\tif ( extension !== null ) {\n\n\t\t\t\treturn p;\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( p === MinEquation || p === MaxEquation ) {\n\n\t\t\tif ( capabilities.isWebGL2 ) {\n\n\t\t\t\tif ( p === MinEquation ) return 32775;\n\t\t\t\tif ( p === MaxEquation ) return 32776;\n\n\t\t\t}\n\n\t\t\textension = extensions.get( 'EXT_blend_minmax' );\n\n\t\t\tif ( extension !== null ) {\n\n\t\t\t\tif ( p === MinEquation ) return extension.MIN_EXT;\n\t\t\t\tif ( p === MaxEquation ) return extension.MAX_EXT;\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( p === UnsignedInt248Type ) {\n\n\t\t\tif ( capabilities.isWebGL2 ) return 34042;\n\n\t\t\textension = extensions.get( 'WEBGL_depth_texture' );\n\n\t\t\tif ( extension !== null ) return extension.UNSIGNED_INT_24_8_WEBGL;\n\n\t\t}\n\n\t\treturn 0;\n\n\t}\n\n\treturn { convert: convert };\n\n}\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction Group() {\n\n\tObject3D.call( this );\n\n\tthis.type = 'Group';\n\n}\n\nGroup.prototype = Object.assign( Object.create( Object3D.prototype ), {\n\n\tconstructor: Group,\n\n\tisGroup: true\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author mikael emtinger / http://gomo.se/\n * @author WestLangley / http://github.com/WestLangley\n*/\n\nfunction Camera() {\n\n\tObject3D.call( this );\n\n\tthis.type = 'Camera';\n\n\tthis.matrixWorldInverse = new Matrix4();\n\n\tthis.projectionMatrix = new Matrix4();\n\tthis.projectionMatrixInverse = new Matrix4();\n\n}\n\nCamera.prototype = Object.assign( Object.create( Object3D.prototype ), {\n\n\tconstructor: Camera,\n\n\tisCamera: true,\n\n\tcopy: function ( source, recursive ) {\n\n\t\tObject3D.prototype.copy.call( this, source, recursive );\n\n\t\tthis.matrixWorldInverse.copy( source.matrixWorldInverse );\n\n\t\tthis.projectionMatrix.copy( source.projectionMatrix );\n\t\tthis.projectionMatrixInverse.copy( source.projectionMatrixInverse );\n\n\t\treturn this;\n\n\t},\n\n\tgetWorldDirection: function ( target ) {\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Camera: .getWorldDirection() target is now required' );\n\t\t\ttarget = new Vector3();\n\n\t\t}\n\n\t\tthis.updateMatrixWorld( true );\n\n\t\tvar e = this.matrixWorld.elements;\n\n\t\treturn target.set( - e[ 8 ], - e[ 9 ], - e[ 10 ] ).normalize();\n\n\t},\n\n\tupdateMatrixWorld: function ( force ) {\n\n\t\tObject3D.prototype.updateMatrixWorld.call( this, force );\n\n\t\tthis.matrixWorldInverse.getInverse( this.matrixWorld );\n\n\t},\n\n\tclone: function () {\n\n\t\treturn new this.constructor().copy( this );\n\n\t}\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author greggman / http://games.greggman.com/\n * @author zz85 / http://www.lab4games.net/zz85/blog\n * @author tschw\n */\n\nfunction PerspectiveCamera( fov, aspect, near, far ) {\n\n\tCamera.call( this );\n\n\tthis.type = 'PerspectiveCamera';\n\n\tthis.fov = fov !== undefined ? fov : 50;\n\tthis.zoom = 1;\n\n\tthis.near = near !== undefined ? near : 0.1;\n\tthis.far = far !== undefined ? far : 2000;\n\tthis.focus = 10;\n\n\tthis.aspect = aspect !== undefined ? aspect : 1;\n\tthis.view = null;\n\n\tthis.filmGauge = 35;\t// width of the film (default in millimeters)\n\tthis.filmOffset = 0;\t// horizontal film offset (same unit as gauge)\n\n\tthis.updateProjectionMatrix();\n\n}\n\nPerspectiveCamera.prototype = Object.assign( Object.create( Camera.prototype ), {\n\n\tconstructor: PerspectiveCamera,\n\n\tisPerspectiveCamera: true,\n\n\tcopy: function ( source, recursive ) {\n\n\t\tCamera.prototype.copy.call( this, source, recursive );\n\n\t\tthis.fov = source.fov;\n\t\tthis.zoom = source.zoom;\n\n\t\tthis.near = source.near;\n\t\tthis.far = source.far;\n\t\tthis.focus = source.focus;\n\n\t\tthis.aspect = source.aspect;\n\t\tthis.view = source.view === null ? null : Object.assign( {}, source.view );\n\n\t\tthis.filmGauge = source.filmGauge;\n\t\tthis.filmOffset = source.filmOffset;\n\n\t\treturn this;\n\n\t},\n\n\t/**\n\t * Sets the FOV by focal length in respect to the current .filmGauge.\n\t *\n\t * The default film gauge is 35, so that the focal length can be specified for\n\t * a 35mm (full frame) camera.\n\t *\n\t * Values for focal length and film gauge must have the same unit.\n\t */\n\tsetFocalLength: function ( focalLength ) {\n\n\t\t// see http://www.bobatkins.com/photography/technical/field_of_view.html\n\t\tvar vExtentSlope = 0.5 * this.getFilmHeight() / focalLength;\n\n\t\tthis.fov = _Math.RAD2DEG * 2 * Math.atan( vExtentSlope );\n\t\tthis.updateProjectionMatrix();\n\n\t},\n\n\t/**\n\t * Calculates the focal length from the current .fov and .filmGauge.\n\t */\n\tgetFocalLength: function () {\n\n\t\tvar vExtentSlope = Math.tan( _Math.DEG2RAD * 0.5 * this.fov );\n\n\t\treturn 0.5 * this.getFilmHeight() / vExtentSlope;\n\n\t},\n\n\tgetEffectiveFOV: function () {\n\n\t\treturn _Math.RAD2DEG * 2 * Math.atan(\n\t\t\tMath.tan( _Math.DEG2RAD * 0.5 * this.fov ) / this.zoom );\n\n\t},\n\n\tgetFilmWidth: function () {\n\n\t\t// film not completely covered in portrait format (aspect < 1)\n\t\treturn this.filmGauge * Math.min( this.aspect, 1 );\n\n\t},\n\n\tgetFilmHeight: function () {\n\n\t\t// film not completely covered in landscape format (aspect > 1)\n\t\treturn this.filmGauge / Math.max( this.aspect, 1 );\n\n\t},\n\n\t/**\n\t * Sets an offset in a larger frustum. This is useful for multi-window or\n\t * multi-monitor/multi-machine setups.\n\t *\n\t * For example, if you have 3x2 monitors and each monitor is 1920x1080 and\n\t * the monitors are in grid like this\n\t *\n\t *   +---+---+---+\n\t *   | A | B | C |\n\t *   +---+---+---+\n\t *   | D | E | F |\n\t *   +---+---+---+\n\t *\n\t * then for each monitor you would call it like this\n\t *\n\t *   var w = 1920;\n\t *   var h = 1080;\n\t *   var fullWidth = w * 3;\n\t *   var fullHeight = h * 2;\n\t *\n\t *   --A--\n\t *   camera.setViewOffset( fullWidth, fullHeight, w * 0, h * 0, w, h );\n\t *   --B--\n\t *   camera.setViewOffset( fullWidth, fullHeight, w * 1, h * 0, w, h );\n\t *   --C--\n\t *   camera.setViewOffset( fullWidth, fullHeight, w * 2, h * 0, w, h );\n\t *   --D--\n\t *   camera.setViewOffset( fullWidth, fullHeight, w * 0, h * 1, w, h );\n\t *   --E--\n\t *   camera.setViewOffset( fullWidth, fullHeight, w * 1, h * 1, w, h );\n\t *   --F--\n\t *   camera.setViewOffset( fullWidth, fullHeight, w * 2, h * 1, w, h );\n\t *\n\t *   Note there is no reason monitors have to be the same size or in a grid.\n\t */\n\tsetViewOffset: function ( fullWidth, fullHeight, x, y, width, height ) {\n\n\t\tthis.aspect = fullWidth / fullHeight;\n\n\t\tif ( this.view === null ) {\n\n\t\t\tthis.view = {\n\t\t\t\tenabled: true,\n\t\t\t\tfullWidth: 1,\n\t\t\t\tfullHeight: 1,\n\t\t\t\toffsetX: 0,\n\t\t\t\toffsetY: 0,\n\t\t\t\twidth: 1,\n\t\t\t\theight: 1\n\t\t\t};\n\n\t\t}\n\n\t\tthis.view.enabled = true;\n\t\tthis.view.fullWidth = fullWidth;\n\t\tthis.view.fullHeight = fullHeight;\n\t\tthis.view.offsetX = x;\n\t\tthis.view.offsetY = y;\n\t\tthis.view.width = width;\n\t\tthis.view.height = height;\n\n\t\tthis.updateProjectionMatrix();\n\n\t},\n\n\tclearViewOffset: function () {\n\n\t\tif ( this.view !== null ) {\n\n\t\t\tthis.view.enabled = false;\n\n\t\t}\n\n\t\tthis.updateProjectionMatrix();\n\n\t},\n\n\tupdateProjectionMatrix: function () {\n\n\t\tvar near = this.near,\n\t\t\ttop = near * Math.tan( _Math.DEG2RAD * 0.5 * this.fov ) / this.zoom,\n\t\t\theight = 2 * top,\n\t\t\twidth = this.aspect * height,\n\t\t\tleft = - 0.5 * width,\n\t\t\tview = this.view;\n\n\t\tif ( this.view !== null && this.view.enabled ) {\n\n\t\t\tvar fullWidth = view.fullWidth,\n\t\t\t\tfullHeight = view.fullHeight;\n\n\t\t\tleft += view.offsetX * width / fullWidth;\n\t\t\ttop -= view.offsetY * height / fullHeight;\n\t\t\twidth *= view.width / fullWidth;\n\t\t\theight *= view.height / fullHeight;\n\n\t\t}\n\n\t\tvar skew = this.filmOffset;\n\t\tif ( skew !== 0 ) left += near * skew / this.getFilmWidth();\n\n\t\tthis.projectionMatrix.makePerspective( left, left + width, top, top - height, near, this.far );\n\n\t\tthis.projectionMatrixInverse.getInverse( this.projectionMatrix );\n\n\t},\n\n\ttoJSON: function ( meta ) {\n\n\t\tvar data = Object3D.prototype.toJSON.call( this, meta );\n\n\t\tdata.object.fov = this.fov;\n\t\tdata.object.zoom = this.zoom;\n\n\t\tdata.object.near = this.near;\n\t\tdata.object.far = this.far;\n\t\tdata.object.focus = this.focus;\n\n\t\tdata.object.aspect = this.aspect;\n\n\t\tif ( this.view !== null ) data.object.view = Object.assign( {}, this.view );\n\n\t\tdata.object.filmGauge = this.filmGauge;\n\t\tdata.object.filmOffset = this.filmOffset;\n\n\t\treturn data;\n\n\t}\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction ArrayCamera( array ) {\n\n\tPerspectiveCamera.call( this );\n\n\tthis.cameras = array || [];\n\n}\n\nArrayCamera.prototype = Object.assign( Object.create( PerspectiveCamera.prototype ), {\n\n\tconstructor: ArrayCamera,\n\n\tisArrayCamera: true\n\n} );\n\n/**\n * @author jsantell / https://www.jsantell.com/\n * @author mrdoob / http://mrdoob.com/\n */\n\nvar cameraLPos = new Vector3();\nvar cameraRPos = new Vector3();\n\n/**\n * Assumes 2 cameras that are parallel and share an X-axis, and that\n * the cameras' projection and world matrices have already been set.\n * And that near and far planes are identical for both cameras.\n * Visualization of this technique: https://computergraphics.stackexchange.com/a/4765\n */\nfunction setProjectionFromUnion( camera, cameraL, cameraR ) {\n\n\tcameraLPos.setFromMatrixPosition( cameraL.matrixWorld );\n\tcameraRPos.setFromMatrixPosition( cameraR.matrixWorld );\n\n\tvar ipd = cameraLPos.distanceTo( cameraRPos );\n\n\tvar projL = cameraL.projectionMatrix.elements;\n\tvar projR = cameraR.projectionMatrix.elements;\n\n\t// VR systems will have identical far and near planes, and\n\t// most likely identical top and bottom frustum extents.\n\t// Use the left camera for these values.\n\tvar near = projL[ 14 ] / ( projL[ 10 ] - 1 );\n\tvar far = projL[ 14 ] / ( projL[ 10 ] + 1 );\n\tvar topFov = ( projL[ 9 ] + 1 ) / projL[ 5 ];\n\tvar bottomFov = ( projL[ 9 ] - 1 ) / projL[ 5 ];\n\n\tvar leftFov = ( projL[ 8 ] - 1 ) / projL[ 0 ];\n\tvar rightFov = ( projR[ 8 ] + 1 ) / projR[ 0 ];\n\tvar left = near * leftFov;\n\tvar right = near * rightFov;\n\n\t// Calculate the new camera's position offset from the\n\t// left camera. xOffset should be roughly half `ipd`.\n\tvar zOffset = ipd / ( - leftFov + rightFov );\n\tvar xOffset = zOffset * - leftFov;\n\n\t// TODO: Better way to apply this offset?\n\tcameraL.matrixWorld.decompose( camera.position, camera.quaternion, camera.scale );\n\tcamera.translateX( xOffset );\n\tcamera.translateZ( zOffset );\n\tcamera.matrixWorld.compose( camera.position, camera.quaternion, camera.scale );\n\tcamera.matrixWorldInverse.getInverse( camera.matrixWorld );\n\n\t// Find the union of the frustum values of the cameras and scale\n\t// the values so that the near plane's position does not change in world space,\n\t// although must now be relative to the new union camera.\n\tvar near2 = near + zOffset;\n\tvar far2 = far + zOffset;\n\tvar left2 = left - xOffset;\n\tvar right2 = right + ( ipd - xOffset );\n\tvar top2 = topFov * far / far2 * near2;\n\tvar bottom2 = bottomFov * far / far2 * near2;\n\n\tcamera.projectionMatrix.makePerspective( left2, right2, top2, bottom2, near2, far2 );\n\n}\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction WebVRManager( renderer ) {\n\n\tvar renderWidth, renderHeight;\n\tvar scope = this;\n\n\tvar device = null;\n\tvar frameData = null;\n\n\tvar poseTarget = null;\n\n\tvar controllers = [];\n\tvar standingMatrix = new Matrix4();\n\tvar standingMatrixInverse = new Matrix4();\n\n\tvar framebufferScaleFactor = 1.0;\n\n\tvar referenceSpaceType = 'local-floor';\n\n\tif ( typeof window !== 'undefined' && 'VRFrameData' in window ) {\n\n\t\tframeData = new window.VRFrameData();\n\t\twindow.addEventListener( 'vrdisplaypresentchange', onVRDisplayPresentChange, false );\n\n\t}\n\n\tvar matrixWorldInverse = new Matrix4();\n\tvar tempQuaternion = new Quaternion();\n\tvar tempPosition = new Vector3();\n\n\tvar cameraL = new PerspectiveCamera();\n\tcameraL.viewport = new Vector4();\n\tcameraL.layers.enable( 1 );\n\n\tvar cameraR = new PerspectiveCamera();\n\tcameraR.viewport = new Vector4();\n\tcameraR.layers.enable( 2 );\n\n\tvar cameraVR = new ArrayCamera( [ cameraL, cameraR ] );\n\tcameraVR.layers.enable( 1 );\n\tcameraVR.layers.enable( 2 );\n\n\t//\n\n\tfunction isPresenting() {\n\n\t\treturn device !== null && device.isPresenting === true;\n\n\t}\n\n\tvar currentSize = new Vector2(), currentPixelRatio;\n\n\tfunction onVRDisplayPresentChange() {\n\n\t\tif ( isPresenting() ) {\n\n\t\t\tvar eyeParameters = device.getEyeParameters( 'left' );\n\t\t\trenderWidth = 2 * eyeParameters.renderWidth * framebufferScaleFactor;\n\t\t\trenderHeight = eyeParameters.renderHeight * framebufferScaleFactor;\n\n\t\t\tcurrentPixelRatio = renderer.getPixelRatio();\n\t\t\trenderer.getSize( currentSize );\n\n\t\t\trenderer.setDrawingBufferSize( renderWidth, renderHeight, 1 );\n\n\t\t\tcameraL.viewport.set( 0, 0, renderWidth / 2, renderHeight );\n\t\t\tcameraR.viewport.set( renderWidth / 2, 0, renderWidth / 2, renderHeight );\n\n\t\t\tanimation.start();\n\n\t\t} else {\n\n\t\t\tif ( scope.enabled ) {\n\n\t\t\t\trenderer.setDrawingBufferSize( currentSize.width, currentSize.height, currentPixelRatio );\n\n\t\t\t}\n\n\t\t\tanimation.stop();\n\n\t\t}\n\n\t}\n\n\t//\n\n\tvar triggers = [];\n\n\tfunction findGamepad( id ) {\n\n\t\tvar gamepads = navigator.getGamepads && navigator.getGamepads();\n\n\t\tfor ( var i = 0, j = 0, l = gamepads.length; i < l; i ++ ) {\n\n\t\t\tvar gamepad = gamepads[ i ];\n\n\t\t\tif ( gamepad && ( gamepad.id === 'Daydream Controller' ||\n\t\t\t\tgamepad.id === 'Gear VR Controller' || gamepad.id === 'Oculus Go Controller' ||\n\t\t\t\tgamepad.id === 'OpenVR Gamepad' || gamepad.id.startsWith( 'Oculus Touch' ) ||\n\t\t\t\tgamepad.id.startsWith( 'Spatial Controller' ) ) ) {\n\n\t\t\t\tif ( j === id ) return gamepad;\n\n\t\t\t\tj ++;\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\tfunction updateControllers() {\n\n\t\tfor ( var i = 0; i < controllers.length; i ++ ) {\n\n\t\t\tvar controller = controllers[ i ];\n\n\t\t\tvar gamepad = findGamepad( i );\n\n\t\t\tif ( gamepad !== undefined && gamepad.pose !== undefined ) {\n\n\t\t\t\tif ( gamepad.pose === null ) return;\n\n\t\t\t\t// Pose\n\n\t\t\t\tvar pose = gamepad.pose;\n\n\t\t\t\tif ( pose.hasPosition === false ) controller.position.set( 0.2, - 0.6, - 0.05 );\n\n\t\t\t\tif ( pose.position !== null ) controller.position.fromArray( pose.position );\n\t\t\t\tif ( pose.orientation !== null ) controller.quaternion.fromArray( pose.orientation );\n\t\t\t\tcontroller.matrix.compose( controller.position, controller.quaternion, controller.scale );\n\t\t\t\tcontroller.matrix.premultiply( standingMatrix );\n\t\t\t\tcontroller.matrix.decompose( controller.position, controller.quaternion, controller.scale );\n\t\t\t\tcontroller.matrixWorldNeedsUpdate = true;\n\t\t\t\tcontroller.visible = true;\n\n\t\t\t\t// Trigger\n\n\t\t\t\tvar buttonId = gamepad.id === 'Daydream Controller' ? 0 : 1;\n\n\t\t\t\tif ( triggers[ i ] === undefined ) triggers[ i ] = false;\n\n\t\t\t\tif ( triggers[ i ] !== gamepad.buttons[ buttonId ].pressed ) {\n\n\t\t\t\t\ttriggers[ i ] = gamepad.buttons[ buttonId ].pressed;\n\n\t\t\t\t\tif ( triggers[ i ] === true ) {\n\n\t\t\t\t\t\tcontroller.dispatchEvent( { type: 'selectstart' } );\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tcontroller.dispatchEvent( { type: 'selectend' } );\n\t\t\t\t\t\tcontroller.dispatchEvent( { type: 'select' } );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t} else {\n\n\t\t\t\tcontroller.visible = false;\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\tfunction updateViewportFromBounds( viewport, bounds ) {\n\n\t\tif ( bounds !== null && bounds.length === 4 ) {\n\n\t\t\tviewport.set( bounds[ 0 ] * renderWidth, bounds[ 1 ] * renderHeight, bounds[ 2 ] * renderWidth, bounds[ 3 ] * renderHeight );\n\n\t\t}\n\n\t}\n\n\t//\n\n\tthis.enabled = false;\n\n\tthis.getController = function ( id ) {\n\n\t\tvar controller = controllers[ id ];\n\n\t\tif ( controller === undefined ) {\n\n\t\t\tcontroller = new Group();\n\t\t\tcontroller.matrixAutoUpdate = false;\n\t\t\tcontroller.visible = false;\n\n\t\t\tcontrollers[ id ] = controller;\n\n\t\t}\n\n\t\treturn controller;\n\n\t};\n\n\tthis.getDevice = function () {\n\n\t\treturn device;\n\n\t};\n\n\tthis.setDevice = function ( value ) {\n\n\t\tif ( value !== undefined ) device = value;\n\n\t\tanimation.setContext( value );\n\n\t};\n\n\tthis.setFramebufferScaleFactor = function ( value ) {\n\n\t\tframebufferScaleFactor = value;\n\n\t};\n\n\tthis.setReferenceSpaceType = function ( value ) {\n\n\t\treferenceSpaceType = value;\n\n\t};\n\n\tthis.setPoseTarget = function ( object ) {\n\n\t\tif ( object !== undefined ) poseTarget = object;\n\n\t};\n\n\tthis.getCamera = function ( camera ) {\n\n\t\tvar userHeight = referenceSpaceType === 'local-floor' ? 1.6 : 0;\n\n\t\tif ( isPresenting() === false ) {\n\n\t\t\tcamera.position.set( 0, userHeight, 0 );\n\t\t\tcamera.rotation.set( 0, 0, 0 );\n\n\t\t\treturn camera;\n\n\t\t}\n\n\t\tdevice.depthNear = camera.near;\n\t\tdevice.depthFar = camera.far;\n\n\t\tdevice.getFrameData( frameData );\n\n\t\t//\n\n\t\tif ( referenceSpaceType === 'local-floor' ) {\n\n\t\t\tvar stageParameters = device.stageParameters;\n\n\t\t\tif ( stageParameters ) {\n\n\t\t\t\tstandingMatrix.fromArray( stageParameters.sittingToStandingTransform );\n\n\t\t\t} else {\n\n\t\t\t\tstandingMatrix.makeTranslation( 0, userHeight, 0 );\n\n\t\t\t}\n\n\t\t}\n\n\n\t\tvar pose = frameData.pose;\n\t\tvar poseObject = poseTarget !== null ? poseTarget : camera;\n\n\t\t// We want to manipulate poseObject by its position and quaternion components since users may rely on them.\n\t\tposeObject.matrix.copy( standingMatrix );\n\t\tposeObject.matrix.decompose( poseObject.position, poseObject.quaternion, poseObject.scale );\n\n\t\tif ( pose.orientation !== null ) {\n\n\t\t\ttempQuaternion.fromArray( pose.orientation );\n\t\t\tposeObject.quaternion.multiply( tempQuaternion );\n\n\t\t}\n\n\t\tif ( pose.position !== null ) {\n\n\t\t\ttempQuaternion.setFromRotationMatrix( standingMatrix );\n\t\t\ttempPosition.fromArray( pose.position );\n\t\t\ttempPosition.applyQuaternion( tempQuaternion );\n\t\t\tposeObject.position.add( tempPosition );\n\n\t\t}\n\n\t\tposeObject.updateMatrixWorld();\n\n\t\t//\n\n\t\tcameraL.near = camera.near;\n\t\tcameraR.near = camera.near;\n\n\t\tcameraL.far = camera.far;\n\t\tcameraR.far = camera.far;\n\n\t\tcameraL.matrixWorldInverse.fromArray( frameData.leftViewMatrix );\n\t\tcameraR.matrixWorldInverse.fromArray( frameData.rightViewMatrix );\n\n\t\t// TODO (mrdoob) Double check this code\n\n\t\tstandingMatrixInverse.getInverse( standingMatrix );\n\n\t\tif ( referenceSpaceType === 'local-floor' ) {\n\n\t\t\tcameraL.matrixWorldInverse.multiply( standingMatrixInverse );\n\t\t\tcameraR.matrixWorldInverse.multiply( standingMatrixInverse );\n\n\t\t}\n\n\t\tvar parent = poseObject.parent;\n\n\t\tif ( parent !== null ) {\n\n\t\t\tmatrixWorldInverse.getInverse( parent.matrixWorld );\n\n\t\t\tcameraL.matrixWorldInverse.multiply( matrixWorldInverse );\n\t\t\tcameraR.matrixWorldInverse.multiply( matrixWorldInverse );\n\n\t\t}\n\n\t\t// envMap and Mirror needs camera.matrixWorld\n\n\t\tcameraL.matrixWorld.getInverse( cameraL.matrixWorldInverse );\n\t\tcameraR.matrixWorld.getInverse( cameraR.matrixWorldInverse );\n\n\t\tcameraL.projectionMatrix.fromArray( frameData.leftProjectionMatrix );\n\t\tcameraR.projectionMatrix.fromArray( frameData.rightProjectionMatrix );\n\n\t\tsetProjectionFromUnion( cameraVR, cameraL, cameraR );\n\n\t\t//\n\n\t\tvar layers = device.getLayers();\n\n\t\tif ( layers.length ) {\n\n\t\t\tvar layer = layers[ 0 ];\n\n\t\t\tupdateViewportFromBounds( cameraL.viewport, layer.leftBounds );\n\t\t\tupdateViewportFromBounds( cameraR.viewport, layer.rightBounds );\n\n\t\t}\n\n\t\tupdateControllers();\n\n\t\treturn cameraVR;\n\n\t};\n\n\tthis.getStandingMatrix = function () {\n\n\t\treturn standingMatrix;\n\n\t};\n\n\tthis.isPresenting = isPresenting;\n\n\t// Animation Loop\n\n\tvar animation = new WebGLAnimation();\n\n\tthis.setAnimationLoop = function ( callback ) {\n\n\t\tanimation.setAnimationLoop( callback );\n\n\t\tif ( isPresenting() ) animation.start();\n\n\t};\n\n\tthis.submitFrame = function () {\n\n\t\tif ( isPresenting() ) device.submitFrame();\n\n\t};\n\n\tthis.dispose = function () {\n\n\t\tif ( typeof window !== 'undefined' ) {\n\n\t\t\twindow.removeEventListener( 'vrdisplaypresentchange', onVRDisplayPresentChange );\n\n\t\t}\n\n\t};\n\n\t// DEPRECATED\n\n\tthis.setFrameOfReferenceType = function () {\n\n\t\tconsole.warn( 'THREE.WebVRManager: setFrameOfReferenceType() has been deprecated.' );\n\n\t};\n\n}\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction WebXRManager( renderer ) {\n\n\tvar gl = renderer.context;\n\n\tvar session = null;\n\n\tvar referenceSpace = null;\n\tvar referenceSpaceType = 'local-floor';\n\n\tvar pose = null;\n\n\tvar controllers = [];\n\tvar inputSources = [];\n\n\tfunction isPresenting() {\n\n\t\treturn session !== null && referenceSpace !== null;\n\n\t}\n\n\t//\n\n\tvar cameraL = new PerspectiveCamera();\n\tcameraL.layers.enable( 1 );\n\tcameraL.viewport = new Vector4();\n\n\tvar cameraR = new PerspectiveCamera();\n\tcameraR.layers.enable( 2 );\n\tcameraR.viewport = new Vector4();\n\n\tvar cameraVR = new ArrayCamera( [ cameraL, cameraR ] );\n\tcameraVR.layers.enable( 1 );\n\tcameraVR.layers.enable( 2 );\n\n\t//\n\n\tthis.enabled = false;\n\n\tthis.getController = function ( id ) {\n\n\t\tvar controller = controllers[ id ];\n\n\t\tif ( controller === undefined ) {\n\n\t\t\tcontroller = new Group();\n\t\t\tcontroller.matrixAutoUpdate = false;\n\t\t\tcontroller.visible = false;\n\n\t\t\tcontrollers[ id ] = controller;\n\n\t\t}\n\n\t\treturn controller;\n\n\t};\n\n\t//\n\n\tfunction onSessionEvent( event ) {\n\n\t\tfor ( var i = 0; i < controllers.length; i ++ ) {\n\n\t\t\tif ( inputSources[ i ] === event.inputSource ) {\n\n\t\t\t\tcontrollers[ i ].dispatchEvent( { type: event.type } );\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\tfunction onSessionEnd() {\n\n\t\trenderer.setFramebuffer( null );\n\t\trenderer.setRenderTarget( renderer.getRenderTarget() ); // Hack #15830\n\t\tanimation.stop();\n\n\t}\n\n\tfunction onRequestReferenceSpace( value ) {\n\n\t\treferenceSpace = value;\n\n\t\tanimation.setContext( session );\n\t\tanimation.start();\n\n\t}\n\n\tthis.setFramebufferScaleFactor = function ( value ) {\n\n\t};\n\n\tthis.setReferenceSpaceType = function ( value ) {\n\n\t\treferenceSpaceType = value;\n\n\t};\n\n\tthis.getSession = function () {\n\n\t\treturn session;\n\n\t};\n\n\tthis.setSession = function ( value ) {\n\n\t\tsession = value;\n\n\t\tif ( session !== null ) {\n\n\t\t\tsession.addEventListener( 'select', onSessionEvent );\n\t\t\tsession.addEventListener( 'selectstart', onSessionEvent );\n\t\t\tsession.addEventListener( 'selectend', onSessionEvent );\n\t\t\tsession.addEventListener( 'end', onSessionEnd );\n\n\t\t\tsession.updateRenderState( { baseLayer: new XRWebGLLayer( session, gl ) } );\n\n\t\t\tsession.requestReferenceSpace( referenceSpaceType ).then( onRequestReferenceSpace );\n\n\t\t\t//\n\n\t\t\tinputSources = session.inputSources;\n\n\t\t\tsession.addEventListener( 'inputsourceschange', function () {\n\n\t\t\t\tinputSources = session.inputSources;\n\t\t\t\tconsole.log( inputSources );\n\n\t\t\t\tfor ( var i = 0; i < controllers.length; i ++ ) {\n\n\t\t\t\t\tvar controller = controllers[ i ];\n\t\t\t\t\tcontroller.userData.inputSource = inputSources[ i ];\n\n\t\t\t\t}\n\n\t\t\t} );\n\n\t\t}\n\n\t};\n\n\tfunction updateCamera( camera, parent ) {\n\n\t\tif ( parent === null ) {\n\n\t\t\tcamera.matrixWorld.copy( camera.matrix );\n\n\t\t} else {\n\n\t\t\tcamera.matrixWorld.multiplyMatrices( parent.matrixWorld, camera.matrix );\n\n\t\t}\n\n\t\tcamera.matrixWorldInverse.getInverse( camera.matrixWorld );\n\n\t}\n\n\tthis.getCamera = function ( camera ) {\n\n\t\tif ( isPresenting() ) {\n\n\t\t\tvar parent = camera.parent;\n\t\t\tvar cameras = cameraVR.cameras;\n\n\t\t\tupdateCamera( cameraVR, parent );\n\n\t\t\tfor ( var i = 0; i < cameras.length; i ++ ) {\n\n\t\t\t\tupdateCamera( cameras[ i ], parent );\n\n\t\t\t}\n\n\t\t\t// update camera and its children\n\n\t\t\tcamera.matrixWorld.copy( cameraVR.matrixWorld );\n\n\t\t\tvar children = camera.children;\n\n\t\t\tfor ( var i = 0, l = children.length; i < l; i ++ ) {\n\n\t\t\t\tchildren[ i ].updateMatrixWorld( true );\n\n\t\t\t}\n\n\t\t\tsetProjectionFromUnion( cameraVR, cameraL, cameraR );\n\n\t\t\treturn cameraVR;\n\n\t\t}\n\n\t\treturn camera;\n\n\t};\n\n\tthis.isPresenting = isPresenting;\n\n\t// Animation Loop\n\n\tvar onAnimationFrameCallback = null;\n\n\tfunction onAnimationFrame( time, frame ) {\n\n\t\tpose = frame.getViewerPose( referenceSpace );\n\n\t\tif ( pose !== null ) {\n\n\t\t\tvar views = pose.views;\n\t\t\tvar baseLayer = session.renderState.baseLayer;\n\n\t\t\trenderer.setFramebuffer( baseLayer.framebuffer );\n\n\t\t\tfor ( var i = 0; i < views.length; i ++ ) {\n\n\t\t\t\tvar view = views[ i ];\n\t\t\t\tvar viewport = baseLayer.getViewport( view );\n\t\t\t\tvar viewMatrix = view.transform.inverse.matrix;\n\n\t\t\t\tvar camera = cameraVR.cameras[ i ];\n\t\t\t\tcamera.matrix.fromArray( viewMatrix ).getInverse( camera.matrix );\n\t\t\t\tcamera.projectionMatrix.fromArray( view.projectionMatrix );\n\t\t\t\tcamera.viewport.set( viewport.x, viewport.y, viewport.width, viewport.height );\n\n\t\t\t\tif ( i === 0 ) {\n\n\t\t\t\t\tcameraVR.matrix.copy( camera.matrix );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\t//\n\n\t\tfor ( var i = 0; i < controllers.length; i ++ ) {\n\n\t\t\tvar controller = controllers[ i ];\n\n\t\t\tvar inputSource = inputSources[ i ];\n\n\t\t\tif ( inputSource ) {\n\n\t\t\t\tvar inputPose = frame.getPose( inputSource.targetRaySpace, referenceSpace );\n\n\t\t\t\tif ( inputPose !== null ) {\n\n\t\t\t\t\tcontroller.matrix.fromArray( inputPose.transform.matrix );\n\t\t\t\t\tcontroller.matrix.decompose( controller.position, controller.rotation, controller.scale );\n\t\t\t\t\tcontroller.visible = true;\n\n\t\t\t\t\tcontinue;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tcontroller.visible = false;\n\n\t\t}\n\n\t\tif ( onAnimationFrameCallback ) onAnimationFrameCallback( time );\n\n\t}\n\n\tvar animation = new WebGLAnimation();\n\tanimation.setAnimationLoop( onAnimationFrame );\n\n\tthis.setAnimationLoop = function ( callback ) {\n\n\t\tonAnimationFrameCallback = callback;\n\n\t};\n\n\tthis.dispose = function () {};\n\n\t// DEPRECATED\n\n\tthis.getStandingMatrix = function () {\n\n\t\tconsole.warn( 'THREE.WebXRManager: getStandingMatrix() is no longer needed.' );\n\t\treturn new Matrix4();\n\n\t};\n\n\tthis.getDevice = function () {\n\n\t\tconsole.warn( 'THREE.WebXRManager: getDevice() has been deprecated.' );\n\n\t};\n\n\tthis.setDevice = function () {\n\n\t\tconsole.warn( 'THREE.WebXRManager: setDevice() has been deprecated.' );\n\n\t};\n\n\tthis.setFrameOfReferenceType = function () {\n\n\t\tconsole.warn( 'THREE.WebXRManager: setFrameOfReferenceType() has been deprecated.' );\n\n\t};\n\n\tthis.submitFrame = function () {};\n\n}\n\n/**\n * @author supereggbert / http://www.paulbrunt.co.uk/\n * @author mrdoob / http://mrdoob.com/\n * @author alteredq / http://alteredqualia.com/\n * @author szimek / https://github.com/szimek/\n * @author tschw\n */\n\nfunction WebGLRenderer( parameters ) {\n\n\tconsole.log( 'THREE.WebGLRenderer', REVISION );\n\n\tparameters = parameters || {};\n\n\tvar _canvas = parameters.canvas !== undefined ? parameters.canvas : document.createElementNS( 'http://www.w3.org/1999/xhtml', 'canvas' ),\n\t\t_context = parameters.context !== undefined ? parameters.context : null,\n\n\t\t_alpha = parameters.alpha !== undefined ? parameters.alpha : false,\n\t\t_depth = parameters.depth !== undefined ? parameters.depth : true,\n\t\t_stencil = parameters.stencil !== undefined ? parameters.stencil : true,\n\t\t_antialias = parameters.antialias !== undefined ? parameters.antialias : false,\n\t\t_premultipliedAlpha = parameters.premultipliedAlpha !== undefined ? parameters.premultipliedAlpha : true,\n\t\t_preserveDrawingBuffer = parameters.preserveDrawingBuffer !== undefined ? parameters.preserveDrawingBuffer : false,\n\t\t_powerPreference = parameters.powerPreference !== undefined ? parameters.powerPreference : 'default',\n\t\t_failIfMajorPerformanceCaveat = parameters.failIfMajorPerformanceCaveat !== undefined ? parameters.failIfMajorPerformanceCaveat : false;\n\n\tvar currentRenderList = null;\n\tvar currentRenderState = null;\n\n\t// public properties\n\n\tthis.domElement = _canvas;\n\tthis.context = null;\n\n\t// Debug configuration container\n\tthis.debug = {\n\n\t\t/**\n\t\t * Enables error checking and reporting when shader programs are being compiled\n\t\t * @type {boolean}\n\t\t */\n\t\tcheckShaderErrors: true\n\t};\n\n\t// clearing\n\n\tthis.autoClear = true;\n\tthis.autoClearColor = true;\n\tthis.autoClearDepth = true;\n\tthis.autoClearStencil = true;\n\n\t// scene graph\n\n\tthis.sortObjects = true;\n\n\t// user-defined clipping\n\n\tthis.clippingPlanes = [];\n\tthis.localClippingEnabled = false;\n\n\t// physically based shading\n\n\tthis.gammaFactor = 2.0;\t// for backwards compatibility\n\tthis.gammaInput = false;\n\tthis.gammaOutput = false;\n\n\t// physical lights\n\n\tthis.physicallyCorrectLights = false;\n\n\t// tone mapping\n\n\tthis.toneMapping = LinearToneMapping;\n\tthis.toneMappingExposure = 1.0;\n\tthis.toneMappingWhitePoint = 1.0;\n\n\t// morphs\n\n\tthis.maxMorphTargets = 8;\n\tthis.maxMorphNormals = 4;\n\n\t// internal properties\n\n\tvar _this = this,\n\n\t\t_isContextLost = false,\n\n\t\t// internal state cache\n\n\t\t_framebuffer = null,\n\n\t\t_currentActiveCubeFace = 0,\n\t\t_currentActiveMipmapLevel = 0,\n\t\t_currentRenderTarget = null,\n\t\t_currentFramebuffer = null,\n\t\t_currentMaterialId = - 1,\n\n\t\t// geometry and program caching\n\n\t\t_currentGeometryProgram = {\n\t\t\tgeometry: null,\n\t\t\tprogram: null,\n\t\t\twireframe: false\n\t\t},\n\n\t\t_currentCamera = null,\n\t\t_currentArrayCamera = null,\n\n\t\t_currentViewport = new Vector4(),\n\t\t_currentScissor = new Vector4(),\n\t\t_currentScissorTest = null,\n\n\t\t//\n\n\t\t_width = _canvas.width,\n\t\t_height = _canvas.height,\n\n\t\t_pixelRatio = 1,\n\n\t\t_viewport = new Vector4( 0, 0, _width, _height ),\n\t\t_scissor = new Vector4( 0, 0, _width, _height ),\n\t\t_scissorTest = false,\n\n\t\t// frustum\n\n\t\t_frustum = new Frustum(),\n\n\t\t// clipping\n\n\t\t_clipping = new WebGLClipping(),\n\t\t_clippingEnabled = false,\n\t\t_localClippingEnabled = false,\n\n\t\t// camera matrices cache\n\n\t\t_projScreenMatrix = new Matrix4(),\n\n\t\t_vector3 = new Vector3();\n\n\tfunction getTargetPixelRatio() {\n\n\t\treturn _currentRenderTarget === null ? _pixelRatio : 1;\n\n\t}\n\n\t// initialize\n\n\tvar _gl;\n\n\ttry {\n\n\t\tvar contextAttributes = {\n\t\t\talpha: _alpha,\n\t\t\tdepth: _depth,\n\t\t\tstencil: _stencil,\n\t\t\tantialias: _antialias,\n\t\t\tpremultipliedAlpha: _premultipliedAlpha,\n\t\t\tpreserveDrawingBuffer: _preserveDrawingBuffer,\n\t\t\tpowerPreference: _powerPreference,\n\t\t\tfailIfMajorPerformanceCaveat: _failIfMajorPerformanceCaveat,\n\t\t\txrCompatible: true\n\t\t};\n\n\t\t// event listeners must be registered before WebGL context is created, see #12753\n\n\t\t_canvas.addEventListener( 'webglcontextlost', onContextLost, false );\n\t\t_canvas.addEventListener( 'webglcontextrestored', onContextRestore, false );\n\n\t\t_gl = _context || _canvas.getContext( 'webgl', contextAttributes ) || _canvas.getContext( 'experimental-webgl', contextAttributes );\n\n\t\tif ( _gl === null ) {\n\n\t\t\tif ( _canvas.getContext( 'webgl' ) !== null ) {\n\n\t\t\t\tthrow new Error( 'Error creating WebGL context with your selected attributes.' );\n\n\t\t\t} else {\n\n\t\t\t\tthrow new Error( 'Error creating WebGL context.' );\n\n\t\t\t}\n\n\t\t}\n\n\t\t// Some experimental-webgl implementations do not have getShaderPrecisionFormat\n\n\t\tif ( _gl.getShaderPrecisionFormat === undefined ) {\n\n\t\t\t_gl.getShaderPrecisionFormat = function () {\n\n\t\t\t\treturn { 'rangeMin': 1, 'rangeMax': 1, 'precision': 1 };\n\n\t\t\t};\n\n\t\t}\n\n\t} catch ( error ) {\n\n\t\tconsole.error( 'THREE.WebGLRenderer: ' + error.message );\n\t\tthrow error;\n\n\t}\n\n\tvar extensions, capabilities, state, info;\n\tvar properties, textures, attributes, geometries, objects;\n\tvar programCache, renderLists, renderStates;\n\n\tvar background, morphtargets, bufferRenderer, indexedBufferRenderer;\n\n\tvar utils;\n\n\tfunction initGLContext() {\n\n\t\textensions = new WebGLExtensions( _gl );\n\n\t\tcapabilities = new WebGLCapabilities( _gl, extensions, parameters );\n\n\t\tif ( ! capabilities.isWebGL2 ) {\n\n\t\t\textensions.get( 'WEBGL_depth_texture' );\n\t\t\textensions.get( 'OES_texture_float' );\n\t\t\textensions.get( 'OES_texture_half_float' );\n\t\t\textensions.get( 'OES_texture_half_float_linear' );\n\t\t\textensions.get( 'OES_standard_derivatives' );\n\t\t\textensions.get( 'OES_element_index_uint' );\n\t\t\textensions.get( 'ANGLE_instanced_arrays' );\n\n\t\t}\n\n\t\textensions.get( 'OES_texture_float_linear' );\n\n\t\tutils = new WebGLUtils( _gl, extensions, capabilities );\n\n\t\tstate = new WebGLState( _gl, extensions, utils, capabilities );\n\t\tstate.scissor( _currentScissor.copy( _scissor ).multiplyScalar( _pixelRatio ) );\n\t\tstate.viewport( _currentViewport.copy( _viewport ).multiplyScalar( _pixelRatio ) );\n\n\t\tinfo = new WebGLInfo( _gl );\n\t\tproperties = new WebGLProperties();\n\t\ttextures = new WebGLTextures( _gl, extensions, state, properties, capabilities, utils, info );\n\t\tattributes = new WebGLAttributes( _gl );\n\t\tgeometries = new WebGLGeometries( _gl, attributes, info );\n\t\tobjects = new WebGLObjects( geometries, info );\n\t\tmorphtargets = new WebGLMorphtargets( _gl );\n\t\tprogramCache = new WebGLPrograms( _this, extensions, capabilities, textures );\n\t\trenderLists = new WebGLRenderLists();\n\t\trenderStates = new WebGLRenderStates();\n\n\t\tbackground = new WebGLBackground( _this, state, objects, _premultipliedAlpha );\n\n\t\tbufferRenderer = new WebGLBufferRenderer( _gl, extensions, info, capabilities );\n\t\tindexedBufferRenderer = new WebGLIndexedBufferRenderer( _gl, extensions, info, capabilities );\n\n\t\tinfo.programs = programCache.programs;\n\n\t\t_this.context = _gl;\n\t\t_this.capabilities = capabilities;\n\t\t_this.extensions = extensions;\n\t\t_this.properties = properties;\n\t\t_this.renderLists = renderLists;\n\t\t_this.state = state;\n\t\t_this.info = info;\n\n\t}\n\n\tinitGLContext();\n\n\t// vr\n\n\tvar vr = ( typeof navigator !== 'undefined' && 'xr' in navigator && 'supportsSession' in navigator.xr ) ? new WebXRManager( _this ) : new WebVRManager( _this );\n\n\tthis.vr = vr;\n\n\t// shadow map\n\n\tvar shadowMap = new WebGLShadowMap( _this, objects, capabilities.maxTextureSize );\n\n\tthis.shadowMap = shadowMap;\n\n\t// API\n\n\tthis.getContext = function () {\n\n\t\treturn _gl;\n\n\t};\n\n\tthis.getContextAttributes = function () {\n\n\t\treturn _gl.getContextAttributes();\n\n\t};\n\n\tthis.forceContextLoss = function () {\n\n\t\tvar extension = extensions.get( 'WEBGL_lose_context' );\n\t\tif ( extension ) extension.loseContext();\n\n\t};\n\n\tthis.forceContextRestore = function () {\n\n\t\tvar extension = extensions.get( 'WEBGL_lose_context' );\n\t\tif ( extension ) extension.restoreContext();\n\n\t};\n\n\tthis.getPixelRatio = function () {\n\n\t\treturn _pixelRatio;\n\n\t};\n\n\tthis.setPixelRatio = function ( value ) {\n\n\t\tif ( value === undefined ) return;\n\n\t\t_pixelRatio = value;\n\n\t\tthis.setSize( _width, _height, false );\n\n\t};\n\n\tthis.getSize = function ( target ) {\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'WebGLRenderer: .getsize() now requires a Vector2 as an argument' );\n\n\t\t\ttarget = new Vector2();\n\n\t\t}\n\n\t\treturn target.set( _width, _height );\n\n\t};\n\n\tthis.setSize = function ( width, height, updateStyle ) {\n\n\t\tif ( vr.isPresenting() ) {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderer: Can\\'t change size while VR device is presenting.' );\n\t\t\treturn;\n\n\t\t}\n\n\t\t_width = width;\n\t\t_height = height;\n\n\t\t_canvas.width = width * _pixelRatio;\n\t\t_canvas.height = height * _pixelRatio;\n\n\t\tif ( updateStyle !== false ) {\n\n\t\t\t_canvas.style.width = width + 'px';\n\t\t\t_canvas.style.height = height + 'px';\n\n\t\t}\n\n\t\tthis.setViewport( 0, 0, width, height );\n\n\t};\n\n\tthis.getDrawingBufferSize = function ( target ) {\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'WebGLRenderer: .getdrawingBufferSize() now requires a Vector2 as an argument' );\n\n\t\t\ttarget = new Vector2();\n\n\t\t}\n\n\t\treturn target.set( _width * _pixelRatio, _height * _pixelRatio );\n\n\t};\n\n\tthis.setDrawingBufferSize = function ( width, height, pixelRatio ) {\n\n\t\t_width = width;\n\t\t_height = height;\n\n\t\t_pixelRatio = pixelRatio;\n\n\t\t_canvas.width = width * pixelRatio;\n\t\t_canvas.height = height * pixelRatio;\n\n\t\tthis.setViewport( 0, 0, width, height );\n\n\t};\n\n\tthis.getCurrentViewport = function ( target ) {\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'WebGLRenderer: .getCurrentViewport() now requires a Vector4 as an argument' );\n\n\t\t\ttarget = new Vector4();\n\n\t\t}\n\n\t\treturn target.copy( _currentViewport );\n\n\t};\n\n\tthis.getViewport = function ( target ) {\n\n\t\treturn target.copy( _viewport );\n\n\t};\n\n\tthis.setViewport = function ( x, y, width, height ) {\n\n\t\tif ( x.isVector4 ) {\n\n\t\t\t_viewport.set( x.x, x.y, x.z, x.w );\n\n\t\t} else {\n\n\t\t\t_viewport.set( x, y, width, height );\n\n\t\t}\n\n\t\tstate.viewport( _currentViewport.copy( _viewport ).multiplyScalar( _pixelRatio ) );\n\n\t};\n\n\tthis.getScissor = function ( target ) {\n\n\t\treturn target.copy( _scissor );\n\n\t};\n\n\tthis.setScissor = function ( x, y, width, height ) {\n\n\t\tif ( x.isVector4 ) {\n\n\t\t\t_scissor.set( x.x, x.y, x.z, x.w );\n\n\t\t} else {\n\n\t\t\t_scissor.set( x, y, width, height );\n\n\t\t}\n\n\t\tstate.scissor( _currentScissor.copy( _scissor ).multiplyScalar( _pixelRatio ) );\n\n\t};\n\n\tthis.getScissorTest = function () {\n\n\t\treturn _scissorTest;\n\n\t};\n\n\tthis.setScissorTest = function ( boolean ) {\n\n\t\tstate.setScissorTest( _scissorTest = boolean );\n\n\t};\n\n\t// Clearing\n\n\tthis.getClearColor = function () {\n\n\t\treturn background.getClearColor();\n\n\t};\n\n\tthis.setClearColor = function () {\n\n\t\tbackground.setClearColor.apply( background, arguments );\n\n\t};\n\n\tthis.getClearAlpha = function () {\n\n\t\treturn background.getClearAlpha();\n\n\t};\n\n\tthis.setClearAlpha = function () {\n\n\t\tbackground.setClearAlpha.apply( background, arguments );\n\n\t};\n\n\tthis.clear = function ( color, depth, stencil ) {\n\n\t\tvar bits = 0;\n\n\t\tif ( color === undefined || color ) bits |= 16384;\n\t\tif ( depth === undefined || depth ) bits |= 256;\n\t\tif ( stencil === undefined || stencil ) bits |= 1024;\n\n\t\t_gl.clear( bits );\n\n\t};\n\n\tthis.clearColor = function () {\n\n\t\tthis.clear( true, false, false );\n\n\t};\n\n\tthis.clearDepth = function () {\n\n\t\tthis.clear( false, true, false );\n\n\t};\n\n\tthis.clearStencil = function () {\n\n\t\tthis.clear( false, false, true );\n\n\t};\n\n\t//\n\n\tthis.dispose = function () {\n\n\t\t_canvas.removeEventListener( 'webglcontextlost', onContextLost, false );\n\t\t_canvas.removeEventListener( 'webglcontextrestored', onContextRestore, false );\n\n\t\trenderLists.dispose();\n\t\trenderStates.dispose();\n\t\tproperties.dispose();\n\t\tobjects.dispose();\n\n\t\tvr.dispose();\n\n\t\tanimation.stop();\n\n\t};\n\n\t// Events\n\n\tfunction onContextLost( event ) {\n\n\t\tevent.preventDefault();\n\n\t\tconsole.log( 'THREE.WebGLRenderer: Context Lost.' );\n\n\t\t_isContextLost = true;\n\n\t}\n\n\tfunction onContextRestore( /* event */ ) {\n\n\t\tconsole.log( 'THREE.WebGLRenderer: Context Restored.' );\n\n\t\t_isContextLost = false;\n\n\t\tinitGLContext();\n\n\t}\n\n\tfunction onMaterialDispose( event ) {\n\n\t\tvar material = event.target;\n\n\t\tmaterial.removeEventListener( 'dispose', onMaterialDispose );\n\n\t\tdeallocateMaterial( material );\n\n\t}\n\n\t// Buffer deallocation\n\n\tfunction deallocateMaterial( material ) {\n\n\t\treleaseMaterialProgramReference( material );\n\n\t\tproperties.remove( material );\n\n\t}\n\n\n\tfunction releaseMaterialProgramReference( material ) {\n\n\t\tvar programInfo = properties.get( material ).program;\n\n\t\tmaterial.program = undefined;\n\n\t\tif ( programInfo !== undefined ) {\n\n\t\t\tprogramCache.releaseProgram( programInfo );\n\n\t\t}\n\n\t}\n\n\t// Buffer rendering\n\n\tfunction renderObjectImmediate( object, program ) {\n\n\t\tobject.render( function ( object ) {\n\n\t\t\t_this.renderBufferImmediate( object, program );\n\n\t\t} );\n\n\t}\n\n\tthis.renderBufferImmediate = function ( object, program ) {\n\n\t\tstate.initAttributes();\n\n\t\tvar buffers = properties.get( object );\n\n\t\tif ( object.hasPositions && ! buffers.position ) buffers.position = _gl.createBuffer();\n\t\tif ( object.hasNormals && ! buffers.normal ) buffers.normal = _gl.createBuffer();\n\t\tif ( object.hasUvs && ! buffers.uv ) buffers.uv = _gl.createBuffer();\n\t\tif ( object.hasColors && ! buffers.color ) buffers.color = _gl.createBuffer();\n\n\t\tvar programAttributes = program.getAttributes();\n\n\t\tif ( object.hasPositions ) {\n\n\t\t\t_gl.bindBuffer( 34962, buffers.position );\n\t\t\t_gl.bufferData( 34962, object.positionArray, 35048 );\n\n\t\t\tstate.enableAttribute( programAttributes.position );\n\t\t\t_gl.vertexAttribPointer( programAttributes.position, 3, 5126, false, 0, 0 );\n\n\t\t}\n\n\t\tif ( object.hasNormals ) {\n\n\t\t\t_gl.bindBuffer( 34962, buffers.normal );\n\t\t\t_gl.bufferData( 34962, object.normalArray, 35048 );\n\n\t\t\tstate.enableAttribute( programAttributes.normal );\n\t\t\t_gl.vertexAttribPointer( programAttributes.normal, 3, 5126, false, 0, 0 );\n\n\t\t}\n\n\t\tif ( object.hasUvs ) {\n\n\t\t\t_gl.bindBuffer( 34962, buffers.uv );\n\t\t\t_gl.bufferData( 34962, object.uvArray, 35048 );\n\n\t\t\tstate.enableAttribute( programAttributes.uv );\n\t\t\t_gl.vertexAttribPointer( programAttributes.uv, 2, 5126, false, 0, 0 );\n\n\t\t}\n\n\t\tif ( object.hasColors ) {\n\n\t\t\t_gl.bindBuffer( 34962, buffers.color );\n\t\t\t_gl.bufferData( 34962, object.colorArray, 35048 );\n\n\t\t\tstate.enableAttribute( programAttributes.color );\n\t\t\t_gl.vertexAttribPointer( programAttributes.color, 3, 5126, false, 0, 0 );\n\n\t\t}\n\n\t\tstate.disableUnusedAttributes();\n\n\t\t_gl.drawArrays( 4, 0, object.count );\n\n\t\tobject.count = 0;\n\n\t};\n\n\tthis.renderBufferDirect = function ( camera, fog, geometry, material, object, group ) {\n\n\t\tvar frontFaceCW = ( object.isMesh && object.matrixWorld.determinant() < 0 );\n\n\t\tstate.setMaterial( material, frontFaceCW );\n\n\t\tvar program = setProgram( camera, fog, material, object );\n\n\t\tvar updateBuffers = false;\n\n\t\tif ( _currentGeometryProgram.geometry !== geometry.id ||\n\t\t\t_currentGeometryProgram.program !== program.id ||\n\t\t\t_currentGeometryProgram.wireframe !== ( material.wireframe === true ) ) {\n\n\t\t\t_currentGeometryProgram.geometry = geometry.id;\n\t\t\t_currentGeometryProgram.program = program.id;\n\t\t\t_currentGeometryProgram.wireframe = material.wireframe === true;\n\t\t\tupdateBuffers = true;\n\n\t\t}\n\n\t\tif ( object.morphTargetInfluences ) {\n\n\t\t\tmorphtargets.update( object, geometry, material, program );\n\n\t\t\tupdateBuffers = true;\n\n\t\t}\n\n\t\t//\n\n\t\tvar index = geometry.index;\n\t\tvar position = geometry.attributes.position;\n\t\tvar rangeFactor = 1;\n\n\t\tif ( material.wireframe === true ) {\n\n\t\t\tindex = geometries.getWireframeAttribute( geometry );\n\t\t\trangeFactor = 2;\n\n\t\t}\n\n\t\tvar attribute;\n\t\tvar renderer = bufferRenderer;\n\n\t\tif ( index !== null ) {\n\n\t\t\tattribute = attributes.get( index );\n\n\t\t\trenderer = indexedBufferRenderer;\n\t\t\trenderer.setIndex( attribute );\n\n\t\t}\n\n\t\tif ( updateBuffers ) {\n\n\t\t\tsetupVertexAttributes( material, program, geometry );\n\n\t\t\tif ( index !== null ) {\n\n\t\t\t\t_gl.bindBuffer( 34963, attribute.buffer );\n\n\t\t\t}\n\n\t\t}\n\n\t\t//\n\n\t\tvar dataCount = Infinity;\n\n\t\tif ( index !== null ) {\n\n\t\t\tdataCount = index.count;\n\n\t\t} else if ( position !== undefined ) {\n\n\t\t\tdataCount = position.count;\n\n\t\t}\n\n\t\tvar rangeStart = geometry.drawRange.start * rangeFactor;\n\t\tvar rangeCount = geometry.drawRange.count * rangeFactor;\n\n\t\tvar groupStart = group !== null ? group.start * rangeFactor : 0;\n\t\tvar groupCount = group !== null ? group.count * rangeFactor : Infinity;\n\n\t\tvar drawStart = Math.max( rangeStart, groupStart );\n\t\tvar drawEnd = Math.min( dataCount, rangeStart + rangeCount, groupStart + groupCount ) - 1;\n\n\t\tvar drawCount = Math.max( 0, drawEnd - drawStart + 1 );\n\n\t\tif ( drawCount === 0 ) return;\n\n\t\t//\n\n\t\tif ( object.isMesh ) {\n\n\t\t\tif ( material.wireframe === true ) {\n\n\t\t\t\tstate.setLineWidth( material.wireframeLinewidth * getTargetPixelRatio() );\n\t\t\t\trenderer.setMode( 1 );\n\n\t\t\t} else {\n\n\t\t\t\tswitch ( object.drawMode ) {\n\n\t\t\t\t\tcase TrianglesDrawMode:\n\t\t\t\t\t\trenderer.setMode( 4 );\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase TriangleStripDrawMode:\n\t\t\t\t\t\trenderer.setMode( 5 );\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase TriangleFanDrawMode:\n\t\t\t\t\t\trenderer.setMode( 6 );\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\n\t\t} else if ( object.isLine ) {\n\n\t\t\tvar lineWidth = material.linewidth;\n\n\t\t\tif ( lineWidth === undefined ) lineWidth = 1; // Not using Line*Material\n\n\t\t\tstate.setLineWidth( lineWidth * getTargetPixelRatio() );\n\n\t\t\tif ( object.isLineSegments ) {\n\n\t\t\t\trenderer.setMode( 1 );\n\n\t\t\t} else if ( object.isLineLoop ) {\n\n\t\t\t\trenderer.setMode( 2 );\n\n\t\t\t} else {\n\n\t\t\t\trenderer.setMode( 3 );\n\n\t\t\t}\n\n\t\t} else if ( object.isPoints ) {\n\n\t\t\trenderer.setMode( 0 );\n\n\t\t} else if ( object.isSprite ) {\n\n\t\t\trenderer.setMode( 4 );\n\n\t\t}\n\n\t\tif ( geometry && geometry.isInstancedBufferGeometry ) {\n\n\t\t\tif ( geometry.maxInstancedCount > 0 ) {\n\n\t\t\t\trenderer.renderInstances( geometry, drawStart, drawCount );\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\trenderer.render( drawStart, drawCount );\n\n\t\t}\n\n\t};\n\n\tfunction setupVertexAttributes( material, program, geometry ) {\n\n\t\tif ( geometry && geometry.isInstancedBufferGeometry && ! capabilities.isWebGL2 ) {\n\n\t\t\tif ( extensions.get( 'ANGLE_instanced_arrays' ) === null ) {\n\n\t\t\t\tconsole.error( 'THREE.WebGLRenderer.setupVertexAttributes: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.' );\n\t\t\t\treturn;\n\n\t\t\t}\n\n\t\t}\n\n\t\tstate.initAttributes();\n\n\t\tvar geometryAttributes = geometry.attributes;\n\n\t\tvar programAttributes = program.getAttributes();\n\n\t\tvar materialDefaultAttributeValues = material.defaultAttributeValues;\n\n\t\tfor ( var name in programAttributes ) {\n\n\t\t\tvar programAttribute = programAttributes[ name ];\n\n\t\t\tif ( programAttribute >= 0 ) {\n\n\t\t\t\tvar geometryAttribute = geometryAttributes[ name ];\n\n\t\t\t\tif ( geometryAttribute !== undefined ) {\n\n\t\t\t\t\tvar normalized = geometryAttribute.normalized;\n\t\t\t\t\tvar size = geometryAttribute.itemSize;\n\n\t\t\t\t\tvar attribute = attributes.get( geometryAttribute );\n\n\t\t\t\t\t// TODO Attribute may not be available on context restore\n\n\t\t\t\t\tif ( attribute === undefined ) continue;\n\n\t\t\t\t\tvar buffer = attribute.buffer;\n\t\t\t\t\tvar type = attribute.type;\n\t\t\t\t\tvar bytesPerElement = attribute.bytesPerElement;\n\n\t\t\t\t\tif ( geometryAttribute.isInterleavedBufferAttribute ) {\n\n\t\t\t\t\t\tvar data = geometryAttribute.data;\n\t\t\t\t\t\tvar stride = data.stride;\n\t\t\t\t\t\tvar offset = geometryAttribute.offset;\n\n\t\t\t\t\t\tif ( data && data.isInstancedInterleavedBuffer ) {\n\n\t\t\t\t\t\t\tstate.enableAttributeAndDivisor( programAttribute, data.meshPerAttribute );\n\n\t\t\t\t\t\t\tif ( geometry.maxInstancedCount === undefined ) {\n\n\t\t\t\t\t\t\t\tgeometry.maxInstancedCount = data.meshPerAttribute * data.count;\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\tstate.enableAttribute( programAttribute );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t_gl.bindBuffer( 34962, buffer );\n\t\t\t\t\t\t_gl.vertexAttribPointer( programAttribute, size, type, normalized, stride * bytesPerElement, offset * bytesPerElement );\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tif ( geometryAttribute.isInstancedBufferAttribute ) {\n\n\t\t\t\t\t\t\tstate.enableAttributeAndDivisor( programAttribute, geometryAttribute.meshPerAttribute );\n\n\t\t\t\t\t\t\tif ( geometry.maxInstancedCount === undefined ) {\n\n\t\t\t\t\t\t\t\tgeometry.maxInstancedCount = geometryAttribute.meshPerAttribute * geometryAttribute.count;\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\tstate.enableAttribute( programAttribute );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t_gl.bindBuffer( 34962, buffer );\n\t\t\t\t\t\t_gl.vertexAttribPointer( programAttribute, size, type, normalized, 0, 0 );\n\n\t\t\t\t\t}\n\n\t\t\t\t} else if ( materialDefaultAttributeValues !== undefined ) {\n\n\t\t\t\t\tvar value = materialDefaultAttributeValues[ name ];\n\n\t\t\t\t\tif ( value !== undefined ) {\n\n\t\t\t\t\t\tswitch ( value.length ) {\n\n\t\t\t\t\t\t\tcase 2:\n\t\t\t\t\t\t\t\t_gl.vertexAttrib2fv( programAttribute, value );\n\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\tcase 3:\n\t\t\t\t\t\t\t\t_gl.vertexAttrib3fv( programAttribute, value );\n\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\tcase 4:\n\t\t\t\t\t\t\t\t_gl.vertexAttrib4fv( programAttribute, value );\n\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\t\t_gl.vertexAttrib1fv( programAttribute, value );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tstate.disableUnusedAttributes();\n\n\t}\n\n\t// Compile\n\n\tthis.compile = function ( scene, camera ) {\n\n\t\tcurrentRenderState = renderStates.get( scene, camera );\n\t\tcurrentRenderState.init();\n\n\t\tscene.traverse( function ( object ) {\n\n\t\t\tif ( object.isLight ) {\n\n\t\t\t\tcurrentRenderState.pushLight( object );\n\n\t\t\t\tif ( object.castShadow ) {\n\n\t\t\t\t\tcurrentRenderState.pushShadow( object );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t} );\n\n\t\tcurrentRenderState.setupLights( camera );\n\n\t\tscene.traverse( function ( object ) {\n\n\t\t\tif ( object.material ) {\n\n\t\t\t\tif ( Array.isArray( object.material ) ) {\n\n\t\t\t\t\tfor ( var i = 0; i < object.material.length; i ++ ) {\n\n\t\t\t\t\t\tinitMaterial( object.material[ i ], scene.fog, object );\n\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\n\t\t\t\t\tinitMaterial( object.material, scene.fog, object );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t} );\n\n\t};\n\n\t// Animation Loop\n\n\tvar onAnimationFrameCallback = null;\n\n\tfunction onAnimationFrame( time ) {\n\n\t\tif ( vr.isPresenting() ) return;\n\t\tif ( onAnimationFrameCallback ) onAnimationFrameCallback( time );\n\n\t}\n\n\tvar animation = new WebGLAnimation();\n\tanimation.setAnimationLoop( onAnimationFrame );\n\n\tif ( typeof window !== 'undefined' ) animation.setContext( window );\n\n\tthis.setAnimationLoop = function ( callback ) {\n\n\t\tonAnimationFrameCallback = callback;\n\t\tvr.setAnimationLoop( callback );\n\n\t\tanimation.start();\n\n\t};\n\n\t// Rendering\n\n\tthis.render = function ( scene, camera ) {\n\n\t\tvar renderTarget, forceClear;\n\n\t\tif ( arguments[ 2 ] !== undefined ) {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderer.render(): the renderTarget argument has been removed. Use .setRenderTarget() instead.' );\n\t\t\trenderTarget = arguments[ 2 ];\n\n\t\t}\n\n\t\tif ( arguments[ 3 ] !== undefined ) {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderer.render(): the forceClear argument has been removed. Use .clear() instead.' );\n\t\t\tforceClear = arguments[ 3 ];\n\n\t\t}\n\n\t\tif ( ! ( camera && camera.isCamera ) ) {\n\n\t\t\tconsole.error( 'THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.' );\n\t\t\treturn;\n\n\t\t}\n\n\t\tif ( _isContextLost ) return;\n\n\t\t// reset caching for this frame\n\n\t\t_currentGeometryProgram.geometry = null;\n\t\t_currentGeometryProgram.program = null;\n\t\t_currentGeometryProgram.wireframe = false;\n\t\t_currentMaterialId = - 1;\n\t\t_currentCamera = null;\n\n\t\t// update scene graph\n\n\t\tif ( scene.autoUpdate === true ) scene.updateMatrixWorld();\n\n\t\t// update camera matrices and frustum\n\n\t\tif ( camera.parent === null ) camera.updateMatrixWorld();\n\n\t\tif ( vr.enabled ) {\n\n\t\t\tcamera = vr.getCamera( camera );\n\n\t\t}\n\n\t\t//\n\n\t\tcurrentRenderState = renderStates.get( scene, camera );\n\t\tcurrentRenderState.init();\n\n\t\tscene.onBeforeRender( _this, scene, camera, renderTarget || _currentRenderTarget );\n\n\t\t_projScreenMatrix.multiplyMatrices( camera.projectionMatrix, camera.matrixWorldInverse );\n\t\t_frustum.setFromMatrix( _projScreenMatrix );\n\n\t\t_localClippingEnabled = this.localClippingEnabled;\n\t\t_clippingEnabled = _clipping.init( this.clippingPlanes, _localClippingEnabled, camera );\n\n\t\tcurrentRenderList = renderLists.get( scene, camera );\n\t\tcurrentRenderList.init();\n\n\t\tprojectObject( scene, camera, 0, _this.sortObjects );\n\n\t\tif ( _this.sortObjects === true ) {\n\n\t\t\tcurrentRenderList.sort();\n\n\t\t}\n\n\t\t//\n\n\t\tif ( _clippingEnabled ) _clipping.beginShadows();\n\n\t\tvar shadowsArray = currentRenderState.state.shadowsArray;\n\n\t\tshadowMap.render( shadowsArray, scene, camera );\n\n\t\tcurrentRenderState.setupLights( camera );\n\n\t\tif ( _clippingEnabled ) _clipping.endShadows();\n\n\t\t//\n\n\t\tif ( this.info.autoReset ) this.info.reset();\n\n\t\tif ( renderTarget !== undefined ) {\n\n\t\t\tthis.setRenderTarget( renderTarget );\n\n\t\t}\n\n\t\t//\n\n\t\tbackground.render( currentRenderList, scene, camera, forceClear );\n\n\t\t// render scene\n\n\t\tvar opaqueObjects = currentRenderList.opaque;\n\t\tvar transparentObjects = currentRenderList.transparent;\n\n\t\tif ( scene.overrideMaterial ) {\n\n\t\t\tvar overrideMaterial = scene.overrideMaterial;\n\n\t\t\tif ( opaqueObjects.length ) renderObjects( opaqueObjects, scene, camera, overrideMaterial );\n\t\t\tif ( transparentObjects.length ) renderObjects( transparentObjects, scene, camera, overrideMaterial );\n\n\t\t} else {\n\n\t\t\t// opaque pass (front-to-back order)\n\n\t\t\tif ( opaqueObjects.length ) renderObjects( opaqueObjects, scene, camera );\n\n\t\t\t// transparent pass (back-to-front order)\n\n\t\t\tif ( transparentObjects.length ) renderObjects( transparentObjects, scene, camera );\n\n\t\t}\n\n\t\t//\n\n\t\tscene.onAfterRender( _this, scene, camera );\n\n\t\t//\n\n\t\tif ( _currentRenderTarget !== null ) {\n\n\t\t\t// Generate mipmap if we're using any kind of mipmap filtering\n\n\t\t\ttextures.updateRenderTargetMipmap( _currentRenderTarget );\n\n\t\t\t// resolve multisample renderbuffers to a single-sample texture if necessary\n\n\t\t\ttextures.updateMultisampleRenderTarget( _currentRenderTarget );\n\n\t\t}\n\n\t\t// Ensure depth buffer writing is enabled so it can be cleared on next render\n\n\t\tstate.buffers.depth.setTest( true );\n\t\tstate.buffers.depth.setMask( true );\n\t\tstate.buffers.color.setMask( true );\n\n\t\tstate.setPolygonOffset( false );\n\n\t\tif ( vr.enabled ) {\n\n\t\t\tvr.submitFrame();\n\n\t\t}\n\n\t\t// _gl.finish();\n\n\t\tcurrentRenderList = null;\n\t\tcurrentRenderState = null;\n\n\t};\n\n\tfunction projectObject( object, camera, groupOrder, sortObjects ) {\n\n\t\tif ( object.visible === false ) return;\n\n\t\tvar visible = object.layers.test( camera.layers );\n\n\t\tif ( visible ) {\n\n\t\t\tif ( object.isGroup ) {\n\n\t\t\t\tgroupOrder = object.renderOrder;\n\n\t\t\t} else if ( object.isLight ) {\n\n\t\t\t\tcurrentRenderState.pushLight( object );\n\n\t\t\t\tif ( object.castShadow ) {\n\n\t\t\t\t\tcurrentRenderState.pushShadow( object );\n\n\t\t\t\t}\n\n\t\t\t} else if ( object.isSprite ) {\n\n\t\t\t\tif ( ! object.frustumCulled || _frustum.intersectsSprite( object ) ) {\n\n\t\t\t\t\tif ( sortObjects ) {\n\n\t\t\t\t\t\t_vector3.setFromMatrixPosition( object.matrixWorld )\n\t\t\t\t\t\t\t.applyMatrix4( _projScreenMatrix );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tvar geometry = objects.update( object );\n\t\t\t\t\tvar material = object.material;\n\n\t\t\t\t\tif ( material.visible ) {\n\n\t\t\t\t\t\tcurrentRenderList.push( object, geometry, material, groupOrder, _vector3.z, null );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t} else if ( object.isImmediateRenderObject ) {\n\n\t\t\t\tif ( sortObjects ) {\n\n\t\t\t\t\t_vector3.setFromMatrixPosition( object.matrixWorld )\n\t\t\t\t\t\t.applyMatrix4( _projScreenMatrix );\n\n\t\t\t\t}\n\n\t\t\t\tcurrentRenderList.push( object, null, object.material, groupOrder, _vector3.z, null );\n\n\t\t\t} else if ( object.isMesh || object.isLine || object.isPoints ) {\n\n\t\t\t\tif ( object.isSkinnedMesh ) {\n\n\t\t\t\t\tobject.skeleton.update();\n\n\t\t\t\t}\n\n\t\t\t\tif ( ! object.frustumCulled || _frustum.intersectsObject( object ) ) {\n\n\t\t\t\t\tif ( sortObjects ) {\n\n\t\t\t\t\t\t_vector3.setFromMatrixPosition( object.matrixWorld )\n\t\t\t\t\t\t\t.applyMatrix4( _projScreenMatrix );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tvar geometry = objects.update( object );\n\t\t\t\t\tvar material = object.material;\n\n\t\t\t\t\tif ( Array.isArray( material ) ) {\n\n\t\t\t\t\t\tvar groups = geometry.groups;\n\n\t\t\t\t\t\tfor ( var i = 0, l = groups.length; i < l; i ++ ) {\n\n\t\t\t\t\t\t\tvar group = groups[ i ];\n\t\t\t\t\t\t\tvar groupMaterial = material[ group.materialIndex ];\n\n\t\t\t\t\t\t\tif ( groupMaterial && groupMaterial.visible ) {\n\n\t\t\t\t\t\t\t\tcurrentRenderList.push( object, geometry, groupMaterial, groupOrder, _vector3.z, group );\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t} else if ( material.visible ) {\n\n\t\t\t\t\t\tcurrentRenderList.push( object, geometry, material, groupOrder, _vector3.z, null );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tvar children = object.children;\n\n\t\tfor ( var i = 0, l = children.length; i < l; i ++ ) {\n\n\t\t\tprojectObject( children[ i ], camera, groupOrder, sortObjects );\n\n\t\t}\n\n\t}\n\n\tfunction renderObjects( renderList, scene, camera, overrideMaterial ) {\n\n\t\tfor ( var i = 0, l = renderList.length; i < l; i ++ ) {\n\n\t\t\tvar renderItem = renderList[ i ];\n\n\t\t\tvar object = renderItem.object;\n\t\t\tvar geometry = renderItem.geometry;\n\t\t\tvar material = overrideMaterial === undefined ? renderItem.material : overrideMaterial;\n\t\t\tvar group = renderItem.group;\n\n\t\t\tif ( camera.isArrayCamera ) {\n\n\t\t\t\t_currentArrayCamera = camera;\n\n\t\t\t\tvar cameras = camera.cameras;\n\n\t\t\t\tfor ( var j = 0, jl = cameras.length; j < jl; j ++ ) {\n\n\t\t\t\t\tvar camera2 = cameras[ j ];\n\n\t\t\t\t\tif ( object.layers.test( camera2.layers ) ) {\n\n\t\t\t\t\t\tstate.viewport( _currentViewport.copy( camera2.viewport ) );\n\n\t\t\t\t\t\tcurrentRenderState.setupLights( camera2 );\n\n\t\t\t\t\t\trenderObject( object, scene, camera2, geometry, material, group );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t} else {\n\n\t\t\t\t_currentArrayCamera = null;\n\n\t\t\t\trenderObject( object, scene, camera, geometry, material, group );\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\tfunction renderObject( object, scene, camera, geometry, material, group ) {\n\n\t\tobject.onBeforeRender( _this, scene, camera, geometry, material, group );\n\t\tcurrentRenderState = renderStates.get( scene, _currentArrayCamera || camera );\n\n\t\tobject.modelViewMatrix.multiplyMatrices( camera.matrixWorldInverse, object.matrixWorld );\n\t\tobject.normalMatrix.getNormalMatrix( object.modelViewMatrix );\n\n\t\tif ( object.isImmediateRenderObject ) {\n\n\t\t\tstate.setMaterial( material );\n\n\t\t\tvar program = setProgram( camera, scene.fog, material, object );\n\n\t\t\t_currentGeometryProgram.geometry = null;\n\t\t\t_currentGeometryProgram.program = null;\n\t\t\t_currentGeometryProgram.wireframe = false;\n\n\t\t\trenderObjectImmediate( object, program );\n\n\t\t} else {\n\n\t\t\t_this.renderBufferDirect( camera, scene.fog, geometry, material, object, group );\n\n\t\t}\n\n\t\tobject.onAfterRender( _this, scene, camera, geometry, material, group );\n\t\tcurrentRenderState = renderStates.get( scene, _currentArrayCamera || camera );\n\n\t}\n\n\tfunction initMaterial( material, fog, object ) {\n\n\t\tvar materialProperties = properties.get( material );\n\n\t\tvar lights = currentRenderState.state.lights;\n\t\tvar shadowsArray = currentRenderState.state.shadowsArray;\n\n\t\tvar lightsHash = materialProperties.lightsHash;\n\t\tvar lightsStateHash = lights.state.hash;\n\n\t\tvar parameters = programCache.getParameters(\n\t\t\tmaterial, lights.state, shadowsArray, fog, _clipping.numPlanes, _clipping.numIntersection, object );\n\n\t\tvar code = programCache.getProgramCode( material, parameters );\n\n\t\tvar program = materialProperties.program;\n\t\tvar programChange = true;\n\n\t\tif ( program === undefined ) {\n\n\t\t\t// new material\n\t\t\tmaterial.addEventListener( 'dispose', onMaterialDispose );\n\n\t\t} else if ( program.code !== code ) {\n\n\t\t\t// changed glsl or parameters\n\t\t\treleaseMaterialProgramReference( material );\n\n\t\t} else if ( lightsHash.stateID !== lightsStateHash.stateID ||\n\t\t\tlightsHash.directionalLength !== lightsStateHash.directionalLength ||\n\t\t\tlightsHash.pointLength !== lightsStateHash.pointLength ||\n\t\t\tlightsHash.spotLength !== lightsStateHash.spotLength ||\n\t\t\tlightsHash.rectAreaLength !== lightsStateHash.rectAreaLength ||\n\t\t\tlightsHash.hemiLength !== lightsStateHash.hemiLength ||\n\t\t\tlightsHash.shadowsLength !== lightsStateHash.shadowsLength ) {\n\n\t\t\tlightsHash.stateID = lightsStateHash.stateID;\n\t\t\tlightsHash.directionalLength = lightsStateHash.directionalLength;\n\t\t\tlightsHash.pointLength = lightsStateHash.pointLength;\n\t\t\tlightsHash.spotLength = lightsStateHash.spotLength;\n\t\t\tlightsHash.rectAreaLength = lightsStateHash.rectAreaLength;\n\t\t\tlightsHash.hemiLength = lightsStateHash.hemiLength;\n\t\t\tlightsHash.shadowsLength = lightsStateHash.shadowsLength;\n\n\t\t\tprogramChange = false;\n\n\t\t} else if ( parameters.shaderID !== undefined ) {\n\n\t\t\t// same glsl and uniform list\n\t\t\treturn;\n\n\t\t} else {\n\n\t\t\t// only rebuild uniform list\n\t\t\tprogramChange = false;\n\n\t\t}\n\n\t\tif ( programChange ) {\n\n\t\t\tif ( parameters.shaderID ) {\n\n\t\t\t\tvar shader = ShaderLib[ parameters.shaderID ];\n\n\t\t\t\tmaterialProperties.shader = {\n\t\t\t\t\tname: material.type,\n\t\t\t\t\tuniforms: cloneUniforms( shader.uniforms ),\n\t\t\t\t\tvertexShader: shader.vertexShader,\n\t\t\t\t\tfragmentShader: shader.fragmentShader\n\t\t\t\t};\n\n\t\t\t} else {\n\n\t\t\t\tmaterialProperties.shader = {\n\t\t\t\t\tname: material.type,\n\t\t\t\t\tuniforms: material.uniforms,\n\t\t\t\t\tvertexShader: material.vertexShader,\n\t\t\t\t\tfragmentShader: material.fragmentShader\n\t\t\t\t};\n\n\t\t\t}\n\n\t\t\tmaterial.onBeforeCompile( materialProperties.shader, _this );\n\n\t\t\t// Computing code again as onBeforeCompile may have changed the shaders\n\t\t\tcode = programCache.getProgramCode( material, parameters );\n\n\t\t\tprogram = programCache.acquireProgram( material, materialProperties.shader, parameters, code );\n\n\t\t\tmaterialProperties.program = program;\n\t\t\tmaterial.program = program;\n\n\t\t}\n\n\t\tvar programAttributes = program.getAttributes();\n\n\t\tif ( material.morphTargets ) {\n\n\t\t\tmaterial.numSupportedMorphTargets = 0;\n\n\t\t\tfor ( var i = 0; i < _this.maxMorphTargets; i ++ ) {\n\n\t\t\t\tif ( programAttributes[ 'morphTarget' + i ] >= 0 ) {\n\n\t\t\t\t\tmaterial.numSupportedMorphTargets ++;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( material.morphNormals ) {\n\n\t\t\tmaterial.numSupportedMorphNormals = 0;\n\n\t\t\tfor ( var i = 0; i < _this.maxMorphNormals; i ++ ) {\n\n\t\t\t\tif ( programAttributes[ 'morphNormal' + i ] >= 0 ) {\n\n\t\t\t\t\tmaterial.numSupportedMorphNormals ++;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tvar uniforms = materialProperties.shader.uniforms;\n\n\t\tif ( ! material.isShaderMaterial &&\n\t\t\t! material.isRawShaderMaterial ||\n\t\t\tmaterial.clipping === true ) {\n\n\t\t\tmaterialProperties.numClippingPlanes = _clipping.numPlanes;\n\t\t\tmaterialProperties.numIntersection = _clipping.numIntersection;\n\t\t\tuniforms.clippingPlanes = _clipping.uniform;\n\n\t\t}\n\n\t\tmaterialProperties.fog = fog;\n\n\t\t// store the light setup it was created for\n\t\tif ( lightsHash === undefined ) {\n\n\t\t\tmaterialProperties.lightsHash = lightsHash = {};\n\n\t\t}\n\n\t\tlightsHash.stateID = lightsStateHash.stateID;\n\t\tlightsHash.directionalLength = lightsStateHash.directionalLength;\n\t\tlightsHash.pointLength = lightsStateHash.pointLength;\n\t\tlightsHash.spotLength = lightsStateHash.spotLength;\n\t\tlightsHash.rectAreaLength = lightsStateHash.rectAreaLength;\n\t\tlightsHash.hemiLength = lightsStateHash.hemiLength;\n\t\tlightsHash.shadowsLength = lightsStateHash.shadowsLength;\n\n\t\tif ( material.lights ) {\n\n\t\t\t// wire up the material to this renderer's lighting state\n\n\t\t\tuniforms.ambientLightColor.value = lights.state.ambient;\n\t\t\tuniforms.lightProbe.value = lights.state.probe;\n\t\t\tuniforms.directionalLights.value = lights.state.directional;\n\t\t\tuniforms.spotLights.value = lights.state.spot;\n\t\t\tuniforms.rectAreaLights.value = lights.state.rectArea;\n\t\t\tuniforms.pointLights.value = lights.state.point;\n\t\t\tuniforms.hemisphereLights.value = lights.state.hemi;\n\n\t\t\tuniforms.directionalShadowMap.value = lights.state.directionalShadowMap;\n\t\t\tuniforms.directionalShadowMatrix.value = lights.state.directionalShadowMatrix;\n\t\t\tuniforms.spotShadowMap.value = lights.state.spotShadowMap;\n\t\t\tuniforms.spotShadowMatrix.value = lights.state.spotShadowMatrix;\n\t\t\tuniforms.pointShadowMap.value = lights.state.pointShadowMap;\n\t\t\tuniforms.pointShadowMatrix.value = lights.state.pointShadowMatrix;\n\t\t\t// TODO (abelnation): add area lights shadow info to uniforms\n\n\t\t}\n\n\t\tvar progUniforms = materialProperties.program.getUniforms(),\n\t\t\tuniformsList =\n\t\t\t\tWebGLUniforms.seqWithValue( progUniforms.seq, uniforms );\n\n\t\tmaterialProperties.uniformsList = uniformsList;\n\n\t}\n\n\tfunction setProgram( camera, fog, material, object ) {\n\n\t\ttextures.resetTextureUnits();\n\n\t\tvar materialProperties = properties.get( material );\n\t\tvar lights = currentRenderState.state.lights;\n\n\t\tvar lightsHash = materialProperties.lightsHash;\n\t\tvar lightsStateHash = lights.state.hash;\n\n\t\tif ( _clippingEnabled ) {\n\n\t\t\tif ( _localClippingEnabled || camera !== _currentCamera ) {\n\n\t\t\t\tvar useCache =\n\t\t\t\t\tcamera === _currentCamera &&\n\t\t\t\t\tmaterial.id === _currentMaterialId;\n\n\t\t\t\t// we might want to call this function with some ClippingGroup\n\t\t\t\t// object instead of the material, once it becomes feasible\n\t\t\t\t// (#8465, #8379)\n\t\t\t\t_clipping.setState(\n\t\t\t\t\tmaterial.clippingPlanes, material.clipIntersection, material.clipShadows,\n\t\t\t\t\tcamera, materialProperties, useCache );\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( material.needsUpdate === false ) {\n\n\t\t\tif ( materialProperties.program === undefined ) {\n\n\t\t\t\tmaterial.needsUpdate = true;\n\n\t\t\t} else if ( material.fog && materialProperties.fog !== fog ) {\n\n\t\t\t\tmaterial.needsUpdate = true;\n\n\t\t\t} else if ( material.lights && ( lightsHash.stateID !== lightsStateHash.stateID ||\n\t\t\t\tlightsHash.directionalLength !== lightsStateHash.directionalLength ||\n\t\t\t\tlightsHash.pointLength !== lightsStateHash.pointLength ||\n\t\t\t\tlightsHash.spotLength !== lightsStateHash.spotLength ||\n\t\t\t\tlightsHash.rectAreaLength !== lightsStateHash.rectAreaLength ||\n\t\t\t\tlightsHash.hemiLength !== lightsStateHash.hemiLength ||\n\t\t\t\tlightsHash.shadowsLength !== lightsStateHash.shadowsLength ) ) {\n\n\t\t\t\tmaterial.needsUpdate = true;\n\n\t\t\t} else if ( materialProperties.numClippingPlanes !== undefined &&\n\t\t\t\t( materialProperties.numClippingPlanes !== _clipping.numPlanes ||\n\t\t\t\tmaterialProperties.numIntersection !== _clipping.numIntersection ) ) {\n\n\t\t\t\tmaterial.needsUpdate = true;\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( material.needsUpdate ) {\n\n\t\t\tinitMaterial( material, fog, object );\n\t\t\tmaterial.needsUpdate = false;\n\n\t\t}\n\n\t\tvar refreshProgram = false;\n\t\tvar refreshMaterial = false;\n\t\tvar refreshLights = false;\n\n\t\tvar program = materialProperties.program,\n\t\t\tp_uniforms = program.getUniforms(),\n\t\t\tm_uniforms = materialProperties.shader.uniforms;\n\n\t\tif ( state.useProgram( program.program ) ) {\n\n\t\t\trefreshProgram = true;\n\t\t\trefreshMaterial = true;\n\t\t\trefreshLights = true;\n\n\t\t}\n\n\t\tif ( material.id !== _currentMaterialId ) {\n\n\t\t\t_currentMaterialId = material.id;\n\n\t\t\trefreshMaterial = true;\n\n\t\t}\n\n\t\tif ( refreshProgram || _currentCamera !== camera ) {\n\n\t\t\tp_uniforms.setValue( _gl, 'projectionMatrix', camera.projectionMatrix );\n\n\t\t\tif ( capabilities.logarithmicDepthBuffer ) {\n\n\t\t\t\tp_uniforms.setValue( _gl, 'logDepthBufFC',\n\t\t\t\t\t2.0 / ( Math.log( camera.far + 1.0 ) / Math.LN2 ) );\n\n\t\t\t}\n\n\t\t\tif ( _currentCamera !== camera ) {\n\n\t\t\t\t_currentCamera = camera;\n\n\t\t\t\t// lighting uniforms depend on the camera so enforce an update\n\t\t\t\t// now, in case this material supports lights - or later, when\n\t\t\t\t// the next material that does gets activated:\n\n\t\t\t\trefreshMaterial = true;\t\t// set to true on material change\n\t\t\t\trefreshLights = true;\t\t// remains set until update done\n\n\t\t\t}\n\n\t\t\t// load material specific uniforms\n\t\t\t// (shader material also gets them for the sake of genericity)\n\n\t\t\tif ( material.isShaderMaterial ||\n\t\t\t\tmaterial.isMeshPhongMaterial ||\n\t\t\t\tmaterial.isMeshStandardMaterial ||\n\t\t\t\tmaterial.envMap ) {\n\n\t\t\t\tvar uCamPos = p_uniforms.map.cameraPosition;\n\n\t\t\t\tif ( uCamPos !== undefined ) {\n\n\t\t\t\t\tuCamPos.setValue( _gl,\n\t\t\t\t\t\t_vector3.setFromMatrixPosition( camera.matrixWorld ) );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tif ( material.isMeshPhongMaterial ||\n\t\t\t\tmaterial.isMeshLambertMaterial ||\n\t\t\t\tmaterial.isMeshBasicMaterial ||\n\t\t\t\tmaterial.isMeshStandardMaterial ||\n\t\t\t\tmaterial.isShaderMaterial ||\n\t\t\t\tmaterial.skinning ) {\n\n\t\t\t\tp_uniforms.setValue( _gl, 'viewMatrix', camera.matrixWorldInverse );\n\n\t\t\t}\n\n\t\t}\n\n\t\t// skinning uniforms must be set even if material didn't change\n\t\t// auto-setting of texture unit for bone texture must go before other textures\n\t\t// not sure why, but otherwise weird things happen\n\n\t\tif ( material.skinning ) {\n\n\t\t\tp_uniforms.setOptional( _gl, object, 'bindMatrix' );\n\t\t\tp_uniforms.setOptional( _gl, object, 'bindMatrixInverse' );\n\n\t\t\tvar skeleton = object.skeleton;\n\n\t\t\tif ( skeleton ) {\n\n\t\t\t\tvar bones = skeleton.bones;\n\n\t\t\t\tif ( capabilities.floatVertexTextures ) {\n\n\t\t\t\t\tif ( skeleton.boneTexture === undefined ) {\n\n\t\t\t\t\t\t// layout (1 matrix = 4 pixels)\n\t\t\t\t\t\t//      RGBA RGBA RGBA RGBA (=> column1, column2, column3, column4)\n\t\t\t\t\t\t//  with  8x8  pixel texture max   16 bones * 4 pixels =  (8 * 8)\n\t\t\t\t\t\t//       16x16 pixel texture max   64 bones * 4 pixels = (16 * 16)\n\t\t\t\t\t\t//       32x32 pixel texture max  256 bones * 4 pixels = (32 * 32)\n\t\t\t\t\t\t//       64x64 pixel texture max 1024 bones * 4 pixels = (64 * 64)\n\n\n\t\t\t\t\t\tvar size = Math.sqrt( bones.length * 4 ); // 4 pixels needed for 1 matrix\n\t\t\t\t\t\tsize = _Math.ceilPowerOfTwo( size );\n\t\t\t\t\t\tsize = Math.max( size, 4 );\n\n\t\t\t\t\t\tvar boneMatrices = new Float32Array( size * size * 4 ); // 4 floats per RGBA pixel\n\t\t\t\t\t\tboneMatrices.set( skeleton.boneMatrices ); // copy current values\n\n\t\t\t\t\t\tvar boneTexture = new DataTexture( boneMatrices, size, size, RGBAFormat, FloatType );\n\t\t\t\t\t\tboneTexture.needsUpdate = true;\n\n\t\t\t\t\t\tskeleton.boneMatrices = boneMatrices;\n\t\t\t\t\t\tskeleton.boneTexture = boneTexture;\n\t\t\t\t\t\tskeleton.boneTextureSize = size;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tp_uniforms.setValue( _gl, 'boneTexture', skeleton.boneTexture, textures );\n\t\t\t\t\tp_uniforms.setValue( _gl, 'boneTextureSize', skeleton.boneTextureSize );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tp_uniforms.setOptional( _gl, skeleton, 'boneMatrices' );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( refreshMaterial ) {\n\n\t\t\tp_uniforms.setValue( _gl, 'toneMappingExposure', _this.toneMappingExposure );\n\t\t\tp_uniforms.setValue( _gl, 'toneMappingWhitePoint', _this.toneMappingWhitePoint );\n\n\t\t\tif ( material.lights ) {\n\n\t\t\t\t// the current material requires lighting info\n\n\t\t\t\t// note: all lighting uniforms are always set correctly\n\t\t\t\t// they simply reference the renderer's state for their\n\t\t\t\t// values\n\t\t\t\t//\n\t\t\t\t// use the current material's .needsUpdate flags to set\n\t\t\t\t// the GL state when required\n\n\t\t\t\tmarkUniformsLightsNeedsUpdate( m_uniforms, refreshLights );\n\n\t\t\t}\n\n\t\t\t// refresh uniforms common to several materials\n\n\t\t\tif ( fog && material.fog ) {\n\n\t\t\t\trefreshUniformsFog( m_uniforms, fog );\n\n\t\t\t}\n\n\t\t\tif ( material.isMeshBasicMaterial ) {\n\n\t\t\t\trefreshUniformsCommon( m_uniforms, material );\n\n\t\t\t} else if ( material.isMeshLambertMaterial ) {\n\n\t\t\t\trefreshUniformsCommon( m_uniforms, material );\n\t\t\t\trefreshUniformsLambert( m_uniforms, material );\n\n\t\t\t} else if ( material.isMeshPhongMaterial ) {\n\n\t\t\t\trefreshUniformsCommon( m_uniforms, material );\n\n\t\t\t\tif ( material.isMeshToonMaterial ) {\n\n\t\t\t\t\trefreshUniformsToon( m_uniforms, material );\n\n\t\t\t\t} else {\n\n\t\t\t\t\trefreshUniformsPhong( m_uniforms, material );\n\n\t\t\t\t}\n\n\t\t\t} else if ( material.isMeshStandardMaterial ) {\n\n\t\t\t\trefreshUniformsCommon( m_uniforms, material );\n\n\t\t\t\tif ( material.isMeshPhysicalMaterial ) {\n\n\t\t\t\t\trefreshUniformsPhysical( m_uniforms, material );\n\n\t\t\t\t} else {\n\n\t\t\t\t\trefreshUniformsStandard( m_uniforms, material );\n\n\t\t\t\t}\n\n\t\t\t} else if ( material.isMeshMatcapMaterial ) {\n\n\t\t\t\trefreshUniformsCommon( m_uniforms, material );\n\n\t\t\t\trefreshUniformsMatcap( m_uniforms, material );\n\n\t\t\t} else if ( material.isMeshDepthMaterial ) {\n\n\t\t\t\trefreshUniformsCommon( m_uniforms, material );\n\t\t\t\trefreshUniformsDepth( m_uniforms, material );\n\n\t\t\t} else if ( material.isMeshDistanceMaterial ) {\n\n\t\t\t\trefreshUniformsCommon( m_uniforms, material );\n\t\t\t\trefreshUniformsDistance( m_uniforms, material );\n\n\t\t\t} else if ( material.isMeshNormalMaterial ) {\n\n\t\t\t\trefreshUniformsCommon( m_uniforms, material );\n\t\t\t\trefreshUniformsNormal( m_uniforms, material );\n\n\t\t\t} else if ( material.isLineBasicMaterial ) {\n\n\t\t\t\trefreshUniformsLine( m_uniforms, material );\n\n\t\t\t\tif ( material.isLineDashedMaterial ) {\n\n\t\t\t\t\trefreshUniformsDash( m_uniforms, material );\n\n\t\t\t\t}\n\n\t\t\t} else if ( material.isPointsMaterial ) {\n\n\t\t\t\trefreshUniformsPoints( m_uniforms, material );\n\n\t\t\t} else if ( material.isSpriteMaterial ) {\n\n\t\t\t\trefreshUniformsSprites( m_uniforms, material );\n\n\t\t\t} else if ( material.isShadowMaterial ) {\n\n\t\t\t\tm_uniforms.color.value.copy( material.color );\n\t\t\t\tm_uniforms.opacity.value = material.opacity;\n\n\t\t\t}\n\n\t\t\t// RectAreaLight Texture\n\t\t\t// TODO (mrdoob): Find a nicer implementation\n\n\t\t\tif ( m_uniforms.ltc_1 !== undefined ) m_uniforms.ltc_1.value = UniformsLib.LTC_1;\n\t\t\tif ( m_uniforms.ltc_2 !== undefined ) m_uniforms.ltc_2.value = UniformsLib.LTC_2;\n\n\t\t\tWebGLUniforms.upload( _gl, materialProperties.uniformsList, m_uniforms, textures );\n\n\t\t}\n\n\t\tif ( material.isShaderMaterial && material.uniformsNeedUpdate === true ) {\n\n\t\t\tWebGLUniforms.upload( _gl, materialProperties.uniformsList, m_uniforms, textures );\n\t\t\tmaterial.uniformsNeedUpdate = false;\n\n\t\t}\n\n\t\tif ( material.isSpriteMaterial ) {\n\n\t\t\tp_uniforms.setValue( _gl, 'center', object.center );\n\n\t\t}\n\n\t\t// common matrices\n\n\t\tp_uniforms.setValue( _gl, 'modelViewMatrix', object.modelViewMatrix );\n\t\tp_uniforms.setValue( _gl, 'normalMatrix', object.normalMatrix );\n\t\tp_uniforms.setValue( _gl, 'modelMatrix', object.matrixWorld );\n\n\t\treturn program;\n\n\t}\n\n\t// Uniforms (refresh uniforms objects)\n\n\tfunction refreshUniformsCommon( uniforms, material ) {\n\n\t\tuniforms.opacity.value = material.opacity;\n\n\t\tif ( material.color ) {\n\n\t\t\tuniforms.diffuse.value.copy( material.color );\n\n\t\t}\n\n\t\tif ( material.emissive ) {\n\n\t\t\tuniforms.emissive.value.copy( material.emissive ).multiplyScalar( material.emissiveIntensity );\n\n\t\t}\n\n\t\tif ( material.map ) {\n\n\t\t\tuniforms.map.value = material.map;\n\n\t\t}\n\n\t\tif ( material.alphaMap ) {\n\n\t\t\tuniforms.alphaMap.value = material.alphaMap;\n\n\t\t}\n\n\t\tif ( material.specularMap ) {\n\n\t\t\tuniforms.specularMap.value = material.specularMap;\n\n\t\t}\n\n\t\tif ( material.envMap ) {\n\n\t\t\tuniforms.envMap.value = material.envMap;\n\n\t\t\t// don't flip CubeTexture envMaps, flip everything else:\n\t\t\t//  WebGLRenderTargetCube will be flipped for backwards compatibility\n\t\t\t//  WebGLRenderTargetCube.texture will be flipped because it's a Texture and NOT a CubeTexture\n\t\t\t// this check must be handled differently, or removed entirely, if WebGLRenderTargetCube uses a CubeTexture in the future\n\t\t\tuniforms.flipEnvMap.value = material.envMap.isCubeTexture ? - 1 : 1;\n\n\t\t\tuniforms.reflectivity.value = material.reflectivity;\n\t\t\tuniforms.refractionRatio.value = material.refractionRatio;\n\n\t\t\tuniforms.maxMipLevel.value = properties.get( material.envMap ).__maxMipLevel;\n\n\t\t}\n\n\t\tif ( material.lightMap ) {\n\n\t\t\tuniforms.lightMap.value = material.lightMap;\n\t\t\tuniforms.lightMapIntensity.value = material.lightMapIntensity;\n\n\t\t}\n\n\t\tif ( material.aoMap ) {\n\n\t\t\tuniforms.aoMap.value = material.aoMap;\n\t\t\tuniforms.aoMapIntensity.value = material.aoMapIntensity;\n\n\t\t}\n\n\t\t// uv repeat and offset setting priorities\n\t\t// 1. color map\n\t\t// 2. specular map\n\t\t// 3. normal map\n\t\t// 4. bump map\n\t\t// 5. alpha map\n\t\t// 6. emissive map\n\n\t\tvar uvScaleMap;\n\n\t\tif ( material.map ) {\n\n\t\t\tuvScaleMap = material.map;\n\n\t\t} else if ( material.specularMap ) {\n\n\t\t\tuvScaleMap = material.specularMap;\n\n\t\t} else if ( material.displacementMap ) {\n\n\t\t\tuvScaleMap = material.displacementMap;\n\n\t\t} else if ( material.normalMap ) {\n\n\t\t\tuvScaleMap = material.normalMap;\n\n\t\t} else if ( material.bumpMap ) {\n\n\t\t\tuvScaleMap = material.bumpMap;\n\n\t\t} else if ( material.roughnessMap ) {\n\n\t\t\tuvScaleMap = material.roughnessMap;\n\n\t\t} else if ( material.metalnessMap ) {\n\n\t\t\tuvScaleMap = material.metalnessMap;\n\n\t\t} else if ( material.alphaMap ) {\n\n\t\t\tuvScaleMap = material.alphaMap;\n\n\t\t} else if ( material.emissiveMap ) {\n\n\t\t\tuvScaleMap = material.emissiveMap;\n\n\t\t}\n\n\t\tif ( uvScaleMap !== undefined ) {\n\n\t\t\t// backwards compatibility\n\t\t\tif ( uvScaleMap.isWebGLRenderTarget ) {\n\n\t\t\t\tuvScaleMap = uvScaleMap.texture;\n\n\t\t\t}\n\n\t\t\tif ( uvScaleMap.matrixAutoUpdate === true ) {\n\n\t\t\t\tuvScaleMap.updateMatrix();\n\n\t\t\t}\n\n\t\t\tuniforms.uvTransform.value.copy( uvScaleMap.matrix );\n\n\t\t}\n\n\t}\n\n\tfunction refreshUniformsLine( uniforms, material ) {\n\n\t\tuniforms.diffuse.value.copy( material.color );\n\t\tuniforms.opacity.value = material.opacity;\n\n\t}\n\n\tfunction refreshUniformsDash( uniforms, material ) {\n\n\t\tuniforms.dashSize.value = material.dashSize;\n\t\tuniforms.totalSize.value = material.dashSize + material.gapSize;\n\t\tuniforms.scale.value = material.scale;\n\n\t}\n\n\tfunction refreshUniformsPoints( uniforms, material ) {\n\n\t\tuniforms.diffuse.value.copy( material.color );\n\t\tuniforms.opacity.value = material.opacity;\n\t\tuniforms.size.value = material.size * _pixelRatio;\n\t\tuniforms.scale.value = _height * 0.5;\n\n\t\tuniforms.map.value = material.map;\n\n\t\tif ( material.map !== null ) {\n\n\t\t\tif ( material.map.matrixAutoUpdate === true ) {\n\n\t\t\t\tmaterial.map.updateMatrix();\n\n\t\t\t}\n\n\t\t\tuniforms.uvTransform.value.copy( material.map.matrix );\n\n\t\t}\n\n\t}\n\n\tfunction refreshUniformsSprites( uniforms, material ) {\n\n\t\tuniforms.diffuse.value.copy( material.color );\n\t\tuniforms.opacity.value = material.opacity;\n\t\tuniforms.rotation.value = material.rotation;\n\t\tuniforms.map.value = material.map;\n\n\t\tif ( material.map !== null ) {\n\n\t\t\tif ( material.map.matrixAutoUpdate === true ) {\n\n\t\t\t\tmaterial.map.updateMatrix();\n\n\t\t\t}\n\n\t\t\tuniforms.uvTransform.value.copy( material.map.matrix );\n\n\t\t}\n\n\t}\n\n\tfunction refreshUniformsFog( uniforms, fog ) {\n\n\t\tuniforms.fogColor.value.copy( fog.color );\n\n\t\tif ( fog.isFog ) {\n\n\t\t\tuniforms.fogNear.value = fog.near;\n\t\t\tuniforms.fogFar.value = fog.far;\n\n\t\t} else if ( fog.isFogExp2 ) {\n\n\t\t\tuniforms.fogDensity.value = fog.density;\n\n\t\t}\n\n\t}\n\n\tfunction refreshUniformsLambert( uniforms, material ) {\n\n\t\tif ( material.emissiveMap ) {\n\n\t\t\tuniforms.emissiveMap.value = material.emissiveMap;\n\n\t\t}\n\n\t}\n\n\tfunction refreshUniformsPhong( uniforms, material ) {\n\n\t\tuniforms.specular.value.copy( material.specular );\n\t\tuniforms.shininess.value = Math.max( material.shininess, 1e-4 ); // to prevent pow( 0.0, 0.0 )\n\n\t\tif ( material.emissiveMap ) {\n\n\t\t\tuniforms.emissiveMap.value = material.emissiveMap;\n\n\t\t}\n\n\t\tif ( material.bumpMap ) {\n\n\t\t\tuniforms.bumpMap.value = material.bumpMap;\n\t\t\tuniforms.bumpScale.value = material.bumpScale;\n\t\t\tif ( material.side === BackSide ) uniforms.bumpScale.value *= - 1;\n\n\t\t}\n\n\t\tif ( material.normalMap ) {\n\n\t\t\tuniforms.normalMap.value = material.normalMap;\n\t\t\tuniforms.normalScale.value.copy( material.normalScale );\n\t\t\tif ( material.side === BackSide ) uniforms.normalScale.value.negate();\n\n\t\t}\n\n\t\tif ( material.displacementMap ) {\n\n\t\t\tuniforms.displacementMap.value = material.displacementMap;\n\t\t\tuniforms.displacementScale.value = material.displacementScale;\n\t\t\tuniforms.displacementBias.value = material.displacementBias;\n\n\t\t}\n\n\t}\n\n\tfunction refreshUniformsToon( uniforms, material ) {\n\n\t\trefreshUniformsPhong( uniforms, material );\n\n\t\tif ( material.gradientMap ) {\n\n\t\t\tuniforms.gradientMap.value = material.gradientMap;\n\n\t\t}\n\n\t}\n\n\tfunction refreshUniformsStandard( uniforms, material ) {\n\n\t\tuniforms.roughness.value = material.roughness;\n\t\tuniforms.metalness.value = material.metalness;\n\n\t\tif ( material.roughnessMap ) {\n\n\t\t\tuniforms.roughnessMap.value = material.roughnessMap;\n\n\t\t}\n\n\t\tif ( material.metalnessMap ) {\n\n\t\t\tuniforms.metalnessMap.value = material.metalnessMap;\n\n\t\t}\n\n\t\tif ( material.emissiveMap ) {\n\n\t\t\tuniforms.emissiveMap.value = material.emissiveMap;\n\n\t\t}\n\n\t\tif ( material.bumpMap ) {\n\n\t\t\tuniforms.bumpMap.value = material.bumpMap;\n\t\t\tuniforms.bumpScale.value = material.bumpScale;\n\t\t\tif ( material.side === BackSide ) uniforms.bumpScale.value *= - 1;\n\n\t\t}\n\n\t\tif ( material.normalMap ) {\n\n\t\t\tuniforms.normalMap.value = material.normalMap;\n\t\t\tuniforms.normalScale.value.copy( material.normalScale );\n\t\t\tif ( material.side === BackSide ) uniforms.normalScale.value.negate();\n\n\t\t}\n\n\t\tif ( material.displacementMap ) {\n\n\t\t\tuniforms.displacementMap.value = material.displacementMap;\n\t\t\tuniforms.displacementScale.value = material.displacementScale;\n\t\t\tuniforms.displacementBias.value = material.displacementBias;\n\n\t\t}\n\n\t\tif ( material.envMap ) {\n\n\t\t\t//uniforms.envMap.value = material.envMap; // part of uniforms common\n\t\t\tuniforms.envMapIntensity.value = material.envMapIntensity;\n\n\t\t}\n\n\t}\n\n\tfunction refreshUniformsPhysical( uniforms, material ) {\n\n\t\trefreshUniformsStandard( uniforms, material );\n\n\t\tuniforms.reflectivity.value = material.reflectivity; // also part of uniforms common\n\n\t\tuniforms.clearCoat.value = material.clearCoat;\n\t\tuniforms.clearCoatRoughness.value = material.clearCoatRoughness;\n\n\t}\n\n\tfunction refreshUniformsMatcap( uniforms, material ) {\n\n\t\tif ( material.matcap ) {\n\n\t\t\tuniforms.matcap.value = material.matcap;\n\n\t\t}\n\n\t\tif ( material.bumpMap ) {\n\n\t\t\tuniforms.bumpMap.value = material.bumpMap;\n\t\t\tuniforms.bumpScale.value = material.bumpScale;\n\t\t\tif ( material.side === BackSide ) uniforms.bumpScale.value *= - 1;\n\n\t\t}\n\n\t\tif ( material.normalMap ) {\n\n\t\t\tuniforms.normalMap.value = material.normalMap;\n\t\t\tuniforms.normalScale.value.copy( material.normalScale );\n\t\t\tif ( material.side === BackSide ) uniforms.normalScale.value.negate();\n\n\t\t}\n\n\t\tif ( material.displacementMap ) {\n\n\t\t\tuniforms.displacementMap.value = material.displacementMap;\n\t\t\tuniforms.displacementScale.value = material.displacementScale;\n\t\t\tuniforms.displacementBias.value = material.displacementBias;\n\n\t\t}\n\n\t}\n\n\tfunction refreshUniformsDepth( uniforms, material ) {\n\n\t\tif ( material.displacementMap ) {\n\n\t\t\tuniforms.displacementMap.value = material.displacementMap;\n\t\t\tuniforms.displacementScale.value = material.displacementScale;\n\t\t\tuniforms.displacementBias.value = material.displacementBias;\n\n\t\t}\n\n\t}\n\n\tfunction refreshUniformsDistance( uniforms, material ) {\n\n\t\tif ( material.displacementMap ) {\n\n\t\t\tuniforms.displacementMap.value = material.displacementMap;\n\t\t\tuniforms.displacementScale.value = material.displacementScale;\n\t\t\tuniforms.displacementBias.value = material.displacementBias;\n\n\t\t}\n\n\t\tuniforms.referencePosition.value.copy( material.referencePosition );\n\t\tuniforms.nearDistance.value = material.nearDistance;\n\t\tuniforms.farDistance.value = material.farDistance;\n\n\t}\n\n\tfunction refreshUniformsNormal( uniforms, material ) {\n\n\t\tif ( material.bumpMap ) {\n\n\t\t\tuniforms.bumpMap.value = material.bumpMap;\n\t\t\tuniforms.bumpScale.value = material.bumpScale;\n\t\t\tif ( material.side === BackSide ) uniforms.bumpScale.value *= - 1;\n\n\t\t}\n\n\t\tif ( material.normalMap ) {\n\n\t\t\tuniforms.normalMap.value = material.normalMap;\n\t\t\tuniforms.normalScale.value.copy( material.normalScale );\n\t\t\tif ( material.side === BackSide ) uniforms.normalScale.value.negate();\n\n\t\t}\n\n\t\tif ( material.displacementMap ) {\n\n\t\t\tuniforms.displacementMap.value = material.displacementMap;\n\t\t\tuniforms.displacementScale.value = material.displacementScale;\n\t\t\tuniforms.displacementBias.value = material.displacementBias;\n\n\t\t}\n\n\t}\n\n\t// If uniforms are marked as clean, they don't need to be loaded to the GPU.\n\n\tfunction markUniformsLightsNeedsUpdate( uniforms, value ) {\n\n\t\tuniforms.ambientLightColor.needsUpdate = value;\n\t\tuniforms.lightProbe.needsUpdate = value;\n\n\t\tuniforms.directionalLights.needsUpdate = value;\n\t\tuniforms.pointLights.needsUpdate = value;\n\t\tuniforms.spotLights.needsUpdate = value;\n\t\tuniforms.rectAreaLights.needsUpdate = value;\n\t\tuniforms.hemisphereLights.needsUpdate = value;\n\n\t}\n\n\t//\n\tthis.setFramebuffer = function ( value ) {\n\n\t\tif ( _framebuffer !== value ) _gl.bindFramebuffer( 36160, value );\n\n\t\t_framebuffer = value;\n\n\t};\n\n\tthis.getActiveCubeFace = function () {\n\n\t\treturn _currentActiveCubeFace;\n\n\t};\n\n\tthis.getActiveMipMapLevel = function () {\n\n\t\treturn _currentActiveMipmapLevel;\n\n\t};\n\n\tthis.getRenderTarget = function () {\n\n\t\treturn _currentRenderTarget;\n\n\t};\n\n\tthis.setRenderTarget = function ( renderTarget, activeCubeFace, activeMipMapLevel ) {\n\n\t\t_currentRenderTarget = renderTarget;\n\t\t_currentActiveCubeFace = activeCubeFace;\n\t\t_currentActiveMipmapLevel = activeMipMapLevel;\n\n\t\tif ( renderTarget && properties.get( renderTarget ).__webglFramebuffer === undefined ) {\n\n\t\t\ttextures.setupRenderTarget( renderTarget );\n\n\t\t}\n\n\t\tvar framebuffer = _framebuffer;\n\t\tvar isCube = false;\n\n\t\tif ( renderTarget ) {\n\n\t\t\tvar __webglFramebuffer = properties.get( renderTarget ).__webglFramebuffer;\n\n\t\t\tif ( renderTarget.isWebGLRenderTargetCube ) {\n\n\t\t\t\tframebuffer = __webglFramebuffer[ activeCubeFace || 0 ];\n\t\t\t\tisCube = true;\n\n\t\t\t} else if ( renderTarget.isWebGLMultisampleRenderTarget ) {\n\n\t\t\t\tframebuffer = properties.get( renderTarget ).__webglMultisampledFramebuffer;\n\n\t\t\t} else {\n\n\t\t\t\tframebuffer = __webglFramebuffer;\n\n\t\t\t}\n\n\t\t\t_currentViewport.copy( renderTarget.viewport );\n\t\t\t_currentScissor.copy( renderTarget.scissor );\n\t\t\t_currentScissorTest = renderTarget.scissorTest;\n\n\t\t} else {\n\n\t\t\t_currentViewport.copy( _viewport ).multiplyScalar( _pixelRatio );\n\t\t\t_currentScissor.copy( _scissor ).multiplyScalar( _pixelRatio );\n\t\t\t_currentScissorTest = _scissorTest;\n\n\t\t}\n\n\t\tif ( _currentFramebuffer !== framebuffer ) {\n\n\t\t\t_gl.bindFramebuffer( 36160, framebuffer );\n\t\t\t_currentFramebuffer = framebuffer;\n\n\t\t}\n\n\t\tstate.viewport( _currentViewport );\n\t\tstate.scissor( _currentScissor );\n\t\tstate.setScissorTest( _currentScissorTest );\n\n\t\tif ( isCube ) {\n\n\t\t\tvar textureProperties = properties.get( renderTarget.texture );\n\t\t\t_gl.framebufferTexture2D( 36160, 36064, 34069 + ( activeCubeFace || 0 ), textureProperties.__webglTexture, activeMipMapLevel || 0 );\n\n\t\t}\n\n\t};\n\n\tthis.readRenderTargetPixels = function ( renderTarget, x, y, width, height, buffer, activeCubeFaceIndex ) {\n\n\t\tif ( ! ( renderTarget && renderTarget.isWebGLRenderTarget ) ) {\n\n\t\t\tconsole.error( 'THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.' );\n\t\t\treturn;\n\n\t\t}\n\n\t\tvar framebuffer = properties.get( renderTarget ).__webglFramebuffer;\n\n\t\tif ( renderTarget.isWebGLRenderTargetCube && activeCubeFaceIndex !== undefined ) {\n\n\t\t\tframebuffer = framebuffer[ activeCubeFaceIndex ];\n\n\t\t}\n\n\t\tif ( framebuffer ) {\n\n\t\t\tvar restore = false;\n\n\t\t\tif ( framebuffer !== _currentFramebuffer ) {\n\n\t\t\t\t_gl.bindFramebuffer( 36160, framebuffer );\n\n\t\t\t\trestore = true;\n\n\t\t\t}\n\n\t\t\ttry {\n\n\t\t\t\tvar texture = renderTarget.texture;\n\t\t\t\tvar textureFormat = texture.format;\n\t\t\t\tvar textureType = texture.type;\n\n\t\t\t\tif ( textureFormat !== RGBAFormat && utils.convert( textureFormat ) !== _gl.getParameter( 35739 ) ) {\n\n\t\t\t\t\tconsole.error( 'THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.' );\n\t\t\t\t\treturn;\n\n\t\t\t\t}\n\n\t\t\t\tif ( textureType !== UnsignedByteType && utils.convert( textureType ) !== _gl.getParameter( 35738 ) && // IE11, Edge and Chrome Mac < 52 (#9513)\n\t\t\t\t\t! ( textureType === FloatType && ( capabilities.isWebGL2 || extensions.get( 'OES_texture_float' ) || extensions.get( 'WEBGL_color_buffer_float' ) ) ) && // Chrome Mac >= 52 and Firefox\n\t\t\t\t\t! ( textureType === HalfFloatType && ( capabilities.isWebGL2 ? extensions.get( 'EXT_color_buffer_float' ) : extensions.get( 'EXT_color_buffer_half_float' ) ) ) ) {\n\n\t\t\t\t\tconsole.error( 'THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.' );\n\t\t\t\t\treturn;\n\n\t\t\t\t}\n\n\t\t\t\tif ( _gl.checkFramebufferStatus( 36160 ) === 36053 ) {\n\n\t\t\t\t\t// the following if statement ensures valid read requests (no out-of-bounds pixels, see #8604)\n\n\t\t\t\t\tif ( ( x >= 0 && x <= ( renderTarget.width - width ) ) && ( y >= 0 && y <= ( renderTarget.height - height ) ) ) {\n\n\t\t\t\t\t\t_gl.readPixels( x, y, width, height, utils.convert( textureFormat ), utils.convert( textureType ), buffer );\n\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\n\t\t\t\t\tconsole.error( 'THREE.WebGLRenderer.readRenderTargetPixels: readPixels from renderTarget failed. Framebuffer not complete.' );\n\n\t\t\t\t}\n\n\t\t\t} finally {\n\n\t\t\t\tif ( restore ) {\n\n\t\t\t\t\t_gl.bindFramebuffer( 36160, _currentFramebuffer );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t};\n\n\tthis.copyFramebufferToTexture = function ( position, texture, level ) {\n\n\t\tvar width = texture.image.width;\n\t\tvar height = texture.image.height;\n\t\tvar glFormat = utils.convert( texture.format );\n\n\t\ttextures.setTexture2D( texture, 0 );\n\n\t\t_gl.copyTexImage2D( 3553, level || 0, glFormat, position.x, position.y, width, height, 0 );\n\n\t};\n\n\tthis.copyTextureToTexture = function ( position, srcTexture, dstTexture, level ) {\n\n\t\tvar width = srcTexture.image.width;\n\t\tvar height = srcTexture.image.height;\n\t\tvar glFormat = utils.convert( dstTexture.format );\n\t\tvar glType = utils.convert( dstTexture.type );\n\n\t\ttextures.setTexture2D( dstTexture, 0 );\n\n\t\tif ( srcTexture.isDataTexture ) {\n\n\t\t\t_gl.texSubImage2D( 3553, level || 0, position.x, position.y, width, height, glFormat, glType, srcTexture.image.data );\n\n\t\t} else {\n\n\t\t\t_gl.texSubImage2D( 3553, level || 0, position.x, position.y, glFormat, glType, srcTexture.image );\n\n\t\t}\n\n\t};\n\n\t/*\n\tif ( typeof __THREE_DEVTOOLS__ !== undefined ) {\n\t\t__THREE_DEVTOOLS__.dispatchEvent( { type: 'renderer', value: this } );\n\t}\n\t*/\n\n}\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author alteredq / http://alteredqualia.com/\n */\n\nfunction FogExp2( color, density ) {\n\n\tthis.name = '';\n\n\tthis.color = new Color( color );\n\tthis.density = ( density !== undefined ) ? density : 0.00025;\n\n}\n\nObject.assign( FogExp2.prototype, {\n\n\tisFogExp2: true,\n\n\tclone: function () {\n\n\t\treturn new FogExp2( this.color, this.density );\n\n\t},\n\n\ttoJSON: function ( /* meta */ ) {\n\n\t\treturn {\n\t\t\ttype: 'FogExp2',\n\t\t\tcolor: this.color.getHex(),\n\t\t\tdensity: this.density\n\t\t};\n\n\t}\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author alteredq / http://alteredqualia.com/\n */\n\nfunction Fog( color, near, far ) {\n\n\tthis.name = '';\n\n\tthis.color = new Color( color );\n\n\tthis.near = ( near !== undefined ) ? near : 1;\n\tthis.far = ( far !== undefined ) ? far : 1000;\n\n}\n\nObject.assign( Fog.prototype, {\n\n\tisFog: true,\n\n\tclone: function () {\n\n\t\treturn new Fog( this.color, this.near, this.far );\n\n\t},\n\n\ttoJSON: function ( /* meta */ ) {\n\n\t\treturn {\n\t\t\ttype: 'Fog',\n\t\t\tcolor: this.color.getHex(),\n\t\t\tnear: this.near,\n\t\t\tfar: this.far\n\t\t};\n\n\t}\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction Scene() {\n\n\tObject3D.call( this );\n\n\tthis.type = 'Scene';\n\n\tthis.background = null;\n\tthis.fog = null;\n\tthis.overrideMaterial = null;\n\n\tthis.autoUpdate = true; // checked by the renderer\n\n\t/*\n\tif ( typeof __THREE_DEVTOOLS__ !== undefined ) {\n\t\t__THREE_DEVTOOLS__.dispatchEvent( { type: 'scene', value: this } );\n\t}\n\t*/\n\n}\n\nScene.prototype = Object.assign( Object.create( Object3D.prototype ), {\n\n\tconstructor: Scene,\n\n\tisScene: true,\n\n\tcopy: function ( source, recursive ) {\n\n\t\tObject3D.prototype.copy.call( this, source, recursive );\n\n\t\tif ( source.background !== null ) this.background = source.background.clone();\n\t\tif ( source.fog !== null ) this.fog = source.fog.clone();\n\t\tif ( source.overrideMaterial !== null ) this.overrideMaterial = source.overrideMaterial.clone();\n\n\t\tthis.autoUpdate = source.autoUpdate;\n\t\tthis.matrixAutoUpdate = source.matrixAutoUpdate;\n\n\t\treturn this;\n\n\t},\n\n\ttoJSON: function ( meta ) {\n\n\t\tvar data = Object3D.prototype.toJSON.call( this, meta );\n\n\t\tif ( this.background !== null ) data.object.background = this.background.toJSON( meta );\n\t\tif ( this.fog !== null ) data.object.fog = this.fog.toJSON();\n\n\t\treturn data;\n\n\t},\n\n\tdispose: function () {\n\n\t\tthis.dispatchEvent( { type: 'dispose' } );\n\n\t}\n\n} );\n\n/**\n * @author benaadams / https://twitter.com/ben_a_adams\n */\n\nfunction InterleavedBuffer( array, stride ) {\n\n\tthis.array = array;\n\tthis.stride = stride;\n\tthis.count = array !== undefined ? array.length / stride : 0;\n\n\tthis.dynamic = false;\n\tthis.updateRange = { offset: 0, count: - 1 };\n\n\tthis.version = 0;\n\n}\n\nObject.defineProperty( InterleavedBuffer.prototype, 'needsUpdate', {\n\n\tset: function ( value ) {\n\n\t\tif ( value === true ) this.version ++;\n\n\t}\n\n} );\n\nObject.assign( InterleavedBuffer.prototype, {\n\n\tisInterleavedBuffer: true,\n\n\tonUploadCallback: function () {},\n\n\tsetArray: function ( array ) {\n\n\t\tif ( Array.isArray( array ) ) {\n\n\t\t\tthrow new TypeError( 'THREE.BufferAttribute: array should be a Typed Array.' );\n\n\t\t}\n\n\t\tthis.count = array !== undefined ? array.length / this.stride : 0;\n\t\tthis.array = array;\n\n\t\treturn this;\n\n\t},\n\n\tsetDynamic: function ( value ) {\n\n\t\tthis.dynamic = value;\n\n\t\treturn this;\n\n\t},\n\n\tcopy: function ( source ) {\n\n\t\tthis.array = new source.array.constructor( source.array );\n\t\tthis.count = source.count;\n\t\tthis.stride = source.stride;\n\t\tthis.dynamic = source.dynamic;\n\n\t\treturn this;\n\n\t},\n\n\tcopyAt: function ( index1, attribute, index2 ) {\n\n\t\tindex1 *= this.stride;\n\t\tindex2 *= attribute.stride;\n\n\t\tfor ( var i = 0, l = this.stride; i < l; i ++ ) {\n\n\t\t\tthis.array[ index1 + i ] = attribute.array[ index2 + i ];\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tset: function ( value, offset ) {\n\n\t\tif ( offset === undefined ) offset = 0;\n\n\t\tthis.array.set( value, offset );\n\n\t\treturn this;\n\n\t},\n\n\tclone: function () {\n\n\t\treturn new this.constructor().copy( this );\n\n\t},\n\n\tonUpload: function ( callback ) {\n\n\t\tthis.onUploadCallback = callback;\n\n\t\treturn this;\n\n\t}\n\n} );\n\n/**\n * @author benaadams / https://twitter.com/ben_a_adams\n */\n\nfunction InterleavedBufferAttribute( interleavedBuffer, itemSize, offset, normalized ) {\n\n\tthis.data = interleavedBuffer;\n\tthis.itemSize = itemSize;\n\tthis.offset = offset;\n\n\tthis.normalized = normalized === true;\n\n}\n\nObject.defineProperties( InterleavedBufferAttribute.prototype, {\n\n\tcount: {\n\n\t\tget: function () {\n\n\t\t\treturn this.data.count;\n\n\t\t}\n\n\t},\n\n\tarray: {\n\n\t\tget: function () {\n\n\t\t\treturn this.data.array;\n\n\t\t}\n\n\t}\n\n} );\n\nObject.assign( InterleavedBufferAttribute.prototype, {\n\n\tisInterleavedBufferAttribute: true,\n\n\tsetX: function ( index, x ) {\n\n\t\tthis.data.array[ index * this.data.stride + this.offset ] = x;\n\n\t\treturn this;\n\n\t},\n\n\tsetY: function ( index, y ) {\n\n\t\tthis.data.array[ index * this.data.stride + this.offset + 1 ] = y;\n\n\t\treturn this;\n\n\t},\n\n\tsetZ: function ( index, z ) {\n\n\t\tthis.data.array[ index * this.data.stride + this.offset + 2 ] = z;\n\n\t\treturn this;\n\n\t},\n\n\tsetW: function ( index, w ) {\n\n\t\tthis.data.array[ index * this.data.stride + this.offset + 3 ] = w;\n\n\t\treturn this;\n\n\t},\n\n\tgetX: function ( index ) {\n\n\t\treturn this.data.array[ index * this.data.stride + this.offset ];\n\n\t},\n\n\tgetY: function ( index ) {\n\n\t\treturn this.data.array[ index * this.data.stride + this.offset + 1 ];\n\n\t},\n\n\tgetZ: function ( index ) {\n\n\t\treturn this.data.array[ index * this.data.stride + this.offset + 2 ];\n\n\t},\n\n\tgetW: function ( index ) {\n\n\t\treturn this.data.array[ index * this.data.stride + this.offset + 3 ];\n\n\t},\n\n\tsetXY: function ( index, x, y ) {\n\n\t\tindex = index * this.data.stride + this.offset;\n\n\t\tthis.data.array[ index + 0 ] = x;\n\t\tthis.data.array[ index + 1 ] = y;\n\n\t\treturn this;\n\n\t},\n\n\tsetXYZ: function ( index, x, y, z ) {\n\n\t\tindex = index * this.data.stride + this.offset;\n\n\t\tthis.data.array[ index + 0 ] = x;\n\t\tthis.data.array[ index + 1 ] = y;\n\t\tthis.data.array[ index + 2 ] = z;\n\n\t\treturn this;\n\n\t},\n\n\tsetXYZW: function ( index, x, y, z, w ) {\n\n\t\tindex = index * this.data.stride + this.offset;\n\n\t\tthis.data.array[ index + 0 ] = x;\n\t\tthis.data.array[ index + 1 ] = y;\n\t\tthis.data.array[ index + 2 ] = z;\n\t\tthis.data.array[ index + 3 ] = w;\n\n\t\treturn this;\n\n\t}\n\n} );\n\n/**\n * @author alteredq / http://alteredqualia.com/\n *\n * parameters = {\n *  color: <hex>,\n *  map: new THREE.Texture( <Image> ),\n *  rotation: <float>,\n *  sizeAttenuation: <bool>\n * }\n */\n\nfunction SpriteMaterial( parameters ) {\n\n\tMaterial.call( this );\n\n\tthis.type = 'SpriteMaterial';\n\n\tthis.color = new Color( 0xffffff );\n\tthis.map = null;\n\n\tthis.rotation = 0;\n\n\tthis.sizeAttenuation = true;\n\n\tthis.lights = false;\n\tthis.transparent = true;\n\n\tthis.setValues( parameters );\n\n}\n\nSpriteMaterial.prototype = Object.create( Material.prototype );\nSpriteMaterial.prototype.constructor = SpriteMaterial;\nSpriteMaterial.prototype.isSpriteMaterial = true;\n\nSpriteMaterial.prototype.copy = function ( source ) {\n\n\tMaterial.prototype.copy.call( this, source );\n\n\tthis.color.copy( source.color );\n\tthis.map = source.map;\n\n\tthis.rotation = source.rotation;\n\n\tthis.sizeAttenuation = source.sizeAttenuation;\n\n\treturn this;\n\n};\n\n/**\n * @author mikael emtinger / http://gomo.se/\n * @author alteredq / http://alteredqualia.com/\n */\n\nvar geometry;\n\nfunction Sprite( material ) {\n\n\tObject3D.call( this );\n\n\tthis.type = 'Sprite';\n\n\tif ( geometry === undefined ) {\n\n\t\tgeometry = new BufferGeometry();\n\n\t\tvar float32Array = new Float32Array( [\n\t\t\t- 0.5, - 0.5, 0, 0, 0,\n\t\t\t0.5, - 0.5, 0, 1, 0,\n\t\t\t0.5, 0.5, 0, 1, 1,\n\t\t\t- 0.5, 0.5, 0, 0, 1\n\t\t] );\n\n\t\tvar interleavedBuffer = new InterleavedBuffer( float32Array, 5 );\n\n\t\tgeometry.setIndex( [ 0, 1, 2,\t0, 2, 3 ] );\n\t\tgeometry.addAttribute( 'position', new InterleavedBufferAttribute( interleavedBuffer, 3, 0, false ) );\n\t\tgeometry.addAttribute( 'uv', new InterleavedBufferAttribute( interleavedBuffer, 2, 3, false ) );\n\n\t}\n\n\tthis.geometry = geometry;\n\tthis.material = ( material !== undefined ) ? material : new SpriteMaterial();\n\n\tthis.center = new Vector2( 0.5, 0.5 );\n\n}\n\nSprite.prototype = Object.assign( Object.create( Object3D.prototype ), {\n\n\tconstructor: Sprite,\n\n\tisSprite: true,\n\n\traycast: ( function () {\n\n\t\tvar intersectPoint = new Vector3();\n\t\tvar worldScale = new Vector3();\n\t\tvar mvPosition = new Vector3();\n\n\t\tvar alignedPosition = new Vector2();\n\t\tvar rotatedPosition = new Vector2();\n\t\tvar viewWorldMatrix = new Matrix4();\n\n\t\tvar vA = new Vector3();\n\t\tvar vB = new Vector3();\n\t\tvar vC = new Vector3();\n\n\t\tvar uvA = new Vector2();\n\t\tvar uvB = new Vector2();\n\t\tvar uvC = new Vector2();\n\n\t\tfunction transformVertex( vertexPosition, mvPosition, center, scale, sin, cos ) {\n\n\t\t\t// compute position in camera space\n\t\t\talignedPosition.subVectors( vertexPosition, center ).addScalar( 0.5 ).multiply( scale );\n\n\t\t\t// to check if rotation is not zero\n\t\t\tif ( sin !== undefined ) {\n\n\t\t\t\trotatedPosition.x = ( cos * alignedPosition.x ) - ( sin * alignedPosition.y );\n\t\t\t\trotatedPosition.y = ( sin * alignedPosition.x ) + ( cos * alignedPosition.y );\n\n\t\t\t} else {\n\n\t\t\t\trotatedPosition.copy( alignedPosition );\n\n\t\t\t}\n\n\n\t\t\tvertexPosition.copy( mvPosition );\n\t\t\tvertexPosition.x += rotatedPosition.x;\n\t\t\tvertexPosition.y += rotatedPosition.y;\n\n\t\t\t// transform to world space\n\t\t\tvertexPosition.applyMatrix4( viewWorldMatrix );\n\n\t\t}\n\n\t\treturn function raycast( raycaster, intersects ) {\n\n\t\t\tworldScale.setFromMatrixScale( this.matrixWorld );\n\t\t\tviewWorldMatrix.getInverse( this.modelViewMatrix ).premultiply( this.matrixWorld );\n\t\t\tmvPosition.setFromMatrixPosition( this.modelViewMatrix );\n\n\t\t\tvar rotation = this.material.rotation;\n\t\t\tvar sin, cos;\n\t\t\tif ( rotation !== 0 ) {\n\n\t\t\t\tcos = Math.cos( rotation );\n\t\t\t\tsin = Math.sin( rotation );\n\n\t\t\t}\n\n\t\t\tvar center = this.center;\n\n\t\t\ttransformVertex( vA.set( - 0.5, - 0.5, 0 ), mvPosition, center, worldScale, sin, cos );\n\t\t\ttransformVertex( vB.set( 0.5, - 0.5, 0 ), mvPosition, center, worldScale, sin, cos );\n\t\t\ttransformVertex( vC.set( 0.5, 0.5, 0 ), mvPosition, center, worldScale, sin, cos );\n\n\t\t\tuvA.set( 0, 0 );\n\t\t\tuvB.set( 1, 0 );\n\t\t\tuvC.set( 1, 1 );\n\n\t\t\t// check first triangle\n\t\t\tvar intersect = raycaster.ray.intersectTriangle( vA, vB, vC, false, intersectPoint );\n\n\t\t\tif ( intersect === null ) {\n\n\t\t\t\t// check second triangle\n\t\t\t\ttransformVertex( vB.set( - 0.5, 0.5, 0 ), mvPosition, center, worldScale, sin, cos );\n\t\t\t\tuvB.set( 0, 1 );\n\n\t\t\t\tintersect = raycaster.ray.intersectTriangle( vA, vC, vB, false, intersectPoint );\n\t\t\t\tif ( intersect === null ) {\n\n\t\t\t\t\treturn;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tvar distance = raycaster.ray.origin.distanceTo( intersectPoint );\n\n\t\t\tif ( distance < raycaster.near || distance > raycaster.far ) return;\n\n\t\t\tintersects.push( {\n\n\t\t\t\tdistance: distance,\n\t\t\t\tpoint: intersectPoint.clone(),\n\t\t\t\tuv: Triangle.getUV( intersectPoint, vA, vB, vC, uvA, uvB, uvC, new Vector2() ),\n\t\t\t\tface: null,\n\t\t\t\tobject: this\n\n\t\t\t} );\n\n\t\t};\n\n\t}() ),\n\n\tclone: function () {\n\n\t\treturn new this.constructor( this.material ).copy( this );\n\n\t},\n\n\tcopy: function ( source ) {\n\n\t\tObject3D.prototype.copy.call( this, source );\n\n\t\tif ( source.center !== undefined ) this.center.copy( source.center );\n\n\t\treturn this;\n\n\t}\n\n\n} );\n\n/**\n * @author mikael emtinger / http://gomo.se/\n * @author alteredq / http://alteredqualia.com/\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction LOD() {\n\n\tObject3D.call( this );\n\n\tthis.type = 'LOD';\n\n\tObject.defineProperties( this, {\n\t\tlevels: {\n\t\t\tenumerable: true,\n\t\t\tvalue: []\n\t\t}\n\t} );\n\n}\n\nLOD.prototype = Object.assign( Object.create( Object3D.prototype ), {\n\n\tconstructor: LOD,\n\n\tisLOD: true,\n\n\tcopy: function ( source ) {\n\n\t\tObject3D.prototype.copy.call( this, source, false );\n\n\t\tvar levels = source.levels;\n\n\t\tfor ( var i = 0, l = levels.length; i < l; i ++ ) {\n\n\t\t\tvar level = levels[ i ];\n\n\t\t\tthis.addLevel( level.object.clone(), level.distance );\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\taddLevel: function ( object, distance ) {\n\n\t\tif ( distance === undefined ) distance = 0;\n\n\t\tdistance = Math.abs( distance );\n\n\t\tvar levels = this.levels;\n\n\t\tfor ( var l = 0; l < levels.length; l ++ ) {\n\n\t\t\tif ( distance < levels[ l ].distance ) {\n\n\t\t\t\tbreak;\n\n\t\t\t}\n\n\t\t}\n\n\t\tlevels.splice( l, 0, { distance: distance, object: object } );\n\n\t\tthis.add( object );\n\n\t\treturn this;\n\n\t},\n\n\tgetObjectForDistance: function ( distance ) {\n\n\t\tvar levels = this.levels;\n\n\t\tfor ( var i = 1, l = levels.length; i < l; i ++ ) {\n\n\t\t\tif ( distance < levels[ i ].distance ) {\n\n\t\t\t\tbreak;\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn levels[ i - 1 ].object;\n\n\t},\n\n\traycast: ( function () {\n\n\t\tvar matrixPosition = new Vector3();\n\n\t\treturn function raycast( raycaster, intersects ) {\n\n\t\t\tmatrixPosition.setFromMatrixPosition( this.matrixWorld );\n\n\t\t\tvar distance = raycaster.ray.origin.distanceTo( matrixPosition );\n\n\t\t\tthis.getObjectForDistance( distance ).raycast( raycaster, intersects );\n\n\t\t};\n\n\t}() ),\n\n\tupdate: function () {\n\n\t\tvar v1 = new Vector3();\n\t\tvar v2 = new Vector3();\n\n\t\treturn function update( camera ) {\n\n\t\t\tvar levels = this.levels;\n\n\t\t\tif ( levels.length > 1 ) {\n\n\t\t\t\tv1.setFromMatrixPosition( camera.matrixWorld );\n\t\t\t\tv2.setFromMatrixPosition( this.matrixWorld );\n\n\t\t\t\tvar distance = v1.distanceTo( v2 );\n\n\t\t\t\tlevels[ 0 ].object.visible = true;\n\n\t\t\t\tfor ( var i = 1, l = levels.length; i < l; i ++ ) {\n\n\t\t\t\t\tif ( distance >= levels[ i ].distance ) {\n\n\t\t\t\t\t\tlevels[ i - 1 ].object.visible = false;\n\t\t\t\t\t\tlevels[ i ].object.visible = true;\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\tfor ( ; i < l; i ++ ) {\n\n\t\t\t\t\tlevels[ i ].object.visible = false;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t};\n\n\t}(),\n\n\ttoJSON: function ( meta ) {\n\n\t\tvar data = Object3D.prototype.toJSON.call( this, meta );\n\n\t\tdata.object.levels = [];\n\n\t\tvar levels = this.levels;\n\n\t\tfor ( var i = 0, l = levels.length; i < l; i ++ ) {\n\n\t\t\tvar level = levels[ i ];\n\n\t\t\tdata.object.levels.push( {\n\t\t\t\tobject: level.object.uuid,\n\t\t\t\tdistance: level.distance\n\t\t\t} );\n\n\t\t}\n\n\t\treturn data;\n\n\t}\n\n} );\n\n/**\n * @author mikael emtinger / http://gomo.se/\n * @author alteredq / http://alteredqualia.com/\n * @author ikerr / http://verold.com\n */\n\nfunction SkinnedMesh( geometry, material ) {\n\n\tif ( geometry && geometry.isGeometry ) {\n\n\t\tconsole.error( 'THREE.SkinnedMesh no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.' );\n\n\t}\n\n\tMesh.call( this, geometry, material );\n\n\tthis.type = 'SkinnedMesh';\n\n\tthis.bindMode = 'attached';\n\tthis.bindMatrix = new Matrix4();\n\tthis.bindMatrixInverse = new Matrix4();\n\n}\n\nSkinnedMesh.prototype = Object.assign( Object.create( Mesh.prototype ), {\n\n\tconstructor: SkinnedMesh,\n\n\tisSkinnedMesh: true,\n\n\tbind: function ( skeleton, bindMatrix ) {\n\n\t\tthis.skeleton = skeleton;\n\n\t\tif ( bindMatrix === undefined ) {\n\n\t\t\tthis.updateMatrixWorld( true );\n\n\t\t\tthis.skeleton.calculateInverses();\n\n\t\t\tbindMatrix = this.matrixWorld;\n\n\t\t}\n\n\t\tthis.bindMatrix.copy( bindMatrix );\n\t\tthis.bindMatrixInverse.getInverse( bindMatrix );\n\n\t},\n\n\tpose: function () {\n\n\t\tthis.skeleton.pose();\n\n\t},\n\n\tnormalizeSkinWeights: function () {\n\n\t\tvar vector = new Vector4();\n\n\t\tvar skinWeight = this.geometry.attributes.skinWeight;\n\n\t\tfor ( var i = 0, l = skinWeight.count; i < l; i ++ ) {\n\n\t\t\tvector.x = skinWeight.getX( i );\n\t\t\tvector.y = skinWeight.getY( i );\n\t\t\tvector.z = skinWeight.getZ( i );\n\t\t\tvector.w = skinWeight.getW( i );\n\n\t\t\tvar scale = 1.0 / vector.manhattanLength();\n\n\t\t\tif ( scale !== Infinity ) {\n\n\t\t\t\tvector.multiplyScalar( scale );\n\n\t\t\t} else {\n\n\t\t\t\tvector.set( 1, 0, 0, 0 ); // do something reasonable\n\n\t\t\t}\n\n\t\t\tskinWeight.setXYZW( i, vector.x, vector.y, vector.z, vector.w );\n\n\t\t}\n\n\t},\n\n\tupdateMatrixWorld: function ( force ) {\n\n\t\tMesh.prototype.updateMatrixWorld.call( this, force );\n\n\t\tif ( this.bindMode === 'attached' ) {\n\n\t\t\tthis.bindMatrixInverse.getInverse( this.matrixWorld );\n\n\t\t} else if ( this.bindMode === 'detached' ) {\n\n\t\t\tthis.bindMatrixInverse.getInverse( this.bindMatrix );\n\n\t\t} else {\n\n\t\t\tconsole.warn( 'THREE.SkinnedMesh: Unrecognized bindMode: ' + this.bindMode );\n\n\t\t}\n\n\t},\n\n\tclone: function () {\n\n\t\treturn new this.constructor( this.geometry, this.material ).copy( this );\n\n\t}\n\n} );\n\n/**\n * @author mikael emtinger / http://gomo.se/\n * @author alteredq / http://alteredqualia.com/\n * @author michael guerrero / http://realitymeltdown.com\n * @author ikerr / http://verold.com\n */\n\nfunction Skeleton( bones, boneInverses ) {\n\n\t// copy the bone array\n\n\tbones = bones || [];\n\n\tthis.bones = bones.slice( 0 );\n\tthis.boneMatrices = new Float32Array( this.bones.length * 16 );\n\n\t// use the supplied bone inverses or calculate the inverses\n\n\tif ( boneInverses === undefined ) {\n\n\t\tthis.calculateInverses();\n\n\t} else {\n\n\t\tif ( this.bones.length === boneInverses.length ) {\n\n\t\t\tthis.boneInverses = boneInverses.slice( 0 );\n\n\t\t} else {\n\n\t\t\tconsole.warn( 'THREE.Skeleton boneInverses is the wrong length.' );\n\n\t\t\tthis.boneInverses = [];\n\n\t\t\tfor ( var i = 0, il = this.bones.length; i < il; i ++ ) {\n\n\t\t\t\tthis.boneInverses.push( new Matrix4() );\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n}\n\nObject.assign( Skeleton.prototype, {\n\n\tcalculateInverses: function () {\n\n\t\tthis.boneInverses = [];\n\n\t\tfor ( var i = 0, il = this.bones.length; i < il; i ++ ) {\n\n\t\t\tvar inverse = new Matrix4();\n\n\t\t\tif ( this.bones[ i ] ) {\n\n\t\t\t\tinverse.getInverse( this.bones[ i ].matrixWorld );\n\n\t\t\t}\n\n\t\t\tthis.boneInverses.push( inverse );\n\n\t\t}\n\n\t},\n\n\tpose: function () {\n\n\t\tvar bone, i, il;\n\n\t\t// recover the bind-time world matrices\n\n\t\tfor ( i = 0, il = this.bones.length; i < il; i ++ ) {\n\n\t\t\tbone = this.bones[ i ];\n\n\t\t\tif ( bone ) {\n\n\t\t\t\tbone.matrixWorld.getInverse( this.boneInverses[ i ] );\n\n\t\t\t}\n\n\t\t}\n\n\t\t// compute the local matrices, positions, rotations and scales\n\n\t\tfor ( i = 0, il = this.bones.length; i < il; i ++ ) {\n\n\t\t\tbone = this.bones[ i ];\n\n\t\t\tif ( bone ) {\n\n\t\t\t\tif ( bone.parent && bone.parent.isBone ) {\n\n\t\t\t\t\tbone.matrix.getInverse( bone.parent.matrixWorld );\n\t\t\t\t\tbone.matrix.multiply( bone.matrixWorld );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tbone.matrix.copy( bone.matrixWorld );\n\n\t\t\t\t}\n\n\t\t\t\tbone.matrix.decompose( bone.position, bone.quaternion, bone.scale );\n\n\t\t\t}\n\n\t\t}\n\n\t},\n\n\tupdate: ( function () {\n\n\t\tvar offsetMatrix = new Matrix4();\n\t\tvar identityMatrix = new Matrix4();\n\n\t\treturn function update() {\n\n\t\t\tvar bones = this.bones;\n\t\t\tvar boneInverses = this.boneInverses;\n\t\t\tvar boneMatrices = this.boneMatrices;\n\t\t\tvar boneTexture = this.boneTexture;\n\n\t\t\t// flatten bone matrices to array\n\n\t\t\tfor ( var i = 0, il = bones.length; i < il; i ++ ) {\n\n\t\t\t\t// compute the offset between the current and the original transform\n\n\t\t\t\tvar matrix = bones[ i ] ? bones[ i ].matrixWorld : identityMatrix;\n\n\t\t\t\toffsetMatrix.multiplyMatrices( matrix, boneInverses[ i ] );\n\t\t\t\toffsetMatrix.toArray( boneMatrices, i * 16 );\n\n\t\t\t}\n\n\t\t\tif ( boneTexture !== undefined ) {\n\n\t\t\t\tboneTexture.needsUpdate = true;\n\n\t\t\t}\n\n\t\t};\n\n\t} )(),\n\n\tclone: function () {\n\n\t\treturn new Skeleton( this.bones, this.boneInverses );\n\n\t},\n\n\tgetBoneByName: function ( name ) {\n\n\t\tfor ( var i = 0, il = this.bones.length; i < il; i ++ ) {\n\n\t\t\tvar bone = this.bones[ i ];\n\n\t\t\tif ( bone.name === name ) {\n\n\t\t\t\treturn bone;\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn undefined;\n\n\t}\n\n} );\n\n/**\n * @author mikael emtinger / http://gomo.se/\n * @author alteredq / http://alteredqualia.com/\n * @author ikerr / http://verold.com\n */\n\nfunction Bone() {\n\n\tObject3D.call( this );\n\n\tthis.type = 'Bone';\n\n}\n\nBone.prototype = Object.assign( Object.create( Object3D.prototype ), {\n\n\tconstructor: Bone,\n\n\tisBone: true\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author alteredq / http://alteredqualia.com/\n *\n * parameters = {\n *  color: <hex>,\n *  opacity: <float>,\n *\n *  linewidth: <float>,\n *  linecap: \"round\",\n *  linejoin: \"round\"\n * }\n */\n\nfunction LineBasicMaterial( parameters ) {\n\n\tMaterial.call( this );\n\n\tthis.type = 'LineBasicMaterial';\n\n\tthis.color = new Color( 0xffffff );\n\n\tthis.linewidth = 1;\n\tthis.linecap = 'round';\n\tthis.linejoin = 'round';\n\n\tthis.lights = false;\n\n\tthis.setValues( parameters );\n\n}\n\nLineBasicMaterial.prototype = Object.create( Material.prototype );\nLineBasicMaterial.prototype.constructor = LineBasicMaterial;\n\nLineBasicMaterial.prototype.isLineBasicMaterial = true;\n\nLineBasicMaterial.prototype.copy = function ( source ) {\n\n\tMaterial.prototype.copy.call( this, source );\n\n\tthis.color.copy( source.color );\n\n\tthis.linewidth = source.linewidth;\n\tthis.linecap = source.linecap;\n\tthis.linejoin = source.linejoin;\n\n\treturn this;\n\n};\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction Line( geometry, material, mode ) {\n\n\tif ( mode === 1 ) {\n\n\t\tconsole.error( 'THREE.Line: parameter THREE.LinePieces no longer supported. Use THREE.LineSegments instead.' );\n\n\t}\n\n\tObject3D.call( this );\n\n\tthis.type = 'Line';\n\n\tthis.geometry = geometry !== undefined ? geometry : new BufferGeometry();\n\tthis.material = material !== undefined ? material : new LineBasicMaterial( { color: Math.random() * 0xffffff } );\n\n}\n\nLine.prototype = Object.assign( Object.create( Object3D.prototype ), {\n\n\tconstructor: Line,\n\n\tisLine: true,\n\n\tcomputeLineDistances: ( function () {\n\n\t\tvar start = new Vector3();\n\t\tvar end = new Vector3();\n\n\t\treturn function computeLineDistances() {\n\n\t\t\tvar geometry = this.geometry;\n\n\t\t\tif ( geometry.isBufferGeometry ) {\n\n\t\t\t\t// we assume non-indexed geometry\n\n\t\t\t\tif ( geometry.index === null ) {\n\n\t\t\t\t\tvar positionAttribute = geometry.attributes.position;\n\t\t\t\t\tvar lineDistances = [ 0 ];\n\n\t\t\t\t\tfor ( var i = 1, l = positionAttribute.count; i < l; i ++ ) {\n\n\t\t\t\t\t\tstart.fromBufferAttribute( positionAttribute, i - 1 );\n\t\t\t\t\t\tend.fromBufferAttribute( positionAttribute, i );\n\n\t\t\t\t\t\tlineDistances[ i ] = lineDistances[ i - 1 ];\n\t\t\t\t\t\tlineDistances[ i ] += start.distanceTo( end );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tgeometry.addAttribute( 'lineDistance', new Float32BufferAttribute( lineDistances, 1 ) );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tconsole.warn( 'THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.' );\n\n\t\t\t\t}\n\n\t\t\t} else if ( geometry.isGeometry ) {\n\n\t\t\t\tvar vertices = geometry.vertices;\n\t\t\t\tvar lineDistances = geometry.lineDistances;\n\n\t\t\t\tlineDistances[ 0 ] = 0;\n\n\t\t\t\tfor ( var i = 1, l = vertices.length; i < l; i ++ ) {\n\n\t\t\t\t\tlineDistances[ i ] = lineDistances[ i - 1 ];\n\t\t\t\t\tlineDistances[ i ] += vertices[ i - 1 ].distanceTo( vertices[ i ] );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\treturn this;\n\n\t\t};\n\n\t}() ),\n\n\traycast: ( function () {\n\n\t\tvar inverseMatrix = new Matrix4();\n\t\tvar ray = new Ray();\n\t\tvar sphere = new Sphere();\n\n\t\treturn function raycast( raycaster, intersects ) {\n\n\t\t\tvar precision = raycaster.linePrecision;\n\n\t\t\tvar geometry = this.geometry;\n\t\t\tvar matrixWorld = this.matrixWorld;\n\n\t\t\t// Checking boundingSphere distance to ray\n\n\t\t\tif ( geometry.boundingSphere === null ) geometry.computeBoundingSphere();\n\n\t\t\tsphere.copy( geometry.boundingSphere );\n\t\t\tsphere.applyMatrix4( matrixWorld );\n\t\t\tsphere.radius += precision;\n\n\t\t\tif ( raycaster.ray.intersectsSphere( sphere ) === false ) return;\n\n\t\t\t//\n\n\t\t\tinverseMatrix.getInverse( matrixWorld );\n\t\t\tray.copy( raycaster.ray ).applyMatrix4( inverseMatrix );\n\n\t\t\tvar localPrecision = precision / ( ( this.scale.x + this.scale.y + this.scale.z ) / 3 );\n\t\t\tvar localPrecisionSq = localPrecision * localPrecision;\n\n\t\t\tvar vStart = new Vector3();\n\t\t\tvar vEnd = new Vector3();\n\t\t\tvar interSegment = new Vector3();\n\t\t\tvar interRay = new Vector3();\n\t\t\tvar step = ( this && this.isLineSegments ) ? 2 : 1;\n\n\t\t\tif ( geometry.isBufferGeometry ) {\n\n\t\t\t\tvar index = geometry.index;\n\t\t\t\tvar attributes = geometry.attributes;\n\t\t\t\tvar positions = attributes.position.array;\n\n\t\t\t\tif ( index !== null ) {\n\n\t\t\t\t\tvar indices = index.array;\n\n\t\t\t\t\tfor ( var i = 0, l = indices.length - 1; i < l; i += step ) {\n\n\t\t\t\t\t\tvar a = indices[ i ];\n\t\t\t\t\t\tvar b = indices[ i + 1 ];\n\n\t\t\t\t\t\tvStart.fromArray( positions, a * 3 );\n\t\t\t\t\t\tvEnd.fromArray( positions, b * 3 );\n\n\t\t\t\t\t\tvar distSq = ray.distanceSqToSegment( vStart, vEnd, interRay, interSegment );\n\n\t\t\t\t\t\tif ( distSq > localPrecisionSq ) continue;\n\n\t\t\t\t\t\tinterRay.applyMatrix4( this.matrixWorld ); //Move back to world space for distance calculation\n\n\t\t\t\t\t\tvar distance = raycaster.ray.origin.distanceTo( interRay );\n\n\t\t\t\t\t\tif ( distance < raycaster.near || distance > raycaster.far ) continue;\n\n\t\t\t\t\t\tintersects.push( {\n\n\t\t\t\t\t\t\tdistance: distance,\n\t\t\t\t\t\t\t// What do we want? intersection point on the ray or on the segment??\n\t\t\t\t\t\t\t// point: raycaster.ray.at( distance ),\n\t\t\t\t\t\t\tpoint: interSegment.clone().applyMatrix4( this.matrixWorld ),\n\t\t\t\t\t\t\tindex: i,\n\t\t\t\t\t\t\tface: null,\n\t\t\t\t\t\t\tfaceIndex: null,\n\t\t\t\t\t\t\tobject: this\n\n\t\t\t\t\t\t} );\n\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\n\t\t\t\t\tfor ( var i = 0, l = positions.length / 3 - 1; i < l; i += step ) {\n\n\t\t\t\t\t\tvStart.fromArray( positions, 3 * i );\n\t\t\t\t\t\tvEnd.fromArray( positions, 3 * i + 3 );\n\n\t\t\t\t\t\tvar distSq = ray.distanceSqToSegment( vStart, vEnd, interRay, interSegment );\n\n\t\t\t\t\t\tif ( distSq > localPrecisionSq ) continue;\n\n\t\t\t\t\t\tinterRay.applyMatrix4( this.matrixWorld ); //Move back to world space for distance calculation\n\n\t\t\t\t\t\tvar distance = raycaster.ray.origin.distanceTo( interRay );\n\n\t\t\t\t\t\tif ( distance < raycaster.near || distance > raycaster.far ) continue;\n\n\t\t\t\t\t\tintersects.push( {\n\n\t\t\t\t\t\t\tdistance: distance,\n\t\t\t\t\t\t\t// What do we want? intersection point on the ray or on the segment??\n\t\t\t\t\t\t\t// point: raycaster.ray.at( distance ),\n\t\t\t\t\t\t\tpoint: interSegment.clone().applyMatrix4( this.matrixWorld ),\n\t\t\t\t\t\t\tindex: i,\n\t\t\t\t\t\t\tface: null,\n\t\t\t\t\t\t\tfaceIndex: null,\n\t\t\t\t\t\t\tobject: this\n\n\t\t\t\t\t\t} );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t} else if ( geometry.isGeometry ) {\n\n\t\t\t\tvar vertices = geometry.vertices;\n\t\t\t\tvar nbVertices = vertices.length;\n\n\t\t\t\tfor ( var i = 0; i < nbVertices - 1; i += step ) {\n\n\t\t\t\t\tvar distSq = ray.distanceSqToSegment( vertices[ i ], vertices[ i + 1 ], interRay, interSegment );\n\n\t\t\t\t\tif ( distSq > localPrecisionSq ) continue;\n\n\t\t\t\t\tinterRay.applyMatrix4( this.matrixWorld ); //Move back to world space for distance calculation\n\n\t\t\t\t\tvar distance = raycaster.ray.origin.distanceTo( interRay );\n\n\t\t\t\t\tif ( distance < raycaster.near || distance > raycaster.far ) continue;\n\n\t\t\t\t\tintersects.push( {\n\n\t\t\t\t\t\tdistance: distance,\n\t\t\t\t\t\t// What do we want? intersection point on the ray or on the segment??\n\t\t\t\t\t\t// point: raycaster.ray.at( distance ),\n\t\t\t\t\t\tpoint: interSegment.clone().applyMatrix4( this.matrixWorld ),\n\t\t\t\t\t\tindex: i,\n\t\t\t\t\t\tface: null,\n\t\t\t\t\t\tfaceIndex: null,\n\t\t\t\t\t\tobject: this\n\n\t\t\t\t\t} );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t};\n\n\t}() ),\n\n\tclone: function () {\n\n\t\treturn new this.constructor( this.geometry, this.material ).copy( this );\n\n\t}\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction LineSegments( geometry, material ) {\n\n\tLine.call( this, geometry, material );\n\n\tthis.type = 'LineSegments';\n\n}\n\nLineSegments.prototype = Object.assign( Object.create( Line.prototype ), {\n\n\tconstructor: LineSegments,\n\n\tisLineSegments: true,\n\n\tcomputeLineDistances: ( function () {\n\n\t\tvar start = new Vector3();\n\t\tvar end = new Vector3();\n\n\t\treturn function computeLineDistances() {\n\n\t\t\tvar geometry = this.geometry;\n\n\t\t\tif ( geometry.isBufferGeometry ) {\n\n\t\t\t\t// we assume non-indexed geometry\n\n\t\t\t\tif ( geometry.index === null ) {\n\n\t\t\t\t\tvar positionAttribute = geometry.attributes.position;\n\t\t\t\t\tvar lineDistances = [];\n\n\t\t\t\t\tfor ( var i = 0, l = positionAttribute.count; i < l; i += 2 ) {\n\n\t\t\t\t\t\tstart.fromBufferAttribute( positionAttribute, i );\n\t\t\t\t\t\tend.fromBufferAttribute( positionAttribute, i + 1 );\n\n\t\t\t\t\t\tlineDistances[ i ] = ( i === 0 ) ? 0 : lineDistances[ i - 1 ];\n\t\t\t\t\t\tlineDistances[ i + 1 ] = lineDistances[ i ] + start.distanceTo( end );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tgeometry.addAttribute( 'lineDistance', new Float32BufferAttribute( lineDistances, 1 ) );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tconsole.warn( 'THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.' );\n\n\t\t\t\t}\n\n\t\t\t} else if ( geometry.isGeometry ) {\n\n\t\t\t\tvar vertices = geometry.vertices;\n\t\t\t\tvar lineDistances = geometry.lineDistances;\n\n\t\t\t\tfor ( var i = 0, l = vertices.length; i < l; i += 2 ) {\n\n\t\t\t\t\tstart.copy( vertices[ i ] );\n\t\t\t\t\tend.copy( vertices[ i + 1 ] );\n\n\t\t\t\t\tlineDistances[ i ] = ( i === 0 ) ? 0 : lineDistances[ i - 1 ];\n\t\t\t\t\tlineDistances[ i + 1 ] = lineDistances[ i ] + start.distanceTo( end );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\treturn this;\n\n\t\t};\n\n\t}() )\n\n} );\n\n/**\n * @author mgreter / http://github.com/mgreter\n */\n\nfunction LineLoop( geometry, material ) {\n\n\tLine.call( this, geometry, material );\n\n\tthis.type = 'LineLoop';\n\n}\n\nLineLoop.prototype = Object.assign( Object.create( Line.prototype ), {\n\n\tconstructor: LineLoop,\n\n\tisLineLoop: true,\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author alteredq / http://alteredqualia.com/\n *\n * parameters = {\n *  color: <hex>,\n *  opacity: <float>,\n *  map: new THREE.Texture( <Image> ),\n *\n *  size: <float>,\n *  sizeAttenuation: <bool>\n *\n *  morphTargets: <bool>\n * }\n */\n\nfunction PointsMaterial( parameters ) {\n\n\tMaterial.call( this );\n\n\tthis.type = 'PointsMaterial';\n\n\tthis.color = new Color( 0xffffff );\n\n\tthis.map = null;\n\n\tthis.size = 1;\n\tthis.sizeAttenuation = true;\n\n\tthis.morphTargets = false;\n\n\tthis.lights = false;\n\n\tthis.setValues( parameters );\n\n}\n\nPointsMaterial.prototype = Object.create( Material.prototype );\nPointsMaterial.prototype.constructor = PointsMaterial;\n\nPointsMaterial.prototype.isPointsMaterial = true;\n\nPointsMaterial.prototype.copy = function ( source ) {\n\n\tMaterial.prototype.copy.call( this, source );\n\n\tthis.color.copy( source.color );\n\n\tthis.map = source.map;\n\n\tthis.size = source.size;\n\tthis.sizeAttenuation = source.sizeAttenuation;\n\n\tthis.morphTargets = source.morphTargets;\n\n\treturn this;\n\n};\n\n/**\n * @author alteredq / http://alteredqualia.com/\n */\n\nfunction Points( geometry, material ) {\n\n\tObject3D.call( this );\n\n\tthis.type = 'Points';\n\n\tthis.geometry = geometry !== undefined ? geometry : new BufferGeometry();\n\tthis.material = material !== undefined ? material : new PointsMaterial( { color: Math.random() * 0xffffff } );\n\n}\n\nPoints.prototype = Object.assign( Object.create( Object3D.prototype ), {\n\n\tconstructor: Points,\n\n\tisPoints: true,\n\n\traycast: ( function () {\n\n\t\tvar inverseMatrix = new Matrix4();\n\t\tvar ray = new Ray();\n\t\tvar sphere = new Sphere();\n\n\t\treturn function raycast( raycaster, intersects ) {\n\n\t\t\tvar object = this;\n\t\t\tvar geometry = this.geometry;\n\t\t\tvar matrixWorld = this.matrixWorld;\n\t\t\tvar threshold = raycaster.params.Points.threshold;\n\n\t\t\t// Checking boundingSphere distance to ray\n\n\t\t\tif ( geometry.boundingSphere === null ) geometry.computeBoundingSphere();\n\n\t\t\tsphere.copy( geometry.boundingSphere );\n\t\t\tsphere.applyMatrix4( matrixWorld );\n\t\t\tsphere.radius += threshold;\n\n\t\t\tif ( raycaster.ray.intersectsSphere( sphere ) === false ) return;\n\n\t\t\t//\n\n\t\t\tinverseMatrix.getInverse( matrixWorld );\n\t\t\tray.copy( raycaster.ray ).applyMatrix4( inverseMatrix );\n\n\t\t\tvar localThreshold = threshold / ( ( this.scale.x + this.scale.y + this.scale.z ) / 3 );\n\t\t\tvar localThresholdSq = localThreshold * localThreshold;\n\t\t\tvar position = new Vector3();\n\t\t\tvar intersectPoint = new Vector3();\n\n\t\t\tfunction testPoint( point, index ) {\n\n\t\t\t\tvar rayPointDistanceSq = ray.distanceSqToPoint( point );\n\n\t\t\t\tif ( rayPointDistanceSq < localThresholdSq ) {\n\n\t\t\t\t\tray.closestPointToPoint( point, intersectPoint );\n\t\t\t\t\tintersectPoint.applyMatrix4( matrixWorld );\n\n\t\t\t\t\tvar distance = raycaster.ray.origin.distanceTo( intersectPoint );\n\n\t\t\t\t\tif ( distance < raycaster.near || distance > raycaster.far ) return;\n\n\t\t\t\t\tintersects.push( {\n\n\t\t\t\t\t\tdistance: distance,\n\t\t\t\t\t\tdistanceToRay: Math.sqrt( rayPointDistanceSq ),\n\t\t\t\t\t\tpoint: intersectPoint.clone(),\n\t\t\t\t\t\tindex: index,\n\t\t\t\t\t\tface: null,\n\t\t\t\t\t\tobject: object\n\n\t\t\t\t\t} );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tif ( geometry.isBufferGeometry ) {\n\n\t\t\t\tvar index = geometry.index;\n\t\t\t\tvar attributes = geometry.attributes;\n\t\t\t\tvar positions = attributes.position.array;\n\n\t\t\t\tif ( index !== null ) {\n\n\t\t\t\t\tvar indices = index.array;\n\n\t\t\t\t\tfor ( var i = 0, il = indices.length; i < il; i ++ ) {\n\n\t\t\t\t\t\tvar a = indices[ i ];\n\n\t\t\t\t\t\tposition.fromArray( positions, a * 3 );\n\n\t\t\t\t\t\ttestPoint( position, a );\n\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\n\t\t\t\t\tfor ( var i = 0, l = positions.length / 3; i < l; i ++ ) {\n\n\t\t\t\t\t\tposition.fromArray( positions, i * 3 );\n\n\t\t\t\t\t\ttestPoint( position, i );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t} else {\n\n\t\t\t\tvar vertices = geometry.vertices;\n\n\t\t\t\tfor ( var i = 0, l = vertices.length; i < l; i ++ ) {\n\n\t\t\t\t\ttestPoint( vertices[ i ], i );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t};\n\n\t}() ),\n\n\tclone: function () {\n\n\t\treturn new this.constructor( this.geometry, this.material ).copy( this );\n\n\t}\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction VideoTexture( video, mapping, wrapS, wrapT, magFilter, minFilter, format, type, anisotropy ) {\n\n\tTexture.call( this, video, mapping, wrapS, wrapT, magFilter, minFilter, format, type, anisotropy );\n\n\tthis.format = format !== undefined ? format : RGBFormat;\n\n\tthis.minFilter = minFilter !== undefined ? minFilter : LinearFilter;\n\tthis.magFilter = magFilter !== undefined ? magFilter : LinearFilter;\n\n\tthis.generateMipmaps = false;\n\n}\n\nVideoTexture.prototype = Object.assign( Object.create( Texture.prototype ), {\n\n\tconstructor: VideoTexture,\n\n\tisVideoTexture: true,\n\n\tupdate: function () {\n\n\t\tvar video = this.image;\n\n\t\tif ( video.readyState >= video.HAVE_CURRENT_DATA ) {\n\n\t\t\tthis.needsUpdate = true;\n\n\t\t}\n\n\t}\n\n} );\n\n/**\n * @author alteredq / http://alteredqualia.com/\n */\n\nfunction CompressedTexture( mipmaps, width, height, format, type, mapping, wrapS, wrapT, magFilter, minFilter, anisotropy, encoding ) {\n\n\tTexture.call( this, null, mapping, wrapS, wrapT, magFilter, minFilter, format, type, anisotropy, encoding );\n\n\tthis.image = { width: width, height: height };\n\tthis.mipmaps = mipmaps;\n\n\t// no flipping for cube textures\n\t// (also flipping doesn't work for compressed textures )\n\n\tthis.flipY = false;\n\n\t// can't generate mipmaps for compressed textures\n\t// mips must be embedded in DDS files\n\n\tthis.generateMipmaps = false;\n\n}\n\nCompressedTexture.prototype = Object.create( Texture.prototype );\nCompressedTexture.prototype.constructor = CompressedTexture;\n\nCompressedTexture.prototype.isCompressedTexture = true;\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction CanvasTexture( canvas, mapping, wrapS, wrapT, magFilter, minFilter, format, type, anisotropy ) {\n\n\tTexture.call( this, canvas, mapping, wrapS, wrapT, magFilter, minFilter, format, type, anisotropy );\n\n\tthis.needsUpdate = true;\n\n}\n\nCanvasTexture.prototype = Object.create( Texture.prototype );\nCanvasTexture.prototype.constructor = CanvasTexture;\nCanvasTexture.prototype.isCanvasTexture = true;\n\n/**\n * @author Matt DesLauriers / @mattdesl\n * @author atix / arthursilber.de\n */\n\nfunction DepthTexture( width, height, type, mapping, wrapS, wrapT, magFilter, minFilter, anisotropy, format ) {\n\n\tformat = format !== undefined ? format : DepthFormat;\n\n\tif ( format !== DepthFormat && format !== DepthStencilFormat ) {\n\n\t\tthrow new Error( 'DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat' );\n\n\t}\n\n\tif ( type === undefined && format === DepthFormat ) type = UnsignedShortType;\n\tif ( type === undefined && format === DepthStencilFormat ) type = UnsignedInt248Type;\n\n\tTexture.call( this, null, mapping, wrapS, wrapT, magFilter, minFilter, format, type, anisotropy );\n\n\tthis.image = { width: width, height: height };\n\n\tthis.magFilter = magFilter !== undefined ? magFilter : NearestFilter;\n\tthis.minFilter = minFilter !== undefined ? minFilter : NearestFilter;\n\n\tthis.flipY = false;\n\tthis.generateMipmaps\t= false;\n\n}\n\nDepthTexture.prototype = Object.create( Texture.prototype );\nDepthTexture.prototype.constructor = DepthTexture;\nDepthTexture.prototype.isDepthTexture = true;\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author Mugen87 / https://github.com/Mugen87\n */\n\nfunction WireframeGeometry( geometry ) {\n\n\tBufferGeometry.call( this );\n\n\tthis.type = 'WireframeGeometry';\n\n\t// buffer\n\n\tvar vertices = [];\n\n\t// helper variables\n\n\tvar i, j, l, o, ol;\n\tvar edge = [ 0, 0 ], edges = {}, e, edge1, edge2;\n\tvar key, keys = [ 'a', 'b', 'c' ];\n\tvar vertex;\n\n\t// different logic for Geometry and BufferGeometry\n\n\tif ( geometry && geometry.isGeometry ) {\n\n\t\t// create a data structure that contains all edges without duplicates\n\n\t\tvar faces = geometry.faces;\n\n\t\tfor ( i = 0, l = faces.length; i < l; i ++ ) {\n\n\t\t\tvar face = faces[ i ];\n\n\t\t\tfor ( j = 0; j < 3; j ++ ) {\n\n\t\t\t\tedge1 = face[ keys[ j ] ];\n\t\t\t\tedge2 = face[ keys[ ( j + 1 ) % 3 ] ];\n\t\t\t\tedge[ 0 ] = Math.min( edge1, edge2 ); // sorting prevents duplicates\n\t\t\t\tedge[ 1 ] = Math.max( edge1, edge2 );\n\n\t\t\t\tkey = edge[ 0 ] + ',' + edge[ 1 ];\n\n\t\t\t\tif ( edges[ key ] === undefined ) {\n\n\t\t\t\t\tedges[ key ] = { index1: edge[ 0 ], index2: edge[ 1 ] };\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\t// generate vertices\n\n\t\tfor ( key in edges ) {\n\n\t\t\te = edges[ key ];\n\n\t\t\tvertex = geometry.vertices[ e.index1 ];\n\t\t\tvertices.push( vertex.x, vertex.y, vertex.z );\n\n\t\t\tvertex = geometry.vertices[ e.index2 ];\n\t\t\tvertices.push( vertex.x, vertex.y, vertex.z );\n\n\t\t}\n\n\t} else if ( geometry && geometry.isBufferGeometry ) {\n\n\t\tvar position, indices, groups;\n\t\tvar group, start, count;\n\t\tvar index1, index2;\n\n\t\tvertex = new Vector3();\n\n\t\tif ( geometry.index !== null ) {\n\n\t\t\t// indexed BufferGeometry\n\n\t\t\tposition = geometry.attributes.position;\n\t\t\tindices = geometry.index;\n\t\t\tgroups = geometry.groups;\n\n\t\t\tif ( groups.length === 0 ) {\n\n\t\t\t\tgroups = [ { start: 0, count: indices.count, materialIndex: 0 } ];\n\n\t\t\t}\n\n\t\t\t// create a data structure that contains all eges without duplicates\n\n\t\t\tfor ( o = 0, ol = groups.length; o < ol; ++ o ) {\n\n\t\t\t\tgroup = groups[ o ];\n\n\t\t\t\tstart = group.start;\n\t\t\t\tcount = group.count;\n\n\t\t\t\tfor ( i = start, l = ( start + count ); i < l; i += 3 ) {\n\n\t\t\t\t\tfor ( j = 0; j < 3; j ++ ) {\n\n\t\t\t\t\t\tedge1 = indices.getX( i + j );\n\t\t\t\t\t\tedge2 = indices.getX( i + ( j + 1 ) % 3 );\n\t\t\t\t\t\tedge[ 0 ] = Math.min( edge1, edge2 ); // sorting prevents duplicates\n\t\t\t\t\t\tedge[ 1 ] = Math.max( edge1, edge2 );\n\n\t\t\t\t\t\tkey = edge[ 0 ] + ',' + edge[ 1 ];\n\n\t\t\t\t\t\tif ( edges[ key ] === undefined ) {\n\n\t\t\t\t\t\t\tedges[ key ] = { index1: edge[ 0 ], index2: edge[ 1 ] };\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\t// generate vertices\n\n\t\t\tfor ( key in edges ) {\n\n\t\t\t\te = edges[ key ];\n\n\t\t\t\tvertex.fromBufferAttribute( position, e.index1 );\n\t\t\t\tvertices.push( vertex.x, vertex.y, vertex.z );\n\n\t\t\t\tvertex.fromBufferAttribute( position, e.index2 );\n\t\t\t\tvertices.push( vertex.x, vertex.y, vertex.z );\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\t// non-indexed BufferGeometry\n\n\t\t\tposition = geometry.attributes.position;\n\n\t\t\tfor ( i = 0, l = ( position.count / 3 ); i < l; i ++ ) {\n\n\t\t\t\tfor ( j = 0; j < 3; j ++ ) {\n\n\t\t\t\t\t// three edges per triangle, an edge is represented as (index1, index2)\n\t\t\t\t\t// e.g. the first triangle has the following edges: (0,1),(1,2),(2,0)\n\n\t\t\t\t\tindex1 = 3 * i + j;\n\t\t\t\t\tvertex.fromBufferAttribute( position, index1 );\n\t\t\t\t\tvertices.push( vertex.x, vertex.y, vertex.z );\n\n\t\t\t\t\tindex2 = 3 * i + ( ( j + 1 ) % 3 );\n\t\t\t\t\tvertex.fromBufferAttribute( position, index2 );\n\t\t\t\t\tvertices.push( vertex.x, vertex.y, vertex.z );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\t// build geometry\n\n\tthis.addAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\n\n}\n\nWireframeGeometry.prototype = Object.create( BufferGeometry.prototype );\nWireframeGeometry.prototype.constructor = WireframeGeometry;\n\n/**\n * @author zz85 / https://github.com/zz85\n * @author Mugen87 / https://github.com/Mugen87\n *\n * Parametric Surfaces Geometry\n * based on the brilliant article by @prideout http://prideout.net/blog/?p=44\n */\n\n// ParametricGeometry\n\nfunction ParametricGeometry( func, slices, stacks ) {\n\n\tGeometry.call( this );\n\n\tthis.type = 'ParametricGeometry';\n\n\tthis.parameters = {\n\t\tfunc: func,\n\t\tslices: slices,\n\t\tstacks: stacks\n\t};\n\n\tthis.fromBufferGeometry( new ParametricBufferGeometry( func, slices, stacks ) );\n\tthis.mergeVertices();\n\n}\n\nParametricGeometry.prototype = Object.create( Geometry.prototype );\nParametricGeometry.prototype.constructor = ParametricGeometry;\n\n// ParametricBufferGeometry\n\nfunction ParametricBufferGeometry( func, slices, stacks ) {\n\n\tBufferGeometry.call( this );\n\n\tthis.type = 'ParametricBufferGeometry';\n\n\tthis.parameters = {\n\t\tfunc: func,\n\t\tslices: slices,\n\t\tstacks: stacks\n\t};\n\n\t// buffers\n\n\tvar indices = [];\n\tvar vertices = [];\n\tvar normals = [];\n\tvar uvs = [];\n\n\tvar EPS = 0.00001;\n\n\tvar normal = new Vector3();\n\n\tvar p0 = new Vector3(), p1 = new Vector3();\n\tvar pu = new Vector3(), pv = new Vector3();\n\n\tvar i, j;\n\n\tif ( func.length < 3 ) {\n\n\t\tconsole.error( 'THREE.ParametricGeometry: Function must now modify a Vector3 as third parameter.' );\n\n\t}\n\n\t// generate vertices, normals and uvs\n\n\tvar sliceCount = slices + 1;\n\n\tfor ( i = 0; i <= stacks; i ++ ) {\n\n\t\tvar v = i / stacks;\n\n\t\tfor ( j = 0; j <= slices; j ++ ) {\n\n\t\t\tvar u = j / slices;\n\n\t\t\t// vertex\n\n\t\t\tfunc( u, v, p0 );\n\t\t\tvertices.push( p0.x, p0.y, p0.z );\n\n\t\t\t// normal\n\n\t\t\t// approximate tangent vectors via finite differences\n\n\t\t\tif ( u - EPS >= 0 ) {\n\n\t\t\t\tfunc( u - EPS, v, p1 );\n\t\t\t\tpu.subVectors( p0, p1 );\n\n\t\t\t} else {\n\n\t\t\t\tfunc( u + EPS, v, p1 );\n\t\t\t\tpu.subVectors( p1, p0 );\n\n\t\t\t}\n\n\t\t\tif ( v - EPS >= 0 ) {\n\n\t\t\t\tfunc( u, v - EPS, p1 );\n\t\t\t\tpv.subVectors( p0, p1 );\n\n\t\t\t} else {\n\n\t\t\t\tfunc( u, v + EPS, p1 );\n\t\t\t\tpv.subVectors( p1, p0 );\n\n\t\t\t}\n\n\t\t\t// cross product of tangent vectors returns surface normal\n\n\t\t\tnormal.crossVectors( pu, pv ).normalize();\n\t\t\tnormals.push( normal.x, normal.y, normal.z );\n\n\t\t\t// uv\n\n\t\t\tuvs.push( u, v );\n\n\t\t}\n\n\t}\n\n\t// generate indices\n\n\tfor ( i = 0; i < stacks; i ++ ) {\n\n\t\tfor ( j = 0; j < slices; j ++ ) {\n\n\t\t\tvar a = i * sliceCount + j;\n\t\t\tvar b = i * sliceCount + j + 1;\n\t\t\tvar c = ( i + 1 ) * sliceCount + j + 1;\n\t\t\tvar d = ( i + 1 ) * sliceCount + j;\n\n\t\t\t// faces one and two\n\n\t\t\tindices.push( a, b, d );\n\t\t\tindices.push( b, c, d );\n\n\t\t}\n\n\t}\n\n\t// build geometry\n\n\tthis.setIndex( indices );\n\tthis.addAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\n\tthis.addAttribute( 'normal', new Float32BufferAttribute( normals, 3 ) );\n\tthis.addAttribute( 'uv', new Float32BufferAttribute( uvs, 2 ) );\n\n}\n\nParametricBufferGeometry.prototype = Object.create( BufferGeometry.prototype );\nParametricBufferGeometry.prototype.constructor = ParametricBufferGeometry;\n\n/**\n * @author clockworkgeek / https://github.com/clockworkgeek\n * @author timothypratley / https://github.com/timothypratley\n * @author WestLangley / http://github.com/WestLangley\n * @author Mugen87 / https://github.com/Mugen87\n */\n\n// PolyhedronGeometry\n\nfunction PolyhedronGeometry( vertices, indices, radius, detail ) {\n\n\tGeometry.call( this );\n\n\tthis.type = 'PolyhedronGeometry';\n\n\tthis.parameters = {\n\t\tvertices: vertices,\n\t\tindices: indices,\n\t\tradius: radius,\n\t\tdetail: detail\n\t};\n\n\tthis.fromBufferGeometry( new PolyhedronBufferGeometry( vertices, indices, radius, detail ) );\n\tthis.mergeVertices();\n\n}\n\nPolyhedronGeometry.prototype = Object.create( Geometry.prototype );\nPolyhedronGeometry.prototype.constructor = PolyhedronGeometry;\n\n// PolyhedronBufferGeometry\n\nfunction PolyhedronBufferGeometry( vertices, indices, radius, detail ) {\n\n\tBufferGeometry.call( this );\n\n\tthis.type = 'PolyhedronBufferGeometry';\n\n\tthis.parameters = {\n\t\tvertices: vertices,\n\t\tindices: indices,\n\t\tradius: radius,\n\t\tdetail: detail\n\t};\n\n\tradius = radius || 1;\n\tdetail = detail || 0;\n\n\t// default buffer data\n\n\tvar vertexBuffer = [];\n\tvar uvBuffer = [];\n\n\t// the subdivision creates the vertex buffer data\n\n\tsubdivide( detail );\n\n\t// all vertices should lie on a conceptual sphere with a given radius\n\n\tappplyRadius( radius );\n\n\t// finally, create the uv data\n\n\tgenerateUVs();\n\n\t// build non-indexed geometry\n\n\tthis.addAttribute( 'position', new Float32BufferAttribute( vertexBuffer, 3 ) );\n\tthis.addAttribute( 'normal', new Float32BufferAttribute( vertexBuffer.slice(), 3 ) );\n\tthis.addAttribute( 'uv', new Float32BufferAttribute( uvBuffer, 2 ) );\n\n\tif ( detail === 0 ) {\n\n\t\tthis.computeVertexNormals(); // flat normals\n\n\t} else {\n\n\t\tthis.normalizeNormals(); // smooth normals\n\n\t}\n\n\t// helper functions\n\n\tfunction subdivide( detail ) {\n\n\t\tvar a = new Vector3();\n\t\tvar b = new Vector3();\n\t\tvar c = new Vector3();\n\n\t\t// iterate over all faces and apply a subdivison with the given detail value\n\n\t\tfor ( var i = 0; i < indices.length; i += 3 ) {\n\n\t\t\t// get the vertices of the face\n\n\t\t\tgetVertexByIndex( indices[ i + 0 ], a );\n\t\t\tgetVertexByIndex( indices[ i + 1 ], b );\n\t\t\tgetVertexByIndex( indices[ i + 2 ], c );\n\n\t\t\t// perform subdivision\n\n\t\t\tsubdivideFace( a, b, c, detail );\n\n\t\t}\n\n\t}\n\n\tfunction subdivideFace( a, b, c, detail ) {\n\n\t\tvar cols = Math.pow( 2, detail );\n\n\t\t// we use this multidimensional array as a data structure for creating the subdivision\n\n\t\tvar v = [];\n\n\t\tvar i, j;\n\n\t\t// construct all of the vertices for this subdivision\n\n\t\tfor ( i = 0; i <= cols; i ++ ) {\n\n\t\t\tv[ i ] = [];\n\n\t\t\tvar aj = a.clone().lerp( c, i / cols );\n\t\t\tvar bj = b.clone().lerp( c, i / cols );\n\n\t\t\tvar rows = cols - i;\n\n\t\t\tfor ( j = 0; j <= rows; j ++ ) {\n\n\t\t\t\tif ( j === 0 && i === cols ) {\n\n\t\t\t\t\tv[ i ][ j ] = aj;\n\n\t\t\t\t} else {\n\n\t\t\t\t\tv[ i ][ j ] = aj.clone().lerp( bj, j / rows );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\t// construct all of the faces\n\n\t\tfor ( i = 0; i < cols; i ++ ) {\n\n\t\t\tfor ( j = 0; j < 2 * ( cols - i ) - 1; j ++ ) {\n\n\t\t\t\tvar k = Math.floor( j / 2 );\n\n\t\t\t\tif ( j % 2 === 0 ) {\n\n\t\t\t\t\tpushVertex( v[ i ][ k + 1 ] );\n\t\t\t\t\tpushVertex( v[ i + 1 ][ k ] );\n\t\t\t\t\tpushVertex( v[ i ][ k ] );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tpushVertex( v[ i ][ k + 1 ] );\n\t\t\t\t\tpushVertex( v[ i + 1 ][ k + 1 ] );\n\t\t\t\t\tpushVertex( v[ i + 1 ][ k ] );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\tfunction appplyRadius( radius ) {\n\n\t\tvar vertex = new Vector3();\n\n\t\t// iterate over the entire buffer and apply the radius to each vertex\n\n\t\tfor ( var i = 0; i < vertexBuffer.length; i += 3 ) {\n\n\t\t\tvertex.x = vertexBuffer[ i + 0 ];\n\t\t\tvertex.y = vertexBuffer[ i + 1 ];\n\t\t\tvertex.z = vertexBuffer[ i + 2 ];\n\n\t\t\tvertex.normalize().multiplyScalar( radius );\n\n\t\t\tvertexBuffer[ i + 0 ] = vertex.x;\n\t\t\tvertexBuffer[ i + 1 ] = vertex.y;\n\t\t\tvertexBuffer[ i + 2 ] = vertex.z;\n\n\t\t}\n\n\t}\n\n\tfunction generateUVs() {\n\n\t\tvar vertex = new Vector3();\n\n\t\tfor ( var i = 0; i < vertexBuffer.length; i += 3 ) {\n\n\t\t\tvertex.x = vertexBuffer[ i + 0 ];\n\t\t\tvertex.y = vertexBuffer[ i + 1 ];\n\t\t\tvertex.z = vertexBuffer[ i + 2 ];\n\n\t\t\tvar u = azimuth( vertex ) / 2 / Math.PI + 0.5;\n\t\t\tvar v = inclination( vertex ) / Math.PI + 0.5;\n\t\t\tuvBuffer.push( u, 1 - v );\n\n\t\t}\n\n\t\tcorrectUVs();\n\n\t\tcorrectSeam();\n\n\t}\n\n\tfunction correctSeam() {\n\n\t\t// handle case when face straddles the seam, see #3269\n\n\t\tfor ( var i = 0; i < uvBuffer.length; i += 6 ) {\n\n\t\t\t// uv data of a single face\n\n\t\t\tvar x0 = uvBuffer[ i + 0 ];\n\t\t\tvar x1 = uvBuffer[ i + 2 ];\n\t\t\tvar x2 = uvBuffer[ i + 4 ];\n\n\t\t\tvar max = Math.max( x0, x1, x2 );\n\t\t\tvar min = Math.min( x0, x1, x2 );\n\n\t\t\t// 0.9 is somewhat arbitrary\n\n\t\t\tif ( max > 0.9 && min < 0.1 ) {\n\n\t\t\t\tif ( x0 < 0.2 ) uvBuffer[ i + 0 ] += 1;\n\t\t\t\tif ( x1 < 0.2 ) uvBuffer[ i + 2 ] += 1;\n\t\t\t\tif ( x2 < 0.2 ) uvBuffer[ i + 4 ] += 1;\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\tfunction pushVertex( vertex ) {\n\n\t\tvertexBuffer.push( vertex.x, vertex.y, vertex.z );\n\n\t}\n\n\tfunction getVertexByIndex( index, vertex ) {\n\n\t\tvar stride = index * 3;\n\n\t\tvertex.x = vertices[ stride + 0 ];\n\t\tvertex.y = vertices[ stride + 1 ];\n\t\tvertex.z = vertices[ stride + 2 ];\n\n\t}\n\n\tfunction correctUVs() {\n\n\t\tvar a = new Vector3();\n\t\tvar b = new Vector3();\n\t\tvar c = new Vector3();\n\n\t\tvar centroid = new Vector3();\n\n\t\tvar uvA = new Vector2();\n\t\tvar uvB = new Vector2();\n\t\tvar uvC = new Vector2();\n\n\t\tfor ( var i = 0, j = 0; i < vertexBuffer.length; i += 9, j += 6 ) {\n\n\t\t\ta.set( vertexBuffer[ i + 0 ], vertexBuffer[ i + 1 ], vertexBuffer[ i + 2 ] );\n\t\t\tb.set( vertexBuffer[ i + 3 ], vertexBuffer[ i + 4 ], vertexBuffer[ i + 5 ] );\n\t\t\tc.set( vertexBuffer[ i + 6 ], vertexBuffer[ i + 7 ], vertexBuffer[ i + 8 ] );\n\n\t\t\tuvA.set( uvBuffer[ j + 0 ], uvBuffer[ j + 1 ] );\n\t\t\tuvB.set( uvBuffer[ j + 2 ], uvBuffer[ j + 3 ] );\n\t\t\tuvC.set( uvBuffer[ j + 4 ], uvBuffer[ j + 5 ] );\n\n\t\t\tcentroid.copy( a ).add( b ).add( c ).divideScalar( 3 );\n\n\t\t\tvar azi = azimuth( centroid );\n\n\t\t\tcorrectUV( uvA, j + 0, a, azi );\n\t\t\tcorrectUV( uvB, j + 2, b, azi );\n\t\t\tcorrectUV( uvC, j + 4, c, azi );\n\n\t\t}\n\n\t}\n\n\tfunction correctUV( uv, stride, vector, azimuth ) {\n\n\t\tif ( ( azimuth < 0 ) && ( uv.x === 1 ) ) {\n\n\t\t\tuvBuffer[ stride ] = uv.x - 1;\n\n\t\t}\n\n\t\tif ( ( vector.x === 0 ) && ( vector.z === 0 ) ) {\n\n\t\t\tuvBuffer[ stride ] = azimuth / 2 / Math.PI + 0.5;\n\n\t\t}\n\n\t}\n\n\t// Angle around the Y axis, counter-clockwise when looking from above.\n\n\tfunction azimuth( vector ) {\n\n\t\treturn Math.atan2( vector.z, - vector.x );\n\n\t}\n\n\n\t// Angle above the XZ plane.\n\n\tfunction inclination( vector ) {\n\n\t\treturn Math.atan2( - vector.y, Math.sqrt( ( vector.x * vector.x ) + ( vector.z * vector.z ) ) );\n\n\t}\n\n}\n\nPolyhedronBufferGeometry.prototype = Object.create( BufferGeometry.prototype );\nPolyhedronBufferGeometry.prototype.constructor = PolyhedronBufferGeometry;\n\n/**\n * @author timothypratley / https://github.com/timothypratley\n * @author Mugen87 / https://github.com/Mugen87\n */\n\n// TetrahedronGeometry\n\nfunction TetrahedronGeometry( radius, detail ) {\n\n\tGeometry.call( this );\n\n\tthis.type = 'TetrahedronGeometry';\n\n\tthis.parameters = {\n\t\tradius: radius,\n\t\tdetail: detail\n\t};\n\n\tthis.fromBufferGeometry( new TetrahedronBufferGeometry( radius, detail ) );\n\tthis.mergeVertices();\n\n}\n\nTetrahedronGeometry.prototype = Object.create( Geometry.prototype );\nTetrahedronGeometry.prototype.constructor = TetrahedronGeometry;\n\n// TetrahedronBufferGeometry\n\nfunction TetrahedronBufferGeometry( radius, detail ) {\n\n\tvar vertices = [\n\t\t1, 1, 1, \t- 1, - 1, 1, \t- 1, 1, - 1, \t1, - 1, - 1\n\t];\n\n\tvar indices = [\n\t\t2, 1, 0, \t0, 3, 2,\t1, 3, 0,\t2, 3, 1\n\t];\n\n\tPolyhedronBufferGeometry.call( this, vertices, indices, radius, detail );\n\n\tthis.type = 'TetrahedronBufferGeometry';\n\n\tthis.parameters = {\n\t\tradius: radius,\n\t\tdetail: detail\n\t};\n\n}\n\nTetrahedronBufferGeometry.prototype = Object.create( PolyhedronBufferGeometry.prototype );\nTetrahedronBufferGeometry.prototype.constructor = TetrahedronBufferGeometry;\n\n/**\n * @author timothypratley / https://github.com/timothypratley\n * @author Mugen87 / https://github.com/Mugen87\n */\n\n// OctahedronGeometry\n\nfunction OctahedronGeometry( radius, detail ) {\n\n\tGeometry.call( this );\n\n\tthis.type = 'OctahedronGeometry';\n\n\tthis.parameters = {\n\t\tradius: radius,\n\t\tdetail: detail\n\t};\n\n\tthis.fromBufferGeometry( new OctahedronBufferGeometry( radius, detail ) );\n\tthis.mergeVertices();\n\n}\n\nOctahedronGeometry.prototype = Object.create( Geometry.prototype );\nOctahedronGeometry.prototype.constructor = OctahedronGeometry;\n\n// OctahedronBufferGeometry\n\nfunction OctahedronBufferGeometry( radius, detail ) {\n\n\tvar vertices = [\n\t\t1, 0, 0, \t- 1, 0, 0,\t0, 1, 0,\n\t\t0, - 1, 0, \t0, 0, 1,\t0, 0, - 1\n\t];\n\n\tvar indices = [\n\t\t0, 2, 4,\t0, 4, 3,\t0, 3, 5,\n\t\t0, 5, 2,\t1, 2, 5,\t1, 5, 3,\n\t\t1, 3, 4,\t1, 4, 2\n\t];\n\n\tPolyhedronBufferGeometry.call( this, vertices, indices, radius, detail );\n\n\tthis.type = 'OctahedronBufferGeometry';\n\n\tthis.parameters = {\n\t\tradius: radius,\n\t\tdetail: detail\n\t};\n\n}\n\nOctahedronBufferGeometry.prototype = Object.create( PolyhedronBufferGeometry.prototype );\nOctahedronBufferGeometry.prototype.constructor = OctahedronBufferGeometry;\n\n/**\n * @author timothypratley / https://github.com/timothypratley\n * @author Mugen87 / https://github.com/Mugen87\n */\n\n// IcosahedronGeometry\n\nfunction IcosahedronGeometry( radius, detail ) {\n\n\tGeometry.call( this );\n\n\tthis.type = 'IcosahedronGeometry';\n\n\tthis.parameters = {\n\t\tradius: radius,\n\t\tdetail: detail\n\t};\n\n\tthis.fromBufferGeometry( new IcosahedronBufferGeometry( radius, detail ) );\n\tthis.mergeVertices();\n\n}\n\nIcosahedronGeometry.prototype = Object.create( Geometry.prototype );\nIcosahedronGeometry.prototype.constructor = IcosahedronGeometry;\n\n// IcosahedronBufferGeometry\n\nfunction IcosahedronBufferGeometry( radius, detail ) {\n\n\tvar t = ( 1 + Math.sqrt( 5 ) ) / 2;\n\n\tvar vertices = [\n\t\t- 1, t, 0, \t1, t, 0, \t- 1, - t, 0, \t1, - t, 0,\n\t\t 0, - 1, t, \t0, 1, t,\t0, - 1, - t, \t0, 1, - t,\n\t\t t, 0, - 1, \tt, 0, 1, \t- t, 0, - 1, \t- t, 0, 1\n\t];\n\n\tvar indices = [\n\t\t 0, 11, 5, \t0, 5, 1, \t0, 1, 7, \t0, 7, 10, \t0, 10, 11,\n\t\t 1, 5, 9, \t5, 11, 4,\t11, 10, 2,\t10, 7, 6,\t7, 1, 8,\n\t\t 3, 9, 4, \t3, 4, 2,\t3, 2, 6,\t3, 6, 8,\t3, 8, 9,\n\t\t 4, 9, 5, \t2, 4, 11,\t6, 2, 10,\t8, 6, 7,\t9, 8, 1\n\t];\n\n\tPolyhedronBufferGeometry.call( this, vertices, indices, radius, detail );\n\n\tthis.type = 'IcosahedronBufferGeometry';\n\n\tthis.parameters = {\n\t\tradius: radius,\n\t\tdetail: detail\n\t};\n\n}\n\nIcosahedronBufferGeometry.prototype = Object.create( PolyhedronBufferGeometry.prototype );\nIcosahedronBufferGeometry.prototype.constructor = IcosahedronBufferGeometry;\n\n/**\n * @author Abe Pazos / https://hamoid.com\n * @author Mugen87 / https://github.com/Mugen87\n */\n\n// DodecahedronGeometry\n\nfunction DodecahedronGeometry( radius, detail ) {\n\n\tGeometry.call( this );\n\n\tthis.type = 'DodecahedronGeometry';\n\n\tthis.parameters = {\n\t\tradius: radius,\n\t\tdetail: detail\n\t};\n\n\tthis.fromBufferGeometry( new DodecahedronBufferGeometry( radius, detail ) );\n\tthis.mergeVertices();\n\n}\n\nDodecahedronGeometry.prototype = Object.create( Geometry.prototype );\nDodecahedronGeometry.prototype.constructor = DodecahedronGeometry;\n\n// DodecahedronBufferGeometry\n\nfunction DodecahedronBufferGeometry( radius, detail ) {\n\n\tvar t = ( 1 + Math.sqrt( 5 ) ) / 2;\n\tvar r = 1 / t;\n\n\tvar vertices = [\n\n\t\t// (1, 1, 1)\n\t\t- 1, - 1, - 1,\t- 1, - 1, 1,\n\t\t- 1, 1, - 1, - 1, 1, 1,\n\t\t1, - 1, - 1, 1, - 1, 1,\n\t\t1, 1, - 1, 1, 1, 1,\n\n\t\t// (0, 1/, )\n\t\t 0, - r, - t, 0, - r, t,\n\t\t 0, r, - t, 0, r, t,\n\n\t\t// (1/, , 0)\n\t\t- r, - t, 0, - r, t, 0,\n\t\t r, - t, 0, r, t, 0,\n\n\t\t// (, 0, 1/)\n\t\t- t, 0, - r, t, 0, - r,\n\t\t- t, 0, r, t, 0, r\n\t];\n\n\tvar indices = [\n\t\t3, 11, 7, \t3, 7, 15, \t3, 15, 13,\n\t\t7, 19, 17, \t7, 17, 6, \t7, 6, 15,\n\t\t17, 4, 8, \t17, 8, 10, \t17, 10, 6,\n\t\t8, 0, 16, \t8, 16, 2, \t8, 2, 10,\n\t\t0, 12, 1, \t0, 1, 18, \t0, 18, 16,\n\t\t6, 10, 2, \t6, 2, 13, \t6, 13, 15,\n\t\t2, 16, 18, \t2, 18, 3, \t2, 3, 13,\n\t\t18, 1, 9, \t18, 9, 11, \t18, 11, 3,\n\t\t4, 14, 12, \t4, 12, 0, \t4, 0, 8,\n\t\t11, 9, 5, \t11, 5, 19, \t11, 19, 7,\n\t\t19, 5, 14, \t19, 14, 4, \t19, 4, 17,\n\t\t1, 12, 14, \t1, 14, 5, \t1, 5, 9\n\t];\n\n\tPolyhedronBufferGeometry.call( this, vertices, indices, radius, detail );\n\n\tthis.type = 'DodecahedronBufferGeometry';\n\n\tthis.parameters = {\n\t\tradius: radius,\n\t\tdetail: detail\n\t};\n\n}\n\nDodecahedronBufferGeometry.prototype = Object.create( PolyhedronBufferGeometry.prototype );\nDodecahedronBufferGeometry.prototype.constructor = DodecahedronBufferGeometry;\n\n/**\n * @author oosmoxiecode / https://github.com/oosmoxiecode\n * @author WestLangley / https://github.com/WestLangley\n * @author zz85 / https://github.com/zz85\n * @author miningold / https://github.com/miningold\n * @author jonobr1 / https://github.com/jonobr1\n * @author Mugen87 / https://github.com/Mugen87\n *\n */\n\n// TubeGeometry\n\nfunction TubeGeometry( path, tubularSegments, radius, radialSegments, closed, taper ) {\n\n\tGeometry.call( this );\n\n\tthis.type = 'TubeGeometry';\n\n\tthis.parameters = {\n\t\tpath: path,\n\t\ttubularSegments: tubularSegments,\n\t\tradius: radius,\n\t\tradialSegments: radialSegments,\n\t\tclosed: closed\n\t};\n\n\tif ( taper !== undefined ) console.warn( 'THREE.TubeGeometry: taper has been removed.' );\n\n\tvar bufferGeometry = new TubeBufferGeometry( path, tubularSegments, radius, radialSegments, closed );\n\n\t// expose internals\n\n\tthis.tangents = bufferGeometry.tangents;\n\tthis.normals = bufferGeometry.normals;\n\tthis.binormals = bufferGeometry.binormals;\n\n\t// create geometry\n\n\tthis.fromBufferGeometry( bufferGeometry );\n\tthis.mergeVertices();\n\n}\n\nTubeGeometry.prototype = Object.create( Geometry.prototype );\nTubeGeometry.prototype.constructor = TubeGeometry;\n\n// TubeBufferGeometry\n\nfunction TubeBufferGeometry( path, tubularSegments, radius, radialSegments, closed ) {\n\n\tBufferGeometry.call( this );\n\n\tthis.type = 'TubeBufferGeometry';\n\n\tthis.parameters = {\n\t\tpath: path,\n\t\ttubularSegments: tubularSegments,\n\t\tradius: radius,\n\t\tradialSegments: radialSegments,\n\t\tclosed: closed\n\t};\n\n\ttubularSegments = tubularSegments || 64;\n\tradius = radius || 1;\n\tradialSegments = radialSegments || 8;\n\tclosed = closed || false;\n\n\tvar frames = path.computeFrenetFrames( tubularSegments, closed );\n\n\t// expose internals\n\n\tthis.tangents = frames.tangents;\n\tthis.normals = frames.normals;\n\tthis.binormals = frames.binormals;\n\n\t// helper variables\n\n\tvar vertex = new Vector3();\n\tvar normal = new Vector3();\n\tvar uv = new Vector2();\n\tvar P = new Vector3();\n\n\tvar i, j;\n\n\t// buffer\n\n\tvar vertices = [];\n\tvar normals = [];\n\tvar uvs = [];\n\tvar indices = [];\n\n\t// create buffer data\n\n\tgenerateBufferData();\n\n\t// build geometry\n\n\tthis.setIndex( indices );\n\tthis.addAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\n\tthis.addAttribute( 'normal', new Float32BufferAttribute( normals, 3 ) );\n\tthis.addAttribute( 'uv', new Float32BufferAttribute( uvs, 2 ) );\n\n\t// functions\n\n\tfunction generateBufferData() {\n\n\t\tfor ( i = 0; i < tubularSegments; i ++ ) {\n\n\t\t\tgenerateSegment( i );\n\n\t\t}\n\n\t\t// if the geometry is not closed, generate the last row of vertices and normals\n\t\t// at the regular position on the given path\n\t\t//\n\t\t// if the geometry is closed, duplicate the first row of vertices and normals (uvs will differ)\n\n\t\tgenerateSegment( ( closed === false ) ? tubularSegments : 0 );\n\n\t\t// uvs are generated in a separate function.\n\t\t// this makes it easy compute correct values for closed geometries\n\n\t\tgenerateUVs();\n\n\t\t// finally create faces\n\n\t\tgenerateIndices();\n\n\t}\n\n\tfunction generateSegment( i ) {\n\n\t\t// we use getPointAt to sample evenly distributed points from the given path\n\n\t\tP = path.getPointAt( i / tubularSegments, P );\n\n\t\t// retrieve corresponding normal and binormal\n\n\t\tvar N = frames.normals[ i ];\n\t\tvar B = frames.binormals[ i ];\n\n\t\t// generate normals and vertices for the current segment\n\n\t\tfor ( j = 0; j <= radialSegments; j ++ ) {\n\n\t\t\tvar v = j / radialSegments * Math.PI * 2;\n\n\t\t\tvar sin = Math.sin( v );\n\t\t\tvar cos = - Math.cos( v );\n\n\t\t\t// normal\n\n\t\t\tnormal.x = ( cos * N.x + sin * B.x );\n\t\t\tnormal.y = ( cos * N.y + sin * B.y );\n\t\t\tnormal.z = ( cos * N.z + sin * B.z );\n\t\t\tnormal.normalize();\n\n\t\t\tnormals.push( normal.x, normal.y, normal.z );\n\n\t\t\t// vertex\n\n\t\t\tvertex.x = P.x + radius * normal.x;\n\t\t\tvertex.y = P.y + radius * normal.y;\n\t\t\tvertex.z = P.z + radius * normal.z;\n\n\t\t\tvertices.push( vertex.x, vertex.y, vertex.z );\n\n\t\t}\n\n\t}\n\n\tfunction generateIndices() {\n\n\t\tfor ( j = 1; j <= tubularSegments; j ++ ) {\n\n\t\t\tfor ( i = 1; i <= radialSegments; i ++ ) {\n\n\t\t\t\tvar a = ( radialSegments + 1 ) * ( j - 1 ) + ( i - 1 );\n\t\t\t\tvar b = ( radialSegments + 1 ) * j + ( i - 1 );\n\t\t\t\tvar c = ( radialSegments + 1 ) * j + i;\n\t\t\t\tvar d = ( radialSegments + 1 ) * ( j - 1 ) + i;\n\n\t\t\t\t// faces\n\n\t\t\t\tindices.push( a, b, d );\n\t\t\t\tindices.push( b, c, d );\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\tfunction generateUVs() {\n\n\t\tfor ( i = 0; i <= tubularSegments; i ++ ) {\n\n\t\t\tfor ( j = 0; j <= radialSegments; j ++ ) {\n\n\t\t\t\tuv.x = i / tubularSegments;\n\t\t\t\tuv.y = j / radialSegments;\n\n\t\t\t\tuvs.push( uv.x, uv.y );\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n}\n\nTubeBufferGeometry.prototype = Object.create( BufferGeometry.prototype );\nTubeBufferGeometry.prototype.constructor = TubeBufferGeometry;\n\nTubeBufferGeometry.prototype.toJSON = function () {\n\n\tvar data = BufferGeometry.prototype.toJSON.call( this );\n\n\tdata.path = this.parameters.path.toJSON();\n\n\treturn data;\n\n};\n\n/**\n * @author oosmoxiecode\n * @author Mugen87 / https://github.com/Mugen87\n *\n * based on http://www.blackpawn.com/texts/pqtorus/\n */\n\n// TorusKnotGeometry\n\nfunction TorusKnotGeometry( radius, tube, tubularSegments, radialSegments, p, q, heightScale ) {\n\n\tGeometry.call( this );\n\n\tthis.type = 'TorusKnotGeometry';\n\n\tthis.parameters = {\n\t\tradius: radius,\n\t\ttube: tube,\n\t\ttubularSegments: tubularSegments,\n\t\tradialSegments: radialSegments,\n\t\tp: p,\n\t\tq: q\n\t};\n\n\tif ( heightScale !== undefined ) console.warn( 'THREE.TorusKnotGeometry: heightScale has been deprecated. Use .scale( x, y, z ) instead.' );\n\n\tthis.fromBufferGeometry( new TorusKnotBufferGeometry( radius, tube, tubularSegments, radialSegments, p, q ) );\n\tthis.mergeVertices();\n\n}\n\nTorusKnotGeometry.prototype = Object.create( Geometry.prototype );\nTorusKnotGeometry.prototype.constructor = TorusKnotGeometry;\n\n// TorusKnotBufferGeometry\n\nfunction TorusKnotBufferGeometry( radius, tube, tubularSegments, radialSegments, p, q ) {\n\n\tBufferGeometry.call( this );\n\n\tthis.type = 'TorusKnotBufferGeometry';\n\n\tthis.parameters = {\n\t\tradius: radius,\n\t\ttube: tube,\n\t\ttubularSegments: tubularSegments,\n\t\tradialSegments: radialSegments,\n\t\tp: p,\n\t\tq: q\n\t};\n\n\tradius = radius || 1;\n\ttube = tube || 0.4;\n\ttubularSegments = Math.floor( tubularSegments ) || 64;\n\tradialSegments = Math.floor( radialSegments ) || 8;\n\tp = p || 2;\n\tq = q || 3;\n\n\t// buffers\n\n\tvar indices = [];\n\tvar vertices = [];\n\tvar normals = [];\n\tvar uvs = [];\n\n\t// helper variables\n\n\tvar i, j;\n\n\tvar vertex = new Vector3();\n\tvar normal = new Vector3();\n\n\tvar P1 = new Vector3();\n\tvar P2 = new Vector3();\n\n\tvar B = new Vector3();\n\tvar T = new Vector3();\n\tvar N = new Vector3();\n\n\t// generate vertices, normals and uvs\n\n\tfor ( i = 0; i <= tubularSegments; ++ i ) {\n\n\t\t// the radian \"u\" is used to calculate the position on the torus curve of the current tubular segement\n\n\t\tvar u = i / tubularSegments * p * Math.PI * 2;\n\n\t\t// now we calculate two points. P1 is our current position on the curve, P2 is a little farther ahead.\n\t\t// these points are used to create a special \"coordinate space\", which is necessary to calculate the correct vertex positions\n\n\t\tcalculatePositionOnCurve( u, p, q, radius, P1 );\n\t\tcalculatePositionOnCurve( u + 0.01, p, q, radius, P2 );\n\n\t\t// calculate orthonormal basis\n\n\t\tT.subVectors( P2, P1 );\n\t\tN.addVectors( P2, P1 );\n\t\tB.crossVectors( T, N );\n\t\tN.crossVectors( B, T );\n\n\t\t// normalize B, N. T can be ignored, we don't use it\n\n\t\tB.normalize();\n\t\tN.normalize();\n\n\t\tfor ( j = 0; j <= radialSegments; ++ j ) {\n\n\t\t\t// now calculate the vertices. they are nothing more than an extrusion of the torus curve.\n\t\t\t// because we extrude a shape in the xy-plane, there is no need to calculate a z-value.\n\n\t\t\tvar v = j / radialSegments * Math.PI * 2;\n\t\t\tvar cx = - tube * Math.cos( v );\n\t\t\tvar cy = tube * Math.sin( v );\n\n\t\t\t// now calculate the final vertex position.\n\t\t\t// first we orient the extrusion with our basis vectos, then we add it to the current position on the curve\n\n\t\t\tvertex.x = P1.x + ( cx * N.x + cy * B.x );\n\t\t\tvertex.y = P1.y + ( cx * N.y + cy * B.y );\n\t\t\tvertex.z = P1.z + ( cx * N.z + cy * B.z );\n\n\t\t\tvertices.push( vertex.x, vertex.y, vertex.z );\n\n\t\t\t// normal (P1 is always the center/origin of the extrusion, thus we can use it to calculate the normal)\n\n\t\t\tnormal.subVectors( vertex, P1 ).normalize();\n\n\t\t\tnormals.push( normal.x, normal.y, normal.z );\n\n\t\t\t// uv\n\n\t\t\tuvs.push( i / tubularSegments );\n\t\t\tuvs.push( j / radialSegments );\n\n\t\t}\n\n\t}\n\n\t// generate indices\n\n\tfor ( j = 1; j <= tubularSegments; j ++ ) {\n\n\t\tfor ( i = 1; i <= radialSegments; i ++ ) {\n\n\t\t\t// indices\n\n\t\t\tvar a = ( radialSegments + 1 ) * ( j - 1 ) + ( i - 1 );\n\t\t\tvar b = ( radialSegments + 1 ) * j + ( i - 1 );\n\t\t\tvar c = ( radialSegments + 1 ) * j + i;\n\t\t\tvar d = ( radialSegments + 1 ) * ( j - 1 ) + i;\n\n\t\t\t// faces\n\n\t\t\tindices.push( a, b, d );\n\t\t\tindices.push( b, c, d );\n\n\t\t}\n\n\t}\n\n\t// build geometry\n\n\tthis.setIndex( indices );\n\tthis.addAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\n\tthis.addAttribute( 'normal', new Float32BufferAttribute( normals, 3 ) );\n\tthis.addAttribute( 'uv', new Float32BufferAttribute( uvs, 2 ) );\n\n\t// this function calculates the current position on the torus curve\n\n\tfunction calculatePositionOnCurve( u, p, q, radius, position ) {\n\n\t\tvar cu = Math.cos( u );\n\t\tvar su = Math.sin( u );\n\t\tvar quOverP = q / p * u;\n\t\tvar cs = Math.cos( quOverP );\n\n\t\tposition.x = radius * ( 2 + cs ) * 0.5 * cu;\n\t\tposition.y = radius * ( 2 + cs ) * su * 0.5;\n\t\tposition.z = radius * Math.sin( quOverP ) * 0.5;\n\n\t}\n\n}\n\nTorusKnotBufferGeometry.prototype = Object.create( BufferGeometry.prototype );\nTorusKnotBufferGeometry.prototype.constructor = TorusKnotBufferGeometry;\n\n/**\n * @author oosmoxiecode\n * @author mrdoob / http://mrdoob.com/\n * @author Mugen87 / https://github.com/Mugen87\n */\n\n// TorusGeometry\n\nfunction TorusGeometry( radius, tube, radialSegments, tubularSegments, arc ) {\n\n\tGeometry.call( this );\n\n\tthis.type = 'TorusGeometry';\n\n\tthis.parameters = {\n\t\tradius: radius,\n\t\ttube: tube,\n\t\tradialSegments: radialSegments,\n\t\ttubularSegments: tubularSegments,\n\t\tarc: arc\n\t};\n\n\tthis.fromBufferGeometry( new TorusBufferGeometry( radius, tube, radialSegments, tubularSegments, arc ) );\n\tthis.mergeVertices();\n\n}\n\nTorusGeometry.prototype = Object.create( Geometry.prototype );\nTorusGeometry.prototype.constructor = TorusGeometry;\n\n// TorusBufferGeometry\n\nfunction TorusBufferGeometry( radius, tube, radialSegments, tubularSegments, arc ) {\n\n\tBufferGeometry.call( this );\n\n\tthis.type = 'TorusBufferGeometry';\n\n\tthis.parameters = {\n\t\tradius: radius,\n\t\ttube: tube,\n\t\tradialSegments: radialSegments,\n\t\ttubularSegments: tubularSegments,\n\t\tarc: arc\n\t};\n\n\tradius = radius || 1;\n\ttube = tube || 0.4;\n\tradialSegments = Math.floor( radialSegments ) || 8;\n\ttubularSegments = Math.floor( tubularSegments ) || 6;\n\tarc = arc || Math.PI * 2;\n\n\t// buffers\n\n\tvar indices = [];\n\tvar vertices = [];\n\tvar normals = [];\n\tvar uvs = [];\n\n\t// helper variables\n\n\tvar center = new Vector3();\n\tvar vertex = new Vector3();\n\tvar normal = new Vector3();\n\n\tvar j, i;\n\n\t// generate vertices, normals and uvs\n\n\tfor ( j = 0; j <= radialSegments; j ++ ) {\n\n\t\tfor ( i = 0; i <= tubularSegments; i ++ ) {\n\n\t\t\tvar u = i / tubularSegments * arc;\n\t\t\tvar v = j / radialSegments * Math.PI * 2;\n\n\t\t\t// vertex\n\n\t\t\tvertex.x = ( radius + tube * Math.cos( v ) ) * Math.cos( u );\n\t\t\tvertex.y = ( radius + tube * Math.cos( v ) ) * Math.sin( u );\n\t\t\tvertex.z = tube * Math.sin( v );\n\n\t\t\tvertices.push( vertex.x, vertex.y, vertex.z );\n\n\t\t\t// normal\n\n\t\t\tcenter.x = radius * Math.cos( u );\n\t\t\tcenter.y = radius * Math.sin( u );\n\t\t\tnormal.subVectors( vertex, center ).normalize();\n\n\t\t\tnormals.push( normal.x, normal.y, normal.z );\n\n\t\t\t// uv\n\n\t\t\tuvs.push( i / tubularSegments );\n\t\t\tuvs.push( j / radialSegments );\n\n\t\t}\n\n\t}\n\n\t// generate indices\n\n\tfor ( j = 1; j <= radialSegments; j ++ ) {\n\n\t\tfor ( i = 1; i <= tubularSegments; i ++ ) {\n\n\t\t\t// indices\n\n\t\t\tvar a = ( tubularSegments + 1 ) * j + i - 1;\n\t\t\tvar b = ( tubularSegments + 1 ) * ( j - 1 ) + i - 1;\n\t\t\tvar c = ( tubularSegments + 1 ) * ( j - 1 ) + i;\n\t\t\tvar d = ( tubularSegments + 1 ) * j + i;\n\n\t\t\t// faces\n\n\t\t\tindices.push( a, b, d );\n\t\t\tindices.push( b, c, d );\n\n\t\t}\n\n\t}\n\n\t// build geometry\n\n\tthis.setIndex( indices );\n\tthis.addAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\n\tthis.addAttribute( 'normal', new Float32BufferAttribute( normals, 3 ) );\n\tthis.addAttribute( 'uv', new Float32BufferAttribute( uvs, 2 ) );\n\n}\n\nTorusBufferGeometry.prototype = Object.create( BufferGeometry.prototype );\nTorusBufferGeometry.prototype.constructor = TorusBufferGeometry;\n\n/**\n * @author Mugen87 / https://github.com/Mugen87\n * Port from https://github.com/mapbox/earcut (v2.1.2)\n */\n\nvar Earcut = {\n\n\ttriangulate: function ( data, holeIndices, dim ) {\n\n\t\tdim = dim || 2;\n\n\t\tvar hasHoles = holeIndices && holeIndices.length,\n\t\t\touterLen = hasHoles ? holeIndices[ 0 ] * dim : data.length,\n\t\t\touterNode = linkedList( data, 0, outerLen, dim, true ),\n\t\t\ttriangles = [];\n\n\t\tif ( ! outerNode ) return triangles;\n\n\t\tvar minX, minY, maxX, maxY, x, y, invSize;\n\n\t\tif ( hasHoles ) outerNode = eliminateHoles( data, holeIndices, outerNode, dim );\n\n\t\t// if the shape is not too simple, we'll use z-order curve hash later; calculate polygon bbox\n\n\t\tif ( data.length > 80 * dim ) {\n\n\t\t\tminX = maxX = data[ 0 ];\n\t\t\tminY = maxY = data[ 1 ];\n\n\t\t\tfor ( var i = dim; i < outerLen; i += dim ) {\n\n\t\t\t\tx = data[ i ];\n\t\t\t\ty = data[ i + 1 ];\n\t\t\t\tif ( x < minX ) minX = x;\n\t\t\t\tif ( y < minY ) minY = y;\n\t\t\t\tif ( x > maxX ) maxX = x;\n\t\t\t\tif ( y > maxY ) maxY = y;\n\n\t\t\t}\n\n\t\t\t// minX, minY and invSize are later used to transform coords into integers for z-order calculation\n\n\t\t\tinvSize = Math.max( maxX - minX, maxY - minY );\n\t\t\tinvSize = invSize !== 0 ? 1 / invSize : 0;\n\n\t\t}\n\n\t\tearcutLinked( outerNode, triangles, dim, minX, minY, invSize );\n\n\t\treturn triangles;\n\n\t}\n\n};\n\n// create a circular doubly linked list from polygon points in the specified winding order\n\nfunction linkedList( data, start, end, dim, clockwise ) {\n\n\tvar i, last;\n\n\tif ( clockwise === ( signedArea( data, start, end, dim ) > 0 ) ) {\n\n\t\tfor ( i = start; i < end; i += dim ) last = insertNode( i, data[ i ], data[ i + 1 ], last );\n\n\t} else {\n\n\t\tfor ( i = end - dim; i >= start; i -= dim ) last = insertNode( i, data[ i ], data[ i + 1 ], last );\n\n\t}\n\n\tif ( last && equals( last, last.next ) ) {\n\n\t\tremoveNode( last );\n\t\tlast = last.next;\n\n\t}\n\n\treturn last;\n\n}\n\n// eliminate colinear or duplicate points\n\nfunction filterPoints( start, end ) {\n\n\tif ( ! start ) return start;\n\tif ( ! end ) end = start;\n\n\tvar p = start, again;\n\n\tdo {\n\n\t\tagain = false;\n\n\t\tif ( ! p.steiner && ( equals( p, p.next ) || area( p.prev, p, p.next ) === 0 ) ) {\n\n\t\t\tremoveNode( p );\n\t\t\tp = end = p.prev;\n\t\t\tif ( p === p.next ) break;\n\t\t\tagain = true;\n\n\t\t} else {\n\n\t\t\tp = p.next;\n\n\t\t}\n\n\t} while ( again || p !== end );\n\n\treturn end;\n\n}\n\n// main ear slicing loop which triangulates a polygon (given as a linked list)\n\nfunction earcutLinked( ear, triangles, dim, minX, minY, invSize, pass ) {\n\n\tif ( ! ear ) return;\n\n\t// interlink polygon nodes in z-order\n\n\tif ( ! pass && invSize ) indexCurve( ear, minX, minY, invSize );\n\n\tvar stop = ear, prev, next;\n\n\t// iterate through ears, slicing them one by one\n\n\twhile ( ear.prev !== ear.next ) {\n\n\t\tprev = ear.prev;\n\t\tnext = ear.next;\n\n\t\tif ( invSize ? isEarHashed( ear, minX, minY, invSize ) : isEar( ear ) ) {\n\n\t\t\t// cut off the triangle\n\t\t\ttriangles.push( prev.i / dim );\n\t\t\ttriangles.push( ear.i / dim );\n\t\t\ttriangles.push( next.i / dim );\n\n\t\t\tremoveNode( ear );\n\n\t\t\t// skipping the next vertice leads to less sliver triangles\n\t\t\tear = next.next;\n\t\t\tstop = next.next;\n\n\t\t\tcontinue;\n\n\t\t}\n\n\t\tear = next;\n\n\t\t// if we looped through the whole remaining polygon and can't find any more ears\n\n\t\tif ( ear === stop ) {\n\n\t\t\t// try filtering points and slicing again\n\n\t\t\tif ( ! pass ) {\n\n\t\t\t\tearcutLinked( filterPoints( ear ), triangles, dim, minX, minY, invSize, 1 );\n\n\t\t\t\t// if this didn't work, try curing all small self-intersections locally\n\n\t\t\t} else if ( pass === 1 ) {\n\n\t\t\t\tear = cureLocalIntersections( ear, triangles, dim );\n\t\t\t\tearcutLinked( ear, triangles, dim, minX, minY, invSize, 2 );\n\n\t\t\t\t// as a last resort, try splitting the remaining polygon into two\n\n\t\t\t} else if ( pass === 2 ) {\n\n\t\t\t\tsplitEarcut( ear, triangles, dim, minX, minY, invSize );\n\n\t\t\t}\n\n\t\t\tbreak;\n\n\t\t}\n\n\t}\n\n}\n\n// check whether a polygon node forms a valid ear with adjacent nodes\n\nfunction isEar( ear ) {\n\n\tvar a = ear.prev,\n\t\tb = ear,\n\t\tc = ear.next;\n\n\tif ( area( a, b, c ) >= 0 ) return false; // reflex, can't be an ear\n\n\t// now make sure we don't have other points inside the potential ear\n\tvar p = ear.next.next;\n\n\twhile ( p !== ear.prev ) {\n\n\t\tif ( pointInTriangle( a.x, a.y, b.x, b.y, c.x, c.y, p.x, p.y ) && area( p.prev, p, p.next ) >= 0 ) {\n\n\t\t\treturn false;\n\n\t\t}\n\n\t\tp = p.next;\n\n\t}\n\n\treturn true;\n\n}\n\nfunction isEarHashed( ear, minX, minY, invSize ) {\n\n\tvar a = ear.prev,\n\t\tb = ear,\n\t\tc = ear.next;\n\n\tif ( area( a, b, c ) >= 0 ) return false; // reflex, can't be an ear\n\n\t// triangle bbox; min & max are calculated like this for speed\n\n\tvar minTX = a.x < b.x ? ( a.x < c.x ? a.x : c.x ) : ( b.x < c.x ? b.x : c.x ),\n\t\tminTY = a.y < b.y ? ( a.y < c.y ? a.y : c.y ) : ( b.y < c.y ? b.y : c.y ),\n\t\tmaxTX = a.x > b.x ? ( a.x > c.x ? a.x : c.x ) : ( b.x > c.x ? b.x : c.x ),\n\t\tmaxTY = a.y > b.y ? ( a.y > c.y ? a.y : c.y ) : ( b.y > c.y ? b.y : c.y );\n\n\t// z-order range for the current triangle bbox;\n\n\tvar minZ = zOrder( minTX, minTY, minX, minY, invSize ),\n\t\tmaxZ = zOrder( maxTX, maxTY, minX, minY, invSize );\n\n\t// first look for points inside the triangle in increasing z-order\n\n\tvar p = ear.nextZ;\n\n\twhile ( p && p.z <= maxZ ) {\n\n\t\tif ( p !== ear.prev && p !== ear.next &&\n\t\t\t\tpointInTriangle( a.x, a.y, b.x, b.y, c.x, c.y, p.x, p.y ) &&\n\t\t\t\tarea( p.prev, p, p.next ) >= 0 ) return false;\n\t\tp = p.nextZ;\n\n\t}\n\n\t// then look for points in decreasing z-order\n\n\tp = ear.prevZ;\n\n\twhile ( p && p.z >= minZ ) {\n\n\t\tif ( p !== ear.prev && p !== ear.next &&\n\t\t\t\tpointInTriangle( a.x, a.y, b.x, b.y, c.x, c.y, p.x, p.y ) &&\n\t\t\t\tarea( p.prev, p, p.next ) >= 0 ) return false;\n\n\t\tp = p.prevZ;\n\n\t}\n\n\treturn true;\n\n}\n\n// go through all polygon nodes and cure small local self-intersections\n\nfunction cureLocalIntersections( start, triangles, dim ) {\n\n\tvar p = start;\n\n\tdo {\n\n\t\tvar a = p.prev, b = p.next.next;\n\n\t\tif ( ! equals( a, b ) && intersects( a, p, p.next, b ) && locallyInside( a, b ) && locallyInside( b, a ) ) {\n\n\t\t\ttriangles.push( a.i / dim );\n\t\t\ttriangles.push( p.i / dim );\n\t\t\ttriangles.push( b.i / dim );\n\n\t\t\t// remove two nodes involved\n\n\t\t\tremoveNode( p );\n\t\t\tremoveNode( p.next );\n\n\t\t\tp = start = b;\n\n\t\t}\n\n\t\tp = p.next;\n\n\t} while ( p !== start );\n\n\treturn p;\n\n}\n\n// try splitting polygon into two and triangulate them independently\n\nfunction splitEarcut( start, triangles, dim, minX, minY, invSize ) {\n\n\t// look for a valid diagonal that divides the polygon into two\n\n\tvar a = start;\n\n\tdo {\n\n\t\tvar b = a.next.next;\n\n\t\twhile ( b !== a.prev ) {\n\n\t\t\tif ( a.i !== b.i && isValidDiagonal( a, b ) ) {\n\n\t\t\t\t// split the polygon in two by the diagonal\n\n\t\t\t\tvar c = splitPolygon( a, b );\n\n\t\t\t\t// filter colinear points around the cuts\n\n\t\t\t\ta = filterPoints( a, a.next );\n\t\t\t\tc = filterPoints( c, c.next );\n\n\t\t\t\t// run earcut on each half\n\n\t\t\t\tearcutLinked( a, triangles, dim, minX, minY, invSize );\n\t\t\t\tearcutLinked( c, triangles, dim, minX, minY, invSize );\n\t\t\t\treturn;\n\n\t\t\t}\n\n\t\t\tb = b.next;\n\n\t\t}\n\n\t\ta = a.next;\n\n\t} while ( a !== start );\n\n}\n\n// link every hole into the outer loop, producing a single-ring polygon without holes\n\nfunction eliminateHoles( data, holeIndices, outerNode, dim ) {\n\n\tvar queue = [], i, len, start, end, list;\n\n\tfor ( i = 0, len = holeIndices.length; i < len; i ++ ) {\n\n\t\tstart = holeIndices[ i ] * dim;\n\t\tend = i < len - 1 ? holeIndices[ i + 1 ] * dim : data.length;\n\t\tlist = linkedList( data, start, end, dim, false );\n\t\tif ( list === list.next ) list.steiner = true;\n\t\tqueue.push( getLeftmost( list ) );\n\n\t}\n\n\tqueue.sort( compareX );\n\n\t// process holes from left to right\n\n\tfor ( i = 0; i < queue.length; i ++ ) {\n\n\t\teliminateHole( queue[ i ], outerNode );\n\t\touterNode = filterPoints( outerNode, outerNode.next );\n\n\t}\n\n\treturn outerNode;\n\n}\n\nfunction compareX( a, b ) {\n\n\treturn a.x - b.x;\n\n}\n\n// find a bridge between vertices that connects hole with an outer ring and and link it\n\nfunction eliminateHole( hole, outerNode ) {\n\n\touterNode = findHoleBridge( hole, outerNode );\n\n\tif ( outerNode ) {\n\n\t\tvar b = splitPolygon( outerNode, hole );\n\n\t\tfilterPoints( b, b.next );\n\n\t}\n\n}\n\n// David Eberly's algorithm for finding a bridge between hole and outer polygon\n\nfunction findHoleBridge( hole, outerNode ) {\n\n\tvar p = outerNode,\n\t\thx = hole.x,\n\t\thy = hole.y,\n\t\tqx = - Infinity,\n\t\tm;\n\n\t// find a segment intersected by a ray from the hole's leftmost point to the left;\n\t// segment's endpoint with lesser x will be potential connection point\n\n\tdo {\n\n\t\tif ( hy <= p.y && hy >= p.next.y && p.next.y !== p.y ) {\n\n\t\t\tvar x = p.x + ( hy - p.y ) * ( p.next.x - p.x ) / ( p.next.y - p.y );\n\n\t\t\tif ( x <= hx && x > qx ) {\n\n\t\t\t\tqx = x;\n\n\t\t\t\tif ( x === hx ) {\n\n\t\t\t\t\tif ( hy === p.y ) return p;\n\t\t\t\t\tif ( hy === p.next.y ) return p.next;\n\n\t\t\t\t}\n\n\t\t\t\tm = p.x < p.next.x ? p : p.next;\n\n\t\t\t}\n\n\t\t}\n\n\t\tp = p.next;\n\n\t} while ( p !== outerNode );\n\n\tif ( ! m ) return null;\n\n\tif ( hx === qx ) return m.prev; // hole touches outer segment; pick lower endpoint\n\n\t// look for points inside the triangle of hole point, segment intersection and endpoint;\n\t// if there are no points found, we have a valid connection;\n\t// otherwise choose the point of the minimum angle with the ray as connection point\n\n\tvar stop = m,\n\t\tmx = m.x,\n\t\tmy = m.y,\n\t\ttanMin = Infinity,\n\t\ttan;\n\n\tp = m.next;\n\n\twhile ( p !== stop ) {\n\n\t\tif ( hx >= p.x && p.x >= mx && hx !== p.x &&\n\t\t\t\t\t\tpointInTriangle( hy < my ? hx : qx, hy, mx, my, hy < my ? qx : hx, hy, p.x, p.y ) ) {\n\n\t\t\ttan = Math.abs( hy - p.y ) / ( hx - p.x ); // tangential\n\n\t\t\tif ( ( tan < tanMin || ( tan === tanMin && p.x > m.x ) ) && locallyInside( p, hole ) ) {\n\n\t\t\t\tm = p;\n\t\t\t\ttanMin = tan;\n\n\t\t\t}\n\n\t\t}\n\n\t\tp = p.next;\n\n\t}\n\n\treturn m;\n\n}\n\n// interlink polygon nodes in z-order\n\nfunction indexCurve( start, minX, minY, invSize ) {\n\n\tvar p = start;\n\n\tdo {\n\n\t\tif ( p.z === null ) p.z = zOrder( p.x, p.y, minX, minY, invSize );\n\t\tp.prevZ = p.prev;\n\t\tp.nextZ = p.next;\n\t\tp = p.next;\n\n\t} while ( p !== start );\n\n\tp.prevZ.nextZ = null;\n\tp.prevZ = null;\n\n\tsortLinked( p );\n\n}\n\n// Simon Tatham's linked list merge sort algorithm\n// http://www.chiark.greenend.org.uk/~sgtatham/algorithms/listsort.html\n\nfunction sortLinked( list ) {\n\n\tvar i, p, q, e, tail, numMerges, pSize, qSize, inSize = 1;\n\n\tdo {\n\n\t\tp = list;\n\t\tlist = null;\n\t\ttail = null;\n\t\tnumMerges = 0;\n\n\t\twhile ( p ) {\n\n\t\t\tnumMerges ++;\n\t\t\tq = p;\n\t\t\tpSize = 0;\n\n\t\t\tfor ( i = 0; i < inSize; i ++ ) {\n\n\t\t\t\tpSize ++;\n\t\t\t\tq = q.nextZ;\n\t\t\t\tif ( ! q ) break;\n\n\t\t\t}\n\n\t\t\tqSize = inSize;\n\n\t\t\twhile ( pSize > 0 || ( qSize > 0 && q ) ) {\n\n\t\t\t\tif ( pSize !== 0 && ( qSize === 0 || ! q || p.z <= q.z ) ) {\n\n\t\t\t\t\te = p;\n\t\t\t\t\tp = p.nextZ;\n\t\t\t\t\tpSize --;\n\n\t\t\t\t} else {\n\n\t\t\t\t\te = q;\n\t\t\t\t\tq = q.nextZ;\n\t\t\t\t\tqSize --;\n\n\t\t\t\t}\n\n\t\t\t\tif ( tail ) tail.nextZ = e;\n\t\t\t\telse list = e;\n\n\t\t\t\te.prevZ = tail;\n\t\t\t\ttail = e;\n\n\t\t\t}\n\n\t\t\tp = q;\n\n\t\t}\n\n\t\ttail.nextZ = null;\n\t\tinSize *= 2;\n\n\t} while ( numMerges > 1 );\n\n\treturn list;\n\n}\n\n// z-order of a point given coords and inverse of the longer side of data bbox\n\nfunction zOrder( x, y, minX, minY, invSize ) {\n\n\t// coords are transformed into non-negative 15-bit integer range\n\n\tx = 32767 * ( x - minX ) * invSize;\n\ty = 32767 * ( y - minY ) * invSize;\n\n\tx = ( x | ( x << 8 ) ) & 0x00FF00FF;\n\tx = ( x | ( x << 4 ) ) & 0x0F0F0F0F;\n\tx = ( x | ( x << 2 ) ) & 0x33333333;\n\tx = ( x | ( x << 1 ) ) & 0x55555555;\n\n\ty = ( y | ( y << 8 ) ) & 0x00FF00FF;\n\ty = ( y | ( y << 4 ) ) & 0x0F0F0F0F;\n\ty = ( y | ( y << 2 ) ) & 0x33333333;\n\ty = ( y | ( y << 1 ) ) & 0x55555555;\n\n\treturn x | ( y << 1 );\n\n}\n\n// find the leftmost node of a polygon ring\n\nfunction getLeftmost( start ) {\n\n\tvar p = start, leftmost = start;\n\n\tdo {\n\n\t\tif ( p.x < leftmost.x ) leftmost = p;\n\t\tp = p.next;\n\n\t} while ( p !== start );\n\n\treturn leftmost;\n\n}\n\n// check if a point lies within a convex triangle\n\nfunction pointInTriangle( ax, ay, bx, by, cx, cy, px, py ) {\n\n\treturn ( cx - px ) * ( ay - py ) - ( ax - px ) * ( cy - py ) >= 0 &&\n\t ( ax - px ) * ( by - py ) - ( bx - px ) * ( ay - py ) >= 0 &&\n\t ( bx - px ) * ( cy - py ) - ( cx - px ) * ( by - py ) >= 0;\n\n}\n\n// check if a diagonal between two polygon nodes is valid (lies in polygon interior)\n\nfunction isValidDiagonal( a, b ) {\n\n\treturn a.next.i !== b.i && a.prev.i !== b.i && ! intersectsPolygon( a, b ) &&\n\t\tlocallyInside( a, b ) && locallyInside( b, a ) && middleInside( a, b );\n\n}\n\n// signed area of a triangle\n\nfunction area( p, q, r ) {\n\n\treturn ( q.y - p.y ) * ( r.x - q.x ) - ( q.x - p.x ) * ( r.y - q.y );\n\n}\n\n// check if two points are equal\n\nfunction equals( p1, p2 ) {\n\n\treturn p1.x === p2.x && p1.y === p2.y;\n\n}\n\n// check if two segments intersect\n\nfunction intersects( p1, q1, p2, q2 ) {\n\n\tif ( ( equals( p1, q1 ) && equals( p2, q2 ) ) ||\n\t\t\t( equals( p1, q2 ) && equals( p2, q1 ) ) ) return true;\n\n\treturn area( p1, q1, p2 ) > 0 !== area( p1, q1, q2 ) > 0 &&\n\t\t\t\t area( p2, q2, p1 ) > 0 !== area( p2, q2, q1 ) > 0;\n\n}\n\n// check if a polygon diagonal intersects any polygon segments\n\nfunction intersectsPolygon( a, b ) {\n\n\tvar p = a;\n\n\tdo {\n\n\t\tif ( p.i !== a.i && p.next.i !== a.i && p.i !== b.i && p.next.i !== b.i &&\n\t\t\t\t\t\tintersects( p, p.next, a, b ) ) {\n\n\t\t\treturn true;\n\n\t\t}\n\n\t\tp = p.next;\n\n\t} while ( p !== a );\n\n\treturn false;\n\n}\n\n// check if a polygon diagonal is locally inside the polygon\n\nfunction locallyInside( a, b ) {\n\n\treturn area( a.prev, a, a.next ) < 0 ?\n\t\tarea( a, b, a.next ) >= 0 && area( a, a.prev, b ) >= 0 :\n\t\tarea( a, b, a.prev ) < 0 || area( a, a.next, b ) < 0;\n\n}\n\n// check if the middle point of a polygon diagonal is inside the polygon\n\nfunction middleInside( a, b ) {\n\n\tvar p = a,\n\t\tinside = false,\n\t\tpx = ( a.x + b.x ) / 2,\n\t\tpy = ( a.y + b.y ) / 2;\n\n\tdo {\n\n\t\tif ( ( ( p.y > py ) !== ( p.next.y > py ) ) && p.next.y !== p.y &&\n\t\t\t\t\t\t( px < ( p.next.x - p.x ) * ( py - p.y ) / ( p.next.y - p.y ) + p.x ) ) {\n\n\t\t\tinside = ! inside;\n\n\t\t}\n\n\t\tp = p.next;\n\n\t} while ( p !== a );\n\n\treturn inside;\n\n}\n\n// link two polygon vertices with a bridge; if the vertices belong to the same ring, it splits polygon into two;\n// if one belongs to the outer ring and another to a hole, it merges it into a single ring\n\nfunction splitPolygon( a, b ) {\n\n\tvar a2 = new Node( a.i, a.x, a.y ),\n\t\tb2 = new Node( b.i, b.x, b.y ),\n\t\tan = a.next,\n\t\tbp = b.prev;\n\n\ta.next = b;\n\tb.prev = a;\n\n\ta2.next = an;\n\tan.prev = a2;\n\n\tb2.next = a2;\n\ta2.prev = b2;\n\n\tbp.next = b2;\n\tb2.prev = bp;\n\n\treturn b2;\n\n}\n\n// create a node and optionally link it with previous one (in a circular doubly linked list)\n\nfunction insertNode( i, x, y, last ) {\n\n\tvar p = new Node( i, x, y );\n\n\tif ( ! last ) {\n\n\t\tp.prev = p;\n\t\tp.next = p;\n\n\t} else {\n\n\t\tp.next = last.next;\n\t\tp.prev = last;\n\t\tlast.next.prev = p;\n\t\tlast.next = p;\n\n\t}\n\n\treturn p;\n\n}\n\nfunction removeNode( p ) {\n\n\tp.next.prev = p.prev;\n\tp.prev.next = p.next;\n\n\tif ( p.prevZ ) p.prevZ.nextZ = p.nextZ;\n\tif ( p.nextZ ) p.nextZ.prevZ = p.prevZ;\n\n}\n\nfunction Node( i, x, y ) {\n\n\t// vertice index in coordinates array\n\tthis.i = i;\n\n\t// vertex coordinates\n\tthis.x = x;\n\tthis.y = y;\n\n\t// previous and next vertice nodes in a polygon ring\n\tthis.prev = null;\n\tthis.next = null;\n\n\t// z-order curve value\n\tthis.z = null;\n\n\t// previous and next nodes in z-order\n\tthis.prevZ = null;\n\tthis.nextZ = null;\n\n\t// indicates whether this is a steiner point\n\tthis.steiner = false;\n\n}\n\nfunction signedArea( data, start, end, dim ) {\n\n\tvar sum = 0;\n\n\tfor ( var i = start, j = end - dim; i < end; i += dim ) {\n\n\t\tsum += ( data[ j ] - data[ i ] ) * ( data[ i + 1 ] + data[ j + 1 ] );\n\t\tj = i;\n\n\t}\n\n\treturn sum;\n\n}\n\n/**\n * @author zz85 / http://www.lab4games.net/zz85/blog\n */\n\nvar ShapeUtils = {\n\n\t// calculate area of the contour polygon\n\n\tarea: function ( contour ) {\n\n\t\tvar n = contour.length;\n\t\tvar a = 0.0;\n\n\t\tfor ( var p = n - 1, q = 0; q < n; p = q ++ ) {\n\n\t\t\ta += contour[ p ].x * contour[ q ].y - contour[ q ].x * contour[ p ].y;\n\n\t\t}\n\n\t\treturn a * 0.5;\n\n\t},\n\n\tisClockWise: function ( pts ) {\n\n\t\treturn ShapeUtils.area( pts ) < 0;\n\n\t},\n\n\ttriangulateShape: function ( contour, holes ) {\n\n\t\tvar vertices = []; // flat array of vertices like [ x0,y0, x1,y1, x2,y2, ... ]\n\t\tvar holeIndices = []; // array of hole indices\n\t\tvar faces = []; // final array of vertex indices like [ [ a,b,d ], [ b,c,d ] ]\n\n\t\tremoveDupEndPts( contour );\n\t\taddContour( vertices, contour );\n\n\t\t//\n\n\t\tvar holeIndex = contour.length;\n\n\t\tholes.forEach( removeDupEndPts );\n\n\t\tfor ( var i = 0; i < holes.length; i ++ ) {\n\n\t\t\tholeIndices.push( holeIndex );\n\t\t\tholeIndex += holes[ i ].length;\n\t\t\taddContour( vertices, holes[ i ] );\n\n\t\t}\n\n\t\t//\n\n\t\tvar triangles = Earcut.triangulate( vertices, holeIndices );\n\n\t\t//\n\n\t\tfor ( var i = 0; i < triangles.length; i += 3 ) {\n\n\t\t\tfaces.push( triangles.slice( i, i + 3 ) );\n\n\t\t}\n\n\t\treturn faces;\n\n\t}\n\n};\n\nfunction removeDupEndPts( points ) {\n\n\tvar l = points.length;\n\n\tif ( l > 2 && points[ l - 1 ].equals( points[ 0 ] ) ) {\n\n\t\tpoints.pop();\n\n\t}\n\n}\n\nfunction addContour( vertices, contour ) {\n\n\tfor ( var i = 0; i < contour.length; i ++ ) {\n\n\t\tvertices.push( contour[ i ].x );\n\t\tvertices.push( contour[ i ].y );\n\n\t}\n\n}\n\n/**\n * @author zz85 / http://www.lab4games.net/zz85/blog\n *\n * Creates extruded geometry from a path shape.\n *\n * parameters = {\n *\n *  curveSegments: <int>, // number of points on the curves\n *  steps: <int>, // number of points for z-side extrusions / used for subdividing segments of extrude spline too\n *  depth: <float>, // Depth to extrude the shape\n *\n *  bevelEnabled: <bool>, // turn on bevel\n *  bevelThickness: <float>, // how deep into the original shape bevel goes\n *  bevelSize: <float>, // how far from shape outline (including bevelOffset) is bevel\n *  bevelOffset: <float>, // how far from shape outline does bevel start\n *  bevelSegments: <int>, // number of bevel layers\n *\n *  extrudePath: <THREE.Curve> // curve to extrude shape along\n *\n *  UVGenerator: <Object> // object that provides UV generator functions\n *\n * }\n */\n\n// ExtrudeGeometry\n\nfunction ExtrudeGeometry( shapes, options ) {\n\n\tGeometry.call( this );\n\n\tthis.type = 'ExtrudeGeometry';\n\n\tthis.parameters = {\n\t\tshapes: shapes,\n\t\toptions: options\n\t};\n\n\tthis.fromBufferGeometry( new ExtrudeBufferGeometry( shapes, options ) );\n\tthis.mergeVertices();\n\n}\n\nExtrudeGeometry.prototype = Object.create( Geometry.prototype );\nExtrudeGeometry.prototype.constructor = ExtrudeGeometry;\n\nExtrudeGeometry.prototype.toJSON = function () {\n\n\tvar data = Geometry.prototype.toJSON.call( this );\n\n\tvar shapes = this.parameters.shapes;\n\tvar options = this.parameters.options;\n\n\treturn toJSON( shapes, options, data );\n\n};\n\n// ExtrudeBufferGeometry\n\nfunction ExtrudeBufferGeometry( shapes, options ) {\n\n\tBufferGeometry.call( this );\n\n\tthis.type = 'ExtrudeBufferGeometry';\n\n\tthis.parameters = {\n\t\tshapes: shapes,\n\t\toptions: options\n\t};\n\n\tshapes = Array.isArray( shapes ) ? shapes : [ shapes ];\n\n\tvar scope = this;\n\n\tvar verticesArray = [];\n\tvar uvArray = [];\n\n\tfor ( var i = 0, l = shapes.length; i < l; i ++ ) {\n\n\t\tvar shape = shapes[ i ];\n\t\taddShape( shape );\n\n\t}\n\n\t// build geometry\n\n\tthis.addAttribute( 'position', new Float32BufferAttribute( verticesArray, 3 ) );\n\tthis.addAttribute( 'uv', new Float32BufferAttribute( uvArray, 2 ) );\n\n\tthis.computeVertexNormals();\n\n\t// functions\n\n\tfunction addShape( shape ) {\n\n\t\tvar placeholder = [];\n\n\t\t// options\n\n\t\tvar curveSegments = options.curveSegments !== undefined ? options.curveSegments : 12;\n\t\tvar steps = options.steps !== undefined ? options.steps : 1;\n\t\tvar depth = options.depth !== undefined ? options.depth : 100;\n\n\t\tvar bevelEnabled = options.bevelEnabled !== undefined ? options.bevelEnabled : true;\n\t\tvar bevelThickness = options.bevelThickness !== undefined ? options.bevelThickness : 6;\n\t\tvar bevelSize = options.bevelSize !== undefined ? options.bevelSize : bevelThickness - 2;\n\t\tvar bevelOffset = options.bevelOffset !== undefined ? options.bevelOffset : 0;\n\t\tvar bevelSegments = options.bevelSegments !== undefined ? options.bevelSegments : 3;\n\n\t\tvar extrudePath = options.extrudePath;\n\n\t\tvar uvgen = options.UVGenerator !== undefined ? options.UVGenerator : WorldUVGenerator;\n\n\t\t// deprecated options\n\n\t\tif ( options.amount !== undefined ) {\n\n\t\t\tconsole.warn( 'THREE.ExtrudeBufferGeometry: amount has been renamed to depth.' );\n\t\t\tdepth = options.amount;\n\n\t\t}\n\n\t\t//\n\n\t\tvar extrudePts, extrudeByPath = false;\n\t\tvar splineTube, binormal, normal, position2;\n\n\t\tif ( extrudePath ) {\n\n\t\t\textrudePts = extrudePath.getSpacedPoints( steps );\n\n\t\t\textrudeByPath = true;\n\t\t\tbevelEnabled = false; // bevels not supported for path extrusion\n\n\t\t\t// SETUP TNB variables\n\n\t\t\t// TODO1 - have a .isClosed in spline?\n\n\t\t\tsplineTube = extrudePath.computeFrenetFrames( steps, false );\n\n\t\t\t// console.log(splineTube, 'splineTube', splineTube.normals.length, 'steps', steps, 'extrudePts', extrudePts.length);\n\n\t\t\tbinormal = new Vector3();\n\t\t\tnormal = new Vector3();\n\t\t\tposition2 = new Vector3();\n\n\t\t}\n\n\t\t// Safeguards if bevels are not enabled\n\n\t\tif ( ! bevelEnabled ) {\n\n\t\t\tbevelSegments = 0;\n\t\t\tbevelThickness = 0;\n\t\t\tbevelSize = 0;\n\t\t\tbevelOffset = 0;\n\n\t\t}\n\n\t\t// Variables initialization\n\n\t\tvar ahole, h, hl; // looping of holes\n\n\t\tvar shapePoints = shape.extractPoints( curveSegments );\n\n\t\tvar vertices = shapePoints.shape;\n\t\tvar holes = shapePoints.holes;\n\n\t\tvar reverse = ! ShapeUtils.isClockWise( vertices );\n\n\t\tif ( reverse ) {\n\n\t\t\tvertices = vertices.reverse();\n\n\t\t\t// Maybe we should also check if holes are in the opposite direction, just to be safe ...\n\n\t\t\tfor ( h = 0, hl = holes.length; h < hl; h ++ ) {\n\n\t\t\t\tahole = holes[ h ];\n\n\t\t\t\tif ( ShapeUtils.isClockWise( ahole ) ) {\n\n\t\t\t\t\tholes[ h ] = ahole.reverse();\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\n\t\tvar faces = ShapeUtils.triangulateShape( vertices, holes );\n\n\t\t/* Vertices */\n\n\t\tvar contour = vertices; // vertices has all points but contour has only points of circumference\n\n\t\tfor ( h = 0, hl = holes.length; h < hl; h ++ ) {\n\n\t\t\tahole = holes[ h ];\n\n\t\t\tvertices = vertices.concat( ahole );\n\n\t\t}\n\n\n\t\tfunction scalePt2( pt, vec, size ) {\n\n\t\t\tif ( ! vec ) console.error( \"THREE.ExtrudeGeometry: vec does not exist\" );\n\n\t\t\treturn vec.clone().multiplyScalar( size ).add( pt );\n\n\t\t}\n\n\t\tvar b, bs, t, z,\n\t\t\tvert, vlen = vertices.length,\n\t\t\tface, flen = faces.length;\n\n\n\t\t// Find directions for point movement\n\n\n\t\tfunction getBevelVec( inPt, inPrev, inNext ) {\n\n\t\t\t// computes for inPt the corresponding point inPt' on a new contour\n\t\t\t//   shifted by 1 unit (length of normalized vector) to the left\n\t\t\t// if we walk along contour clockwise, this new contour is outside the old one\n\t\t\t//\n\t\t\t// inPt' is the intersection of the two lines parallel to the two\n\t\t\t//  adjacent edges of inPt at a distance of 1 unit on the left side.\n\n\t\t\tvar v_trans_x, v_trans_y, shrink_by; // resulting translation vector for inPt\n\n\t\t\t// good reading for geometry algorithms (here: line-line intersection)\n\t\t\t// http://geomalgorithms.com/a05-_intersect-1.html\n\n\t\t\tvar v_prev_x = inPt.x - inPrev.x,\n\t\t\t\tv_prev_y = inPt.y - inPrev.y;\n\t\t\tvar v_next_x = inNext.x - inPt.x,\n\t\t\t\tv_next_y = inNext.y - inPt.y;\n\n\t\t\tvar v_prev_lensq = ( v_prev_x * v_prev_x + v_prev_y * v_prev_y );\n\n\t\t\t// check for collinear edges\n\t\t\tvar collinear0 = ( v_prev_x * v_next_y - v_prev_y * v_next_x );\n\n\t\t\tif ( Math.abs( collinear0 ) > Number.EPSILON ) {\n\n\t\t\t\t// not collinear\n\n\t\t\t\t// length of vectors for normalizing\n\n\t\t\t\tvar v_prev_len = Math.sqrt( v_prev_lensq );\n\t\t\t\tvar v_next_len = Math.sqrt( v_next_x * v_next_x + v_next_y * v_next_y );\n\n\t\t\t\t// shift adjacent points by unit vectors to the left\n\n\t\t\t\tvar ptPrevShift_x = ( inPrev.x - v_prev_y / v_prev_len );\n\t\t\t\tvar ptPrevShift_y = ( inPrev.y + v_prev_x / v_prev_len );\n\n\t\t\t\tvar ptNextShift_x = ( inNext.x - v_next_y / v_next_len );\n\t\t\t\tvar ptNextShift_y = ( inNext.y + v_next_x / v_next_len );\n\n\t\t\t\t// scaling factor for v_prev to intersection point\n\n\t\t\t\tvar sf = ( ( ptNextShift_x - ptPrevShift_x ) * v_next_y -\n\t\t\t\t\t\t( ptNextShift_y - ptPrevShift_y ) * v_next_x ) /\n\t\t\t\t\t( v_prev_x * v_next_y - v_prev_y * v_next_x );\n\n\t\t\t\t// vector from inPt to intersection point\n\n\t\t\t\tv_trans_x = ( ptPrevShift_x + v_prev_x * sf - inPt.x );\n\t\t\t\tv_trans_y = ( ptPrevShift_y + v_prev_y * sf - inPt.y );\n\n\t\t\t\t// Don't normalize!, otherwise sharp corners become ugly\n\t\t\t\t//  but prevent crazy spikes\n\t\t\t\tvar v_trans_lensq = ( v_trans_x * v_trans_x + v_trans_y * v_trans_y );\n\t\t\t\tif ( v_trans_lensq <= 2 ) {\n\n\t\t\t\t\treturn new Vector2( v_trans_x, v_trans_y );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tshrink_by = Math.sqrt( v_trans_lensq / 2 );\n\n\t\t\t\t}\n\n\t\t\t} else {\n\n\t\t\t\t// handle special case of collinear edges\n\n\t\t\t\tvar direction_eq = false; // assumes: opposite\n\t\t\t\tif ( v_prev_x > Number.EPSILON ) {\n\n\t\t\t\t\tif ( v_next_x > Number.EPSILON ) {\n\n\t\t\t\t\t\tdirection_eq = true;\n\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\n\t\t\t\t\tif ( v_prev_x < - Number.EPSILON ) {\n\n\t\t\t\t\t\tif ( v_next_x < - Number.EPSILON ) {\n\n\t\t\t\t\t\t\tdirection_eq = true;\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tif ( Math.sign( v_prev_y ) === Math.sign( v_next_y ) ) {\n\n\t\t\t\t\t\t\tdirection_eq = true;\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\tif ( direction_eq ) {\n\n\t\t\t\t\t// console.log(\"Warning: lines are a straight sequence\");\n\t\t\t\t\tv_trans_x = - v_prev_y;\n\t\t\t\t\tv_trans_y = v_prev_x;\n\t\t\t\t\tshrink_by = Math.sqrt( v_prev_lensq );\n\n\t\t\t\t} else {\n\n\t\t\t\t\t// console.log(\"Warning: lines are a straight spike\");\n\t\t\t\t\tv_trans_x = v_prev_x;\n\t\t\t\t\tv_trans_y = v_prev_y;\n\t\t\t\t\tshrink_by = Math.sqrt( v_prev_lensq / 2 );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\treturn new Vector2( v_trans_x / shrink_by, v_trans_y / shrink_by );\n\n\t\t}\n\n\n\t\tvar contourMovements = [];\n\n\t\tfor ( var i = 0, il = contour.length, j = il - 1, k = i + 1; i < il; i ++, j ++, k ++ ) {\n\n\t\t\tif ( j === il ) j = 0;\n\t\t\tif ( k === il ) k = 0;\n\n\t\t\t//  (j)---(i)---(k)\n\t\t\t// console.log('i,j,k', i, j , k)\n\n\t\t\tcontourMovements[ i ] = getBevelVec( contour[ i ], contour[ j ], contour[ k ] );\n\n\t\t}\n\n\t\tvar holesMovements = [],\n\t\t\toneHoleMovements, verticesMovements = contourMovements.concat();\n\n\t\tfor ( h = 0, hl = holes.length; h < hl; h ++ ) {\n\n\t\t\tahole = holes[ h ];\n\n\t\t\toneHoleMovements = [];\n\n\t\t\tfor ( i = 0, il = ahole.length, j = il - 1, k = i + 1; i < il; i ++, j ++, k ++ ) {\n\n\t\t\t\tif ( j === il ) j = 0;\n\t\t\t\tif ( k === il ) k = 0;\n\n\t\t\t\t//  (j)---(i)---(k)\n\t\t\t\toneHoleMovements[ i ] = getBevelVec( ahole[ i ], ahole[ j ], ahole[ k ] );\n\n\t\t\t}\n\n\t\t\tholesMovements.push( oneHoleMovements );\n\t\t\tverticesMovements = verticesMovements.concat( oneHoleMovements );\n\n\t\t}\n\n\n\t\t// Loop bevelSegments, 1 for the front, 1 for the back\n\n\t\tfor ( b = 0; b < bevelSegments; b ++ ) {\n\n\t\t\t//for ( b = bevelSegments; b > 0; b -- ) {\n\n\t\t\tt = b / bevelSegments;\n\t\t\tz = bevelThickness * Math.cos( t * Math.PI / 2 );\n\t\t\tbs = bevelSize * Math.sin( t * Math.PI / 2 ) + bevelOffset;\n\n\t\t\t// contract shape\n\n\t\t\tfor ( i = 0, il = contour.length; i < il; i ++ ) {\n\n\t\t\t\tvert = scalePt2( contour[ i ], contourMovements[ i ], bs );\n\n\t\t\t\tv( vert.x, vert.y, - z );\n\n\t\t\t}\n\n\t\t\t// expand holes\n\n\t\t\tfor ( h = 0, hl = holes.length; h < hl; h ++ ) {\n\n\t\t\t\tahole = holes[ h ];\n\t\t\t\toneHoleMovements = holesMovements[ h ];\n\n\t\t\t\tfor ( i = 0, il = ahole.length; i < il; i ++ ) {\n\n\t\t\t\t\tvert = scalePt2( ahole[ i ], oneHoleMovements[ i ], bs );\n\n\t\t\t\t\tv( vert.x, vert.y, - z );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tbs = bevelSize + bevelOffset;\n\n\t\t// Back facing vertices\n\n\t\tfor ( i = 0; i < vlen; i ++ ) {\n\n\t\t\tvert = bevelEnabled ? scalePt2( vertices[ i ], verticesMovements[ i ], bs ) : vertices[ i ];\n\n\t\t\tif ( ! extrudeByPath ) {\n\n\t\t\t\tv( vert.x, vert.y, 0 );\n\n\t\t\t} else {\n\n\t\t\t\t// v( vert.x, vert.y + extrudePts[ 0 ].y, extrudePts[ 0 ].x );\n\n\t\t\t\tnormal.copy( splineTube.normals[ 0 ] ).multiplyScalar( vert.x );\n\t\t\t\tbinormal.copy( splineTube.binormals[ 0 ] ).multiplyScalar( vert.y );\n\n\t\t\t\tposition2.copy( extrudePts[ 0 ] ).add( normal ).add( binormal );\n\n\t\t\t\tv( position2.x, position2.y, position2.z );\n\n\t\t\t}\n\n\t\t}\n\n\t\t// Add stepped vertices...\n\t\t// Including front facing vertices\n\n\t\tvar s;\n\n\t\tfor ( s = 1; s <= steps; s ++ ) {\n\n\t\t\tfor ( i = 0; i < vlen; i ++ ) {\n\n\t\t\t\tvert = bevelEnabled ? scalePt2( vertices[ i ], verticesMovements[ i ], bs ) : vertices[ i ];\n\n\t\t\t\tif ( ! extrudeByPath ) {\n\n\t\t\t\t\tv( vert.x, vert.y, depth / steps * s );\n\n\t\t\t\t} else {\n\n\t\t\t\t\t// v( vert.x, vert.y + extrudePts[ s - 1 ].y, extrudePts[ s - 1 ].x );\n\n\t\t\t\t\tnormal.copy( splineTube.normals[ s ] ).multiplyScalar( vert.x );\n\t\t\t\t\tbinormal.copy( splineTube.binormals[ s ] ).multiplyScalar( vert.y );\n\n\t\t\t\t\tposition2.copy( extrudePts[ s ] ).add( normal ).add( binormal );\n\n\t\t\t\t\tv( position2.x, position2.y, position2.z );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\n\t\t// Add bevel segments planes\n\n\t\t//for ( b = 1; b <= bevelSegments; b ++ ) {\n\t\tfor ( b = bevelSegments - 1; b >= 0; b -- ) {\n\n\t\t\tt = b / bevelSegments;\n\t\t\tz = bevelThickness * Math.cos( t * Math.PI / 2 );\n\t\t\tbs = bevelSize * Math.sin( t * Math.PI / 2 ) + bevelOffset;\n\n\t\t\t// contract shape\n\n\t\t\tfor ( i = 0, il = contour.length; i < il; i ++ ) {\n\n\t\t\t\tvert = scalePt2( contour[ i ], contourMovements[ i ], bs );\n\t\t\t\tv( vert.x, vert.y, depth + z );\n\n\t\t\t}\n\n\t\t\t// expand holes\n\n\t\t\tfor ( h = 0, hl = holes.length; h < hl; h ++ ) {\n\n\t\t\t\tahole = holes[ h ];\n\t\t\t\toneHoleMovements = holesMovements[ h ];\n\n\t\t\t\tfor ( i = 0, il = ahole.length; i < il; i ++ ) {\n\n\t\t\t\t\tvert = scalePt2( ahole[ i ], oneHoleMovements[ i ], bs );\n\n\t\t\t\t\tif ( ! extrudeByPath ) {\n\n\t\t\t\t\t\tv( vert.x, vert.y, depth + z );\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tv( vert.x, vert.y + extrudePts[ steps - 1 ].y, extrudePts[ steps - 1 ].x + z );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\t/* Faces */\n\n\t\t// Top and bottom faces\n\n\t\tbuildLidFaces();\n\n\t\t// Sides faces\n\n\t\tbuildSideFaces();\n\n\n\t\t/////  Internal functions\n\n\t\tfunction buildLidFaces() {\n\n\t\t\tvar start = verticesArray.length / 3;\n\n\t\t\tif ( bevelEnabled ) {\n\n\t\t\t\tvar layer = 0; // steps + 1\n\t\t\t\tvar offset = vlen * layer;\n\n\t\t\t\t// Bottom faces\n\n\t\t\t\tfor ( i = 0; i < flen; i ++ ) {\n\n\t\t\t\t\tface = faces[ i ];\n\t\t\t\t\tf3( face[ 2 ] + offset, face[ 1 ] + offset, face[ 0 ] + offset );\n\n\t\t\t\t}\n\n\t\t\t\tlayer = steps + bevelSegments * 2;\n\t\t\t\toffset = vlen * layer;\n\n\t\t\t\t// Top faces\n\n\t\t\t\tfor ( i = 0; i < flen; i ++ ) {\n\n\t\t\t\t\tface = faces[ i ];\n\t\t\t\t\tf3( face[ 0 ] + offset, face[ 1 ] + offset, face[ 2 ] + offset );\n\n\t\t\t\t}\n\n\t\t\t} else {\n\n\t\t\t\t// Bottom faces\n\n\t\t\t\tfor ( i = 0; i < flen; i ++ ) {\n\n\t\t\t\t\tface = faces[ i ];\n\t\t\t\t\tf3( face[ 2 ], face[ 1 ], face[ 0 ] );\n\n\t\t\t\t}\n\n\t\t\t\t// Top faces\n\n\t\t\t\tfor ( i = 0; i < flen; i ++ ) {\n\n\t\t\t\t\tface = faces[ i ];\n\t\t\t\t\tf3( face[ 0 ] + vlen * steps, face[ 1 ] + vlen * steps, face[ 2 ] + vlen * steps );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tscope.addGroup( start, verticesArray.length / 3 - start, 0 );\n\n\t\t}\n\n\t\t// Create faces for the z-sides of the shape\n\n\t\tfunction buildSideFaces() {\n\n\t\t\tvar start = verticesArray.length / 3;\n\t\t\tvar layeroffset = 0;\n\t\t\tsidewalls( contour, layeroffset );\n\t\t\tlayeroffset += contour.length;\n\n\t\t\tfor ( h = 0, hl = holes.length; h < hl; h ++ ) {\n\n\t\t\t\tahole = holes[ h ];\n\t\t\t\tsidewalls( ahole, layeroffset );\n\n\t\t\t\t//, true\n\t\t\t\tlayeroffset += ahole.length;\n\n\t\t\t}\n\n\n\t\t\tscope.addGroup( start, verticesArray.length / 3 - start, 1 );\n\n\n\t\t}\n\n\t\tfunction sidewalls( contour, layeroffset ) {\n\n\t\t\tvar j, k;\n\t\t\ti = contour.length;\n\n\t\t\twhile ( -- i >= 0 ) {\n\n\t\t\t\tj = i;\n\t\t\t\tk = i - 1;\n\t\t\t\tif ( k < 0 ) k = contour.length - 1;\n\n\t\t\t\t//console.log('b', i,j, i-1, k,vertices.length);\n\n\t\t\t\tvar s = 0,\n\t\t\t\t\tsl = steps + bevelSegments * 2;\n\n\t\t\t\tfor ( s = 0; s < sl; s ++ ) {\n\n\t\t\t\t\tvar slen1 = vlen * s;\n\t\t\t\t\tvar slen2 = vlen * ( s + 1 );\n\n\t\t\t\t\tvar a = layeroffset + j + slen1,\n\t\t\t\t\t\tb = layeroffset + k + slen1,\n\t\t\t\t\t\tc = layeroffset + k + slen2,\n\t\t\t\t\t\td = layeroffset + j + slen2;\n\n\t\t\t\t\tf4( a, b, c, d );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tfunction v( x, y, z ) {\n\n\t\t\tplaceholder.push( x );\n\t\t\tplaceholder.push( y );\n\t\t\tplaceholder.push( z );\n\n\t\t}\n\n\n\t\tfunction f3( a, b, c ) {\n\n\t\t\taddVertex( a );\n\t\t\taddVertex( b );\n\t\t\taddVertex( c );\n\n\t\t\tvar nextIndex = verticesArray.length / 3;\n\t\t\tvar uvs = uvgen.generateTopUV( scope, verticesArray, nextIndex - 3, nextIndex - 2, nextIndex - 1 );\n\n\t\t\taddUV( uvs[ 0 ] );\n\t\t\taddUV( uvs[ 1 ] );\n\t\t\taddUV( uvs[ 2 ] );\n\n\t\t}\n\n\t\tfunction f4( a, b, c, d ) {\n\n\t\t\taddVertex( a );\n\t\t\taddVertex( b );\n\t\t\taddVertex( d );\n\n\t\t\taddVertex( b );\n\t\t\taddVertex( c );\n\t\t\taddVertex( d );\n\n\n\t\t\tvar nextIndex = verticesArray.length / 3;\n\t\t\tvar uvs = uvgen.generateSideWallUV( scope, verticesArray, nextIndex - 6, nextIndex - 3, nextIndex - 2, nextIndex - 1 );\n\n\t\t\taddUV( uvs[ 0 ] );\n\t\t\taddUV( uvs[ 1 ] );\n\t\t\taddUV( uvs[ 3 ] );\n\n\t\t\taddUV( uvs[ 1 ] );\n\t\t\taddUV( uvs[ 2 ] );\n\t\t\taddUV( uvs[ 3 ] );\n\n\t\t}\n\n\t\tfunction addVertex( index ) {\n\n\t\t\tverticesArray.push( placeholder[ index * 3 + 0 ] );\n\t\t\tverticesArray.push( placeholder[ index * 3 + 1 ] );\n\t\t\tverticesArray.push( placeholder[ index * 3 + 2 ] );\n\n\t\t}\n\n\n\t\tfunction addUV( vector2 ) {\n\n\t\t\tuvArray.push( vector2.x );\n\t\t\tuvArray.push( vector2.y );\n\n\t\t}\n\n\t}\n\n}\n\nExtrudeBufferGeometry.prototype = Object.create( BufferGeometry.prototype );\nExtrudeBufferGeometry.prototype.constructor = ExtrudeBufferGeometry;\n\nExtrudeBufferGeometry.prototype.toJSON = function () {\n\n\tvar data = BufferGeometry.prototype.toJSON.call( this );\n\n\tvar shapes = this.parameters.shapes;\n\tvar options = this.parameters.options;\n\n\treturn toJSON( shapes, options, data );\n\n};\n\n//\n\nvar WorldUVGenerator = {\n\n\tgenerateTopUV: function ( geometry, vertices, indexA, indexB, indexC ) {\n\n\t\tvar a_x = vertices[ indexA * 3 ];\n\t\tvar a_y = vertices[ indexA * 3 + 1 ];\n\t\tvar b_x = vertices[ indexB * 3 ];\n\t\tvar b_y = vertices[ indexB * 3 + 1 ];\n\t\tvar c_x = vertices[ indexC * 3 ];\n\t\tvar c_y = vertices[ indexC * 3 + 1 ];\n\n\t\treturn [\n\t\t\tnew Vector2( a_x, a_y ),\n\t\t\tnew Vector2( b_x, b_y ),\n\t\t\tnew Vector2( c_x, c_y )\n\t\t];\n\n\t},\n\n\tgenerateSideWallUV: function ( geometry, vertices, indexA, indexB, indexC, indexD ) {\n\n\t\tvar a_x = vertices[ indexA * 3 ];\n\t\tvar a_y = vertices[ indexA * 3 + 1 ];\n\t\tvar a_z = vertices[ indexA * 3 + 2 ];\n\t\tvar b_x = vertices[ indexB * 3 ];\n\t\tvar b_y = vertices[ indexB * 3 + 1 ];\n\t\tvar b_z = vertices[ indexB * 3 + 2 ];\n\t\tvar c_x = vertices[ indexC * 3 ];\n\t\tvar c_y = vertices[ indexC * 3 + 1 ];\n\t\tvar c_z = vertices[ indexC * 3 + 2 ];\n\t\tvar d_x = vertices[ indexD * 3 ];\n\t\tvar d_y = vertices[ indexD * 3 + 1 ];\n\t\tvar d_z = vertices[ indexD * 3 + 2 ];\n\n\t\tif ( Math.abs( a_y - b_y ) < 0.01 ) {\n\n\t\t\treturn [\n\t\t\t\tnew Vector2( a_x, 1 - a_z ),\n\t\t\t\tnew Vector2( b_x, 1 - b_z ),\n\t\t\t\tnew Vector2( c_x, 1 - c_z ),\n\t\t\t\tnew Vector2( d_x, 1 - d_z )\n\t\t\t];\n\n\t\t} else {\n\n\t\t\treturn [\n\t\t\t\tnew Vector2( a_y, 1 - a_z ),\n\t\t\t\tnew Vector2( b_y, 1 - b_z ),\n\t\t\t\tnew Vector2( c_y, 1 - c_z ),\n\t\t\t\tnew Vector2( d_y, 1 - d_z )\n\t\t\t];\n\n\t\t}\n\n\t}\n};\n\nfunction toJSON( shapes, options, data ) {\n\n\t//\n\n\tdata.shapes = [];\n\n\tif ( Array.isArray( shapes ) ) {\n\n\t\tfor ( var i = 0, l = shapes.length; i < l; i ++ ) {\n\n\t\t\tvar shape = shapes[ i ];\n\n\t\t\tdata.shapes.push( shape.uuid );\n\n\t\t}\n\n\t} else {\n\n\t\tdata.shapes.push( shapes.uuid );\n\n\t}\n\n\t//\n\n\tif ( options.extrudePath !== undefined ) data.options.extrudePath = options.extrudePath.toJSON();\n\n\treturn data;\n\n}\n\n/**\n * @author zz85 / http://www.lab4games.net/zz85/blog\n * @author alteredq / http://alteredqualia.com/\n *\n * Text = 3D Text\n *\n * parameters = {\n *  font: <THREE.Font>, // font\n *\n *  size: <float>, // size of the text\n *  height: <float>, // thickness to extrude text\n *  curveSegments: <int>, // number of points on the curves\n *\n *  bevelEnabled: <bool>, // turn on bevel\n *  bevelThickness: <float>, // how deep into text bevel goes\n *  bevelSize: <float>, // how far from text outline (including bevelOffset) is bevel\n *  bevelOffset: <float> // how far from text outline does bevel start\n * }\n */\n\n// TextGeometry\n\nfunction TextGeometry( text, parameters ) {\n\n\tGeometry.call( this );\n\n\tthis.type = 'TextGeometry';\n\n\tthis.parameters = {\n\t\ttext: text,\n\t\tparameters: parameters\n\t};\n\n\tthis.fromBufferGeometry( new TextBufferGeometry( text, parameters ) );\n\tthis.mergeVertices();\n\n}\n\nTextGeometry.prototype = Object.create( Geometry.prototype );\nTextGeometry.prototype.constructor = TextGeometry;\n\n// TextBufferGeometry\n\nfunction TextBufferGeometry( text, parameters ) {\n\n\tparameters = parameters || {};\n\n\tvar font = parameters.font;\n\n\tif ( ! ( font && font.isFont ) ) {\n\n\t\tconsole.error( 'THREE.TextGeometry: font parameter is not an instance of THREE.Font.' );\n\t\treturn new Geometry();\n\n\t}\n\n\tvar shapes = font.generateShapes( text, parameters.size );\n\n\t// translate parameters to ExtrudeGeometry API\n\n\tparameters.depth = parameters.height !== undefined ? parameters.height : 50;\n\n\t// defaults\n\n\tif ( parameters.bevelThickness === undefined ) parameters.bevelThickness = 10;\n\tif ( parameters.bevelSize === undefined ) parameters.bevelSize = 8;\n\tif ( parameters.bevelEnabled === undefined ) parameters.bevelEnabled = false;\n\n\tExtrudeBufferGeometry.call( this, shapes, parameters );\n\n\tthis.type = 'TextBufferGeometry';\n\n}\n\nTextBufferGeometry.prototype = Object.create( ExtrudeBufferGeometry.prototype );\nTextBufferGeometry.prototype.constructor = TextBufferGeometry;\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author benaadams / https://twitter.com/ben_a_adams\n * @author Mugen87 / https://github.com/Mugen87\n */\n\n// SphereGeometry\n\nfunction SphereGeometry( radius, widthSegments, heightSegments, phiStart, phiLength, thetaStart, thetaLength ) {\n\n\tGeometry.call( this );\n\n\tthis.type = 'SphereGeometry';\n\n\tthis.parameters = {\n\t\tradius: radius,\n\t\twidthSegments: widthSegments,\n\t\theightSegments: heightSegments,\n\t\tphiStart: phiStart,\n\t\tphiLength: phiLength,\n\t\tthetaStart: thetaStart,\n\t\tthetaLength: thetaLength\n\t};\n\n\tthis.fromBufferGeometry( new SphereBufferGeometry( radius, widthSegments, heightSegments, phiStart, phiLength, thetaStart, thetaLength ) );\n\tthis.mergeVertices();\n\n}\n\nSphereGeometry.prototype = Object.create( Geometry.prototype );\nSphereGeometry.prototype.constructor = SphereGeometry;\n\n// SphereBufferGeometry\n\nfunction SphereBufferGeometry( radius, widthSegments, heightSegments, phiStart, phiLength, thetaStart, thetaLength ) {\n\n\tBufferGeometry.call( this );\n\n\tthis.type = 'SphereBufferGeometry';\n\n\tthis.parameters = {\n\t\tradius: radius,\n\t\twidthSegments: widthSegments,\n\t\theightSegments: heightSegments,\n\t\tphiStart: phiStart,\n\t\tphiLength: phiLength,\n\t\tthetaStart: thetaStart,\n\t\tthetaLength: thetaLength\n\t};\n\n\tradius = radius || 1;\n\n\twidthSegments = Math.max( 3, Math.floor( widthSegments ) || 8 );\n\theightSegments = Math.max( 2, Math.floor( heightSegments ) || 6 );\n\n\tphiStart = phiStart !== undefined ? phiStart : 0;\n\tphiLength = phiLength !== undefined ? phiLength : Math.PI * 2;\n\n\tthetaStart = thetaStart !== undefined ? thetaStart : 0;\n\tthetaLength = thetaLength !== undefined ? thetaLength : Math.PI;\n\n\tvar thetaEnd = Math.min( thetaStart + thetaLength, Math.PI );\n\n\tvar ix, iy;\n\n\tvar index = 0;\n\tvar grid = [];\n\n\tvar vertex = new Vector3();\n\tvar normal = new Vector3();\n\n\t// buffers\n\n\tvar indices = [];\n\tvar vertices = [];\n\tvar normals = [];\n\tvar uvs = [];\n\n\t// generate vertices, normals and uvs\n\n\tfor ( iy = 0; iy <= heightSegments; iy ++ ) {\n\n\t\tvar verticesRow = [];\n\n\t\tvar v = iy / heightSegments;\n\n\t\t// special case for the poles\n\n\t\tvar uOffset = 0;\n\n\t\tif ( iy == 0 && thetaStart == 0 ) {\n\n\t\t\tuOffset = 0.5 / widthSegments;\n\n\t\t} else if ( iy == heightSegments && thetaEnd == Math.PI ) {\n\n\t\t\tuOffset = - 0.5 / widthSegments;\n\n\t\t}\n\n\t\tfor ( ix = 0; ix <= widthSegments; ix ++ ) {\n\n\t\t\tvar u = ix / widthSegments;\n\n\t\t\t// vertex\n\n\t\t\tvertex.x = - radius * Math.cos( phiStart + u * phiLength ) * Math.sin( thetaStart + v * thetaLength );\n\t\t\tvertex.y = radius * Math.cos( thetaStart + v * thetaLength );\n\t\t\tvertex.z = radius * Math.sin( phiStart + u * phiLength ) * Math.sin( thetaStart + v * thetaLength );\n\n\t\t\tvertices.push( vertex.x, vertex.y, vertex.z );\n\n\t\t\t// normal\n\n\t\t\tnormal.copy( vertex ).normalize();\n\t\t\tnormals.push( normal.x, normal.y, normal.z );\n\n\t\t\t// uv\n\n\t\t\tuvs.push( u + uOffset, 1 - v );\n\n\t\t\tverticesRow.push( index ++ );\n\n\t\t}\n\n\t\tgrid.push( verticesRow );\n\n\t}\n\n\t// indices\n\n\tfor ( iy = 0; iy < heightSegments; iy ++ ) {\n\n\t\tfor ( ix = 0; ix < widthSegments; ix ++ ) {\n\n\t\t\tvar a = grid[ iy ][ ix + 1 ];\n\t\t\tvar b = grid[ iy ][ ix ];\n\t\t\tvar c = grid[ iy + 1 ][ ix ];\n\t\t\tvar d = grid[ iy + 1 ][ ix + 1 ];\n\n\t\t\tif ( iy !== 0 || thetaStart > 0 ) indices.push( a, b, d );\n\t\t\tif ( iy !== heightSegments - 1 || thetaEnd < Math.PI ) indices.push( b, c, d );\n\n\t\t}\n\n\t}\n\n\t// build geometry\n\n\tthis.setIndex( indices );\n\tthis.addAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\n\tthis.addAttribute( 'normal', new Float32BufferAttribute( normals, 3 ) );\n\tthis.addAttribute( 'uv', new Float32BufferAttribute( uvs, 2 ) );\n\n}\n\nSphereBufferGeometry.prototype = Object.create( BufferGeometry.prototype );\nSphereBufferGeometry.prototype.constructor = SphereBufferGeometry;\n\n/**\n * @author Kaleb Murphy\n * @author Mugen87 / https://github.com/Mugen87\n */\n\n// RingGeometry\n\nfunction RingGeometry( innerRadius, outerRadius, thetaSegments, phiSegments, thetaStart, thetaLength ) {\n\n\tGeometry.call( this );\n\n\tthis.type = 'RingGeometry';\n\n\tthis.parameters = {\n\t\tinnerRadius: innerRadius,\n\t\touterRadius: outerRadius,\n\t\tthetaSegments: thetaSegments,\n\t\tphiSegments: phiSegments,\n\t\tthetaStart: thetaStart,\n\t\tthetaLength: thetaLength\n\t};\n\n\tthis.fromBufferGeometry( new RingBufferGeometry( innerRadius, outerRadius, thetaSegments, phiSegments, thetaStart, thetaLength ) );\n\tthis.mergeVertices();\n\n}\n\nRingGeometry.prototype = Object.create( Geometry.prototype );\nRingGeometry.prototype.constructor = RingGeometry;\n\n// RingBufferGeometry\n\nfunction RingBufferGeometry( innerRadius, outerRadius, thetaSegments, phiSegments, thetaStart, thetaLength ) {\n\n\tBufferGeometry.call( this );\n\n\tthis.type = 'RingBufferGeometry';\n\n\tthis.parameters = {\n\t\tinnerRadius: innerRadius,\n\t\touterRadius: outerRadius,\n\t\tthetaSegments: thetaSegments,\n\t\tphiSegments: phiSegments,\n\t\tthetaStart: thetaStart,\n\t\tthetaLength: thetaLength\n\t};\n\n\tinnerRadius = innerRadius || 0.5;\n\touterRadius = outerRadius || 1;\n\n\tthetaStart = thetaStart !== undefined ? thetaStart : 0;\n\tthetaLength = thetaLength !== undefined ? thetaLength : Math.PI * 2;\n\n\tthetaSegments = thetaSegments !== undefined ? Math.max( 3, thetaSegments ) : 8;\n\tphiSegments = phiSegments !== undefined ? Math.max( 1, phiSegments ) : 1;\n\n\t// buffers\n\n\tvar indices = [];\n\tvar vertices = [];\n\tvar normals = [];\n\tvar uvs = [];\n\n\t// some helper variables\n\n\tvar segment;\n\tvar radius = innerRadius;\n\tvar radiusStep = ( ( outerRadius - innerRadius ) / phiSegments );\n\tvar vertex = new Vector3();\n\tvar uv = new Vector2();\n\tvar j, i;\n\n\t// generate vertices, normals and uvs\n\n\tfor ( j = 0; j <= phiSegments; j ++ ) {\n\n\t\tfor ( i = 0; i <= thetaSegments; i ++ ) {\n\n\t\t\t// values are generate from the inside of the ring to the outside\n\n\t\t\tsegment = thetaStart + i / thetaSegments * thetaLength;\n\n\t\t\t// vertex\n\n\t\t\tvertex.x = radius * Math.cos( segment );\n\t\t\tvertex.y = radius * Math.sin( segment );\n\n\t\t\tvertices.push( vertex.x, vertex.y, vertex.z );\n\n\t\t\t// normal\n\n\t\t\tnormals.push( 0, 0, 1 );\n\n\t\t\t// uv\n\n\t\t\tuv.x = ( vertex.x / outerRadius + 1 ) / 2;\n\t\t\tuv.y = ( vertex.y / outerRadius + 1 ) / 2;\n\n\t\t\tuvs.push( uv.x, uv.y );\n\n\t\t}\n\n\t\t// increase the radius for next row of vertices\n\n\t\tradius += radiusStep;\n\n\t}\n\n\t// indices\n\n\tfor ( j = 0; j < phiSegments; j ++ ) {\n\n\t\tvar thetaSegmentLevel = j * ( thetaSegments + 1 );\n\n\t\tfor ( i = 0; i < thetaSegments; i ++ ) {\n\n\t\t\tsegment = i + thetaSegmentLevel;\n\n\t\t\tvar a = segment;\n\t\t\tvar b = segment + thetaSegments + 1;\n\t\t\tvar c = segment + thetaSegments + 2;\n\t\t\tvar d = segment + 1;\n\n\t\t\t// faces\n\n\t\t\tindices.push( a, b, d );\n\t\t\tindices.push( b, c, d );\n\n\t\t}\n\n\t}\n\n\t// build geometry\n\n\tthis.setIndex( indices );\n\tthis.addAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\n\tthis.addAttribute( 'normal', new Float32BufferAttribute( normals, 3 ) );\n\tthis.addAttribute( 'uv', new Float32BufferAttribute( uvs, 2 ) );\n\n}\n\nRingBufferGeometry.prototype = Object.create( BufferGeometry.prototype );\nRingBufferGeometry.prototype.constructor = RingBufferGeometry;\n\n/**\n * @author zz85 / https://github.com/zz85\n * @author bhouston / http://clara.io\n * @author Mugen87 / https://github.com/Mugen87\n */\n\n// LatheGeometry\n\nfunction LatheGeometry( points, segments, phiStart, phiLength ) {\n\n\tGeometry.call( this );\n\n\tthis.type = 'LatheGeometry';\n\n\tthis.parameters = {\n\t\tpoints: points,\n\t\tsegments: segments,\n\t\tphiStart: phiStart,\n\t\tphiLength: phiLength\n\t};\n\n\tthis.fromBufferGeometry( new LatheBufferGeometry( points, segments, phiStart, phiLength ) );\n\tthis.mergeVertices();\n\n}\n\nLatheGeometry.prototype = Object.create( Geometry.prototype );\nLatheGeometry.prototype.constructor = LatheGeometry;\n\n// LatheBufferGeometry\n\nfunction LatheBufferGeometry( points, segments, phiStart, phiLength ) {\n\n\tBufferGeometry.call( this );\n\n\tthis.type = 'LatheBufferGeometry';\n\n\tthis.parameters = {\n\t\tpoints: points,\n\t\tsegments: segments,\n\t\tphiStart: phiStart,\n\t\tphiLength: phiLength\n\t};\n\n\tsegments = Math.floor( segments ) || 12;\n\tphiStart = phiStart || 0;\n\tphiLength = phiLength || Math.PI * 2;\n\n\t// clamp phiLength so it's in range of [ 0, 2PI ]\n\n\tphiLength = _Math.clamp( phiLength, 0, Math.PI * 2 );\n\n\n\t// buffers\n\n\tvar indices = [];\n\tvar vertices = [];\n\tvar uvs = [];\n\n\t// helper variables\n\n\tvar base;\n\tvar inverseSegments = 1.0 / segments;\n\tvar vertex = new Vector3();\n\tvar uv = new Vector2();\n\tvar i, j;\n\n\t// generate vertices and uvs\n\n\tfor ( i = 0; i <= segments; i ++ ) {\n\n\t\tvar phi = phiStart + i * inverseSegments * phiLength;\n\n\t\tvar sin = Math.sin( phi );\n\t\tvar cos = Math.cos( phi );\n\n\t\tfor ( j = 0; j <= ( points.length - 1 ); j ++ ) {\n\n\t\t\t// vertex\n\n\t\t\tvertex.x = points[ j ].x * sin;\n\t\t\tvertex.y = points[ j ].y;\n\t\t\tvertex.z = points[ j ].x * cos;\n\n\t\t\tvertices.push( vertex.x, vertex.y, vertex.z );\n\n\t\t\t// uv\n\n\t\t\tuv.x = i / segments;\n\t\t\tuv.y = j / ( points.length - 1 );\n\n\t\t\tuvs.push( uv.x, uv.y );\n\n\n\t\t}\n\n\t}\n\n\t// indices\n\n\tfor ( i = 0; i < segments; i ++ ) {\n\n\t\tfor ( j = 0; j < ( points.length - 1 ); j ++ ) {\n\n\t\t\tbase = j + i * points.length;\n\n\t\t\tvar a = base;\n\t\t\tvar b = base + points.length;\n\t\t\tvar c = base + points.length + 1;\n\t\t\tvar d = base + 1;\n\n\t\t\t// faces\n\n\t\t\tindices.push( a, b, d );\n\t\t\tindices.push( b, c, d );\n\n\t\t}\n\n\t}\n\n\t// build geometry\n\n\tthis.setIndex( indices );\n\tthis.addAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\n\tthis.addAttribute( 'uv', new Float32BufferAttribute( uvs, 2 ) );\n\n\t// generate normals\n\n\tthis.computeVertexNormals();\n\n\t// if the geometry is closed, we need to average the normals along the seam.\n\t// because the corresponding vertices are identical (but still have different UVs).\n\n\tif ( phiLength === Math.PI * 2 ) {\n\n\t\tvar normals = this.attributes.normal.array;\n\t\tvar n1 = new Vector3();\n\t\tvar n2 = new Vector3();\n\t\tvar n = new Vector3();\n\n\t\t// this is the buffer offset for the last line of vertices\n\n\t\tbase = segments * points.length * 3;\n\n\t\tfor ( i = 0, j = 0; i < points.length; i ++, j += 3 ) {\n\n\t\t\t// select the normal of the vertex in the first line\n\n\t\t\tn1.x = normals[ j + 0 ];\n\t\t\tn1.y = normals[ j + 1 ];\n\t\t\tn1.z = normals[ j + 2 ];\n\n\t\t\t// select the normal of the vertex in the last line\n\n\t\t\tn2.x = normals[ base + j + 0 ];\n\t\t\tn2.y = normals[ base + j + 1 ];\n\t\t\tn2.z = normals[ base + j + 2 ];\n\n\t\t\t// average normals\n\n\t\t\tn.addVectors( n1, n2 ).normalize();\n\n\t\t\t// assign the new values to both normals\n\n\t\t\tnormals[ j + 0 ] = normals[ base + j + 0 ] = n.x;\n\t\t\tnormals[ j + 1 ] = normals[ base + j + 1 ] = n.y;\n\t\t\tnormals[ j + 2 ] = normals[ base + j + 2 ] = n.z;\n\n\t\t}\n\n\t}\n\n}\n\nLatheBufferGeometry.prototype = Object.create( BufferGeometry.prototype );\nLatheBufferGeometry.prototype.constructor = LatheBufferGeometry;\n\n/**\n * @author jonobr1 / http://jonobr1.com\n * @author Mugen87 / https://github.com/Mugen87\n */\n\n// ShapeGeometry\n\nfunction ShapeGeometry( shapes, curveSegments ) {\n\n\tGeometry.call( this );\n\n\tthis.type = 'ShapeGeometry';\n\n\tif ( typeof curveSegments === 'object' ) {\n\n\t\tconsole.warn( 'THREE.ShapeGeometry: Options parameter has been removed.' );\n\n\t\tcurveSegments = curveSegments.curveSegments;\n\n\t}\n\n\tthis.parameters = {\n\t\tshapes: shapes,\n\t\tcurveSegments: curveSegments\n\t};\n\n\tthis.fromBufferGeometry( new ShapeBufferGeometry( shapes, curveSegments ) );\n\tthis.mergeVertices();\n\n}\n\nShapeGeometry.prototype = Object.create( Geometry.prototype );\nShapeGeometry.prototype.constructor = ShapeGeometry;\n\nShapeGeometry.prototype.toJSON = function () {\n\n\tvar data = Geometry.prototype.toJSON.call( this );\n\n\tvar shapes = this.parameters.shapes;\n\n\treturn toJSON$1( shapes, data );\n\n};\n\n// ShapeBufferGeometry\n\nfunction ShapeBufferGeometry( shapes, curveSegments ) {\n\n\tBufferGeometry.call( this );\n\n\tthis.type = 'ShapeBufferGeometry';\n\n\tthis.parameters = {\n\t\tshapes: shapes,\n\t\tcurveSegments: curveSegments\n\t};\n\n\tcurveSegments = curveSegments || 12;\n\n\t// buffers\n\n\tvar indices = [];\n\tvar vertices = [];\n\tvar normals = [];\n\tvar uvs = [];\n\n\t// helper variables\n\n\tvar groupStart = 0;\n\tvar groupCount = 0;\n\n\t// allow single and array values for \"shapes\" parameter\n\n\tif ( Array.isArray( shapes ) === false ) {\n\n\t\taddShape( shapes );\n\n\t} else {\n\n\t\tfor ( var i = 0; i < shapes.length; i ++ ) {\n\n\t\t\taddShape( shapes[ i ] );\n\n\t\t\tthis.addGroup( groupStart, groupCount, i ); // enables MultiMaterial support\n\n\t\t\tgroupStart += groupCount;\n\t\t\tgroupCount = 0;\n\n\t\t}\n\n\t}\n\n\t// build geometry\n\n\tthis.setIndex( indices );\n\tthis.addAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\n\tthis.addAttribute( 'normal', new Float32BufferAttribute( normals, 3 ) );\n\tthis.addAttribute( 'uv', new Float32BufferAttribute( uvs, 2 ) );\n\n\n\t// helper functions\n\n\tfunction addShape( shape ) {\n\n\t\tvar i, l, shapeHole;\n\n\t\tvar indexOffset = vertices.length / 3;\n\t\tvar points = shape.extractPoints( curveSegments );\n\n\t\tvar shapeVertices = points.shape;\n\t\tvar shapeHoles = points.holes;\n\n\t\t// check direction of vertices\n\n\t\tif ( ShapeUtils.isClockWise( shapeVertices ) === false ) {\n\n\t\t\tshapeVertices = shapeVertices.reverse();\n\n\t\t}\n\n\t\tfor ( i = 0, l = shapeHoles.length; i < l; i ++ ) {\n\n\t\t\tshapeHole = shapeHoles[ i ];\n\n\t\t\tif ( ShapeUtils.isClockWise( shapeHole ) === true ) {\n\n\t\t\t\tshapeHoles[ i ] = shapeHole.reverse();\n\n\t\t\t}\n\n\t\t}\n\n\t\tvar faces = ShapeUtils.triangulateShape( shapeVertices, shapeHoles );\n\n\t\t// join vertices of inner and outer paths to a single array\n\n\t\tfor ( i = 0, l = shapeHoles.length; i < l; i ++ ) {\n\n\t\t\tshapeHole = shapeHoles[ i ];\n\t\t\tshapeVertices = shapeVertices.concat( shapeHole );\n\n\t\t}\n\n\t\t// vertices, normals, uvs\n\n\t\tfor ( i = 0, l = shapeVertices.length; i < l; i ++ ) {\n\n\t\t\tvar vertex = shapeVertices[ i ];\n\n\t\t\tvertices.push( vertex.x, vertex.y, 0 );\n\t\t\tnormals.push( 0, 0, 1 );\n\t\t\tuvs.push( vertex.x, vertex.y ); // world uvs\n\n\t\t}\n\n\t\t// incides\n\n\t\tfor ( i = 0, l = faces.length; i < l; i ++ ) {\n\n\t\t\tvar face = faces[ i ];\n\n\t\t\tvar a = face[ 0 ] + indexOffset;\n\t\t\tvar b = face[ 1 ] + indexOffset;\n\t\t\tvar c = face[ 2 ] + indexOffset;\n\n\t\t\tindices.push( a, b, c );\n\t\t\tgroupCount += 3;\n\n\t\t}\n\n\t}\n\n}\n\nShapeBufferGeometry.prototype = Object.create( BufferGeometry.prototype );\nShapeBufferGeometry.prototype.constructor = ShapeBufferGeometry;\n\nShapeBufferGeometry.prototype.toJSON = function () {\n\n\tvar data = BufferGeometry.prototype.toJSON.call( this );\n\n\tvar shapes = this.parameters.shapes;\n\n\treturn toJSON$1( shapes, data );\n\n};\n\n//\n\nfunction toJSON$1( shapes, data ) {\n\n\tdata.shapes = [];\n\n\tif ( Array.isArray( shapes ) ) {\n\n\t\tfor ( var i = 0, l = shapes.length; i < l; i ++ ) {\n\n\t\t\tvar shape = shapes[ i ];\n\n\t\t\tdata.shapes.push( shape.uuid );\n\n\t\t}\n\n\t} else {\n\n\t\tdata.shapes.push( shapes.uuid );\n\n\t}\n\n\treturn data;\n\n}\n\n/**\n * @author WestLangley / http://github.com/WestLangley\n * @author Mugen87 / https://github.com/Mugen87\n */\n\nfunction EdgesGeometry( geometry, thresholdAngle ) {\n\n\tBufferGeometry.call( this );\n\n\tthis.type = 'EdgesGeometry';\n\n\tthis.parameters = {\n\t\tthresholdAngle: thresholdAngle\n\t};\n\n\tthresholdAngle = ( thresholdAngle !== undefined ) ? thresholdAngle : 1;\n\n\t// buffer\n\n\tvar vertices = [];\n\n\t// helper variables\n\n\tvar thresholdDot = Math.cos( _Math.DEG2RAD * thresholdAngle );\n\tvar edge = [ 0, 0 ], edges = {}, edge1, edge2;\n\tvar key, keys = [ 'a', 'b', 'c' ];\n\n\t// prepare source geometry\n\n\tvar geometry2;\n\n\tif ( geometry.isBufferGeometry ) {\n\n\t\tgeometry2 = new Geometry();\n\t\tgeometry2.fromBufferGeometry( geometry );\n\n\t} else {\n\n\t\tgeometry2 = geometry.clone();\n\n\t}\n\n\tgeometry2.mergeVertices();\n\tgeometry2.computeFaceNormals();\n\n\tvar sourceVertices = geometry2.vertices;\n\tvar faces = geometry2.faces;\n\n\t// now create a data structure where each entry represents an edge with its adjoining faces\n\n\tfor ( var i = 0, l = faces.length; i < l; i ++ ) {\n\n\t\tvar face = faces[ i ];\n\n\t\tfor ( var j = 0; j < 3; j ++ ) {\n\n\t\t\tedge1 = face[ keys[ j ] ];\n\t\t\tedge2 = face[ keys[ ( j + 1 ) % 3 ] ];\n\t\t\tedge[ 0 ] = Math.min( edge1, edge2 );\n\t\t\tedge[ 1 ] = Math.max( edge1, edge2 );\n\n\t\t\tkey = edge[ 0 ] + ',' + edge[ 1 ];\n\n\t\t\tif ( edges[ key ] === undefined ) {\n\n\t\t\t\tedges[ key ] = { index1: edge[ 0 ], index2: edge[ 1 ], face1: i, face2: undefined };\n\n\t\t\t} else {\n\n\t\t\t\tedges[ key ].face2 = i;\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\t// generate vertices\n\n\tfor ( key in edges ) {\n\n\t\tvar e = edges[ key ];\n\n\t\t// an edge is only rendered if the angle (in degrees) between the face normals of the adjoining faces exceeds this value. default = 1 degree.\n\n\t\tif ( e.face2 === undefined || faces[ e.face1 ].normal.dot( faces[ e.face2 ].normal ) <= thresholdDot ) {\n\n\t\t\tvar vertex = sourceVertices[ e.index1 ];\n\t\t\tvertices.push( vertex.x, vertex.y, vertex.z );\n\n\t\t\tvertex = sourceVertices[ e.index2 ];\n\t\t\tvertices.push( vertex.x, vertex.y, vertex.z );\n\n\t\t}\n\n\t}\n\n\t// build geometry\n\n\tthis.addAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\n\n}\n\nEdgesGeometry.prototype = Object.create( BufferGeometry.prototype );\nEdgesGeometry.prototype.constructor = EdgesGeometry;\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author Mugen87 / https://github.com/Mugen87\n */\n\n// CylinderGeometry\n\nfunction CylinderGeometry( radiusTop, radiusBottom, height, radialSegments, heightSegments, openEnded, thetaStart, thetaLength ) {\n\n\tGeometry.call( this );\n\n\tthis.type = 'CylinderGeometry';\n\n\tthis.parameters = {\n\t\tradiusTop: radiusTop,\n\t\tradiusBottom: radiusBottom,\n\t\theight: height,\n\t\tradialSegments: radialSegments,\n\t\theightSegments: heightSegments,\n\t\topenEnded: openEnded,\n\t\tthetaStart: thetaStart,\n\t\tthetaLength: thetaLength\n\t};\n\n\tthis.fromBufferGeometry( new CylinderBufferGeometry( radiusTop, radiusBottom, height, radialSegments, heightSegments, openEnded, thetaStart, thetaLength ) );\n\tthis.mergeVertices();\n\n}\n\nCylinderGeometry.prototype = Object.create( Geometry.prototype );\nCylinderGeometry.prototype.constructor = CylinderGeometry;\n\n// CylinderBufferGeometry\n\nfunction CylinderBufferGeometry( radiusTop, radiusBottom, height, radialSegments, heightSegments, openEnded, thetaStart, thetaLength ) {\n\n\tBufferGeometry.call( this );\n\n\tthis.type = 'CylinderBufferGeometry';\n\n\tthis.parameters = {\n\t\tradiusTop: radiusTop,\n\t\tradiusBottom: radiusBottom,\n\t\theight: height,\n\t\tradialSegments: radialSegments,\n\t\theightSegments: heightSegments,\n\t\topenEnded: openEnded,\n\t\tthetaStart: thetaStart,\n\t\tthetaLength: thetaLength\n\t};\n\n\tvar scope = this;\n\n\tradiusTop = radiusTop !== undefined ? radiusTop : 1;\n\tradiusBottom = radiusBottom !== undefined ? radiusBottom : 1;\n\theight = height || 1;\n\n\tradialSegments = Math.floor( radialSegments ) || 8;\n\theightSegments = Math.floor( heightSegments ) || 1;\n\n\topenEnded = openEnded !== undefined ? openEnded : false;\n\tthetaStart = thetaStart !== undefined ? thetaStart : 0.0;\n\tthetaLength = thetaLength !== undefined ? thetaLength : Math.PI * 2;\n\n\t// buffers\n\n\tvar indices = [];\n\tvar vertices = [];\n\tvar normals = [];\n\tvar uvs = [];\n\n\t// helper variables\n\n\tvar index = 0;\n\tvar indexArray = [];\n\tvar halfHeight = height / 2;\n\tvar groupStart = 0;\n\n\t// generate geometry\n\n\tgenerateTorso();\n\n\tif ( openEnded === false ) {\n\n\t\tif ( radiusTop > 0 ) generateCap( true );\n\t\tif ( radiusBottom > 0 ) generateCap( false );\n\n\t}\n\n\t// build geometry\n\n\tthis.setIndex( indices );\n\tthis.addAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\n\tthis.addAttribute( 'normal', new Float32BufferAttribute( normals, 3 ) );\n\tthis.addAttribute( 'uv', new Float32BufferAttribute( uvs, 2 ) );\n\n\tfunction generateTorso() {\n\n\t\tvar x, y;\n\t\tvar normal = new Vector3();\n\t\tvar vertex = new Vector3();\n\n\t\tvar groupCount = 0;\n\n\t\t// this will be used to calculate the normal\n\t\tvar slope = ( radiusBottom - radiusTop ) / height;\n\n\t\t// generate vertices, normals and uvs\n\n\t\tfor ( y = 0; y <= heightSegments; y ++ ) {\n\n\t\t\tvar indexRow = [];\n\n\t\t\tvar v = y / heightSegments;\n\n\t\t\t// calculate the radius of the current row\n\n\t\t\tvar radius = v * ( radiusBottom - radiusTop ) + radiusTop;\n\n\t\t\tfor ( x = 0; x <= radialSegments; x ++ ) {\n\n\t\t\t\tvar u = x / radialSegments;\n\n\t\t\t\tvar theta = u * thetaLength + thetaStart;\n\n\t\t\t\tvar sinTheta = Math.sin( theta );\n\t\t\t\tvar cosTheta = Math.cos( theta );\n\n\t\t\t\t// vertex\n\n\t\t\t\tvertex.x = radius * sinTheta;\n\t\t\t\tvertex.y = - v * height + halfHeight;\n\t\t\t\tvertex.z = radius * cosTheta;\n\t\t\t\tvertices.push( vertex.x, vertex.y, vertex.z );\n\n\t\t\t\t// normal\n\n\t\t\t\tnormal.set( sinTheta, slope, cosTheta ).normalize();\n\t\t\t\tnormals.push( normal.x, normal.y, normal.z );\n\n\t\t\t\t// uv\n\n\t\t\t\tuvs.push( u, 1 - v );\n\n\t\t\t\t// save index of vertex in respective row\n\n\t\t\t\tindexRow.push( index ++ );\n\n\t\t\t}\n\n\t\t\t// now save vertices of the row in our index array\n\n\t\t\tindexArray.push( indexRow );\n\n\t\t}\n\n\t\t// generate indices\n\n\t\tfor ( x = 0; x < radialSegments; x ++ ) {\n\n\t\t\tfor ( y = 0; y < heightSegments; y ++ ) {\n\n\t\t\t\t// we use the index array to access the correct indices\n\n\t\t\t\tvar a = indexArray[ y ][ x ];\n\t\t\t\tvar b = indexArray[ y + 1 ][ x ];\n\t\t\t\tvar c = indexArray[ y + 1 ][ x + 1 ];\n\t\t\t\tvar d = indexArray[ y ][ x + 1 ];\n\n\t\t\t\t// faces\n\n\t\t\t\tindices.push( a, b, d );\n\t\t\t\tindices.push( b, c, d );\n\n\t\t\t\t// update group counter\n\n\t\t\t\tgroupCount += 6;\n\n\t\t\t}\n\n\t\t}\n\n\t\t// add a group to the geometry. this will ensure multi material support\n\n\t\tscope.addGroup( groupStart, groupCount, 0 );\n\n\t\t// calculate new start value for groups\n\n\t\tgroupStart += groupCount;\n\n\t}\n\n\tfunction generateCap( top ) {\n\n\t\tvar x, centerIndexStart, centerIndexEnd;\n\n\t\tvar uv = new Vector2();\n\t\tvar vertex = new Vector3();\n\n\t\tvar groupCount = 0;\n\n\t\tvar radius = ( top === true ) ? radiusTop : radiusBottom;\n\t\tvar sign = ( top === true ) ? 1 : - 1;\n\n\t\t// save the index of the first center vertex\n\t\tcenterIndexStart = index;\n\n\t\t// first we generate the center vertex data of the cap.\n\t\t// because the geometry needs one set of uvs per face,\n\t\t// we must generate a center vertex per face/segment\n\n\t\tfor ( x = 1; x <= radialSegments; x ++ ) {\n\n\t\t\t// vertex\n\n\t\t\tvertices.push( 0, halfHeight * sign, 0 );\n\n\t\t\t// normal\n\n\t\t\tnormals.push( 0, sign, 0 );\n\n\t\t\t// uv\n\n\t\t\tuvs.push( 0.5, 0.5 );\n\n\t\t\t// increase index\n\n\t\t\tindex ++;\n\n\t\t}\n\n\t\t// save the index of the last center vertex\n\n\t\tcenterIndexEnd = index;\n\n\t\t// now we generate the surrounding vertices, normals and uvs\n\n\t\tfor ( x = 0; x <= radialSegments; x ++ ) {\n\n\t\t\tvar u = x / radialSegments;\n\t\t\tvar theta = u * thetaLength + thetaStart;\n\n\t\t\tvar cosTheta = Math.cos( theta );\n\t\t\tvar sinTheta = Math.sin( theta );\n\n\t\t\t// vertex\n\n\t\t\tvertex.x = radius * sinTheta;\n\t\t\tvertex.y = halfHeight * sign;\n\t\t\tvertex.z = radius * cosTheta;\n\t\t\tvertices.push( vertex.x, vertex.y, vertex.z );\n\n\t\t\t// normal\n\n\t\t\tnormals.push( 0, sign, 0 );\n\n\t\t\t// uv\n\n\t\t\tuv.x = ( cosTheta * 0.5 ) + 0.5;\n\t\t\tuv.y = ( sinTheta * 0.5 * sign ) + 0.5;\n\t\t\tuvs.push( uv.x, uv.y );\n\n\t\t\t// increase index\n\n\t\t\tindex ++;\n\n\t\t}\n\n\t\t// generate indices\n\n\t\tfor ( x = 0; x < radialSegments; x ++ ) {\n\n\t\t\tvar c = centerIndexStart + x;\n\t\t\tvar i = centerIndexEnd + x;\n\n\t\t\tif ( top === true ) {\n\n\t\t\t\t// face top\n\n\t\t\t\tindices.push( i, i + 1, c );\n\n\t\t\t} else {\n\n\t\t\t\t// face bottom\n\n\t\t\t\tindices.push( i + 1, i, c );\n\n\t\t\t}\n\n\t\t\tgroupCount += 3;\n\n\t\t}\n\n\t\t// add a group to the geometry. this will ensure multi material support\n\n\t\tscope.addGroup( groupStart, groupCount, top === true ? 1 : 2 );\n\n\t\t// calculate new start value for groups\n\n\t\tgroupStart += groupCount;\n\n\t}\n\n}\n\nCylinderBufferGeometry.prototype = Object.create( BufferGeometry.prototype );\nCylinderBufferGeometry.prototype.constructor = CylinderBufferGeometry;\n\n/**\n * @author abelnation / http://github.com/abelnation\n */\n\n// ConeGeometry\n\nfunction ConeGeometry( radius, height, radialSegments, heightSegments, openEnded, thetaStart, thetaLength ) {\n\n\tCylinderGeometry.call( this, 0, radius, height, radialSegments, heightSegments, openEnded, thetaStart, thetaLength );\n\n\tthis.type = 'ConeGeometry';\n\n\tthis.parameters = {\n\t\tradius: radius,\n\t\theight: height,\n\t\tradialSegments: radialSegments,\n\t\theightSegments: heightSegments,\n\t\topenEnded: openEnded,\n\t\tthetaStart: thetaStart,\n\t\tthetaLength: thetaLength\n\t};\n\n}\n\nConeGeometry.prototype = Object.create( CylinderGeometry.prototype );\nConeGeometry.prototype.constructor = ConeGeometry;\n\n// ConeBufferGeometry\n\nfunction ConeBufferGeometry( radius, height, radialSegments, heightSegments, openEnded, thetaStart, thetaLength ) {\n\n\tCylinderBufferGeometry.call( this, 0, radius, height, radialSegments, heightSegments, openEnded, thetaStart, thetaLength );\n\n\tthis.type = 'ConeBufferGeometry';\n\n\tthis.parameters = {\n\t\tradius: radius,\n\t\theight: height,\n\t\tradialSegments: radialSegments,\n\t\theightSegments: heightSegments,\n\t\topenEnded: openEnded,\n\t\tthetaStart: thetaStart,\n\t\tthetaLength: thetaLength\n\t};\n\n}\n\nConeBufferGeometry.prototype = Object.create( CylinderBufferGeometry.prototype );\nConeBufferGeometry.prototype.constructor = ConeBufferGeometry;\n\n/**\n * @author benaadams / https://twitter.com/ben_a_adams\n * @author Mugen87 / https://github.com/Mugen87\n * @author hughes\n */\n\n// CircleGeometry\n\nfunction CircleGeometry( radius, segments, thetaStart, thetaLength ) {\n\n\tGeometry.call( this );\n\n\tthis.type = 'CircleGeometry';\n\n\tthis.parameters = {\n\t\tradius: radius,\n\t\tsegments: segments,\n\t\tthetaStart: thetaStart,\n\t\tthetaLength: thetaLength\n\t};\n\n\tthis.fromBufferGeometry( new CircleBufferGeometry( radius, segments, thetaStart, thetaLength ) );\n\tthis.mergeVertices();\n\n}\n\nCircleGeometry.prototype = Object.create( Geometry.prototype );\nCircleGeometry.prototype.constructor = CircleGeometry;\n\n// CircleBufferGeometry\n\nfunction CircleBufferGeometry( radius, segments, thetaStart, thetaLength ) {\n\n\tBufferGeometry.call( this );\n\n\tthis.type = 'CircleBufferGeometry';\n\n\tthis.parameters = {\n\t\tradius: radius,\n\t\tsegments: segments,\n\t\tthetaStart: thetaStart,\n\t\tthetaLength: thetaLength\n\t};\n\n\tradius = radius || 1;\n\tsegments = segments !== undefined ? Math.max( 3, segments ) : 8;\n\n\tthetaStart = thetaStart !== undefined ? thetaStart : 0;\n\tthetaLength = thetaLength !== undefined ? thetaLength : Math.PI * 2;\n\n\t// buffers\n\n\tvar indices = [];\n\tvar vertices = [];\n\tvar normals = [];\n\tvar uvs = [];\n\n\t// helper variables\n\n\tvar i, s;\n\tvar vertex = new Vector3();\n\tvar uv = new Vector2();\n\n\t// center point\n\n\tvertices.push( 0, 0, 0 );\n\tnormals.push( 0, 0, 1 );\n\tuvs.push( 0.5, 0.5 );\n\n\tfor ( s = 0, i = 3; s <= segments; s ++, i += 3 ) {\n\n\t\tvar segment = thetaStart + s / segments * thetaLength;\n\n\t\t// vertex\n\n\t\tvertex.x = radius * Math.cos( segment );\n\t\tvertex.y = radius * Math.sin( segment );\n\n\t\tvertices.push( vertex.x, vertex.y, vertex.z );\n\n\t\t// normal\n\n\t\tnormals.push( 0, 0, 1 );\n\n\t\t// uvs\n\n\t\tuv.x = ( vertices[ i ] / radius + 1 ) / 2;\n\t\tuv.y = ( vertices[ i + 1 ] / radius + 1 ) / 2;\n\n\t\tuvs.push( uv.x, uv.y );\n\n\t}\n\n\t// indices\n\n\tfor ( i = 1; i <= segments; i ++ ) {\n\n\t\tindices.push( i, i + 1, 0 );\n\n\t}\n\n\t// build geometry\n\n\tthis.setIndex( indices );\n\tthis.addAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\n\tthis.addAttribute( 'normal', new Float32BufferAttribute( normals, 3 ) );\n\tthis.addAttribute( 'uv', new Float32BufferAttribute( uvs, 2 ) );\n\n}\n\nCircleBufferGeometry.prototype = Object.create( BufferGeometry.prototype );\nCircleBufferGeometry.prototype.constructor = CircleBufferGeometry;\n\n\n\nvar Geometries = /*#__PURE__*/Object.freeze({\n\tWireframeGeometry: WireframeGeometry,\n\tParametricGeometry: ParametricGeometry,\n\tParametricBufferGeometry: ParametricBufferGeometry,\n\tTetrahedronGeometry: TetrahedronGeometry,\n\tTetrahedronBufferGeometry: TetrahedronBufferGeometry,\n\tOctahedronGeometry: OctahedronGeometry,\n\tOctahedronBufferGeometry: OctahedronBufferGeometry,\n\tIcosahedronGeometry: IcosahedronGeometry,\n\tIcosahedronBufferGeometry: IcosahedronBufferGeometry,\n\tDodecahedronGeometry: DodecahedronGeometry,\n\tDodecahedronBufferGeometry: DodecahedronBufferGeometry,\n\tPolyhedronGeometry: PolyhedronGeometry,\n\tPolyhedronBufferGeometry: PolyhedronBufferGeometry,\n\tTubeGeometry: TubeGeometry,\n\tTubeBufferGeometry: TubeBufferGeometry,\n\tTorusKnotGeometry: TorusKnotGeometry,\n\tTorusKnotBufferGeometry: TorusKnotBufferGeometry,\n\tTorusGeometry: TorusGeometry,\n\tTorusBufferGeometry: TorusBufferGeometry,\n\tTextGeometry: TextGeometry,\n\tTextBufferGeometry: TextBufferGeometry,\n\tSphereGeometry: SphereGeometry,\n\tSphereBufferGeometry: SphereBufferGeometry,\n\tRingGeometry: RingGeometry,\n\tRingBufferGeometry: RingBufferGeometry,\n\tPlaneGeometry: PlaneGeometry,\n\tPlaneBufferGeometry: PlaneBufferGeometry,\n\tLatheGeometry: LatheGeometry,\n\tLatheBufferGeometry: LatheBufferGeometry,\n\tShapeGeometry: ShapeGeometry,\n\tShapeBufferGeometry: ShapeBufferGeometry,\n\tExtrudeGeometry: ExtrudeGeometry,\n\tExtrudeBufferGeometry: ExtrudeBufferGeometry,\n\tEdgesGeometry: EdgesGeometry,\n\tConeGeometry: ConeGeometry,\n\tConeBufferGeometry: ConeBufferGeometry,\n\tCylinderGeometry: CylinderGeometry,\n\tCylinderBufferGeometry: CylinderBufferGeometry,\n\tCircleGeometry: CircleGeometry,\n\tCircleBufferGeometry: CircleBufferGeometry,\n\tBoxGeometry: BoxGeometry,\n\tBoxBufferGeometry: BoxBufferGeometry\n});\n\n/**\n * @author mrdoob / http://mrdoob.com/\n *\n * parameters = {\n *  color: <THREE.Color>\n * }\n */\n\nfunction ShadowMaterial( parameters ) {\n\n\tMaterial.call( this );\n\n\tthis.type = 'ShadowMaterial';\n\n\tthis.color = new Color( 0x000000 );\n\tthis.transparent = true;\n\n\tthis.setValues( parameters );\n\n}\n\nShadowMaterial.prototype = Object.create( Material.prototype );\nShadowMaterial.prototype.constructor = ShadowMaterial;\n\nShadowMaterial.prototype.isShadowMaterial = true;\n\nShadowMaterial.prototype.copy = function ( source ) {\n\n\tMaterial.prototype.copy.call( this, source );\n\n\tthis.color.copy( source.color );\n\n\treturn this;\n\n};\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction RawShaderMaterial( parameters ) {\n\n\tShaderMaterial.call( this, parameters );\n\n\tthis.type = 'RawShaderMaterial';\n\n}\n\nRawShaderMaterial.prototype = Object.create( ShaderMaterial.prototype );\nRawShaderMaterial.prototype.constructor = RawShaderMaterial;\n\nRawShaderMaterial.prototype.isRawShaderMaterial = true;\n\n/**\n * @author WestLangley / http://github.com/WestLangley\n *\n * parameters = {\n *  color: <hex>,\n *  roughness: <float>,\n *  metalness: <float>,\n *  opacity: <float>,\n *\n *  map: new THREE.Texture( <Image> ),\n *\n *  lightMap: new THREE.Texture( <Image> ),\n *  lightMapIntensity: <float>\n *\n *  aoMap: new THREE.Texture( <Image> ),\n *  aoMapIntensity: <float>\n *\n *  emissive: <hex>,\n *  emissiveIntensity: <float>\n *  emissiveMap: new THREE.Texture( <Image> ),\n *\n *  bumpMap: new THREE.Texture( <Image> ),\n *  bumpScale: <float>,\n *\n *  normalMap: new THREE.Texture( <Image> ),\n *  normalMapType: THREE.TangentSpaceNormalMap,\n *  normalScale: <Vector2>,\n *\n *  displacementMap: new THREE.Texture( <Image> ),\n *  displacementScale: <float>,\n *  displacementBias: <float>,\n *\n *  roughnessMap: new THREE.Texture( <Image> ),\n *\n *  metalnessMap: new THREE.Texture( <Image> ),\n *\n *  alphaMap: new THREE.Texture( <Image> ),\n *\n *  envMap: new THREE.CubeTexture( [posx, negx, posy, negy, posz, negz] ),\n *  envMapIntensity: <float>\n *\n *  refractionRatio: <float>,\n *\n *  wireframe: <boolean>,\n *  wireframeLinewidth: <float>,\n *\n *  skinning: <bool>,\n *  morphTargets: <bool>,\n *  morphNormals: <bool>\n * }\n */\n\nfunction MeshStandardMaterial( parameters ) {\n\n\tMaterial.call( this );\n\n\tthis.defines = { 'STANDARD': '' };\n\n\tthis.type = 'MeshStandardMaterial';\n\n\tthis.color = new Color( 0xffffff ); // diffuse\n\tthis.roughness = 0.5;\n\tthis.metalness = 0.5;\n\n\tthis.map = null;\n\n\tthis.lightMap = null;\n\tthis.lightMapIntensity = 1.0;\n\n\tthis.aoMap = null;\n\tthis.aoMapIntensity = 1.0;\n\n\tthis.emissive = new Color( 0x000000 );\n\tthis.emissiveIntensity = 1.0;\n\tthis.emissiveMap = null;\n\n\tthis.bumpMap = null;\n\tthis.bumpScale = 1;\n\n\tthis.normalMap = null;\n\tthis.normalMapType = TangentSpaceNormalMap;\n\tthis.normalScale = new Vector2( 1, 1 );\n\n\tthis.displacementMap = null;\n\tthis.displacementScale = 1;\n\tthis.displacementBias = 0;\n\n\tthis.roughnessMap = null;\n\n\tthis.metalnessMap = null;\n\n\tthis.alphaMap = null;\n\n\tthis.envMap = null;\n\tthis.envMapIntensity = 1.0;\n\n\tthis.refractionRatio = 0.98;\n\n\tthis.wireframe = false;\n\tthis.wireframeLinewidth = 1;\n\tthis.wireframeLinecap = 'round';\n\tthis.wireframeLinejoin = 'round';\n\n\tthis.skinning = false;\n\tthis.morphTargets = false;\n\tthis.morphNormals = false;\n\n\tthis.setValues( parameters );\n\n}\n\nMeshStandardMaterial.prototype = Object.create( Material.prototype );\nMeshStandardMaterial.prototype.constructor = MeshStandardMaterial;\n\nMeshStandardMaterial.prototype.isMeshStandardMaterial = true;\n\nMeshStandardMaterial.prototype.copy = function ( source ) {\n\n\tMaterial.prototype.copy.call( this, source );\n\n\tthis.defines = { 'STANDARD': '' };\n\n\tthis.color.copy( source.color );\n\tthis.roughness = source.roughness;\n\tthis.metalness = source.metalness;\n\n\tthis.map = source.map;\n\n\tthis.lightMap = source.lightMap;\n\tthis.lightMapIntensity = source.lightMapIntensity;\n\n\tthis.aoMap = source.aoMap;\n\tthis.aoMapIntensity = source.aoMapIntensity;\n\n\tthis.emissive.copy( source.emissive );\n\tthis.emissiveMap = source.emissiveMap;\n\tthis.emissiveIntensity = source.emissiveIntensity;\n\n\tthis.bumpMap = source.bumpMap;\n\tthis.bumpScale = source.bumpScale;\n\n\tthis.normalMap = source.normalMap;\n\tthis.normalMapType = source.normalMapType;\n\tthis.normalScale.copy( source.normalScale );\n\n\tthis.displacementMap = source.displacementMap;\n\tthis.displacementScale = source.displacementScale;\n\tthis.displacementBias = source.displacementBias;\n\n\tthis.roughnessMap = source.roughnessMap;\n\n\tthis.metalnessMap = source.metalnessMap;\n\n\tthis.alphaMap = source.alphaMap;\n\n\tthis.envMap = source.envMap;\n\tthis.envMapIntensity = source.envMapIntensity;\n\n\tthis.refractionRatio = source.refractionRatio;\n\n\tthis.wireframe = source.wireframe;\n\tthis.wireframeLinewidth = source.wireframeLinewidth;\n\tthis.wireframeLinecap = source.wireframeLinecap;\n\tthis.wireframeLinejoin = source.wireframeLinejoin;\n\n\tthis.skinning = source.skinning;\n\tthis.morphTargets = source.morphTargets;\n\tthis.morphNormals = source.morphNormals;\n\n\treturn this;\n\n};\n\n/**\n * @author WestLangley / http://github.com/WestLangley\n *\n * parameters = {\n *  reflectivity: <float>\n *  clearCoat: <float>\n *  clearCoatRoughness: <float>\n * }\n */\n\nfunction MeshPhysicalMaterial( parameters ) {\n\n\tMeshStandardMaterial.call( this );\n\n\tthis.defines = { 'PHYSICAL': '' };\n\n\tthis.type = 'MeshPhysicalMaterial';\n\n\tthis.reflectivity = 0.5; // maps to F0 = 0.04\n\n\tthis.clearCoat = 0.0;\n\tthis.clearCoatRoughness = 0.0;\n\n\tthis.setValues( parameters );\n\n}\n\nMeshPhysicalMaterial.prototype = Object.create( MeshStandardMaterial.prototype );\nMeshPhysicalMaterial.prototype.constructor = MeshPhysicalMaterial;\n\nMeshPhysicalMaterial.prototype.isMeshPhysicalMaterial = true;\n\nMeshPhysicalMaterial.prototype.copy = function ( source ) {\n\n\tMeshStandardMaterial.prototype.copy.call( this, source );\n\n\tthis.defines = { 'PHYSICAL': '' };\n\n\tthis.reflectivity = source.reflectivity;\n\n\tthis.clearCoat = source.clearCoat;\n\tthis.clearCoatRoughness = source.clearCoatRoughness;\n\n\treturn this;\n\n};\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author alteredq / http://alteredqualia.com/\n *\n * parameters = {\n *  color: <hex>,\n *  specular: <hex>,\n *  shininess: <float>,\n *  opacity: <float>,\n *\n *  map: new THREE.Texture( <Image> ),\n *\n *  lightMap: new THREE.Texture( <Image> ),\n *  lightMapIntensity: <float>\n *\n *  aoMap: new THREE.Texture( <Image> ),\n *  aoMapIntensity: <float>\n *\n *  emissive: <hex>,\n *  emissiveIntensity: <float>\n *  emissiveMap: new THREE.Texture( <Image> ),\n *\n *  bumpMap: new THREE.Texture( <Image> ),\n *  bumpScale: <float>,\n *\n *  normalMap: new THREE.Texture( <Image> ),\n *  normalMapType: THREE.TangentSpaceNormalMap,\n *  normalScale: <Vector2>,\n *\n *  displacementMap: new THREE.Texture( <Image> ),\n *  displacementScale: <float>,\n *  displacementBias: <float>,\n *\n *  specularMap: new THREE.Texture( <Image> ),\n *\n *  alphaMap: new THREE.Texture( <Image> ),\n *\n *  envMap: new THREE.CubeTexture( [posx, negx, posy, negy, posz, negz] ),\n *  combine: THREE.Multiply,\n *  reflectivity: <float>,\n *  refractionRatio: <float>,\n *\n *  wireframe: <boolean>,\n *  wireframeLinewidth: <float>,\n *\n *  skinning: <bool>,\n *  morphTargets: <bool>,\n *  morphNormals: <bool>\n * }\n */\n\nfunction MeshPhongMaterial( parameters ) {\n\n\tMaterial.call( this );\n\n\tthis.type = 'MeshPhongMaterial';\n\n\tthis.color = new Color( 0xffffff ); // diffuse\n\tthis.specular = new Color( 0x111111 );\n\tthis.shininess = 30;\n\n\tthis.map = null;\n\n\tthis.lightMap = null;\n\tthis.lightMapIntensity = 1.0;\n\n\tthis.aoMap = null;\n\tthis.aoMapIntensity = 1.0;\n\n\tthis.emissive = new Color( 0x000000 );\n\tthis.emissiveIntensity = 1.0;\n\tthis.emissiveMap = null;\n\n\tthis.bumpMap = null;\n\tthis.bumpScale = 1;\n\n\tthis.normalMap = null;\n\tthis.normalMapType = TangentSpaceNormalMap;\n\tthis.normalScale = new Vector2( 1, 1 );\n\n\tthis.displacementMap = null;\n\tthis.displacementScale = 1;\n\tthis.displacementBias = 0;\n\n\tthis.specularMap = null;\n\n\tthis.alphaMap = null;\n\n\tthis.envMap = null;\n\tthis.combine = MultiplyOperation;\n\tthis.reflectivity = 1;\n\tthis.refractionRatio = 0.98;\n\n\tthis.wireframe = false;\n\tthis.wireframeLinewidth = 1;\n\tthis.wireframeLinecap = 'round';\n\tthis.wireframeLinejoin = 'round';\n\n\tthis.skinning = false;\n\tthis.morphTargets = false;\n\tthis.morphNormals = false;\n\n\tthis.setValues( parameters );\n\n}\n\nMeshPhongMaterial.prototype = Object.create( Material.prototype );\nMeshPhongMaterial.prototype.constructor = MeshPhongMaterial;\n\nMeshPhongMaterial.prototype.isMeshPhongMaterial = true;\n\nMeshPhongMaterial.prototype.copy = function ( source ) {\n\n\tMaterial.prototype.copy.call( this, source );\n\n\tthis.color.copy( source.color );\n\tthis.specular.copy( source.specular );\n\tthis.shininess = source.shininess;\n\n\tthis.map = source.map;\n\n\tthis.lightMap = source.lightMap;\n\tthis.lightMapIntensity = source.lightMapIntensity;\n\n\tthis.aoMap = source.aoMap;\n\tthis.aoMapIntensity = source.aoMapIntensity;\n\n\tthis.emissive.copy( source.emissive );\n\tthis.emissiveMap = source.emissiveMap;\n\tthis.emissiveIntensity = source.emissiveIntensity;\n\n\tthis.bumpMap = source.bumpMap;\n\tthis.bumpScale = source.bumpScale;\n\n\tthis.normalMap = source.normalMap;\n\tthis.normalMapType = source.normalMapType;\n\tthis.normalScale.copy( source.normalScale );\n\n\tthis.displacementMap = source.displacementMap;\n\tthis.displacementScale = source.displacementScale;\n\tthis.displacementBias = source.displacementBias;\n\n\tthis.specularMap = source.specularMap;\n\n\tthis.alphaMap = source.alphaMap;\n\n\tthis.envMap = source.envMap;\n\tthis.combine = source.combine;\n\tthis.reflectivity = source.reflectivity;\n\tthis.refractionRatio = source.refractionRatio;\n\n\tthis.wireframe = source.wireframe;\n\tthis.wireframeLinewidth = source.wireframeLinewidth;\n\tthis.wireframeLinecap = source.wireframeLinecap;\n\tthis.wireframeLinejoin = source.wireframeLinejoin;\n\n\tthis.skinning = source.skinning;\n\tthis.morphTargets = source.morphTargets;\n\tthis.morphNormals = source.morphNormals;\n\n\treturn this;\n\n};\n\n/**\n * @author takahirox / http://github.com/takahirox\n *\n * parameters = {\n *  gradientMap: new THREE.Texture( <Image> )\n * }\n */\n\nfunction MeshToonMaterial( parameters ) {\n\n\tMeshPhongMaterial.call( this );\n\n\tthis.defines = { 'TOON': '' };\n\n\tthis.type = 'MeshToonMaterial';\n\n\tthis.gradientMap = null;\n\n\tthis.setValues( parameters );\n\n}\n\nMeshToonMaterial.prototype = Object.create( MeshPhongMaterial.prototype );\nMeshToonMaterial.prototype.constructor = MeshToonMaterial;\n\nMeshToonMaterial.prototype.isMeshToonMaterial = true;\n\nMeshToonMaterial.prototype.copy = function ( source ) {\n\n\tMeshPhongMaterial.prototype.copy.call( this, source );\n\n\tthis.gradientMap = source.gradientMap;\n\n\treturn this;\n\n};\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author WestLangley / http://github.com/WestLangley\n *\n * parameters = {\n *  opacity: <float>,\n *\n *  bumpMap: new THREE.Texture( <Image> ),\n *  bumpScale: <float>,\n *\n *  normalMap: new THREE.Texture( <Image> ),\n *  normalMapType: THREE.TangentSpaceNormalMap,\n *  normalScale: <Vector2>,\n *\n *  displacementMap: new THREE.Texture( <Image> ),\n *  displacementScale: <float>,\n *  displacementBias: <float>,\n *\n *  wireframe: <boolean>,\n *  wireframeLinewidth: <float>\n *\n *  skinning: <bool>,\n *  morphTargets: <bool>,\n *  morphNormals: <bool>\n * }\n */\n\nfunction MeshNormalMaterial( parameters ) {\n\n\tMaterial.call( this );\n\n\tthis.type = 'MeshNormalMaterial';\n\n\tthis.bumpMap = null;\n\tthis.bumpScale = 1;\n\n\tthis.normalMap = null;\n\tthis.normalMapType = TangentSpaceNormalMap;\n\tthis.normalScale = new Vector2( 1, 1 );\n\n\tthis.displacementMap = null;\n\tthis.displacementScale = 1;\n\tthis.displacementBias = 0;\n\n\tthis.wireframe = false;\n\tthis.wireframeLinewidth = 1;\n\n\tthis.fog = false;\n\tthis.lights = false;\n\n\tthis.skinning = false;\n\tthis.morphTargets = false;\n\tthis.morphNormals = false;\n\n\tthis.setValues( parameters );\n\n}\n\nMeshNormalMaterial.prototype = Object.create( Material.prototype );\nMeshNormalMaterial.prototype.constructor = MeshNormalMaterial;\n\nMeshNormalMaterial.prototype.isMeshNormalMaterial = true;\n\nMeshNormalMaterial.prototype.copy = function ( source ) {\n\n\tMaterial.prototype.copy.call( this, source );\n\n\tthis.bumpMap = source.bumpMap;\n\tthis.bumpScale = source.bumpScale;\n\n\tthis.normalMap = source.normalMap;\n\tthis.normalMapType = source.normalMapType;\n\tthis.normalScale.copy( source.normalScale );\n\n\tthis.displacementMap = source.displacementMap;\n\tthis.displacementScale = source.displacementScale;\n\tthis.displacementBias = source.displacementBias;\n\n\tthis.wireframe = source.wireframe;\n\tthis.wireframeLinewidth = source.wireframeLinewidth;\n\n\tthis.skinning = source.skinning;\n\tthis.morphTargets = source.morphTargets;\n\tthis.morphNormals = source.morphNormals;\n\n\treturn this;\n\n};\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author alteredq / http://alteredqualia.com/\n *\n * parameters = {\n *  color: <hex>,\n *  opacity: <float>,\n *\n *  map: new THREE.Texture( <Image> ),\n *\n *  lightMap: new THREE.Texture( <Image> ),\n *  lightMapIntensity: <float>\n *\n *  aoMap: new THREE.Texture( <Image> ),\n *  aoMapIntensity: <float>\n *\n *  emissive: <hex>,\n *  emissiveIntensity: <float>\n *  emissiveMap: new THREE.Texture( <Image> ),\n *\n *  specularMap: new THREE.Texture( <Image> ),\n *\n *  alphaMap: new THREE.Texture( <Image> ),\n *\n *  envMap: new THREE.CubeTexture( [posx, negx, posy, negy, posz, negz] ),\n *  combine: THREE.Multiply,\n *  reflectivity: <float>,\n *  refractionRatio: <float>,\n *\n *  wireframe: <boolean>,\n *  wireframeLinewidth: <float>,\n *\n *  skinning: <bool>,\n *  morphTargets: <bool>,\n *  morphNormals: <bool>\n * }\n */\n\nfunction MeshLambertMaterial( parameters ) {\n\n\tMaterial.call( this );\n\n\tthis.type = 'MeshLambertMaterial';\n\n\tthis.color = new Color( 0xffffff ); // diffuse\n\n\tthis.map = null;\n\n\tthis.lightMap = null;\n\tthis.lightMapIntensity = 1.0;\n\n\tthis.aoMap = null;\n\tthis.aoMapIntensity = 1.0;\n\n\tthis.emissive = new Color( 0x000000 );\n\tthis.emissiveIntensity = 1.0;\n\tthis.emissiveMap = null;\n\n\tthis.specularMap = null;\n\n\tthis.alphaMap = null;\n\n\tthis.envMap = null;\n\tthis.combine = MultiplyOperation;\n\tthis.reflectivity = 1;\n\tthis.refractionRatio = 0.98;\n\n\tthis.wireframe = false;\n\tthis.wireframeLinewidth = 1;\n\tthis.wireframeLinecap = 'round';\n\tthis.wireframeLinejoin = 'round';\n\n\tthis.skinning = false;\n\tthis.morphTargets = false;\n\tthis.morphNormals = false;\n\n\tthis.setValues( parameters );\n\n}\n\nMeshLambertMaterial.prototype = Object.create( Material.prototype );\nMeshLambertMaterial.prototype.constructor = MeshLambertMaterial;\n\nMeshLambertMaterial.prototype.isMeshLambertMaterial = true;\n\nMeshLambertMaterial.prototype.copy = function ( source ) {\n\n\tMaterial.prototype.copy.call( this, source );\n\n\tthis.color.copy( source.color );\n\n\tthis.map = source.map;\n\n\tthis.lightMap = source.lightMap;\n\tthis.lightMapIntensity = source.lightMapIntensity;\n\n\tthis.aoMap = source.aoMap;\n\tthis.aoMapIntensity = source.aoMapIntensity;\n\n\tthis.emissive.copy( source.emissive );\n\tthis.emissiveMap = source.emissiveMap;\n\tthis.emissiveIntensity = source.emissiveIntensity;\n\n\tthis.specularMap = source.specularMap;\n\n\tthis.alphaMap = source.alphaMap;\n\n\tthis.envMap = source.envMap;\n\tthis.combine = source.combine;\n\tthis.reflectivity = source.reflectivity;\n\tthis.refractionRatio = source.refractionRatio;\n\n\tthis.wireframe = source.wireframe;\n\tthis.wireframeLinewidth = source.wireframeLinewidth;\n\tthis.wireframeLinecap = source.wireframeLinecap;\n\tthis.wireframeLinejoin = source.wireframeLinejoin;\n\n\tthis.skinning = source.skinning;\n\tthis.morphTargets = source.morphTargets;\n\tthis.morphNormals = source.morphNormals;\n\n\treturn this;\n\n};\n\n/**\n * @author WestLangley / http://github.com/WestLangley\n *\n * parameters = {\n *  color: <hex>,\n *  opacity: <float>,\n *\n *  matcap: new THREE.Texture( <Image> ),\n *\n *  map: new THREE.Texture( <Image> ),\n *\n *  bumpMap: new THREE.Texture( <Image> ),\n *  bumpScale: <float>,\n *\n *  normalMap: new THREE.Texture( <Image> ),\n *  normalMapType: THREE.TangentSpaceNormalMap,\n *  normalScale: <Vector2>,\n *\n *  displacementMap: new THREE.Texture( <Image> ),\n *  displacementScale: <float>,\n *  displacementBias: <float>,\n *\n *  alphaMap: new THREE.Texture( <Image> ),\n *\n *  skinning: <bool>,\n *  morphTargets: <bool>,\n *  morphNormals: <bool>\n * }\n */\n\nfunction MeshMatcapMaterial( parameters ) {\n\n\tMaterial.call( this );\n\n\tthis.defines = { 'MATCAP': '' };\n\n\tthis.type = 'MeshMatcapMaterial';\n\n\tthis.color = new Color( 0xffffff ); // diffuse\n\n\tthis.matcap = null;\n\n\tthis.map = null;\n\n\tthis.bumpMap = null;\n\tthis.bumpScale = 1;\n\n\tthis.normalMap = null;\n\tthis.normalMapType = TangentSpaceNormalMap;\n\tthis.normalScale = new Vector2( 1, 1 );\n\n\tthis.displacementMap = null;\n\tthis.displacementScale = 1;\n\tthis.displacementBias = 0;\n\n\tthis.alphaMap = null;\n\n\tthis.skinning = false;\n\tthis.morphTargets = false;\n\tthis.morphNormals = false;\n\n\tthis.lights = false;\n\n\tthis.setValues( parameters );\n\n}\n\nMeshMatcapMaterial.prototype = Object.create( Material.prototype );\nMeshMatcapMaterial.prototype.constructor = MeshMatcapMaterial;\n\nMeshMatcapMaterial.prototype.isMeshMatcapMaterial = true;\n\nMeshMatcapMaterial.prototype.copy = function ( source ) {\n\n\tMaterial.prototype.copy.call( this, source );\n\n\tthis.defines = { 'MATCAP': '' };\n\n\tthis.color.copy( source.color );\n\n\tthis.matcap = source.matcap;\n\n\tthis.map = source.map;\n\n\tthis.bumpMap = source.bumpMap;\n\tthis.bumpScale = source.bumpScale;\n\n\tthis.normalMap = source.normalMap;\n\tthis.normalMapType = source.normalMapType;\n\tthis.normalScale.copy( source.normalScale );\n\n\tthis.displacementMap = source.displacementMap;\n\tthis.displacementScale = source.displacementScale;\n\tthis.displacementBias = source.displacementBias;\n\n\tthis.alphaMap = source.alphaMap;\n\n\tthis.skinning = source.skinning;\n\tthis.morphTargets = source.morphTargets;\n\tthis.morphNormals = source.morphNormals;\n\n\treturn this;\n\n};\n\n/**\n * @author alteredq / http://alteredqualia.com/\n *\n * parameters = {\n *  color: <hex>,\n *  opacity: <float>,\n *\n *  linewidth: <float>,\n *\n *  scale: <float>,\n *  dashSize: <float>,\n *  gapSize: <float>\n * }\n */\n\nfunction LineDashedMaterial( parameters ) {\n\n\tLineBasicMaterial.call( this );\n\n\tthis.type = 'LineDashedMaterial';\n\n\tthis.scale = 1;\n\tthis.dashSize = 3;\n\tthis.gapSize = 1;\n\n\tthis.setValues( parameters );\n\n}\n\nLineDashedMaterial.prototype = Object.create( LineBasicMaterial.prototype );\nLineDashedMaterial.prototype.constructor = LineDashedMaterial;\n\nLineDashedMaterial.prototype.isLineDashedMaterial = true;\n\nLineDashedMaterial.prototype.copy = function ( source ) {\n\n\tLineBasicMaterial.prototype.copy.call( this, source );\n\n\tthis.scale = source.scale;\n\tthis.dashSize = source.dashSize;\n\tthis.gapSize = source.gapSize;\n\n\treturn this;\n\n};\n\n\n\nvar Materials = /*#__PURE__*/Object.freeze({\n\tShadowMaterial: ShadowMaterial,\n\tSpriteMaterial: SpriteMaterial,\n\tRawShaderMaterial: RawShaderMaterial,\n\tShaderMaterial: ShaderMaterial,\n\tPointsMaterial: PointsMaterial,\n\tMeshPhysicalMaterial: MeshPhysicalMaterial,\n\tMeshStandardMaterial: MeshStandardMaterial,\n\tMeshPhongMaterial: MeshPhongMaterial,\n\tMeshToonMaterial: MeshToonMaterial,\n\tMeshNormalMaterial: MeshNormalMaterial,\n\tMeshLambertMaterial: MeshLambertMaterial,\n\tMeshDepthMaterial: MeshDepthMaterial,\n\tMeshDistanceMaterial: MeshDistanceMaterial,\n\tMeshBasicMaterial: MeshBasicMaterial,\n\tMeshMatcapMaterial: MeshMatcapMaterial,\n\tLineDashedMaterial: LineDashedMaterial,\n\tLineBasicMaterial: LineBasicMaterial,\n\tMaterial: Material\n});\n\n/**\n * @author tschw\n * @author Ben Houston / http://clara.io/\n * @author David Sarno / http://lighthaus.us/\n */\n\nvar AnimationUtils = {\n\n\t// same as Array.prototype.slice, but also works on typed arrays\n\tarraySlice: function ( array, from, to ) {\n\n\t\tif ( AnimationUtils.isTypedArray( array ) ) {\n\n\t\t\t// in ios9 array.subarray(from, undefined) will return empty array\n\t\t\t// but array.subarray(from) or array.subarray(from, len) is correct\n\t\t\treturn new array.constructor( array.subarray( from, to !== undefined ? to : array.length ) );\n\n\t\t}\n\n\t\treturn array.slice( from, to );\n\n\t},\n\n\t// converts an array to a specific type\n\tconvertArray: function ( array, type, forceClone ) {\n\n\t\tif ( ! array || // let 'undefined' and 'null' pass\n\t\t\t! forceClone && array.constructor === type ) return array;\n\n\t\tif ( typeof type.BYTES_PER_ELEMENT === 'number' ) {\n\n\t\t\treturn new type( array ); // create typed array\n\n\t\t}\n\n\t\treturn Array.prototype.slice.call( array ); // create Array\n\n\t},\n\n\tisTypedArray: function ( object ) {\n\n\t\treturn ArrayBuffer.isView( object ) &&\n\t\t\t! ( object instanceof DataView );\n\n\t},\n\n\t// returns an array by which times and values can be sorted\n\tgetKeyframeOrder: function ( times ) {\n\n\t\tfunction compareTime( i, j ) {\n\n\t\t\treturn times[ i ] - times[ j ];\n\n\t\t}\n\n\t\tvar n = times.length;\n\t\tvar result = new Array( n );\n\t\tfor ( var i = 0; i !== n; ++ i ) result[ i ] = i;\n\n\t\tresult.sort( compareTime );\n\n\t\treturn result;\n\n\t},\n\n\t// uses the array previously returned by 'getKeyframeOrder' to sort data\n\tsortedArray: function ( values, stride, order ) {\n\n\t\tvar nValues = values.length;\n\t\tvar result = new values.constructor( nValues );\n\n\t\tfor ( var i = 0, dstOffset = 0; dstOffset !== nValues; ++ i ) {\n\n\t\t\tvar srcOffset = order[ i ] * stride;\n\n\t\t\tfor ( var j = 0; j !== stride; ++ j ) {\n\n\t\t\t\tresult[ dstOffset ++ ] = values[ srcOffset + j ];\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn result;\n\n\t},\n\n\t// function for parsing AOS keyframe formats\n\tflattenJSON: function ( jsonKeys, times, values, valuePropertyName ) {\n\n\t\tvar i = 1, key = jsonKeys[ 0 ];\n\n\t\twhile ( key !== undefined && key[ valuePropertyName ] === undefined ) {\n\n\t\t\tkey = jsonKeys[ i ++ ];\n\n\t\t}\n\n\t\tif ( key === undefined ) return; // no data\n\n\t\tvar value = key[ valuePropertyName ];\n\t\tif ( value === undefined ) return; // no data\n\n\t\tif ( Array.isArray( value ) ) {\n\n\t\t\tdo {\n\n\t\t\t\tvalue = key[ valuePropertyName ];\n\n\t\t\t\tif ( value !== undefined ) {\n\n\t\t\t\t\ttimes.push( key.time );\n\t\t\t\t\tvalues.push.apply( values, value ); // push all elements\n\n\t\t\t\t}\n\n\t\t\t\tkey = jsonKeys[ i ++ ];\n\n\t\t\t} while ( key !== undefined );\n\n\t\t} else if ( value.toArray !== undefined ) {\n\n\t\t\t// ...assume THREE.Math-ish\n\n\t\t\tdo {\n\n\t\t\t\tvalue = key[ valuePropertyName ];\n\n\t\t\t\tif ( value !== undefined ) {\n\n\t\t\t\t\ttimes.push( key.time );\n\t\t\t\t\tvalue.toArray( values, values.length );\n\n\t\t\t\t}\n\n\t\t\t\tkey = jsonKeys[ i ++ ];\n\n\t\t\t} while ( key !== undefined );\n\n\t\t} else {\n\n\t\t\t// otherwise push as-is\n\n\t\t\tdo {\n\n\t\t\t\tvalue = key[ valuePropertyName ];\n\n\t\t\t\tif ( value !== undefined ) {\n\n\t\t\t\t\ttimes.push( key.time );\n\t\t\t\t\tvalues.push( value );\n\n\t\t\t\t}\n\n\t\t\t\tkey = jsonKeys[ i ++ ];\n\n\t\t\t} while ( key !== undefined );\n\n\t\t}\n\n\t}\n\n};\n\n/**\n * Abstract base class of interpolants over parametric samples.\n *\n * The parameter domain is one dimensional, typically the time or a path\n * along a curve defined by the data.\n *\n * The sample values can have any dimensionality and derived classes may\n * apply special interpretations to the data.\n *\n * This class provides the interval seek in a Template Method, deferring\n * the actual interpolation to derived classes.\n *\n * Time complexity is O(1) for linear access crossing at most two points\n * and O(log N) for random access, where N is the number of positions.\n *\n * References:\n *\n * \t\thttp://www.oodesign.com/template-method-pattern.html\n *\n * @author tschw\n */\n\nfunction Interpolant( parameterPositions, sampleValues, sampleSize, resultBuffer ) {\n\n\tthis.parameterPositions = parameterPositions;\n\tthis._cachedIndex = 0;\n\n\tthis.resultBuffer = resultBuffer !== undefined ?\n\t\tresultBuffer : new sampleValues.constructor( sampleSize );\n\tthis.sampleValues = sampleValues;\n\tthis.valueSize = sampleSize;\n\n}\n\nObject.assign( Interpolant.prototype, {\n\n\tevaluate: function ( t ) {\n\n\t\tvar pp = this.parameterPositions,\n\t\t\ti1 = this._cachedIndex,\n\n\t\t\tt1 = pp[ i1 ],\n\t\t\tt0 = pp[ i1 - 1 ];\n\n\t\tvalidate_interval: {\n\n\t\t\tseek: {\n\n\t\t\t\tvar right;\n\n\t\t\t\tlinear_scan: {\n\n\t\t\t\t\t//- See http://jsperf.com/comparison-to-undefined/3\n\t\t\t\t\t//- slower code:\n\t\t\t\t\t//-\n\t\t\t\t\t//- \t\t\t\tif ( t >= t1 || t1 === undefined ) {\n\t\t\t\t\tforward_scan: if ( ! ( t < t1 ) ) {\n\n\t\t\t\t\t\tfor ( var giveUpAt = i1 + 2; ; ) {\n\n\t\t\t\t\t\t\tif ( t1 === undefined ) {\n\n\t\t\t\t\t\t\t\tif ( t < t0 ) break forward_scan;\n\n\t\t\t\t\t\t\t\t// after end\n\n\t\t\t\t\t\t\t\ti1 = pp.length;\n\t\t\t\t\t\t\t\tthis._cachedIndex = i1;\n\t\t\t\t\t\t\t\treturn this.afterEnd_( i1 - 1, t, t0 );\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tif ( i1 === giveUpAt ) break; // this loop\n\n\t\t\t\t\t\t\tt0 = t1;\n\t\t\t\t\t\t\tt1 = pp[ ++ i1 ];\n\n\t\t\t\t\t\t\tif ( t < t1 ) {\n\n\t\t\t\t\t\t\t\t// we have arrived at the sought interval\n\t\t\t\t\t\t\t\tbreak seek;\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// prepare binary search on the right side of the index\n\t\t\t\t\t\tright = pp.length;\n\t\t\t\t\t\tbreak linear_scan;\n\n\t\t\t\t\t}\n\n\t\t\t\t\t//- slower code:\n\t\t\t\t\t//-\t\t\t\t\tif ( t < t0 || t0 === undefined ) {\n\t\t\t\t\tif ( ! ( t >= t0 ) ) {\n\n\t\t\t\t\t\t// looping?\n\n\t\t\t\t\t\tvar t1global = pp[ 1 ];\n\n\t\t\t\t\t\tif ( t < t1global ) {\n\n\t\t\t\t\t\t\ti1 = 2; // + 1, using the scan for the details\n\t\t\t\t\t\t\tt0 = t1global;\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// linear reverse scan\n\n\t\t\t\t\t\tfor ( var giveUpAt = i1 - 2; ; ) {\n\n\t\t\t\t\t\t\tif ( t0 === undefined ) {\n\n\t\t\t\t\t\t\t\t// before start\n\n\t\t\t\t\t\t\t\tthis._cachedIndex = 0;\n\t\t\t\t\t\t\t\treturn this.beforeStart_( 0, t, t1 );\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tif ( i1 === giveUpAt ) break; // this loop\n\n\t\t\t\t\t\t\tt1 = t0;\n\t\t\t\t\t\t\tt0 = pp[ -- i1 - 1 ];\n\n\t\t\t\t\t\t\tif ( t >= t0 ) {\n\n\t\t\t\t\t\t\t\t// we have arrived at the sought interval\n\t\t\t\t\t\t\t\tbreak seek;\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// prepare binary search on the left side of the index\n\t\t\t\t\t\tright = i1;\n\t\t\t\t\t\ti1 = 0;\n\t\t\t\t\t\tbreak linear_scan;\n\n\t\t\t\t\t}\n\n\t\t\t\t\t// the interval is valid\n\n\t\t\t\t\tbreak validate_interval;\n\n\t\t\t\t} // linear scan\n\n\t\t\t\t// binary search\n\n\t\t\t\twhile ( i1 < right ) {\n\n\t\t\t\t\tvar mid = ( i1 + right ) >>> 1;\n\n\t\t\t\t\tif ( t < pp[ mid ] ) {\n\n\t\t\t\t\t\tright = mid;\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\ti1 = mid + 1;\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\tt1 = pp[ i1 ];\n\t\t\t\tt0 = pp[ i1 - 1 ];\n\n\t\t\t\t// check boundary cases, again\n\n\t\t\t\tif ( t0 === undefined ) {\n\n\t\t\t\t\tthis._cachedIndex = 0;\n\t\t\t\t\treturn this.beforeStart_( 0, t, t1 );\n\n\t\t\t\t}\n\n\t\t\t\tif ( t1 === undefined ) {\n\n\t\t\t\t\ti1 = pp.length;\n\t\t\t\t\tthis._cachedIndex = i1;\n\t\t\t\t\treturn this.afterEnd_( i1 - 1, t0, t );\n\n\t\t\t\t}\n\n\t\t\t} // seek\n\n\t\t\tthis._cachedIndex = i1;\n\n\t\t\tthis.intervalChanged_( i1, t0, t1 );\n\n\t\t} // validate_interval\n\n\t\treturn this.interpolate_( i1, t0, t, t1 );\n\n\t},\n\n\tsettings: null, // optional, subclass-specific settings structure\n\t// Note: The indirection allows central control of many interpolants.\n\n\t// --- Protected interface\n\n\tDefaultSettings_: {},\n\n\tgetSettings_: function () {\n\n\t\treturn this.settings || this.DefaultSettings_;\n\n\t},\n\n\tcopySampleValue_: function ( index ) {\n\n\t\t// copies a sample value to the result buffer\n\n\t\tvar result = this.resultBuffer,\n\t\t\tvalues = this.sampleValues,\n\t\t\tstride = this.valueSize,\n\t\t\toffset = index * stride;\n\n\t\tfor ( var i = 0; i !== stride; ++ i ) {\n\n\t\t\tresult[ i ] = values[ offset + i ];\n\n\t\t}\n\n\t\treturn result;\n\n\t},\n\n\t// Template methods for derived classes:\n\n\tinterpolate_: function ( /* i1, t0, t, t1 */ ) {\n\n\t\tthrow new Error( 'call to abstract method' );\n\t\t// implementations shall return this.resultBuffer\n\n\t},\n\n\tintervalChanged_: function ( /* i1, t0, t1 */ ) {\n\n\t\t// empty\n\n\t}\n\n} );\n\n//!\\ DECLARE ALIAS AFTER assign prototype !\nObject.assign( Interpolant.prototype, {\n\n\t//( 0, t, t0 ), returns this.resultBuffer\n\tbeforeStart_: Interpolant.prototype.copySampleValue_,\n\n\t//( N-1, tN-1, t ), returns this.resultBuffer\n\tafterEnd_: Interpolant.prototype.copySampleValue_,\n\n} );\n\n/**\n * Fast and simple cubic spline interpolant.\n *\n * It was derived from a Hermitian construction setting the first derivative\n * at each sample position to the linear slope between neighboring positions\n * over their parameter interval.\n *\n * @author tschw\n */\n\nfunction CubicInterpolant( parameterPositions, sampleValues, sampleSize, resultBuffer ) {\n\n\tInterpolant.call( this, parameterPositions, sampleValues, sampleSize, resultBuffer );\n\n\tthis._weightPrev = - 0;\n\tthis._offsetPrev = - 0;\n\tthis._weightNext = - 0;\n\tthis._offsetNext = - 0;\n\n}\n\nCubicInterpolant.prototype = Object.assign( Object.create( Interpolant.prototype ), {\n\n\tconstructor: CubicInterpolant,\n\n\tDefaultSettings_: {\n\n\t\tendingStart: ZeroCurvatureEnding,\n\t\tendingEnd: ZeroCurvatureEnding\n\n\t},\n\n\tintervalChanged_: function ( i1, t0, t1 ) {\n\n\t\tvar pp = this.parameterPositions,\n\t\t\tiPrev = i1 - 2,\n\t\t\tiNext = i1 + 1,\n\n\t\t\ttPrev = pp[ iPrev ],\n\t\t\ttNext = pp[ iNext ];\n\n\t\tif ( tPrev === undefined ) {\n\n\t\t\tswitch ( this.getSettings_().endingStart ) {\n\n\t\t\t\tcase ZeroSlopeEnding:\n\n\t\t\t\t\t// f'(t0) = 0\n\t\t\t\t\tiPrev = i1;\n\t\t\t\t\ttPrev = 2 * t0 - t1;\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase WrapAroundEnding:\n\n\t\t\t\t\t// use the other end of the curve\n\t\t\t\t\tiPrev = pp.length - 2;\n\t\t\t\t\ttPrev = t0 + pp[ iPrev ] - pp[ iPrev + 1 ];\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tdefault: // ZeroCurvatureEnding\n\n\t\t\t\t\t// f''(t0) = 0 a.k.a. Natural Spline\n\t\t\t\t\tiPrev = i1;\n\t\t\t\t\ttPrev = t1;\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( tNext === undefined ) {\n\n\t\t\tswitch ( this.getSettings_().endingEnd ) {\n\n\t\t\t\tcase ZeroSlopeEnding:\n\n\t\t\t\t\t// f'(tN) = 0\n\t\t\t\t\tiNext = i1;\n\t\t\t\t\ttNext = 2 * t1 - t0;\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase WrapAroundEnding:\n\n\t\t\t\t\t// use the other end of the curve\n\t\t\t\t\tiNext = 1;\n\t\t\t\t\ttNext = t1 + pp[ 1 ] - pp[ 0 ];\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tdefault: // ZeroCurvatureEnding\n\n\t\t\t\t\t// f''(tN) = 0, a.k.a. Natural Spline\n\t\t\t\t\tiNext = i1 - 1;\n\t\t\t\t\ttNext = t0;\n\n\t\t\t}\n\n\t\t}\n\n\t\tvar halfDt = ( t1 - t0 ) * 0.5,\n\t\t\tstride = this.valueSize;\n\n\t\tthis._weightPrev = halfDt / ( t0 - tPrev );\n\t\tthis._weightNext = halfDt / ( tNext - t1 );\n\t\tthis._offsetPrev = iPrev * stride;\n\t\tthis._offsetNext = iNext * stride;\n\n\t},\n\n\tinterpolate_: function ( i1, t0, t, t1 ) {\n\n\t\tvar result = this.resultBuffer,\n\t\t\tvalues = this.sampleValues,\n\t\t\tstride = this.valueSize,\n\n\t\t\to1 = i1 * stride,\t\to0 = o1 - stride,\n\t\t\toP = this._offsetPrev, \toN = this._offsetNext,\n\t\t\twP = this._weightPrev,\twN = this._weightNext,\n\n\t\t\tp = ( t - t0 ) / ( t1 - t0 ),\n\t\t\tpp = p * p,\n\t\t\tppp = pp * p;\n\n\t\t// evaluate polynomials\n\n\t\tvar sP = - wP * ppp + 2 * wP * pp - wP * p;\n\t\tvar s0 = ( 1 + wP ) * ppp + ( - 1.5 - 2 * wP ) * pp + ( - 0.5 + wP ) * p + 1;\n\t\tvar s1 = ( - 1 - wN ) * ppp + ( 1.5 + wN ) * pp + 0.5 * p;\n\t\tvar sN = wN * ppp - wN * pp;\n\n\t\t// combine data linearly\n\n\t\tfor ( var i = 0; i !== stride; ++ i ) {\n\n\t\t\tresult[ i ] =\n\t\t\t\t\tsP * values[ oP + i ] +\n\t\t\t\t\ts0 * values[ o0 + i ] +\n\t\t\t\t\ts1 * values[ o1 + i ] +\n\t\t\t\t\tsN * values[ oN + i ];\n\n\t\t}\n\n\t\treturn result;\n\n\t}\n\n} );\n\n/**\n * @author tschw\n */\n\nfunction LinearInterpolant( parameterPositions, sampleValues, sampleSize, resultBuffer ) {\n\n\tInterpolant.call( this, parameterPositions, sampleValues, sampleSize, resultBuffer );\n\n}\n\nLinearInterpolant.prototype = Object.assign( Object.create( Interpolant.prototype ), {\n\n\tconstructor: LinearInterpolant,\n\n\tinterpolate_: function ( i1, t0, t, t1 ) {\n\n\t\tvar result = this.resultBuffer,\n\t\t\tvalues = this.sampleValues,\n\t\t\tstride = this.valueSize,\n\n\t\t\toffset1 = i1 * stride,\n\t\t\toffset0 = offset1 - stride,\n\n\t\t\tweight1 = ( t - t0 ) / ( t1 - t0 ),\n\t\t\tweight0 = 1 - weight1;\n\n\t\tfor ( var i = 0; i !== stride; ++ i ) {\n\n\t\t\tresult[ i ] =\n\t\t\t\t\tvalues[ offset0 + i ] * weight0 +\n\t\t\t\t\tvalues[ offset1 + i ] * weight1;\n\n\t\t}\n\n\t\treturn result;\n\n\t}\n\n} );\n\n/**\n *\n * Interpolant that evaluates to the sample value at the position preceeding\n * the parameter.\n *\n * @author tschw\n */\n\nfunction DiscreteInterpolant( parameterPositions, sampleValues, sampleSize, resultBuffer ) {\n\n\tInterpolant.call( this, parameterPositions, sampleValues, sampleSize, resultBuffer );\n\n}\n\nDiscreteInterpolant.prototype = Object.assign( Object.create( Interpolant.prototype ), {\n\n\tconstructor: DiscreteInterpolant,\n\n\tinterpolate_: function ( i1 /*, t0, t, t1 */ ) {\n\n\t\treturn this.copySampleValue_( i1 - 1 );\n\n\t}\n\n} );\n\n/**\n *\n * A timed sequence of keyframes for a specific property.\n *\n *\n * @author Ben Houston / http://clara.io/\n * @author David Sarno / http://lighthaus.us/\n * @author tschw\n */\n\nfunction KeyframeTrack( name, times, values, interpolation ) {\n\n\tif ( name === undefined ) throw new Error( 'THREE.KeyframeTrack: track name is undefined' );\n\tif ( times === undefined || times.length === 0 ) throw new Error( 'THREE.KeyframeTrack: no keyframes in track named ' + name );\n\n\tthis.name = name;\n\n\tthis.times = AnimationUtils.convertArray( times, this.TimeBufferType );\n\tthis.values = AnimationUtils.convertArray( values, this.ValueBufferType );\n\n\tthis.setInterpolation( interpolation || this.DefaultInterpolation );\n\n}\n\n// Static methods\n\nObject.assign( KeyframeTrack, {\n\n\t// Serialization (in static context, because of constructor invocation\n\t// and automatic invocation of .toJSON):\n\n\ttoJSON: function ( track ) {\n\n\t\tvar trackType = track.constructor;\n\n\t\tvar json;\n\n\t\t// derived classes can define a static toJSON method\n\t\tif ( trackType.toJSON !== undefined ) {\n\n\t\t\tjson = trackType.toJSON( track );\n\n\t\t} else {\n\n\t\t\t// by default, we assume the data can be serialized as-is\n\t\t\tjson = {\n\n\t\t\t\t'name': track.name,\n\t\t\t\t'times': AnimationUtils.convertArray( track.times, Array ),\n\t\t\t\t'values': AnimationUtils.convertArray( track.values, Array )\n\n\t\t\t};\n\n\t\t\tvar interpolation = track.getInterpolation();\n\n\t\t\tif ( interpolation !== track.DefaultInterpolation ) {\n\n\t\t\t\tjson.interpolation = interpolation;\n\n\t\t\t}\n\n\t\t}\n\n\t\tjson.type = track.ValueTypeName; // mandatory\n\n\t\treturn json;\n\n\t}\n\n} );\n\nObject.assign( KeyframeTrack.prototype, {\n\n\tconstructor: KeyframeTrack,\n\n\tTimeBufferType: Float32Array,\n\n\tValueBufferType: Float32Array,\n\n\tDefaultInterpolation: InterpolateLinear,\n\n\tInterpolantFactoryMethodDiscrete: function ( result ) {\n\n\t\treturn new DiscreteInterpolant( this.times, this.values, this.getValueSize(), result );\n\n\t},\n\n\tInterpolantFactoryMethodLinear: function ( result ) {\n\n\t\treturn new LinearInterpolant( this.times, this.values, this.getValueSize(), result );\n\n\t},\n\n\tInterpolantFactoryMethodSmooth: function ( result ) {\n\n\t\treturn new CubicInterpolant( this.times, this.values, this.getValueSize(), result );\n\n\t},\n\n\tsetInterpolation: function ( interpolation ) {\n\n\t\tvar factoryMethod;\n\n\t\tswitch ( interpolation ) {\n\n\t\t\tcase InterpolateDiscrete:\n\n\t\t\t\tfactoryMethod = this.InterpolantFactoryMethodDiscrete;\n\n\t\t\t\tbreak;\n\n\t\t\tcase InterpolateLinear:\n\n\t\t\t\tfactoryMethod = this.InterpolantFactoryMethodLinear;\n\n\t\t\t\tbreak;\n\n\t\t\tcase InterpolateSmooth:\n\n\t\t\t\tfactoryMethod = this.InterpolantFactoryMethodSmooth;\n\n\t\t\t\tbreak;\n\n\t\t}\n\n\t\tif ( factoryMethod === undefined ) {\n\n\t\t\tvar message = \"unsupported interpolation for \" +\n\t\t\t\tthis.ValueTypeName + \" keyframe track named \" + this.name;\n\n\t\t\tif ( this.createInterpolant === undefined ) {\n\n\t\t\t\t// fall back to default, unless the default itself is messed up\n\t\t\t\tif ( interpolation !== this.DefaultInterpolation ) {\n\n\t\t\t\t\tthis.setInterpolation( this.DefaultInterpolation );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tthrow new Error( message ); // fatal, in this case\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tconsole.warn( 'THREE.KeyframeTrack:', message );\n\t\t\treturn this;\n\n\t\t}\n\n\t\tthis.createInterpolant = factoryMethod;\n\n\t\treturn this;\n\n\t},\n\n\tgetInterpolation: function () {\n\n\t\tswitch ( this.createInterpolant ) {\n\n\t\t\tcase this.InterpolantFactoryMethodDiscrete:\n\n\t\t\t\treturn InterpolateDiscrete;\n\n\t\t\tcase this.InterpolantFactoryMethodLinear:\n\n\t\t\t\treturn InterpolateLinear;\n\n\t\t\tcase this.InterpolantFactoryMethodSmooth:\n\n\t\t\t\treturn InterpolateSmooth;\n\n\t\t}\n\n\t},\n\n\tgetValueSize: function () {\n\n\t\treturn this.values.length / this.times.length;\n\n\t},\n\n\t// move all keyframes either forwards or backwards in time\n\tshift: function ( timeOffset ) {\n\n\t\tif ( timeOffset !== 0.0 ) {\n\n\t\t\tvar times = this.times;\n\n\t\t\tfor ( var i = 0, n = times.length; i !== n; ++ i ) {\n\n\t\t\t\ttimes[ i ] += timeOffset;\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\t// scale all keyframe times by a factor (useful for frame <-> seconds conversions)\n\tscale: function ( timeScale ) {\n\n\t\tif ( timeScale !== 1.0 ) {\n\n\t\t\tvar times = this.times;\n\n\t\t\tfor ( var i = 0, n = times.length; i !== n; ++ i ) {\n\n\t\t\t\ttimes[ i ] *= timeScale;\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\t// removes keyframes before and after animation without changing any values within the range [startTime, endTime].\n\t// IMPORTANT: We do not shift around keys to the start of the track time, because for interpolated keys this will change their values\n\ttrim: function ( startTime, endTime ) {\n\n\t\tvar times = this.times,\n\t\t\tnKeys = times.length,\n\t\t\tfrom = 0,\n\t\t\tto = nKeys - 1;\n\n\t\twhile ( from !== nKeys && times[ from ] < startTime ) {\n\n\t\t\t++ from;\n\n\t\t}\n\n\t\twhile ( to !== - 1 && times[ to ] > endTime ) {\n\n\t\t\t-- to;\n\n\t\t}\n\n\t\t++ to; // inclusive -> exclusive bound\n\n\t\tif ( from !== 0 || to !== nKeys ) {\n\n\t\t\t// empty tracks are forbidden, so keep at least one keyframe\n\t\t\tif ( from >= to ) to = Math.max( to, 1 ), from = to - 1;\n\n\t\t\tvar stride = this.getValueSize();\n\t\t\tthis.times = AnimationUtils.arraySlice( times, from, to );\n\t\t\tthis.values = AnimationUtils.arraySlice( this.values, from * stride, to * stride );\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\t// ensure we do not get a GarbageInGarbageOut situation, make sure tracks are at least minimally viable\n\tvalidate: function () {\n\n\t\tvar valid = true;\n\n\t\tvar valueSize = this.getValueSize();\n\t\tif ( valueSize - Math.floor( valueSize ) !== 0 ) {\n\n\t\t\tconsole.error( 'THREE.KeyframeTrack: Invalid value size in track.', this );\n\t\t\tvalid = false;\n\n\t\t}\n\n\t\tvar times = this.times,\n\t\t\tvalues = this.values,\n\n\t\t\tnKeys = times.length;\n\n\t\tif ( nKeys === 0 ) {\n\n\t\t\tconsole.error( 'THREE.KeyframeTrack: Track is empty.', this );\n\t\t\tvalid = false;\n\n\t\t}\n\n\t\tvar prevTime = null;\n\n\t\tfor ( var i = 0; i !== nKeys; i ++ ) {\n\n\t\t\tvar currTime = times[ i ];\n\n\t\t\tif ( typeof currTime === 'number' && isNaN( currTime ) ) {\n\n\t\t\t\tconsole.error( 'THREE.KeyframeTrack: Time is not a valid number.', this, i, currTime );\n\t\t\t\tvalid = false;\n\t\t\t\tbreak;\n\n\t\t\t}\n\n\t\t\tif ( prevTime !== null && prevTime > currTime ) {\n\n\t\t\t\tconsole.error( 'THREE.KeyframeTrack: Out of order keys.', this, i, currTime, prevTime );\n\t\t\t\tvalid = false;\n\t\t\t\tbreak;\n\n\t\t\t}\n\n\t\t\tprevTime = currTime;\n\n\t\t}\n\n\t\tif ( values !== undefined ) {\n\n\t\t\tif ( AnimationUtils.isTypedArray( values ) ) {\n\n\t\t\t\tfor ( var i = 0, n = values.length; i !== n; ++ i ) {\n\n\t\t\t\t\tvar value = values[ i ];\n\n\t\t\t\t\tif ( isNaN( value ) ) {\n\n\t\t\t\t\t\tconsole.error( 'THREE.KeyframeTrack: Value is not a valid number.', this, i, value );\n\t\t\t\t\t\tvalid = false;\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn valid;\n\n\t},\n\n\t// removes equivalent sequential keys as common in morph target sequences\n\t// (0,0,0,0,1,1,1,0,0,0,0,0,0,0) --> (0,0,1,1,0,0)\n\toptimize: function () {\n\n\t\tvar times = this.times,\n\t\t\tvalues = this.values,\n\t\t\tstride = this.getValueSize(),\n\n\t\t\tsmoothInterpolation = this.getInterpolation() === InterpolateSmooth,\n\n\t\t\twriteIndex = 1,\n\t\t\tlastIndex = times.length - 1;\n\n\t\tfor ( var i = 1; i < lastIndex; ++ i ) {\n\n\t\t\tvar keep = false;\n\n\t\t\tvar time = times[ i ];\n\t\t\tvar timeNext = times[ i + 1 ];\n\n\t\t\t// remove adjacent keyframes scheduled at the same time\n\n\t\t\tif ( time !== timeNext && ( i !== 1 || time !== time[ 0 ] ) ) {\n\n\t\t\t\tif ( ! smoothInterpolation ) {\n\n\t\t\t\t\t// remove unnecessary keyframes same as their neighbors\n\n\t\t\t\t\tvar offset = i * stride,\n\t\t\t\t\t\toffsetP = offset - stride,\n\t\t\t\t\t\toffsetN = offset + stride;\n\n\t\t\t\t\tfor ( var j = 0; j !== stride; ++ j ) {\n\n\t\t\t\t\t\tvar value = values[ offset + j ];\n\n\t\t\t\t\t\tif ( value !== values[ offsetP + j ] ||\n\t\t\t\t\t\t\tvalue !== values[ offsetN + j ] ) {\n\n\t\t\t\t\t\t\tkeep = true;\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\n\t\t\t\t\tkeep = true;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\t// in-place compaction\n\n\t\t\tif ( keep ) {\n\n\t\t\t\tif ( i !== writeIndex ) {\n\n\t\t\t\t\ttimes[ writeIndex ] = times[ i ];\n\n\t\t\t\t\tvar readOffset = i * stride,\n\t\t\t\t\t\twriteOffset = writeIndex * stride;\n\n\t\t\t\t\tfor ( var j = 0; j !== stride; ++ j ) {\n\n\t\t\t\t\t\tvalues[ writeOffset + j ] = values[ readOffset + j ];\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\t++ writeIndex;\n\n\t\t\t}\n\n\t\t}\n\n\t\t// flush last keyframe (compaction looks ahead)\n\n\t\tif ( lastIndex > 0 ) {\n\n\t\t\ttimes[ writeIndex ] = times[ lastIndex ];\n\n\t\t\tfor ( var readOffset = lastIndex * stride, writeOffset = writeIndex * stride, j = 0; j !== stride; ++ j ) {\n\n\t\t\t\tvalues[ writeOffset + j ] = values[ readOffset + j ];\n\n\t\t\t}\n\n\t\t\t++ writeIndex;\n\n\t\t}\n\n\t\tif ( writeIndex !== times.length ) {\n\n\t\t\tthis.times = AnimationUtils.arraySlice( times, 0, writeIndex );\n\t\t\tthis.values = AnimationUtils.arraySlice( values, 0, writeIndex * stride );\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tclone: function () {\n\n\t\tvar times = AnimationUtils.arraySlice( this.times, 0 );\n\t\tvar values = AnimationUtils.arraySlice( this.values, 0 );\n\n\t\tvar TypedKeyframeTrack = this.constructor;\n\t\tvar track = new TypedKeyframeTrack( this.name, times, values );\n\n\t\t// Interpolant argument to constructor is not saved, so copy the factory method directly.\n\t\ttrack.createInterpolant = this.createInterpolant;\n\n\t\treturn track;\n\n\t}\n\n} );\n\n/**\n *\n * A Track of Boolean keyframe values.\n *\n *\n * @author Ben Houston / http://clara.io/\n * @author David Sarno / http://lighthaus.us/\n * @author tschw\n */\n\nfunction BooleanKeyframeTrack( name, times, values ) {\n\n\tKeyframeTrack.call( this, name, times, values );\n\n}\n\nBooleanKeyframeTrack.prototype = Object.assign( Object.create( KeyframeTrack.prototype ), {\n\n\tconstructor: BooleanKeyframeTrack,\n\n\tValueTypeName: 'bool',\n\tValueBufferType: Array,\n\n\tDefaultInterpolation: InterpolateDiscrete,\n\n\tInterpolantFactoryMethodLinear: undefined,\n\tInterpolantFactoryMethodSmooth: undefined\n\n\t// Note: Actually this track could have a optimized / compressed\n\t// representation of a single value and a custom interpolant that\n\t// computes \"firstValue ^ isOdd( index )\".\n\n} );\n\n/**\n *\n * A Track of keyframe values that represent color.\n *\n *\n * @author Ben Houston / http://clara.io/\n * @author David Sarno / http://lighthaus.us/\n * @author tschw\n */\n\nfunction ColorKeyframeTrack( name, times, values, interpolation ) {\n\n\tKeyframeTrack.call( this, name, times, values, interpolation );\n\n}\n\nColorKeyframeTrack.prototype = Object.assign( Object.create( KeyframeTrack.prototype ), {\n\n\tconstructor: ColorKeyframeTrack,\n\n\tValueTypeName: 'color'\n\n\t// ValueBufferType is inherited\n\n\t// DefaultInterpolation is inherited\n\n\t// Note: Very basic implementation and nothing special yet.\n\t// However, this is the place for color space parameterization.\n\n} );\n\n/**\n *\n * A Track of numeric keyframe values.\n *\n * @author Ben Houston / http://clara.io/\n * @author David Sarno / http://lighthaus.us/\n * @author tschw\n */\n\nfunction NumberKeyframeTrack( name, times, values, interpolation ) {\n\n\tKeyframeTrack.call( this, name, times, values, interpolation );\n\n}\n\nNumberKeyframeTrack.prototype = Object.assign( Object.create( KeyframeTrack.prototype ), {\n\n\tconstructor: NumberKeyframeTrack,\n\n\tValueTypeName: 'number'\n\n\t// ValueBufferType is inherited\n\n\t// DefaultInterpolation is inherited\n\n} );\n\n/**\n * Spherical linear unit quaternion interpolant.\n *\n * @author tschw\n */\n\nfunction QuaternionLinearInterpolant( parameterPositions, sampleValues, sampleSize, resultBuffer ) {\n\n\tInterpolant.call( this, parameterPositions, sampleValues, sampleSize, resultBuffer );\n\n}\n\nQuaternionLinearInterpolant.prototype = Object.assign( Object.create( Interpolant.prototype ), {\n\n\tconstructor: QuaternionLinearInterpolant,\n\n\tinterpolate_: function ( i1, t0, t, t1 ) {\n\n\t\tvar result = this.resultBuffer,\n\t\t\tvalues = this.sampleValues,\n\t\t\tstride = this.valueSize,\n\n\t\t\toffset = i1 * stride,\n\n\t\t\talpha = ( t - t0 ) / ( t1 - t0 );\n\n\t\tfor ( var end = offset + stride; offset !== end; offset += 4 ) {\n\n\t\t\tQuaternion.slerpFlat( result, 0, values, offset - stride, values, offset, alpha );\n\n\t\t}\n\n\t\treturn result;\n\n\t}\n\n} );\n\n/**\n *\n * A Track of quaternion keyframe values.\n *\n * @author Ben Houston / http://clara.io/\n * @author David Sarno / http://lighthaus.us/\n * @author tschw\n */\n\nfunction QuaternionKeyframeTrack( name, times, values, interpolation ) {\n\n\tKeyframeTrack.call( this, name, times, values, interpolation );\n\n}\n\nQuaternionKeyframeTrack.prototype = Object.assign( Object.create( KeyframeTrack.prototype ), {\n\n\tconstructor: QuaternionKeyframeTrack,\n\n\tValueTypeName: 'quaternion',\n\n\t// ValueBufferType is inherited\n\n\tDefaultInterpolation: InterpolateLinear,\n\n\tInterpolantFactoryMethodLinear: function ( result ) {\n\n\t\treturn new QuaternionLinearInterpolant( this.times, this.values, this.getValueSize(), result );\n\n\t},\n\n\tInterpolantFactoryMethodSmooth: undefined // not yet implemented\n\n} );\n\n/**\n *\n * A Track that interpolates Strings\n *\n *\n * @author Ben Houston / http://clara.io/\n * @author David Sarno / http://lighthaus.us/\n * @author tschw\n */\n\nfunction StringKeyframeTrack( name, times, values, interpolation ) {\n\n\tKeyframeTrack.call( this, name, times, values, interpolation );\n\n}\n\nStringKeyframeTrack.prototype = Object.assign( Object.create( KeyframeTrack.prototype ), {\n\n\tconstructor: StringKeyframeTrack,\n\n\tValueTypeName: 'string',\n\tValueBufferType: Array,\n\n\tDefaultInterpolation: InterpolateDiscrete,\n\n\tInterpolantFactoryMethodLinear: undefined,\n\n\tInterpolantFactoryMethodSmooth: undefined\n\n} );\n\n/**\n *\n * A Track of vectored keyframe values.\n *\n *\n * @author Ben Houston / http://clara.io/\n * @author David Sarno / http://lighthaus.us/\n * @author tschw\n */\n\nfunction VectorKeyframeTrack( name, times, values, interpolation ) {\n\n\tKeyframeTrack.call( this, name, times, values, interpolation );\n\n}\n\nVectorKeyframeTrack.prototype = Object.assign( Object.create( KeyframeTrack.prototype ), {\n\n\tconstructor: VectorKeyframeTrack,\n\n\tValueTypeName: 'vector'\n\n\t// ValueBufferType is inherited\n\n\t// DefaultInterpolation is inherited\n\n} );\n\n/**\n *\n * Reusable set of Tracks that represent an animation.\n *\n * @author Ben Houston / http://clara.io/\n * @author David Sarno / http://lighthaus.us/\n */\n\nfunction AnimationClip( name, duration, tracks ) {\n\n\tthis.name = name;\n\tthis.tracks = tracks;\n\tthis.duration = ( duration !== undefined ) ? duration : - 1;\n\n\tthis.uuid = _Math.generateUUID();\n\n\t// this means it should figure out its duration by scanning the tracks\n\tif ( this.duration < 0 ) {\n\n\t\tthis.resetDuration();\n\n\t}\n\n}\n\nfunction getTrackTypeForValueTypeName( typeName ) {\n\n\tswitch ( typeName.toLowerCase() ) {\n\n\t\tcase 'scalar':\n\t\tcase 'double':\n\t\tcase 'float':\n\t\tcase 'number':\n\t\tcase 'integer':\n\n\t\t\treturn NumberKeyframeTrack;\n\n\t\tcase 'vector':\n\t\tcase 'vector2':\n\t\tcase 'vector3':\n\t\tcase 'vector4':\n\n\t\t\treturn VectorKeyframeTrack;\n\n\t\tcase 'color':\n\n\t\t\treturn ColorKeyframeTrack;\n\n\t\tcase 'quaternion':\n\n\t\t\treturn QuaternionKeyframeTrack;\n\n\t\tcase 'bool':\n\t\tcase 'boolean':\n\n\t\t\treturn BooleanKeyframeTrack;\n\n\t\tcase 'string':\n\n\t\t\treturn StringKeyframeTrack;\n\n\t}\n\n\tthrow new Error( 'THREE.KeyframeTrack: Unsupported typeName: ' + typeName );\n\n}\n\nfunction parseKeyframeTrack( json ) {\n\n\tif ( json.type === undefined ) {\n\n\t\tthrow new Error( 'THREE.KeyframeTrack: track type undefined, can not parse' );\n\n\t}\n\n\tvar trackType = getTrackTypeForValueTypeName( json.type );\n\n\tif ( json.times === undefined ) {\n\n\t\tvar times = [], values = [];\n\n\t\tAnimationUtils.flattenJSON( json.keys, times, values, 'value' );\n\n\t\tjson.times = times;\n\t\tjson.values = values;\n\n\t}\n\n\t// derived classes can define a static parse method\n\tif ( trackType.parse !== undefined ) {\n\n\t\treturn trackType.parse( json );\n\n\t} else {\n\n\t\t// by default, we assume a constructor compatible with the base\n\t\treturn new trackType( json.name, json.times, json.values, json.interpolation );\n\n\t}\n\n}\n\nObject.assign( AnimationClip, {\n\n\tparse: function ( json ) {\n\n\t\tvar tracks = [],\n\t\t\tjsonTracks = json.tracks,\n\t\t\tframeTime = 1.0 / ( json.fps || 1.0 );\n\n\t\tfor ( var i = 0, n = jsonTracks.length; i !== n; ++ i ) {\n\n\t\t\ttracks.push( parseKeyframeTrack( jsonTracks[ i ] ).scale( frameTime ) );\n\n\t\t}\n\n\t\treturn new AnimationClip( json.name, json.duration, tracks );\n\n\t},\n\n\ttoJSON: function ( clip ) {\n\n\t\tvar tracks = [],\n\t\t\tclipTracks = clip.tracks;\n\n\t\tvar json = {\n\n\t\t\t'name': clip.name,\n\t\t\t'duration': clip.duration,\n\t\t\t'tracks': tracks,\n\t\t\t'uuid': clip.uuid\n\n\t\t};\n\n\t\tfor ( var i = 0, n = clipTracks.length; i !== n; ++ i ) {\n\n\t\t\ttracks.push( KeyframeTrack.toJSON( clipTracks[ i ] ) );\n\n\t\t}\n\n\t\treturn json;\n\n\t},\n\n\tCreateFromMorphTargetSequence: function ( name, morphTargetSequence, fps, noLoop ) {\n\n\t\tvar numMorphTargets = morphTargetSequence.length;\n\t\tvar tracks = [];\n\n\t\tfor ( var i = 0; i < numMorphTargets; i ++ ) {\n\n\t\t\tvar times = [];\n\t\t\tvar values = [];\n\n\t\t\ttimes.push(\n\t\t\t\t( i + numMorphTargets - 1 ) % numMorphTargets,\n\t\t\t\ti,\n\t\t\t\t( i + 1 ) % numMorphTargets );\n\n\t\t\tvalues.push( 0, 1, 0 );\n\n\t\t\tvar order = AnimationUtils.getKeyframeOrder( times );\n\t\t\ttimes = AnimationUtils.sortedArray( times, 1, order );\n\t\t\tvalues = AnimationUtils.sortedArray( values, 1, order );\n\n\t\t\t// if there is a key at the first frame, duplicate it as the\n\t\t\t// last frame as well for perfect loop.\n\t\t\tif ( ! noLoop && times[ 0 ] === 0 ) {\n\n\t\t\t\ttimes.push( numMorphTargets );\n\t\t\t\tvalues.push( values[ 0 ] );\n\n\t\t\t}\n\n\t\t\ttracks.push(\n\t\t\t\tnew NumberKeyframeTrack(\n\t\t\t\t\t'.morphTargetInfluences[' + morphTargetSequence[ i ].name + ']',\n\t\t\t\t\ttimes, values\n\t\t\t\t).scale( 1.0 / fps ) );\n\n\t\t}\n\n\t\treturn new AnimationClip( name, - 1, tracks );\n\n\t},\n\n\tfindByName: function ( objectOrClipArray, name ) {\n\n\t\tvar clipArray = objectOrClipArray;\n\n\t\tif ( ! Array.isArray( objectOrClipArray ) ) {\n\n\t\t\tvar o = objectOrClipArray;\n\t\t\tclipArray = o.geometry && o.geometry.animations || o.animations;\n\n\t\t}\n\n\t\tfor ( var i = 0; i < clipArray.length; i ++ ) {\n\n\t\t\tif ( clipArray[ i ].name === name ) {\n\n\t\t\t\treturn clipArray[ i ];\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn null;\n\n\t},\n\n\tCreateClipsFromMorphTargetSequences: function ( morphTargets, fps, noLoop ) {\n\n\t\tvar animationToMorphTargets = {};\n\n\t\t// tested with https://regex101.com/ on trick sequences\n\t\t// such flamingo_flyA_003, flamingo_run1_003, crdeath0059\n\t\tvar pattern = /^([\\w-]*?)([\\d]+)$/;\n\n\t\t// sort morph target names into animation groups based\n\t\t// patterns like Walk_001, Walk_002, Run_001, Run_002\n\t\tfor ( var i = 0, il = morphTargets.length; i < il; i ++ ) {\n\n\t\t\tvar morphTarget = morphTargets[ i ];\n\t\t\tvar parts = morphTarget.name.match( pattern );\n\n\t\t\tif ( parts && parts.length > 1 ) {\n\n\t\t\t\tvar name = parts[ 1 ];\n\n\t\t\t\tvar animationMorphTargets = animationToMorphTargets[ name ];\n\t\t\t\tif ( ! animationMorphTargets ) {\n\n\t\t\t\t\tanimationToMorphTargets[ name ] = animationMorphTargets = [];\n\n\t\t\t\t}\n\n\t\t\t\tanimationMorphTargets.push( morphTarget );\n\n\t\t\t}\n\n\t\t}\n\n\t\tvar clips = [];\n\n\t\tfor ( var name in animationToMorphTargets ) {\n\n\t\t\tclips.push( AnimationClip.CreateFromMorphTargetSequence( name, animationToMorphTargets[ name ], fps, noLoop ) );\n\n\t\t}\n\n\t\treturn clips;\n\n\t},\n\n\t// parse the animation.hierarchy format\n\tparseAnimation: function ( animation, bones ) {\n\n\t\tif ( ! animation ) {\n\n\t\t\tconsole.error( 'THREE.AnimationClip: No animation in JSONLoader data.' );\n\t\t\treturn null;\n\n\t\t}\n\n\t\tvar addNonemptyTrack = function ( trackType, trackName, animationKeys, propertyName, destTracks ) {\n\n\t\t\t// only return track if there are actually keys.\n\t\t\tif ( animationKeys.length !== 0 ) {\n\n\t\t\t\tvar times = [];\n\t\t\t\tvar values = [];\n\n\t\t\t\tAnimationUtils.flattenJSON( animationKeys, times, values, propertyName );\n\n\t\t\t\t// empty keys are filtered out, so check again\n\t\t\t\tif ( times.length !== 0 ) {\n\n\t\t\t\t\tdestTracks.push( new trackType( trackName, times, values ) );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t};\n\n\t\tvar tracks = [];\n\n\t\tvar clipName = animation.name || 'default';\n\t\t// automatic length determination in AnimationClip.\n\t\tvar duration = animation.length || - 1;\n\t\tvar fps = animation.fps || 30;\n\n\t\tvar hierarchyTracks = animation.hierarchy || [];\n\n\t\tfor ( var h = 0; h < hierarchyTracks.length; h ++ ) {\n\n\t\t\tvar animationKeys = hierarchyTracks[ h ].keys;\n\n\t\t\t// skip empty tracks\n\t\t\tif ( ! animationKeys || animationKeys.length === 0 ) continue;\n\n\t\t\t// process morph targets\n\t\t\tif ( animationKeys[ 0 ].morphTargets ) {\n\n\t\t\t\t// figure out all morph targets used in this track\n\t\t\t\tvar morphTargetNames = {};\n\n\t\t\t\tfor ( var k = 0; k < animationKeys.length; k ++ ) {\n\n\t\t\t\t\tif ( animationKeys[ k ].morphTargets ) {\n\n\t\t\t\t\t\tfor ( var m = 0; m < animationKeys[ k ].morphTargets.length; m ++ ) {\n\n\t\t\t\t\t\t\tmorphTargetNames[ animationKeys[ k ].morphTargets[ m ] ] = - 1;\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\t// create a track for each morph target with all zero\n\t\t\t\t// morphTargetInfluences except for the keys in which\n\t\t\t\t// the morphTarget is named.\n\t\t\t\tfor ( var morphTargetName in morphTargetNames ) {\n\n\t\t\t\t\tvar times = [];\n\t\t\t\t\tvar values = [];\n\n\t\t\t\t\tfor ( var m = 0; m !== animationKeys[ k ].morphTargets.length; ++ m ) {\n\n\t\t\t\t\t\tvar animationKey = animationKeys[ k ];\n\n\t\t\t\t\t\ttimes.push( animationKey.time );\n\t\t\t\t\t\tvalues.push( ( animationKey.morphTarget === morphTargetName ) ? 1 : 0 );\n\n\t\t\t\t\t}\n\n\t\t\t\t\ttracks.push( new NumberKeyframeTrack( '.morphTargetInfluence[' + morphTargetName + ']', times, values ) );\n\n\t\t\t\t}\n\n\t\t\t\tduration = morphTargetNames.length * ( fps || 1.0 );\n\n\t\t\t} else {\n\n\t\t\t\t// ...assume skeletal animation\n\n\t\t\t\tvar boneName = '.bones[' + bones[ h ].name + ']';\n\n\t\t\t\taddNonemptyTrack(\n\t\t\t\t\tVectorKeyframeTrack, boneName + '.position',\n\t\t\t\t\tanimationKeys, 'pos', tracks );\n\n\t\t\t\taddNonemptyTrack(\n\t\t\t\t\tQuaternionKeyframeTrack, boneName + '.quaternion',\n\t\t\t\t\tanimationKeys, 'rot', tracks );\n\n\t\t\t\taddNonemptyTrack(\n\t\t\t\t\tVectorKeyframeTrack, boneName + '.scale',\n\t\t\t\t\tanimationKeys, 'scl', tracks );\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( tracks.length === 0 ) {\n\n\t\t\treturn null;\n\n\t\t}\n\n\t\tvar clip = new AnimationClip( clipName, duration, tracks );\n\n\t\treturn clip;\n\n\t}\n\n} );\n\nObject.assign( AnimationClip.prototype, {\n\n\tresetDuration: function () {\n\n\t\tvar tracks = this.tracks, duration = 0;\n\n\t\tfor ( var i = 0, n = tracks.length; i !== n; ++ i ) {\n\n\t\t\tvar track = this.tracks[ i ];\n\n\t\t\tduration = Math.max( duration, track.times[ track.times.length - 1 ] );\n\n\t\t}\n\n\t\tthis.duration = duration;\n\n\t\treturn this;\n\n\t},\n\n\ttrim: function () {\n\n\t\tfor ( var i = 0; i < this.tracks.length; i ++ ) {\n\n\t\t\tthis.tracks[ i ].trim( 0, this.duration );\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tvalidate: function () {\n\n\t\tvar valid = true;\n\n\t\tfor ( var i = 0; i < this.tracks.length; i ++ ) {\n\n\t\t\tvalid = valid && this.tracks[ i ].validate();\n\n\t\t}\n\n\t\treturn valid;\n\n\t},\n\n\toptimize: function () {\n\n\t\tfor ( var i = 0; i < this.tracks.length; i ++ ) {\n\n\t\t\tthis.tracks[ i ].optimize();\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\n\tclone: function () {\n\n\t\tvar tracks = [];\n\n\t\tfor ( var i = 0; i < this.tracks.length; i ++ ) {\n\n\t\t\ttracks.push( this.tracks[ i ].clone() );\n\n\t\t}\n\n\t\treturn new AnimationClip( this.name, this.duration, tracks );\n\n\t}\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nvar Cache = {\n\n\tenabled: false,\n\n\tfiles: {},\n\n\tadd: function ( key, file ) {\n\n\t\tif ( this.enabled === false ) return;\n\n\t\t// console.log( 'THREE.Cache', 'Adding key:', key );\n\n\t\tthis.files[ key ] = file;\n\n\t},\n\n\tget: function ( key ) {\n\n\t\tif ( this.enabled === false ) return;\n\n\t\t// console.log( 'THREE.Cache', 'Checking key:', key );\n\n\t\treturn this.files[ key ];\n\n\t},\n\n\tremove: function ( key ) {\n\n\t\tdelete this.files[ key ];\n\n\t},\n\n\tclear: function () {\n\n\t\tthis.files = {};\n\n\t}\n\n};\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction LoadingManager( onLoad, onProgress, onError ) {\n\n\tvar scope = this;\n\n\tvar isLoading = false;\n\tvar itemsLoaded = 0;\n\tvar itemsTotal = 0;\n\tvar urlModifier = undefined;\n\n\t// Refer to #5689 for the reason why we don't set .onStart\n\t// in the constructor\n\n\tthis.onStart = undefined;\n\tthis.onLoad = onLoad;\n\tthis.onProgress = onProgress;\n\tthis.onError = onError;\n\n\tthis.itemStart = function ( url ) {\n\n\t\titemsTotal ++;\n\n\t\tif ( isLoading === false ) {\n\n\t\t\tif ( scope.onStart !== undefined ) {\n\n\t\t\t\tscope.onStart( url, itemsLoaded, itemsTotal );\n\n\t\t\t}\n\n\t\t}\n\n\t\tisLoading = true;\n\n\t};\n\n\tthis.itemEnd = function ( url ) {\n\n\t\titemsLoaded ++;\n\n\t\tif ( scope.onProgress !== undefined ) {\n\n\t\t\tscope.onProgress( url, itemsLoaded, itemsTotal );\n\n\t\t}\n\n\t\tif ( itemsLoaded === itemsTotal ) {\n\n\t\t\tisLoading = false;\n\n\t\t\tif ( scope.onLoad !== undefined ) {\n\n\t\t\t\tscope.onLoad();\n\n\t\t\t}\n\n\t\t}\n\n\t};\n\n\tthis.itemError = function ( url ) {\n\n\t\tif ( scope.onError !== undefined ) {\n\n\t\t\tscope.onError( url );\n\n\t\t}\n\n\t};\n\n\tthis.resolveURL = function ( url ) {\n\n\t\tif ( urlModifier ) {\n\n\t\t\treturn urlModifier( url );\n\n\t\t}\n\n\t\treturn url;\n\n\t};\n\n\tthis.setURLModifier = function ( transform ) {\n\n\t\turlModifier = transform;\n\t\treturn this;\n\n\t};\n\n}\n\nvar DefaultLoadingManager = new LoadingManager();\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nvar loading = {};\n\nfunction FileLoader( manager ) {\n\n\tthis.manager = ( manager !== undefined ) ? manager : DefaultLoadingManager;\n\n}\n\nObject.assign( FileLoader.prototype, {\n\n\tload: function ( url, onLoad, onProgress, onError ) {\n\n\t\tif ( url === undefined ) url = '';\n\n\t\tif ( this.path !== undefined ) url = this.path + url;\n\n\t\turl = this.manager.resolveURL( url );\n\n\t\tvar scope = this;\n\n\t\tvar cached = Cache.get( url );\n\n\t\tif ( cached !== undefined ) {\n\n\t\t\tscope.manager.itemStart( url );\n\n\t\t\tsetTimeout( function () {\n\n\t\t\t\tif ( onLoad ) onLoad( cached );\n\n\t\t\t\tscope.manager.itemEnd( url );\n\n\t\t\t}, 0 );\n\n\t\t\treturn cached;\n\n\t\t}\n\n\t\t// Check if request is duplicate\n\n\t\tif ( loading[ url ] !== undefined ) {\n\n\t\t\tloading[ url ].push( {\n\n\t\t\t\tonLoad: onLoad,\n\t\t\t\tonProgress: onProgress,\n\t\t\t\tonError: onError\n\n\t\t\t} );\n\n\t\t\treturn;\n\n\t\t}\n\n\t\t// Check for data: URI\n\t\tvar dataUriRegex = /^data:(.*?)(;base64)?,(.*)$/;\n\t\tvar dataUriRegexResult = url.match( dataUriRegex );\n\n\t\t// Safari can not handle Data URIs through XMLHttpRequest so process manually\n\t\tif ( dataUriRegexResult ) {\n\n\t\t\tvar mimeType = dataUriRegexResult[ 1 ];\n\t\t\tvar isBase64 = !! dataUriRegexResult[ 2 ];\n\t\t\tvar data = dataUriRegexResult[ 3 ];\n\n\t\t\tdata = decodeURIComponent( data );\n\n\t\t\tif ( isBase64 ) data = atob( data );\n\n\t\t\ttry {\n\n\t\t\t\tvar response;\n\t\t\t\tvar responseType = ( this.responseType || '' ).toLowerCase();\n\n\t\t\t\tswitch ( responseType ) {\n\n\t\t\t\t\tcase 'arraybuffer':\n\t\t\t\t\tcase 'blob':\n\n\t\t\t\t\t\tvar view = new Uint8Array( data.length );\n\n\t\t\t\t\t\tfor ( var i = 0; i < data.length; i ++ ) {\n\n\t\t\t\t\t\t\tview[ i ] = data.charCodeAt( i );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif ( responseType === 'blob' ) {\n\n\t\t\t\t\t\t\tresponse = new Blob( [ view.buffer ], { type: mimeType } );\n\n\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\tresponse = view.buffer;\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'document':\n\n\t\t\t\t\t\tvar parser = new DOMParser();\n\t\t\t\t\t\tresponse = parser.parseFromString( data, mimeType );\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'json':\n\n\t\t\t\t\t\tresponse = JSON.parse( data );\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tdefault: // 'text' or other\n\n\t\t\t\t\t\tresponse = data;\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t}\n\n\t\t\t\t// Wait for next browser tick like standard XMLHttpRequest event dispatching does\n\t\t\t\tsetTimeout( function () {\n\n\t\t\t\t\tif ( onLoad ) onLoad( response );\n\n\t\t\t\t\tscope.manager.itemEnd( url );\n\n\t\t\t\t}, 0 );\n\n\t\t\t} catch ( error ) {\n\n\t\t\t\t// Wait for next browser tick like standard XMLHttpRequest event dispatching does\n\t\t\t\tsetTimeout( function () {\n\n\t\t\t\t\tif ( onError ) onError( error );\n\n\t\t\t\t\tscope.manager.itemError( url );\n\t\t\t\t\tscope.manager.itemEnd( url );\n\n\t\t\t\t}, 0 );\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\t// Initialise array for duplicate requests\n\n\t\t\tloading[ url ] = [];\n\n\t\t\tloading[ url ].push( {\n\n\t\t\t\tonLoad: onLoad,\n\t\t\t\tonProgress: onProgress,\n\t\t\t\tonError: onError\n\n\t\t\t} );\n\n\t\t\tvar request = new XMLHttpRequest();\n\n\t\t\trequest.open( 'GET', url, true );\n\n\t\t\trequest.addEventListener( 'load', function ( event ) {\n\n\t\t\t\tvar response = this.response;\n\n\t\t\t\tCache.add( url, response );\n\n\t\t\t\tvar callbacks = loading[ url ];\n\n\t\t\t\tdelete loading[ url ];\n\n\t\t\t\tif ( this.status === 200 || this.status === 0 ) {\n\n\t\t\t\t\t// Some browsers return HTTP Status 0 when using non-http protocol\n\t\t\t\t\t// e.g. 'file://' or 'data://'. Handle as success.\n\n\t\t\t\t\tif ( this.status === 0 ) console.warn( 'THREE.FileLoader: HTTP Status 0 received.' );\n\n\t\t\t\t\tfor ( var i = 0, il = callbacks.length; i < il; i ++ ) {\n\n\t\t\t\t\t\tvar callback = callbacks[ i ];\n\t\t\t\t\t\tif ( callback.onLoad ) callback.onLoad( response );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tscope.manager.itemEnd( url );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tfor ( var i = 0, il = callbacks.length; i < il; i ++ ) {\n\n\t\t\t\t\t\tvar callback = callbacks[ i ];\n\t\t\t\t\t\tif ( callback.onError ) callback.onError( event );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tscope.manager.itemError( url );\n\t\t\t\t\tscope.manager.itemEnd( url );\n\n\t\t\t\t}\n\n\t\t\t}, false );\n\n\t\t\trequest.addEventListener( 'progress', function ( event ) {\n\n\t\t\t\tvar callbacks = loading[ url ];\n\n\t\t\t\tfor ( var i = 0, il = callbacks.length; i < il; i ++ ) {\n\n\t\t\t\t\tvar callback = callbacks[ i ];\n\t\t\t\t\tif ( callback.onProgress ) callback.onProgress( event );\n\n\t\t\t\t}\n\n\t\t\t}, false );\n\n\t\t\trequest.addEventListener( 'error', function ( event ) {\n\n\t\t\t\tvar callbacks = loading[ url ];\n\n\t\t\t\tdelete loading[ url ];\n\n\t\t\t\tfor ( var i = 0, il = callbacks.length; i < il; i ++ ) {\n\n\t\t\t\t\tvar callback = callbacks[ i ];\n\t\t\t\t\tif ( callback.onError ) callback.onError( event );\n\n\t\t\t\t}\n\n\t\t\t\tscope.manager.itemError( url );\n\t\t\t\tscope.manager.itemEnd( url );\n\n\t\t\t}, false );\n\n\t\t\trequest.addEventListener( 'abort', function ( event ) {\n\n\t\t\t\tvar callbacks = loading[ url ];\n\n\t\t\t\tdelete loading[ url ];\n\n\t\t\t\tfor ( var i = 0, il = callbacks.length; i < il; i ++ ) {\n\n\t\t\t\t\tvar callback = callbacks[ i ];\n\t\t\t\t\tif ( callback.onError ) callback.onError( event );\n\n\t\t\t\t}\n\n\t\t\t\tscope.manager.itemError( url );\n\t\t\t\tscope.manager.itemEnd( url );\n\n\t\t\t}, false );\n\n\t\t\tif ( this.responseType !== undefined ) request.responseType = this.responseType;\n\t\t\tif ( this.withCredentials !== undefined ) request.withCredentials = this.withCredentials;\n\n\t\t\tif ( request.overrideMimeType ) request.overrideMimeType( this.mimeType !== undefined ? this.mimeType : 'text/plain' );\n\n\t\t\tfor ( var header in this.requestHeader ) {\n\n\t\t\t\trequest.setRequestHeader( header, this.requestHeader[ header ] );\n\n\t\t\t}\n\n\t\t\trequest.send( null );\n\n\t\t}\n\n\t\tscope.manager.itemStart( url );\n\n\t\treturn request;\n\n\t},\n\n\tsetPath: function ( value ) {\n\n\t\tthis.path = value;\n\t\treturn this;\n\n\t},\n\n\tsetResponseType: function ( value ) {\n\n\t\tthis.responseType = value;\n\t\treturn this;\n\n\t},\n\n\tsetWithCredentials: function ( value ) {\n\n\t\tthis.withCredentials = value;\n\t\treturn this;\n\n\t},\n\n\tsetMimeType: function ( value ) {\n\n\t\tthis.mimeType = value;\n\t\treturn this;\n\n\t},\n\n\tsetRequestHeader: function ( value ) {\n\n\t\tthis.requestHeader = value;\n\t\treturn this;\n\n\t}\n\n} );\n\n/**\n * @author bhouston / http://clara.io/\n */\n\nfunction AnimationLoader( manager ) {\n\n\tthis.manager = ( manager !== undefined ) ? manager : DefaultLoadingManager;\n\n}\n\nObject.assign( AnimationLoader.prototype, {\n\n\tload: function ( url, onLoad, onProgress, onError ) {\n\n\t\tvar scope = this;\n\n\t\tvar loader = new FileLoader( scope.manager );\n\t\tloader.setPath( scope.path );\n\t\tloader.load( url, function ( text ) {\n\n\t\t\tonLoad( scope.parse( JSON.parse( text ) ) );\n\n\t\t}, onProgress, onError );\n\n\t},\n\n\tparse: function ( json ) {\n\n\t\tvar animations = [];\n\n\t\tfor ( var i = 0; i < json.length; i ++ ) {\n\n\t\t\tvar clip = AnimationClip.parse( json[ i ] );\n\n\t\t\tanimations.push( clip );\n\n\t\t}\n\n\t\treturn animations;\n\n\t},\n\n\tsetPath: function ( value ) {\n\n\t\tthis.path = value;\n\t\treturn this;\n\n\t}\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n *\n * Abstract Base class to block based textures loader (dds, pvr, ...)\n */\n\nfunction CompressedTextureLoader( manager ) {\n\n\tthis.manager = ( manager !== undefined ) ? manager : DefaultLoadingManager;\n\n\t// override in sub classes\n\tthis._parser = null;\n\n}\n\nObject.assign( CompressedTextureLoader.prototype, {\n\n\tload: function ( url, onLoad, onProgress, onError ) {\n\n\t\tvar scope = this;\n\n\t\tvar images = [];\n\n\t\tvar texture = new CompressedTexture();\n\t\ttexture.image = images;\n\n\t\tvar loader = new FileLoader( this.manager );\n\t\tloader.setPath( this.path );\n\t\tloader.setResponseType( 'arraybuffer' );\n\n\t\tfunction loadTexture( i ) {\n\n\t\t\tloader.load( url[ i ], function ( buffer ) {\n\n\t\t\t\tvar texDatas = scope._parser( buffer, true );\n\n\t\t\t\timages[ i ] = {\n\t\t\t\t\twidth: texDatas.width,\n\t\t\t\t\theight: texDatas.height,\n\t\t\t\t\tformat: texDatas.format,\n\t\t\t\t\tmipmaps: texDatas.mipmaps\n\t\t\t\t};\n\n\t\t\t\tloaded += 1;\n\n\t\t\t\tif ( loaded === 6 ) {\n\n\t\t\t\t\tif ( texDatas.mipmapCount === 1 )\n\t\t\t\t\t\ttexture.minFilter = LinearFilter;\n\n\t\t\t\t\ttexture.format = texDatas.format;\n\t\t\t\t\ttexture.needsUpdate = true;\n\n\t\t\t\t\tif ( onLoad ) onLoad( texture );\n\n\t\t\t\t}\n\n\t\t\t}, onProgress, onError );\n\n\t\t}\n\n\t\tif ( Array.isArray( url ) ) {\n\n\t\t\tvar loaded = 0;\n\n\t\t\tfor ( var i = 0, il = url.length; i < il; ++ i ) {\n\n\t\t\t\tloadTexture( i );\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\t// compressed cubemap texture stored in a single DDS file\n\n\t\t\tloader.load( url, function ( buffer ) {\n\n\t\t\t\tvar texDatas = scope._parser( buffer, true );\n\n\t\t\t\tif ( texDatas.isCubemap ) {\n\n\t\t\t\t\tvar faces = texDatas.mipmaps.length / texDatas.mipmapCount;\n\n\t\t\t\t\tfor ( var f = 0; f < faces; f ++ ) {\n\n\t\t\t\t\t\timages[ f ] = { mipmaps: [] };\n\n\t\t\t\t\t\tfor ( var i = 0; i < texDatas.mipmapCount; i ++ ) {\n\n\t\t\t\t\t\t\timages[ f ].mipmaps.push( texDatas.mipmaps[ f * texDatas.mipmapCount + i ] );\n\t\t\t\t\t\t\timages[ f ].format = texDatas.format;\n\t\t\t\t\t\t\timages[ f ].width = texDatas.width;\n\t\t\t\t\t\t\timages[ f ].height = texDatas.height;\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\n\t\t\t\t\ttexture.image.width = texDatas.width;\n\t\t\t\t\ttexture.image.height = texDatas.height;\n\t\t\t\t\ttexture.mipmaps = texDatas.mipmaps;\n\n\t\t\t\t}\n\n\t\t\t\tif ( texDatas.mipmapCount === 1 ) {\n\n\t\t\t\t\ttexture.minFilter = LinearFilter;\n\n\t\t\t\t}\n\n\t\t\t\ttexture.format = texDatas.format;\n\t\t\t\ttexture.needsUpdate = true;\n\n\t\t\t\tif ( onLoad ) onLoad( texture );\n\n\t\t\t}, onProgress, onError );\n\n\t\t}\n\n\t\treturn texture;\n\n\t},\n\n\tsetPath: function ( value ) {\n\n\t\tthis.path = value;\n\t\treturn this;\n\n\t}\n\n} );\n\n/**\n * @author Nikos M. / https://github.com/foo123/\n *\n * Abstract Base class to load generic binary textures formats (rgbe, hdr, ...)\n */\n\nfunction DataTextureLoader( manager ) {\n\n\tthis.manager = ( manager !== undefined ) ? manager : DefaultLoadingManager;\n\n\t// override in sub classes\n\tthis._parser = null;\n\n}\n\nObject.assign( DataTextureLoader.prototype, {\n\n\tload: function ( url, onLoad, onProgress, onError ) {\n\n\t\tvar scope = this;\n\n\t\tvar texture = new DataTexture();\n\n\t\tvar loader = new FileLoader( this.manager );\n\t\tloader.setResponseType( 'arraybuffer' );\n\t\tloader.setPath( this.path );\n\t\tloader.load( url, function ( buffer ) {\n\n\t\t\tvar texData = scope._parser( buffer );\n\n\t\t\tif ( ! texData ) return;\n\n\t\t\tif ( texData.image !== undefined ) {\n\n\t\t\t\ttexture.image = texData.image;\n\n\t\t\t} else if ( texData.data !== undefined ) {\n\n\t\t\t\ttexture.image.width = texData.width;\n\t\t\t\ttexture.image.height = texData.height;\n\t\t\t\ttexture.image.data = texData.data;\n\n\t\t\t}\n\n\t\t\ttexture.wrapS = texData.wrapS !== undefined ? texData.wrapS : ClampToEdgeWrapping;\n\t\t\ttexture.wrapT = texData.wrapT !== undefined ? texData.wrapT : ClampToEdgeWrapping;\n\n\t\t\ttexture.magFilter = texData.magFilter !== undefined ? texData.magFilter : LinearFilter;\n\t\t\ttexture.minFilter = texData.minFilter !== undefined ? texData.minFilter : LinearMipMapLinearFilter;\n\n\t\t\ttexture.anisotropy = texData.anisotropy !== undefined ? texData.anisotropy : 1;\n\n\t\t\tif ( texData.format !== undefined ) {\n\n\t\t\t\ttexture.format = texData.format;\n\n\t\t\t}\n\t\t\tif ( texData.type !== undefined ) {\n\n\t\t\t\ttexture.type = texData.type;\n\n\t\t\t}\n\n\t\t\tif ( texData.mipmaps !== undefined ) {\n\n\t\t\t\ttexture.mipmaps = texData.mipmaps;\n\n\t\t\t}\n\n\t\t\tif ( texData.mipmapCount === 1 ) {\n\n\t\t\t\ttexture.minFilter = LinearFilter;\n\n\t\t\t}\n\n\t\t\ttexture.needsUpdate = true;\n\n\t\t\tif ( onLoad ) onLoad( texture, texData );\n\n\t\t}, onProgress, onError );\n\n\n\t\treturn texture;\n\n\t},\n\n\tsetPath: function ( value ) {\n\n\t\tthis.path = value;\n\t\treturn this;\n\n\t}\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\n\nfunction ImageLoader( manager ) {\n\n\tthis.manager = ( manager !== undefined ) ? manager : DefaultLoadingManager;\n\n}\n\nObject.assign( ImageLoader.prototype, {\n\n\tcrossOrigin: 'anonymous',\n\n\tload: function ( url, onLoad, onProgress, onError ) {\n\n\t\tif ( url === undefined ) url = '';\n\n\t\tif ( this.path !== undefined ) url = this.path + url;\n\n\t\turl = this.manager.resolveURL( url );\n\n\t\tvar scope = this;\n\n\t\tvar cached = Cache.get( url );\n\n\t\tif ( cached !== undefined ) {\n\n\t\t\tscope.manager.itemStart( url );\n\n\t\t\tsetTimeout( function () {\n\n\t\t\t\tif ( onLoad ) onLoad( cached );\n\n\t\t\t\tscope.manager.itemEnd( url );\n\n\t\t\t}, 0 );\n\n\t\t\treturn cached;\n\n\t\t}\n\n\t\tvar image = document.createElementNS( 'http://www.w3.org/1999/xhtml', 'img' );\n\n\t\tfunction onImageLoad() {\n\n\t\t\timage.removeEventListener( 'load', onImageLoad, false );\n\t\t\timage.removeEventListener( 'error', onImageError, false );\n\n\t\t\tCache.add( url, this );\n\n\t\t\tif ( onLoad ) onLoad( this );\n\n\t\t\tscope.manager.itemEnd( url );\n\n\t\t}\n\n\t\tfunction onImageError( event ) {\n\n\t\t\timage.removeEventListener( 'load', onImageLoad, false );\n\t\t\timage.removeEventListener( 'error', onImageError, false );\n\n\t\t\tif ( onError ) onError( event );\n\n\t\t\tscope.manager.itemError( url );\n\t\t\tscope.manager.itemEnd( url );\n\n\t\t}\n\n\t\timage.addEventListener( 'load', onImageLoad, false );\n\t\timage.addEventListener( 'error', onImageError, false );\n\n\t\tif ( url.substr( 0, 5 ) !== 'data:' ) {\n\n\t\t\tif ( this.crossOrigin !== undefined ) image.crossOrigin = this.crossOrigin;\n\n\t\t}\n\n\t\tscope.manager.itemStart( url );\n\n\t\timage.src = url;\n\n\t\treturn image;\n\n\t},\n\n\tsetCrossOrigin: function ( value ) {\n\n\t\tthis.crossOrigin = value;\n\t\treturn this;\n\n\t},\n\n\tsetPath: function ( value ) {\n\n\t\tthis.path = value;\n\t\treturn this;\n\n\t}\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\n\nfunction CubeTextureLoader( manager ) {\n\n\tthis.manager = ( manager !== undefined ) ? manager : DefaultLoadingManager;\n\n}\n\nObject.assign( CubeTextureLoader.prototype, {\n\n\tcrossOrigin: 'anonymous',\n\n\tload: function ( urls, onLoad, onProgress, onError ) {\n\n\t\tvar texture = new CubeTexture();\n\n\t\tvar loader = new ImageLoader( this.manager );\n\t\tloader.setCrossOrigin( this.crossOrigin );\n\t\tloader.setPath( this.path );\n\n\t\tvar loaded = 0;\n\n\t\tfunction loadTexture( i ) {\n\n\t\t\tloader.load( urls[ i ], function ( image ) {\n\n\t\t\t\ttexture.images[ i ] = image;\n\n\t\t\t\tloaded ++;\n\n\t\t\t\tif ( loaded === 6 ) {\n\n\t\t\t\t\ttexture.needsUpdate = true;\n\n\t\t\t\t\tif ( onLoad ) onLoad( texture );\n\n\t\t\t\t}\n\n\t\t\t}, undefined, onError );\n\n\t\t}\n\n\t\tfor ( var i = 0; i < urls.length; ++ i ) {\n\n\t\t\tloadTexture( i );\n\n\t\t}\n\n\t\treturn texture;\n\n\t},\n\n\tsetCrossOrigin: function ( value ) {\n\n\t\tthis.crossOrigin = value;\n\t\treturn this;\n\n\t},\n\n\tsetPath: function ( value ) {\n\n\t\tthis.path = value;\n\t\treturn this;\n\n\t}\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\n\nfunction TextureLoader( manager ) {\n\n\tthis.manager = ( manager !== undefined ) ? manager : DefaultLoadingManager;\n\n}\n\nObject.assign( TextureLoader.prototype, {\n\n\tcrossOrigin: 'anonymous',\n\n\tload: function ( url, onLoad, onProgress, onError ) {\n\n\t\tvar texture = new Texture();\n\n\t\tvar loader = new ImageLoader( this.manager );\n\t\tloader.setCrossOrigin( this.crossOrigin );\n\t\tloader.setPath( this.path );\n\n\t\tloader.load( url, function ( image ) {\n\n\t\t\ttexture.image = image;\n\n\t\t\t// JPEGs can't have an alpha channel, so memory can be saved by storing them as RGB.\n\t\t\tvar isJPEG = url.search( /\\.jpe?g($|\\?)/i ) > 0 || url.search( /^data\\:image\\/jpeg/ ) === 0;\n\n\t\t\ttexture.format = isJPEG ? RGBFormat : RGBAFormat;\n\t\t\ttexture.needsUpdate = true;\n\n\t\t\tif ( onLoad !== undefined ) {\n\n\t\t\t\tonLoad( texture );\n\n\t\t\t}\n\n\t\t}, onProgress, onError );\n\n\t\treturn texture;\n\n\t},\n\n\tsetCrossOrigin: function ( value ) {\n\n\t\tthis.crossOrigin = value;\n\t\treturn this;\n\n\t},\n\n\tsetPath: function ( value ) {\n\n\t\tthis.path = value;\n\t\treturn this;\n\n\t}\n\n} );\n\n/**\n * @author zz85 / http://www.lab4games.net/zz85/blog\n * Extensible curve object\n *\n * Some common of curve methods:\n * .getPoint( t, optionalTarget ), .getTangent( t )\n * .getPointAt( u, optionalTarget ), .getTangentAt( u )\n * .getPoints(), .getSpacedPoints()\n * .getLength()\n * .updateArcLengths()\n *\n * This following curves inherit from THREE.Curve:\n *\n * -- 2D curves --\n * THREE.ArcCurve\n * THREE.CubicBezierCurve\n * THREE.EllipseCurve\n * THREE.LineCurve\n * THREE.QuadraticBezierCurve\n * THREE.SplineCurve\n *\n * -- 3D curves --\n * THREE.CatmullRomCurve3\n * THREE.CubicBezierCurve3\n * THREE.LineCurve3\n * THREE.QuadraticBezierCurve3\n *\n * A series of curves can be represented as a THREE.CurvePath.\n *\n **/\n\n/**************************************************************\n *\tAbstract Curve base class\n **************************************************************/\n\nfunction Curve() {\n\n\tthis.type = 'Curve';\n\n\tthis.arcLengthDivisions = 200;\n\n}\n\nObject.assign( Curve.prototype, {\n\n\t// Virtual base class method to overwrite and implement in subclasses\n\t//\t- t [0 .. 1]\n\n\tgetPoint: function ( /* t, optionalTarget */ ) {\n\n\t\tconsole.warn( 'THREE.Curve: .getPoint() not implemented.' );\n\t\treturn null;\n\n\t},\n\n\t// Get point at relative position in curve according to arc length\n\t// - u [0 .. 1]\n\n\tgetPointAt: function ( u, optionalTarget ) {\n\n\t\tvar t = this.getUtoTmapping( u );\n\t\treturn this.getPoint( t, optionalTarget );\n\n\t},\n\n\t// Get sequence of points using getPoint( t )\n\n\tgetPoints: function ( divisions ) {\n\n\t\tif ( divisions === undefined ) divisions = 5;\n\n\t\tvar points = [];\n\n\t\tfor ( var d = 0; d <= divisions; d ++ ) {\n\n\t\t\tpoints.push( this.getPoint( d / divisions ) );\n\n\t\t}\n\n\t\treturn points;\n\n\t},\n\n\t// Get sequence of points using getPointAt( u )\n\n\tgetSpacedPoints: function ( divisions ) {\n\n\t\tif ( divisions === undefined ) divisions = 5;\n\n\t\tvar points = [];\n\n\t\tfor ( var d = 0; d <= divisions; d ++ ) {\n\n\t\t\tpoints.push( this.getPointAt( d / divisions ) );\n\n\t\t}\n\n\t\treturn points;\n\n\t},\n\n\t// Get total curve arc length\n\n\tgetLength: function () {\n\n\t\tvar lengths = this.getLengths();\n\t\treturn lengths[ lengths.length - 1 ];\n\n\t},\n\n\t// Get list of cumulative segment lengths\n\n\tgetLengths: function ( divisions ) {\n\n\t\tif ( divisions === undefined ) divisions = this.arcLengthDivisions;\n\n\t\tif ( this.cacheArcLengths &&\n\t\t\t( this.cacheArcLengths.length === divisions + 1 ) &&\n\t\t\t! this.needsUpdate ) {\n\n\t\t\treturn this.cacheArcLengths;\n\n\t\t}\n\n\t\tthis.needsUpdate = false;\n\n\t\tvar cache = [];\n\t\tvar current, last = this.getPoint( 0 );\n\t\tvar p, sum = 0;\n\n\t\tcache.push( 0 );\n\n\t\tfor ( p = 1; p <= divisions; p ++ ) {\n\n\t\t\tcurrent = this.getPoint( p / divisions );\n\t\t\tsum += current.distanceTo( last );\n\t\t\tcache.push( sum );\n\t\t\tlast = current;\n\n\t\t}\n\n\t\tthis.cacheArcLengths = cache;\n\n\t\treturn cache; // { sums: cache, sum: sum }; Sum is in the last element.\n\n\t},\n\n\tupdateArcLengths: function () {\n\n\t\tthis.needsUpdate = true;\n\t\tthis.getLengths();\n\n\t},\n\n\t// Given u ( 0 .. 1 ), get a t to find p. This gives you points which are equidistant\n\n\tgetUtoTmapping: function ( u, distance ) {\n\n\t\tvar arcLengths = this.getLengths();\n\n\t\tvar i = 0, il = arcLengths.length;\n\n\t\tvar targetArcLength; // The targeted u distance value to get\n\n\t\tif ( distance ) {\n\n\t\t\ttargetArcLength = distance;\n\n\t\t} else {\n\n\t\t\ttargetArcLength = u * arcLengths[ il - 1 ];\n\n\t\t}\n\n\t\t// binary search for the index with largest value smaller than target u distance\n\n\t\tvar low = 0, high = il - 1, comparison;\n\n\t\twhile ( low <= high ) {\n\n\t\t\ti = Math.floor( low + ( high - low ) / 2 ); // less likely to overflow, though probably not issue here, JS doesn't really have integers, all numbers are floats\n\n\t\t\tcomparison = arcLengths[ i ] - targetArcLength;\n\n\t\t\tif ( comparison < 0 ) {\n\n\t\t\t\tlow = i + 1;\n\n\t\t\t} else if ( comparison > 0 ) {\n\n\t\t\t\thigh = i - 1;\n\n\t\t\t} else {\n\n\t\t\t\thigh = i;\n\t\t\t\tbreak;\n\n\t\t\t\t// DONE\n\n\t\t\t}\n\n\t\t}\n\n\t\ti = high;\n\n\t\tif ( arcLengths[ i ] === targetArcLength ) {\n\n\t\t\treturn i / ( il - 1 );\n\n\t\t}\n\n\t\t// we could get finer grain at lengths, or use simple interpolation between two points\n\n\t\tvar lengthBefore = arcLengths[ i ];\n\t\tvar lengthAfter = arcLengths[ i + 1 ];\n\n\t\tvar segmentLength = lengthAfter - lengthBefore;\n\n\t\t// determine where we are between the 'before' and 'after' points\n\n\t\tvar segmentFraction = ( targetArcLength - lengthBefore ) / segmentLength;\n\n\t\t// add that fractional amount to t\n\n\t\tvar t = ( i + segmentFraction ) / ( il - 1 );\n\n\t\treturn t;\n\n\t},\n\n\t// Returns a unit vector tangent at t\n\t// In case any sub curve does not implement its tangent derivation,\n\t// 2 points a small delta apart will be used to find its gradient\n\t// which seems to give a reasonable approximation\n\n\tgetTangent: function ( t ) {\n\n\t\tvar delta = 0.0001;\n\t\tvar t1 = t - delta;\n\t\tvar t2 = t + delta;\n\n\t\t// Capping in case of danger\n\n\t\tif ( t1 < 0 ) t1 = 0;\n\t\tif ( t2 > 1 ) t2 = 1;\n\n\t\tvar pt1 = this.getPoint( t1 );\n\t\tvar pt2 = this.getPoint( t2 );\n\n\t\tvar vec = pt2.clone().sub( pt1 );\n\t\treturn vec.normalize();\n\n\t},\n\n\tgetTangentAt: function ( u ) {\n\n\t\tvar t = this.getUtoTmapping( u );\n\t\treturn this.getTangent( t );\n\n\t},\n\n\tcomputeFrenetFrames: function ( segments, closed ) {\n\n\t\t// see http://www.cs.indiana.edu/pub/techreports/TR425.pdf\n\n\t\tvar normal = new Vector3();\n\n\t\tvar tangents = [];\n\t\tvar normals = [];\n\t\tvar binormals = [];\n\n\t\tvar vec = new Vector3();\n\t\tvar mat = new Matrix4();\n\n\t\tvar i, u, theta;\n\n\t\t// compute the tangent vectors for each segment on the curve\n\n\t\tfor ( i = 0; i <= segments; i ++ ) {\n\n\t\t\tu = i / segments;\n\n\t\t\ttangents[ i ] = this.getTangentAt( u );\n\t\t\ttangents[ i ].normalize();\n\n\t\t}\n\n\t\t// select an initial normal vector perpendicular to the first tangent vector,\n\t\t// and in the direction of the minimum tangent xyz component\n\n\t\tnormals[ 0 ] = new Vector3();\n\t\tbinormals[ 0 ] = new Vector3();\n\t\tvar min = Number.MAX_VALUE;\n\t\tvar tx = Math.abs( tangents[ 0 ].x );\n\t\tvar ty = Math.abs( tangents[ 0 ].y );\n\t\tvar tz = Math.abs( tangents[ 0 ].z );\n\n\t\tif ( tx <= min ) {\n\n\t\t\tmin = tx;\n\t\t\tnormal.set( 1, 0, 0 );\n\n\t\t}\n\n\t\tif ( ty <= min ) {\n\n\t\t\tmin = ty;\n\t\t\tnormal.set( 0, 1, 0 );\n\n\t\t}\n\n\t\tif ( tz <= min ) {\n\n\t\t\tnormal.set( 0, 0, 1 );\n\n\t\t}\n\n\t\tvec.crossVectors( tangents[ 0 ], normal ).normalize();\n\n\t\tnormals[ 0 ].crossVectors( tangents[ 0 ], vec );\n\t\tbinormals[ 0 ].crossVectors( tangents[ 0 ], normals[ 0 ] );\n\n\n\t\t// compute the slowly-varying normal and binormal vectors for each segment on the curve\n\n\t\tfor ( i = 1; i <= segments; i ++ ) {\n\n\t\t\tnormals[ i ] = normals[ i - 1 ].clone();\n\n\t\t\tbinormals[ i ] = binormals[ i - 1 ].clone();\n\n\t\t\tvec.crossVectors( tangents[ i - 1 ], tangents[ i ] );\n\n\t\t\tif ( vec.length() > Number.EPSILON ) {\n\n\t\t\t\tvec.normalize();\n\n\t\t\t\ttheta = Math.acos( _Math.clamp( tangents[ i - 1 ].dot( tangents[ i ] ), - 1, 1 ) ); // clamp for floating pt errors\n\n\t\t\t\tnormals[ i ].applyMatrix4( mat.makeRotationAxis( vec, theta ) );\n\n\t\t\t}\n\n\t\t\tbinormals[ i ].crossVectors( tangents[ i ], normals[ i ] );\n\n\t\t}\n\n\t\t// if the curve is closed, postprocess the vectors so the first and last normal vectors are the same\n\n\t\tif ( closed === true ) {\n\n\t\t\ttheta = Math.acos( _Math.clamp( normals[ 0 ].dot( normals[ segments ] ), - 1, 1 ) );\n\t\t\ttheta /= segments;\n\n\t\t\tif ( tangents[ 0 ].dot( vec.crossVectors( normals[ 0 ], normals[ segments ] ) ) > 0 ) {\n\n\t\t\t\ttheta = - theta;\n\n\t\t\t}\n\n\t\t\tfor ( i = 1; i <= segments; i ++ ) {\n\n\t\t\t\t// twist a little...\n\t\t\t\tnormals[ i ].applyMatrix4( mat.makeRotationAxis( tangents[ i ], theta * i ) );\n\t\t\t\tbinormals[ i ].crossVectors( tangents[ i ], normals[ i ] );\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn {\n\t\t\ttangents: tangents,\n\t\t\tnormals: normals,\n\t\t\tbinormals: binormals\n\t\t};\n\n\t},\n\n\tclone: function () {\n\n\t\treturn new this.constructor().copy( this );\n\n\t},\n\n\tcopy: function ( source ) {\n\n\t\tthis.arcLengthDivisions = source.arcLengthDivisions;\n\n\t\treturn this;\n\n\t},\n\n\ttoJSON: function () {\n\n\t\tvar data = {\n\t\t\tmetadata: {\n\t\t\t\tversion: 4.5,\n\t\t\t\ttype: 'Curve',\n\t\t\t\tgenerator: 'Curve.toJSON'\n\t\t\t}\n\t\t};\n\n\t\tdata.arcLengthDivisions = this.arcLengthDivisions;\n\t\tdata.type = this.type;\n\n\t\treturn data;\n\n\t},\n\n\tfromJSON: function ( json ) {\n\n\t\tthis.arcLengthDivisions = json.arcLengthDivisions;\n\n\t\treturn this;\n\n\t}\n\n} );\n\nfunction EllipseCurve( aX, aY, xRadius, yRadius, aStartAngle, aEndAngle, aClockwise, aRotation ) {\n\n\tCurve.call( this );\n\n\tthis.type = 'EllipseCurve';\n\n\tthis.aX = aX || 0;\n\tthis.aY = aY || 0;\n\n\tthis.xRadius = xRadius || 1;\n\tthis.yRadius = yRadius || 1;\n\n\tthis.aStartAngle = aStartAngle || 0;\n\tthis.aEndAngle = aEndAngle || 2 * Math.PI;\n\n\tthis.aClockwise = aClockwise || false;\n\n\tthis.aRotation = aRotation || 0;\n\n}\n\nEllipseCurve.prototype = Object.create( Curve.prototype );\nEllipseCurve.prototype.constructor = EllipseCurve;\n\nEllipseCurve.prototype.isEllipseCurve = true;\n\nEllipseCurve.prototype.getPoint = function ( t, optionalTarget ) {\n\n\tvar point = optionalTarget || new Vector2();\n\n\tvar twoPi = Math.PI * 2;\n\tvar deltaAngle = this.aEndAngle - this.aStartAngle;\n\tvar samePoints = Math.abs( deltaAngle ) < Number.EPSILON;\n\n\t// ensures that deltaAngle is 0 .. 2 PI\n\twhile ( deltaAngle < 0 ) deltaAngle += twoPi;\n\twhile ( deltaAngle > twoPi ) deltaAngle -= twoPi;\n\n\tif ( deltaAngle < Number.EPSILON ) {\n\n\t\tif ( samePoints ) {\n\n\t\t\tdeltaAngle = 0;\n\n\t\t} else {\n\n\t\t\tdeltaAngle = twoPi;\n\n\t\t}\n\n\t}\n\n\tif ( this.aClockwise === true && ! samePoints ) {\n\n\t\tif ( deltaAngle === twoPi ) {\n\n\t\t\tdeltaAngle = - twoPi;\n\n\t\t} else {\n\n\t\t\tdeltaAngle = deltaAngle - twoPi;\n\n\t\t}\n\n\t}\n\n\tvar angle = this.aStartAngle + t * deltaAngle;\n\tvar x = this.aX + this.xRadius * Math.cos( angle );\n\tvar y = this.aY + this.yRadius * Math.sin( angle );\n\n\tif ( this.aRotation !== 0 ) {\n\n\t\tvar cos = Math.cos( this.aRotation );\n\t\tvar sin = Math.sin( this.aRotation );\n\n\t\tvar tx = x - this.aX;\n\t\tvar ty = y - this.aY;\n\n\t\t// Rotate the point about the center of the ellipse.\n\t\tx = tx * cos - ty * sin + this.aX;\n\t\ty = tx * sin + ty * cos + this.aY;\n\n\t}\n\n\treturn point.set( x, y );\n\n};\n\nEllipseCurve.prototype.copy = function ( source ) {\n\n\tCurve.prototype.copy.call( this, source );\n\n\tthis.aX = source.aX;\n\tthis.aY = source.aY;\n\n\tthis.xRadius = source.xRadius;\n\tthis.yRadius = source.yRadius;\n\n\tthis.aStartAngle = source.aStartAngle;\n\tthis.aEndAngle = source.aEndAngle;\n\n\tthis.aClockwise = source.aClockwise;\n\n\tthis.aRotation = source.aRotation;\n\n\treturn this;\n\n};\n\n\nEllipseCurve.prototype.toJSON = function () {\n\n\tvar data = Curve.prototype.toJSON.call( this );\n\n\tdata.aX = this.aX;\n\tdata.aY = this.aY;\n\n\tdata.xRadius = this.xRadius;\n\tdata.yRadius = this.yRadius;\n\n\tdata.aStartAngle = this.aStartAngle;\n\tdata.aEndAngle = this.aEndAngle;\n\n\tdata.aClockwise = this.aClockwise;\n\n\tdata.aRotation = this.aRotation;\n\n\treturn data;\n\n};\n\nEllipseCurve.prototype.fromJSON = function ( json ) {\n\n\tCurve.prototype.fromJSON.call( this, json );\n\n\tthis.aX = json.aX;\n\tthis.aY = json.aY;\n\n\tthis.xRadius = json.xRadius;\n\tthis.yRadius = json.yRadius;\n\n\tthis.aStartAngle = json.aStartAngle;\n\tthis.aEndAngle = json.aEndAngle;\n\n\tthis.aClockwise = json.aClockwise;\n\n\tthis.aRotation = json.aRotation;\n\n\treturn this;\n\n};\n\nfunction ArcCurve( aX, aY, aRadius, aStartAngle, aEndAngle, aClockwise ) {\n\n\tEllipseCurve.call( this, aX, aY, aRadius, aRadius, aStartAngle, aEndAngle, aClockwise );\n\n\tthis.type = 'ArcCurve';\n\n}\n\nArcCurve.prototype = Object.create( EllipseCurve.prototype );\nArcCurve.prototype.constructor = ArcCurve;\n\nArcCurve.prototype.isArcCurve = true;\n\n/**\n * @author zz85 https://github.com/zz85\n *\n * Centripetal CatmullRom Curve - which is useful for avoiding\n * cusps and self-intersections in non-uniform catmull rom curves.\n * http://www.cemyuksel.com/research/catmullrom_param/catmullrom.pdf\n *\n * curve.type accepts centripetal(default), chordal and catmullrom\n * curve.tension is used for catmullrom which defaults to 0.5\n */\n\n\n/*\nBased on an optimized c++ solution in\n - http://stackoverflow.com/questions/9489736/catmull-rom-curve-with-no-cusps-and-no-self-intersections/\n - http://ideone.com/NoEbVM\n\nThis CubicPoly class could be used for reusing some variables and calculations,\nbut for three.js curve use, it could be possible inlined and flatten into a single function call\nwhich can be placed in CurveUtils.\n*/\n\nfunction CubicPoly() {\n\n\tvar c0 = 0, c1 = 0, c2 = 0, c3 = 0;\n\n\t/*\n\t * Compute coefficients for a cubic polynomial\n\t *   p(s) = c0 + c1*s + c2*s^2 + c3*s^3\n\t * such that\n\t *   p(0) = x0, p(1) = x1\n\t *  and\n\t *   p'(0) = t0, p'(1) = t1.\n\t */\n\tfunction init( x0, x1, t0, t1 ) {\n\n\t\tc0 = x0;\n\t\tc1 = t0;\n\t\tc2 = - 3 * x0 + 3 * x1 - 2 * t0 - t1;\n\t\tc3 = 2 * x0 - 2 * x1 + t0 + t1;\n\n\t}\n\n\treturn {\n\n\t\tinitCatmullRom: function ( x0, x1, x2, x3, tension ) {\n\n\t\t\tinit( x1, x2, tension * ( x2 - x0 ), tension * ( x3 - x1 ) );\n\n\t\t},\n\n\t\tinitNonuniformCatmullRom: function ( x0, x1, x2, x3, dt0, dt1, dt2 ) {\n\n\t\t\t// compute tangents when parameterized in [t1,t2]\n\t\t\tvar t1 = ( x1 - x0 ) / dt0 - ( x2 - x0 ) / ( dt0 + dt1 ) + ( x2 - x1 ) / dt1;\n\t\t\tvar t2 = ( x2 - x1 ) / dt1 - ( x3 - x1 ) / ( dt1 + dt2 ) + ( x3 - x2 ) / dt2;\n\n\t\t\t// rescale tangents for parametrization in [0,1]\n\t\t\tt1 *= dt1;\n\t\t\tt2 *= dt1;\n\n\t\t\tinit( x1, x2, t1, t2 );\n\n\t\t},\n\n\t\tcalc: function ( t ) {\n\n\t\t\tvar t2 = t * t;\n\t\t\tvar t3 = t2 * t;\n\t\t\treturn c0 + c1 * t + c2 * t2 + c3 * t3;\n\n\t\t}\n\n\t};\n\n}\n\n//\n\nvar tmp = new Vector3();\nvar px = new CubicPoly(), py = new CubicPoly(), pz = new CubicPoly();\n\nfunction CatmullRomCurve3( points, closed, curveType, tension ) {\n\n\tCurve.call( this );\n\n\tthis.type = 'CatmullRomCurve3';\n\n\tthis.points = points || [];\n\tthis.closed = closed || false;\n\tthis.curveType = curveType || 'centripetal';\n\tthis.tension = tension || 0.5;\n\n}\n\nCatmullRomCurve3.prototype = Object.create( Curve.prototype );\nCatmullRomCurve3.prototype.constructor = CatmullRomCurve3;\n\nCatmullRomCurve3.prototype.isCatmullRomCurve3 = true;\n\nCatmullRomCurve3.prototype.getPoint = function ( t, optionalTarget ) {\n\n\tvar point = optionalTarget || new Vector3();\n\n\tvar points = this.points;\n\tvar l = points.length;\n\n\tvar p = ( l - ( this.closed ? 0 : 1 ) ) * t;\n\tvar intPoint = Math.floor( p );\n\tvar weight = p - intPoint;\n\n\tif ( this.closed ) {\n\n\t\tintPoint += intPoint > 0 ? 0 : ( Math.floor( Math.abs( intPoint ) / l ) + 1 ) * l;\n\n\t} else if ( weight === 0 && intPoint === l - 1 ) {\n\n\t\tintPoint = l - 2;\n\t\tweight = 1;\n\n\t}\n\n\tvar p0, p1, p2, p3; // 4 points\n\n\tif ( this.closed || intPoint > 0 ) {\n\n\t\tp0 = points[ ( intPoint - 1 ) % l ];\n\n\t} else {\n\n\t\t// extrapolate first point\n\t\ttmp.subVectors( points[ 0 ], points[ 1 ] ).add( points[ 0 ] );\n\t\tp0 = tmp;\n\n\t}\n\n\tp1 = points[ intPoint % l ];\n\tp2 = points[ ( intPoint + 1 ) % l ];\n\n\tif ( this.closed || intPoint + 2 < l ) {\n\n\t\tp3 = points[ ( intPoint + 2 ) % l ];\n\n\t} else {\n\n\t\t// extrapolate last point\n\t\ttmp.subVectors( points[ l - 1 ], points[ l - 2 ] ).add( points[ l - 1 ] );\n\t\tp3 = tmp;\n\n\t}\n\n\tif ( this.curveType === 'centripetal' || this.curveType === 'chordal' ) {\n\n\t\t// init Centripetal / Chordal Catmull-Rom\n\t\tvar pow = this.curveType === 'chordal' ? 0.5 : 0.25;\n\t\tvar dt0 = Math.pow( p0.distanceToSquared( p1 ), pow );\n\t\tvar dt1 = Math.pow( p1.distanceToSquared( p2 ), pow );\n\t\tvar dt2 = Math.pow( p2.distanceToSquared( p3 ), pow );\n\n\t\t// safety check for repeated points\n\t\tif ( dt1 < 1e-4 ) dt1 = 1.0;\n\t\tif ( dt0 < 1e-4 ) dt0 = dt1;\n\t\tif ( dt2 < 1e-4 ) dt2 = dt1;\n\n\t\tpx.initNonuniformCatmullRom( p0.x, p1.x, p2.x, p3.x, dt0, dt1, dt2 );\n\t\tpy.initNonuniformCatmullRom( p0.y, p1.y, p2.y, p3.y, dt0, dt1, dt2 );\n\t\tpz.initNonuniformCatmullRom( p0.z, p1.z, p2.z, p3.z, dt0, dt1, dt2 );\n\n\t} else if ( this.curveType === 'catmullrom' ) {\n\n\t\tpx.initCatmullRom( p0.x, p1.x, p2.x, p3.x, this.tension );\n\t\tpy.initCatmullRom( p0.y, p1.y, p2.y, p3.y, this.tension );\n\t\tpz.initCatmullRom( p0.z, p1.z, p2.z, p3.z, this.tension );\n\n\t}\n\n\tpoint.set(\n\t\tpx.calc( weight ),\n\t\tpy.calc( weight ),\n\t\tpz.calc( weight )\n\t);\n\n\treturn point;\n\n};\n\nCatmullRomCurve3.prototype.copy = function ( source ) {\n\n\tCurve.prototype.copy.call( this, source );\n\n\tthis.points = [];\n\n\tfor ( var i = 0, l = source.points.length; i < l; i ++ ) {\n\n\t\tvar point = source.points[ i ];\n\n\t\tthis.points.push( point.clone() );\n\n\t}\n\n\tthis.closed = source.closed;\n\tthis.curveType = source.curveType;\n\tthis.tension = source.tension;\n\n\treturn this;\n\n};\n\nCatmullRomCurve3.prototype.toJSON = function () {\n\n\tvar data = Curve.prototype.toJSON.call( this );\n\n\tdata.points = [];\n\n\tfor ( var i = 0, l = this.points.length; i < l; i ++ ) {\n\n\t\tvar point = this.points[ i ];\n\t\tdata.points.push( point.toArray() );\n\n\t}\n\n\tdata.closed = this.closed;\n\tdata.curveType = this.curveType;\n\tdata.tension = this.tension;\n\n\treturn data;\n\n};\n\nCatmullRomCurve3.prototype.fromJSON = function ( json ) {\n\n\tCurve.prototype.fromJSON.call( this, json );\n\n\tthis.points = [];\n\n\tfor ( var i = 0, l = json.points.length; i < l; i ++ ) {\n\n\t\tvar point = json.points[ i ];\n\t\tthis.points.push( new Vector3().fromArray( point ) );\n\n\t}\n\n\tthis.closed = json.closed;\n\tthis.curveType = json.curveType;\n\tthis.tension = json.tension;\n\n\treturn this;\n\n};\n\n/**\n * @author zz85 / http://www.lab4games.net/zz85/blog\n *\n * Bezier Curves formulas obtained from\n * http://en.wikipedia.org/wiki/Bzier_curve\n */\n\nfunction CatmullRom( t, p0, p1, p2, p3 ) {\n\n\tvar v0 = ( p2 - p0 ) * 0.5;\n\tvar v1 = ( p3 - p1 ) * 0.5;\n\tvar t2 = t * t;\n\tvar t3 = t * t2;\n\treturn ( 2 * p1 - 2 * p2 + v0 + v1 ) * t3 + ( - 3 * p1 + 3 * p2 - 2 * v0 - v1 ) * t2 + v0 * t + p1;\n\n}\n\n//\n\nfunction QuadraticBezierP0( t, p ) {\n\n\tvar k = 1 - t;\n\treturn k * k * p;\n\n}\n\nfunction QuadraticBezierP1( t, p ) {\n\n\treturn 2 * ( 1 - t ) * t * p;\n\n}\n\nfunction QuadraticBezierP2( t, p ) {\n\n\treturn t * t * p;\n\n}\n\nfunction QuadraticBezier( t, p0, p1, p2 ) {\n\n\treturn QuadraticBezierP0( t, p0 ) + QuadraticBezierP1( t, p1 ) +\n\t\tQuadraticBezierP2( t, p2 );\n\n}\n\n//\n\nfunction CubicBezierP0( t, p ) {\n\n\tvar k = 1 - t;\n\treturn k * k * k * p;\n\n}\n\nfunction CubicBezierP1( t, p ) {\n\n\tvar k = 1 - t;\n\treturn 3 * k * k * t * p;\n\n}\n\nfunction CubicBezierP2( t, p ) {\n\n\treturn 3 * ( 1 - t ) * t * t * p;\n\n}\n\nfunction CubicBezierP3( t, p ) {\n\n\treturn t * t * t * p;\n\n}\n\nfunction CubicBezier( t, p0, p1, p2, p3 ) {\n\n\treturn CubicBezierP0( t, p0 ) + CubicBezierP1( t, p1 ) + CubicBezierP2( t, p2 ) +\n\t\tCubicBezierP3( t, p3 );\n\n}\n\nfunction CubicBezierCurve( v0, v1, v2, v3 ) {\n\n\tCurve.call( this );\n\n\tthis.type = 'CubicBezierCurve';\n\n\tthis.v0 = v0 || new Vector2();\n\tthis.v1 = v1 || new Vector2();\n\tthis.v2 = v2 || new Vector2();\n\tthis.v3 = v3 || new Vector2();\n\n}\n\nCubicBezierCurve.prototype = Object.create( Curve.prototype );\nCubicBezierCurve.prototype.constructor = CubicBezierCurve;\n\nCubicBezierCurve.prototype.isCubicBezierCurve = true;\n\nCubicBezierCurve.prototype.getPoint = function ( t, optionalTarget ) {\n\n\tvar point = optionalTarget || new Vector2();\n\n\tvar v0 = this.v0, v1 = this.v1, v2 = this.v2, v3 = this.v3;\n\n\tpoint.set(\n\t\tCubicBezier( t, v0.x, v1.x, v2.x, v3.x ),\n\t\tCubicBezier( t, v0.y, v1.y, v2.y, v3.y )\n\t);\n\n\treturn point;\n\n};\n\nCubicBezierCurve.prototype.copy = function ( source ) {\n\n\tCurve.prototype.copy.call( this, source );\n\n\tthis.v0.copy( source.v0 );\n\tthis.v1.copy( source.v1 );\n\tthis.v2.copy( source.v2 );\n\tthis.v3.copy( source.v3 );\n\n\treturn this;\n\n};\n\nCubicBezierCurve.prototype.toJSON = function () {\n\n\tvar data = Curve.prototype.toJSON.call( this );\n\n\tdata.v0 = this.v0.toArray();\n\tdata.v1 = this.v1.toArray();\n\tdata.v2 = this.v2.toArray();\n\tdata.v3 = this.v3.toArray();\n\n\treturn data;\n\n};\n\nCubicBezierCurve.prototype.fromJSON = function ( json ) {\n\n\tCurve.prototype.fromJSON.call( this, json );\n\n\tthis.v0.fromArray( json.v0 );\n\tthis.v1.fromArray( json.v1 );\n\tthis.v2.fromArray( json.v2 );\n\tthis.v3.fromArray( json.v3 );\n\n\treturn this;\n\n};\n\nfunction CubicBezierCurve3( v0, v1, v2, v3 ) {\n\n\tCurve.call( this );\n\n\tthis.type = 'CubicBezierCurve3';\n\n\tthis.v0 = v0 || new Vector3();\n\tthis.v1 = v1 || new Vector3();\n\tthis.v2 = v2 || new Vector3();\n\tthis.v3 = v3 || new Vector3();\n\n}\n\nCubicBezierCurve3.prototype = Object.create( Curve.prototype );\nCubicBezierCurve3.prototype.constructor = CubicBezierCurve3;\n\nCubicBezierCurve3.prototype.isCubicBezierCurve3 = true;\n\nCubicBezierCurve3.prototype.getPoint = function ( t, optionalTarget ) {\n\n\tvar point = optionalTarget || new Vector3();\n\n\tvar v0 = this.v0, v1 = this.v1, v2 = this.v2, v3 = this.v3;\n\n\tpoint.set(\n\t\tCubicBezier( t, v0.x, v1.x, v2.x, v3.x ),\n\t\tCubicBezier( t, v0.y, v1.y, v2.y, v3.y ),\n\t\tCubicBezier( t, v0.z, v1.z, v2.z, v3.z )\n\t);\n\n\treturn point;\n\n};\n\nCubicBezierCurve3.prototype.copy = function ( source ) {\n\n\tCurve.prototype.copy.call( this, source );\n\n\tthis.v0.copy( source.v0 );\n\tthis.v1.copy( source.v1 );\n\tthis.v2.copy( source.v2 );\n\tthis.v3.copy( source.v3 );\n\n\treturn this;\n\n};\n\nCubicBezierCurve3.prototype.toJSON = function () {\n\n\tvar data = Curve.prototype.toJSON.call( this );\n\n\tdata.v0 = this.v0.toArray();\n\tdata.v1 = this.v1.toArray();\n\tdata.v2 = this.v2.toArray();\n\tdata.v3 = this.v3.toArray();\n\n\treturn data;\n\n};\n\nCubicBezierCurve3.prototype.fromJSON = function ( json ) {\n\n\tCurve.prototype.fromJSON.call( this, json );\n\n\tthis.v0.fromArray( json.v0 );\n\tthis.v1.fromArray( json.v1 );\n\tthis.v2.fromArray( json.v2 );\n\tthis.v3.fromArray( json.v3 );\n\n\treturn this;\n\n};\n\nfunction LineCurve( v1, v2 ) {\n\n\tCurve.call( this );\n\n\tthis.type = 'LineCurve';\n\n\tthis.v1 = v1 || new Vector2();\n\tthis.v2 = v2 || new Vector2();\n\n}\n\nLineCurve.prototype = Object.create( Curve.prototype );\nLineCurve.prototype.constructor = LineCurve;\n\nLineCurve.prototype.isLineCurve = true;\n\nLineCurve.prototype.getPoint = function ( t, optionalTarget ) {\n\n\tvar point = optionalTarget || new Vector2();\n\n\tif ( t === 1 ) {\n\n\t\tpoint.copy( this.v2 );\n\n\t} else {\n\n\t\tpoint.copy( this.v2 ).sub( this.v1 );\n\t\tpoint.multiplyScalar( t ).add( this.v1 );\n\n\t}\n\n\treturn point;\n\n};\n\n// Line curve is linear, so we can overwrite default getPointAt\n\nLineCurve.prototype.getPointAt = function ( u, optionalTarget ) {\n\n\treturn this.getPoint( u, optionalTarget );\n\n};\n\nLineCurve.prototype.getTangent = function ( /* t */ ) {\n\n\tvar tangent = this.v2.clone().sub( this.v1 );\n\n\treturn tangent.normalize();\n\n};\n\nLineCurve.prototype.copy = function ( source ) {\n\n\tCurve.prototype.copy.call( this, source );\n\n\tthis.v1.copy( source.v1 );\n\tthis.v2.copy( source.v2 );\n\n\treturn this;\n\n};\n\nLineCurve.prototype.toJSON = function () {\n\n\tvar data = Curve.prototype.toJSON.call( this );\n\n\tdata.v1 = this.v1.toArray();\n\tdata.v2 = this.v2.toArray();\n\n\treturn data;\n\n};\n\nLineCurve.prototype.fromJSON = function ( json ) {\n\n\tCurve.prototype.fromJSON.call( this, json );\n\n\tthis.v1.fromArray( json.v1 );\n\tthis.v2.fromArray( json.v2 );\n\n\treturn this;\n\n};\n\nfunction LineCurve3( v1, v2 ) {\n\n\tCurve.call( this );\n\n\tthis.type = 'LineCurve3';\n\n\tthis.v1 = v1 || new Vector3();\n\tthis.v2 = v2 || new Vector3();\n\n}\n\nLineCurve3.prototype = Object.create( Curve.prototype );\nLineCurve3.prototype.constructor = LineCurve3;\n\nLineCurve3.prototype.isLineCurve3 = true;\n\nLineCurve3.prototype.getPoint = function ( t, optionalTarget ) {\n\n\tvar point = optionalTarget || new Vector3();\n\n\tif ( t === 1 ) {\n\n\t\tpoint.copy( this.v2 );\n\n\t} else {\n\n\t\tpoint.copy( this.v2 ).sub( this.v1 );\n\t\tpoint.multiplyScalar( t ).add( this.v1 );\n\n\t}\n\n\treturn point;\n\n};\n\n// Line curve is linear, so we can overwrite default getPointAt\n\nLineCurve3.prototype.getPointAt = function ( u, optionalTarget ) {\n\n\treturn this.getPoint( u, optionalTarget );\n\n};\n\nLineCurve3.prototype.copy = function ( source ) {\n\n\tCurve.prototype.copy.call( this, source );\n\n\tthis.v1.copy( source.v1 );\n\tthis.v2.copy( source.v2 );\n\n\treturn this;\n\n};\n\nLineCurve3.prototype.toJSON = function () {\n\n\tvar data = Curve.prototype.toJSON.call( this );\n\n\tdata.v1 = this.v1.toArray();\n\tdata.v2 = this.v2.toArray();\n\n\treturn data;\n\n};\n\nLineCurve3.prototype.fromJSON = function ( json ) {\n\n\tCurve.prototype.fromJSON.call( this, json );\n\n\tthis.v1.fromArray( json.v1 );\n\tthis.v2.fromArray( json.v2 );\n\n\treturn this;\n\n};\n\nfunction QuadraticBezierCurve( v0, v1, v2 ) {\n\n\tCurve.call( this );\n\n\tthis.type = 'QuadraticBezierCurve';\n\n\tthis.v0 = v0 || new Vector2();\n\tthis.v1 = v1 || new Vector2();\n\tthis.v2 = v2 || new Vector2();\n\n}\n\nQuadraticBezierCurve.prototype = Object.create( Curve.prototype );\nQuadraticBezierCurve.prototype.constructor = QuadraticBezierCurve;\n\nQuadraticBezierCurve.prototype.isQuadraticBezierCurve = true;\n\nQuadraticBezierCurve.prototype.getPoint = function ( t, optionalTarget ) {\n\n\tvar point = optionalTarget || new Vector2();\n\n\tvar v0 = this.v0, v1 = this.v1, v2 = this.v2;\n\n\tpoint.set(\n\t\tQuadraticBezier( t, v0.x, v1.x, v2.x ),\n\t\tQuadraticBezier( t, v0.y, v1.y, v2.y )\n\t);\n\n\treturn point;\n\n};\n\nQuadraticBezierCurve.prototype.copy = function ( source ) {\n\n\tCurve.prototype.copy.call( this, source );\n\n\tthis.v0.copy( source.v0 );\n\tthis.v1.copy( source.v1 );\n\tthis.v2.copy( source.v2 );\n\n\treturn this;\n\n};\n\nQuadraticBezierCurve.prototype.toJSON = function () {\n\n\tvar data = Curve.prototype.toJSON.call( this );\n\n\tdata.v0 = this.v0.toArray();\n\tdata.v1 = this.v1.toArray();\n\tdata.v2 = this.v2.toArray();\n\n\treturn data;\n\n};\n\nQuadraticBezierCurve.prototype.fromJSON = function ( json ) {\n\n\tCurve.prototype.fromJSON.call( this, json );\n\n\tthis.v0.fromArray( json.v0 );\n\tthis.v1.fromArray( json.v1 );\n\tthis.v2.fromArray( json.v2 );\n\n\treturn this;\n\n};\n\nfunction QuadraticBezierCurve3( v0, v1, v2 ) {\n\n\tCurve.call( this );\n\n\tthis.type = 'QuadraticBezierCurve3';\n\n\tthis.v0 = v0 || new Vector3();\n\tthis.v1 = v1 || new Vector3();\n\tthis.v2 = v2 || new Vector3();\n\n}\n\nQuadraticBezierCurve3.prototype = Object.create( Curve.prototype );\nQuadraticBezierCurve3.prototype.constructor = QuadraticBezierCurve3;\n\nQuadraticBezierCurve3.prototype.isQuadraticBezierCurve3 = true;\n\nQuadraticBezierCurve3.prototype.getPoint = function ( t, optionalTarget ) {\n\n\tvar point = optionalTarget || new Vector3();\n\n\tvar v0 = this.v0, v1 = this.v1, v2 = this.v2;\n\n\tpoint.set(\n\t\tQuadraticBezier( t, v0.x, v1.x, v2.x ),\n\t\tQuadraticBezier( t, v0.y, v1.y, v2.y ),\n\t\tQuadraticBezier( t, v0.z, v1.z, v2.z )\n\t);\n\n\treturn point;\n\n};\n\nQuadraticBezierCurve3.prototype.copy = function ( source ) {\n\n\tCurve.prototype.copy.call( this, source );\n\n\tthis.v0.copy( source.v0 );\n\tthis.v1.copy( source.v1 );\n\tthis.v2.copy( source.v2 );\n\n\treturn this;\n\n};\n\nQuadraticBezierCurve3.prototype.toJSON = function () {\n\n\tvar data = Curve.prototype.toJSON.call( this );\n\n\tdata.v0 = this.v0.toArray();\n\tdata.v1 = this.v1.toArray();\n\tdata.v2 = this.v2.toArray();\n\n\treturn data;\n\n};\n\nQuadraticBezierCurve3.prototype.fromJSON = function ( json ) {\n\n\tCurve.prototype.fromJSON.call( this, json );\n\n\tthis.v0.fromArray( json.v0 );\n\tthis.v1.fromArray( json.v1 );\n\tthis.v2.fromArray( json.v2 );\n\n\treturn this;\n\n};\n\nfunction SplineCurve( points /* array of Vector2 */ ) {\n\n\tCurve.call( this );\n\n\tthis.type = 'SplineCurve';\n\n\tthis.points = points || [];\n\n}\n\nSplineCurve.prototype = Object.create( Curve.prototype );\nSplineCurve.prototype.constructor = SplineCurve;\n\nSplineCurve.prototype.isSplineCurve = true;\n\nSplineCurve.prototype.getPoint = function ( t, optionalTarget ) {\n\n\tvar point = optionalTarget || new Vector2();\n\n\tvar points = this.points;\n\tvar p = ( points.length - 1 ) * t;\n\n\tvar intPoint = Math.floor( p );\n\tvar weight = p - intPoint;\n\n\tvar p0 = points[ intPoint === 0 ? intPoint : intPoint - 1 ];\n\tvar p1 = points[ intPoint ];\n\tvar p2 = points[ intPoint > points.length - 2 ? points.length - 1 : intPoint + 1 ];\n\tvar p3 = points[ intPoint > points.length - 3 ? points.length - 1 : intPoint + 2 ];\n\n\tpoint.set(\n\t\tCatmullRom( weight, p0.x, p1.x, p2.x, p3.x ),\n\t\tCatmullRom( weight, p0.y, p1.y, p2.y, p3.y )\n\t);\n\n\treturn point;\n\n};\n\nSplineCurve.prototype.copy = function ( source ) {\n\n\tCurve.prototype.copy.call( this, source );\n\n\tthis.points = [];\n\n\tfor ( var i = 0, l = source.points.length; i < l; i ++ ) {\n\n\t\tvar point = source.points[ i ];\n\n\t\tthis.points.push( point.clone() );\n\n\t}\n\n\treturn this;\n\n};\n\nSplineCurve.prototype.toJSON = function () {\n\n\tvar data = Curve.prototype.toJSON.call( this );\n\n\tdata.points = [];\n\n\tfor ( var i = 0, l = this.points.length; i < l; i ++ ) {\n\n\t\tvar point = this.points[ i ];\n\t\tdata.points.push( point.toArray() );\n\n\t}\n\n\treturn data;\n\n};\n\nSplineCurve.prototype.fromJSON = function ( json ) {\n\n\tCurve.prototype.fromJSON.call( this, json );\n\n\tthis.points = [];\n\n\tfor ( var i = 0, l = json.points.length; i < l; i ++ ) {\n\n\t\tvar point = json.points[ i ];\n\t\tthis.points.push( new Vector2().fromArray( point ) );\n\n\t}\n\n\treturn this;\n\n};\n\n\n\nvar Curves = /*#__PURE__*/Object.freeze({\n\tArcCurve: ArcCurve,\n\tCatmullRomCurve3: CatmullRomCurve3,\n\tCubicBezierCurve: CubicBezierCurve,\n\tCubicBezierCurve3: CubicBezierCurve3,\n\tEllipseCurve: EllipseCurve,\n\tLineCurve: LineCurve,\n\tLineCurve3: LineCurve3,\n\tQuadraticBezierCurve: QuadraticBezierCurve,\n\tQuadraticBezierCurve3: QuadraticBezierCurve3,\n\tSplineCurve: SplineCurve\n});\n\n/**\n * @author zz85 / http://www.lab4games.net/zz85/blog\n *\n **/\n\n/**************************************************************\n *\tCurved Path - a curve path is simply a array of connected\n *  curves, but retains the api of a curve\n **************************************************************/\n\nfunction CurvePath() {\n\n\tCurve.call( this );\n\n\tthis.type = 'CurvePath';\n\n\tthis.curves = [];\n\tthis.autoClose = false; // Automatically closes the path\n\n}\n\nCurvePath.prototype = Object.assign( Object.create( Curve.prototype ), {\n\n\tconstructor: CurvePath,\n\n\tadd: function ( curve ) {\n\n\t\tthis.curves.push( curve );\n\n\t},\n\n\tclosePath: function () {\n\n\t\t// Add a line curve if start and end of lines are not connected\n\t\tvar startPoint = this.curves[ 0 ].getPoint( 0 );\n\t\tvar endPoint = this.curves[ this.curves.length - 1 ].getPoint( 1 );\n\n\t\tif ( ! startPoint.equals( endPoint ) ) {\n\n\t\t\tthis.curves.push( new LineCurve( endPoint, startPoint ) );\n\n\t\t}\n\n\t},\n\n\t// To get accurate point with reference to\n\t// entire path distance at time t,\n\t// following has to be done:\n\n\t// 1. Length of each sub path have to be known\n\t// 2. Locate and identify type of curve\n\t// 3. Get t for the curve\n\t// 4. Return curve.getPointAt(t')\n\n\tgetPoint: function ( t ) {\n\n\t\tvar d = t * this.getLength();\n\t\tvar curveLengths = this.getCurveLengths();\n\t\tvar i = 0;\n\n\t\t// To think about boundaries points.\n\n\t\twhile ( i < curveLengths.length ) {\n\n\t\t\tif ( curveLengths[ i ] >= d ) {\n\n\t\t\t\tvar diff = curveLengths[ i ] - d;\n\t\t\t\tvar curve = this.curves[ i ];\n\n\t\t\t\tvar segmentLength = curve.getLength();\n\t\t\t\tvar u = segmentLength === 0 ? 0 : 1 - diff / segmentLength;\n\n\t\t\t\treturn curve.getPointAt( u );\n\n\t\t\t}\n\n\t\t\ti ++;\n\n\t\t}\n\n\t\treturn null;\n\n\t\t// loop where sum != 0, sum > d , sum+1 <d\n\n\t},\n\n\t// We cannot use the default THREE.Curve getPoint() with getLength() because in\n\t// THREE.Curve, getLength() depends on getPoint() but in THREE.CurvePath\n\t// getPoint() depends on getLength\n\n\tgetLength: function () {\n\n\t\tvar lens = this.getCurveLengths();\n\t\treturn lens[ lens.length - 1 ];\n\n\t},\n\n\t// cacheLengths must be recalculated.\n\tupdateArcLengths: function () {\n\n\t\tthis.needsUpdate = true;\n\t\tthis.cacheLengths = null;\n\t\tthis.getCurveLengths();\n\n\t},\n\n\t// Compute lengths and cache them\n\t// We cannot overwrite getLengths() because UtoT mapping uses it.\n\n\tgetCurveLengths: function () {\n\n\t\t// We use cache values if curves and cache array are same length\n\n\t\tif ( this.cacheLengths && this.cacheLengths.length === this.curves.length ) {\n\n\t\t\treturn this.cacheLengths;\n\n\t\t}\n\n\t\t// Get length of sub-curve\n\t\t// Push sums into cached array\n\n\t\tvar lengths = [], sums = 0;\n\n\t\tfor ( var i = 0, l = this.curves.length; i < l; i ++ ) {\n\n\t\t\tsums += this.curves[ i ].getLength();\n\t\t\tlengths.push( sums );\n\n\t\t}\n\n\t\tthis.cacheLengths = lengths;\n\n\t\treturn lengths;\n\n\t},\n\n\tgetSpacedPoints: function ( divisions ) {\n\n\t\tif ( divisions === undefined ) divisions = 40;\n\n\t\tvar points = [];\n\n\t\tfor ( var i = 0; i <= divisions; i ++ ) {\n\n\t\t\tpoints.push( this.getPoint( i / divisions ) );\n\n\t\t}\n\n\t\tif ( this.autoClose ) {\n\n\t\t\tpoints.push( points[ 0 ] );\n\n\t\t}\n\n\t\treturn points;\n\n\t},\n\n\tgetPoints: function ( divisions ) {\n\n\t\tdivisions = divisions || 12;\n\n\t\tvar points = [], last;\n\n\t\tfor ( var i = 0, curves = this.curves; i < curves.length; i ++ ) {\n\n\t\t\tvar curve = curves[ i ];\n\t\t\tvar resolution = ( curve && curve.isEllipseCurve ) ? divisions * 2\n\t\t\t\t: ( curve && ( curve.isLineCurve || curve.isLineCurve3 ) ) ? 1\n\t\t\t\t\t: ( curve && curve.isSplineCurve ) ? divisions * curve.points.length\n\t\t\t\t\t\t: divisions;\n\n\t\t\tvar pts = curve.getPoints( resolution );\n\n\t\t\tfor ( var j = 0; j < pts.length; j ++ ) {\n\n\t\t\t\tvar point = pts[ j ];\n\n\t\t\t\tif ( last && last.equals( point ) ) continue; // ensures no consecutive points are duplicates\n\n\t\t\t\tpoints.push( point );\n\t\t\t\tlast = point;\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( this.autoClose && points.length > 1 && ! points[ points.length - 1 ].equals( points[ 0 ] ) ) {\n\n\t\t\tpoints.push( points[ 0 ] );\n\n\t\t}\n\n\t\treturn points;\n\n\t},\n\n\tcopy: function ( source ) {\n\n\t\tCurve.prototype.copy.call( this, source );\n\n\t\tthis.curves = [];\n\n\t\tfor ( var i = 0, l = source.curves.length; i < l; i ++ ) {\n\n\t\t\tvar curve = source.curves[ i ];\n\n\t\t\tthis.curves.push( curve.clone() );\n\n\t\t}\n\n\t\tthis.autoClose = source.autoClose;\n\n\t\treturn this;\n\n\t},\n\n\ttoJSON: function () {\n\n\t\tvar data = Curve.prototype.toJSON.call( this );\n\n\t\tdata.autoClose = this.autoClose;\n\t\tdata.curves = [];\n\n\t\tfor ( var i = 0, l = this.curves.length; i < l; i ++ ) {\n\n\t\t\tvar curve = this.curves[ i ];\n\t\t\tdata.curves.push( curve.toJSON() );\n\n\t\t}\n\n\t\treturn data;\n\n\t},\n\n\tfromJSON: function ( json ) {\n\n\t\tCurve.prototype.fromJSON.call( this, json );\n\n\t\tthis.autoClose = json.autoClose;\n\t\tthis.curves = [];\n\n\t\tfor ( var i = 0, l = json.curves.length; i < l; i ++ ) {\n\n\t\t\tvar curve = json.curves[ i ];\n\t\t\tthis.curves.push( new Curves[ curve.type ]().fromJSON( curve ) );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n} );\n\n/**\n * @author zz85 / http://www.lab4games.net/zz85/blog\n * Creates free form 2d path using series of points, lines or curves.\n **/\n\nfunction Path( points ) {\n\n\tCurvePath.call( this );\n\n\tthis.type = 'Path';\n\n\tthis.currentPoint = new Vector2();\n\n\tif ( points ) {\n\n\t\tthis.setFromPoints( points );\n\n\t}\n\n}\n\nPath.prototype = Object.assign( Object.create( CurvePath.prototype ), {\n\n\tconstructor: Path,\n\n\tsetFromPoints: function ( points ) {\n\n\t\tthis.moveTo( points[ 0 ].x, points[ 0 ].y );\n\n\t\tfor ( var i = 1, l = points.length; i < l; i ++ ) {\n\n\t\t\tthis.lineTo( points[ i ].x, points[ i ].y );\n\n\t\t}\n\n\t},\n\n\tmoveTo: function ( x, y ) {\n\n\t\tthis.currentPoint.set( x, y ); // TODO consider referencing vectors instead of copying?\n\n\t},\n\n\tlineTo: function ( x, y ) {\n\n\t\tvar curve = new LineCurve( this.currentPoint.clone(), new Vector2( x, y ) );\n\t\tthis.curves.push( curve );\n\n\t\tthis.currentPoint.set( x, y );\n\n\t},\n\n\tquadraticCurveTo: function ( aCPx, aCPy, aX, aY ) {\n\n\t\tvar curve = new QuadraticBezierCurve(\n\t\t\tthis.currentPoint.clone(),\n\t\t\tnew Vector2( aCPx, aCPy ),\n\t\t\tnew Vector2( aX, aY )\n\t\t);\n\n\t\tthis.curves.push( curve );\n\n\t\tthis.currentPoint.set( aX, aY );\n\n\t},\n\n\tbezierCurveTo: function ( aCP1x, aCP1y, aCP2x, aCP2y, aX, aY ) {\n\n\t\tvar curve = new CubicBezierCurve(\n\t\t\tthis.currentPoint.clone(),\n\t\t\tnew Vector2( aCP1x, aCP1y ),\n\t\t\tnew Vector2( aCP2x, aCP2y ),\n\t\t\tnew Vector2( aX, aY )\n\t\t);\n\n\t\tthis.curves.push( curve );\n\n\t\tthis.currentPoint.set( aX, aY );\n\n\t},\n\n\tsplineThru: function ( pts /*Array of Vector*/ ) {\n\n\t\tvar npts = [ this.currentPoint.clone() ].concat( pts );\n\n\t\tvar curve = new SplineCurve( npts );\n\t\tthis.curves.push( curve );\n\n\t\tthis.currentPoint.copy( pts[ pts.length - 1 ] );\n\n\t},\n\n\tarc: function ( aX, aY, aRadius, aStartAngle, aEndAngle, aClockwise ) {\n\n\t\tvar x0 = this.currentPoint.x;\n\t\tvar y0 = this.currentPoint.y;\n\n\t\tthis.absarc( aX + x0, aY + y0, aRadius,\n\t\t\taStartAngle, aEndAngle, aClockwise );\n\n\t},\n\n\tabsarc: function ( aX, aY, aRadius, aStartAngle, aEndAngle, aClockwise ) {\n\n\t\tthis.absellipse( aX, aY, aRadius, aRadius, aStartAngle, aEndAngle, aClockwise );\n\n\t},\n\n\tellipse: function ( aX, aY, xRadius, yRadius, aStartAngle, aEndAngle, aClockwise, aRotation ) {\n\n\t\tvar x0 = this.currentPoint.x;\n\t\tvar y0 = this.currentPoint.y;\n\n\t\tthis.absellipse( aX + x0, aY + y0, xRadius, yRadius, aStartAngle, aEndAngle, aClockwise, aRotation );\n\n\t},\n\n\tabsellipse: function ( aX, aY, xRadius, yRadius, aStartAngle, aEndAngle, aClockwise, aRotation ) {\n\n\t\tvar curve = new EllipseCurve( aX, aY, xRadius, yRadius, aStartAngle, aEndAngle, aClockwise, aRotation );\n\n\t\tif ( this.curves.length > 0 ) {\n\n\t\t\t// if a previous curve is present, attempt to join\n\t\t\tvar firstPoint = curve.getPoint( 0 );\n\n\t\t\tif ( ! firstPoint.equals( this.currentPoint ) ) {\n\n\t\t\t\tthis.lineTo( firstPoint.x, firstPoint.y );\n\n\t\t\t}\n\n\t\t}\n\n\t\tthis.curves.push( curve );\n\n\t\tvar lastPoint = curve.getPoint( 1 );\n\t\tthis.currentPoint.copy( lastPoint );\n\n\t},\n\n\tcopy: function ( source ) {\n\n\t\tCurvePath.prototype.copy.call( this, source );\n\n\t\tthis.currentPoint.copy( source.currentPoint );\n\n\t\treturn this;\n\n\t},\n\n\ttoJSON: function () {\n\n\t\tvar data = CurvePath.prototype.toJSON.call( this );\n\n\t\tdata.currentPoint = this.currentPoint.toArray();\n\n\t\treturn data;\n\n\t},\n\n\tfromJSON: function ( json ) {\n\n\t\tCurvePath.prototype.fromJSON.call( this, json );\n\n\t\tthis.currentPoint.fromArray( json.currentPoint );\n\n\t\treturn this;\n\n\t}\n\n} );\n\n/**\n * @author zz85 / http://www.lab4games.net/zz85/blog\n * Defines a 2d shape plane using paths.\n **/\n\n// STEP 1 Create a path.\n// STEP 2 Turn path into shape.\n// STEP 3 ExtrudeGeometry takes in Shape/Shapes\n// STEP 3a - Extract points from each shape, turn to vertices\n// STEP 3b - Triangulate each shape, add faces.\n\nfunction Shape( points ) {\n\n\tPath.call( this, points );\n\n\tthis.uuid = _Math.generateUUID();\n\n\tthis.type = 'Shape';\n\n\tthis.holes = [];\n\n}\n\nShape.prototype = Object.assign( Object.create( Path.prototype ), {\n\n\tconstructor: Shape,\n\n\tgetPointsHoles: function ( divisions ) {\n\n\t\tvar holesPts = [];\n\n\t\tfor ( var i = 0, l = this.holes.length; i < l; i ++ ) {\n\n\t\t\tholesPts[ i ] = this.holes[ i ].getPoints( divisions );\n\n\t\t}\n\n\t\treturn holesPts;\n\n\t},\n\n\t// get points of shape and holes (keypoints based on segments parameter)\n\n\textractPoints: function ( divisions ) {\n\n\t\treturn {\n\n\t\t\tshape: this.getPoints( divisions ),\n\t\t\tholes: this.getPointsHoles( divisions )\n\n\t\t};\n\n\t},\n\n\tcopy: function ( source ) {\n\n\t\tPath.prototype.copy.call( this, source );\n\n\t\tthis.holes = [];\n\n\t\tfor ( var i = 0, l = source.holes.length; i < l; i ++ ) {\n\n\t\t\tvar hole = source.holes[ i ];\n\n\t\t\tthis.holes.push( hole.clone() );\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\ttoJSON: function () {\n\n\t\tvar data = Path.prototype.toJSON.call( this );\n\n\t\tdata.uuid = this.uuid;\n\t\tdata.holes = [];\n\n\t\tfor ( var i = 0, l = this.holes.length; i < l; i ++ ) {\n\n\t\t\tvar hole = this.holes[ i ];\n\t\t\tdata.holes.push( hole.toJSON() );\n\n\t\t}\n\n\t\treturn data;\n\n\t},\n\n\tfromJSON: function ( json ) {\n\n\t\tPath.prototype.fromJSON.call( this, json );\n\n\t\tthis.uuid = json.uuid;\n\t\tthis.holes = [];\n\n\t\tfor ( var i = 0, l = json.holes.length; i < l; i ++ ) {\n\n\t\t\tvar hole = json.holes[ i ];\n\t\t\tthis.holes.push( new Path().fromJSON( hole ) );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author alteredq / http://alteredqualia.com/\n */\n\nfunction Light( color, intensity ) {\n\n\tObject3D.call( this );\n\n\tthis.type = 'Light';\n\n\tthis.color = new Color( color );\n\tthis.intensity = intensity !== undefined ? intensity : 1;\n\n\tthis.receiveShadow = undefined;\n\n}\n\nLight.prototype = Object.assign( Object.create( Object3D.prototype ), {\n\n\tconstructor: Light,\n\n\tisLight: true,\n\n\tcopy: function ( source ) {\n\n\t\tObject3D.prototype.copy.call( this, source );\n\n\t\tthis.color.copy( source.color );\n\t\tthis.intensity = source.intensity;\n\n\t\treturn this;\n\n\t},\n\n\ttoJSON: function ( meta ) {\n\n\t\tvar data = Object3D.prototype.toJSON.call( this, meta );\n\n\t\tdata.object.color = this.color.getHex();\n\t\tdata.object.intensity = this.intensity;\n\n\t\tif ( this.groundColor !== undefined ) data.object.groundColor = this.groundColor.getHex();\n\n\t\tif ( this.distance !== undefined ) data.object.distance = this.distance;\n\t\tif ( this.angle !== undefined ) data.object.angle = this.angle;\n\t\tif ( this.decay !== undefined ) data.object.decay = this.decay;\n\t\tif ( this.penumbra !== undefined ) data.object.penumbra = this.penumbra;\n\n\t\tif ( this.shadow !== undefined ) data.object.shadow = this.shadow.toJSON();\n\n\t\treturn data;\n\n\t}\n\n} );\n\n/**\n * @author alteredq / http://alteredqualia.com/\n */\n\nfunction HemisphereLight( skyColor, groundColor, intensity ) {\n\n\tLight.call( this, skyColor, intensity );\n\n\tthis.type = 'HemisphereLight';\n\n\tthis.castShadow = undefined;\n\n\tthis.position.copy( Object3D.DefaultUp );\n\tthis.updateMatrix();\n\n\tthis.groundColor = new Color( groundColor );\n\n}\n\nHemisphereLight.prototype = Object.assign( Object.create( Light.prototype ), {\n\n\tconstructor: HemisphereLight,\n\n\tisHemisphereLight: true,\n\n\tcopy: function ( source ) {\n\n\t\tLight.prototype.copy.call( this, source );\n\n\t\tthis.groundColor.copy( source.groundColor );\n\n\t\treturn this;\n\n\t}\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction LightShadow( camera ) {\n\n\tthis.camera = camera;\n\n\tthis.bias = 0;\n\tthis.radius = 1;\n\n\tthis.mapSize = new Vector2( 512, 512 );\n\n\tthis.map = null;\n\tthis.matrix = new Matrix4();\n\n}\n\nObject.assign( LightShadow.prototype, {\n\n\tcopy: function ( source ) {\n\n\t\tthis.camera = source.camera.clone();\n\n\t\tthis.bias = source.bias;\n\t\tthis.radius = source.radius;\n\n\t\tthis.mapSize.copy( source.mapSize );\n\n\t\treturn this;\n\n\t},\n\n\tclone: function () {\n\n\t\treturn new this.constructor().copy( this );\n\n\t},\n\n\ttoJSON: function () {\n\n\t\tvar object = {};\n\n\t\tif ( this.bias !== 0 ) object.bias = this.bias;\n\t\tif ( this.radius !== 1 ) object.radius = this.radius;\n\t\tif ( this.mapSize.x !== 512 || this.mapSize.y !== 512 ) object.mapSize = this.mapSize.toArray();\n\n\t\tobject.camera = this.camera.toJSON( false ).object;\n\t\tdelete object.camera.matrix;\n\n\t\treturn object;\n\n\t}\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction SpotLightShadow() {\n\n\tLightShadow.call( this, new PerspectiveCamera( 50, 1, 0.5, 500 ) );\n\n}\n\nSpotLightShadow.prototype = Object.assign( Object.create( LightShadow.prototype ), {\n\n\tconstructor: SpotLightShadow,\n\n\tisSpotLightShadow: true,\n\n\tupdate: function ( light ) {\n\n\t\tvar camera = this.camera;\n\n\t\tvar fov = _Math.RAD2DEG * 2 * light.angle;\n\t\tvar aspect = this.mapSize.width / this.mapSize.height;\n\t\tvar far = light.distance || camera.far;\n\n\t\tif ( fov !== camera.fov || aspect !== camera.aspect || far !== camera.far ) {\n\n\t\t\tcamera.fov = fov;\n\t\t\tcamera.aspect = aspect;\n\t\t\tcamera.far = far;\n\t\t\tcamera.updateProjectionMatrix();\n\n\t\t}\n\n\t}\n\n} );\n\n/**\n * @author alteredq / http://alteredqualia.com/\n */\n\nfunction SpotLight( color, intensity, distance, angle, penumbra, decay ) {\n\n\tLight.call( this, color, intensity );\n\n\tthis.type = 'SpotLight';\n\n\tthis.position.copy( Object3D.DefaultUp );\n\tthis.updateMatrix();\n\n\tthis.target = new Object3D();\n\n\tObject.defineProperty( this, 'power', {\n\t\tget: function () {\n\n\t\t\t// intensity = power per solid angle.\n\t\t\t// ref: equation (17) from https://seblagarde.files.wordpress.com/2015/07/course_notes_moving_frostbite_to_pbr_v32.pdf\n\t\t\treturn this.intensity * Math.PI;\n\n\t\t},\n\t\tset: function ( power ) {\n\n\t\t\t// intensity = power per solid angle.\n\t\t\t// ref: equation (17) from https://seblagarde.files.wordpress.com/2015/07/course_notes_moving_frostbite_to_pbr_v32.pdf\n\t\t\tthis.intensity = power / Math.PI;\n\n\t\t}\n\t} );\n\n\tthis.distance = ( distance !== undefined ) ? distance : 0;\n\tthis.angle = ( angle !== undefined ) ? angle : Math.PI / 3;\n\tthis.penumbra = ( penumbra !== undefined ) ? penumbra : 0;\n\tthis.decay = ( decay !== undefined ) ? decay : 1;\t// for physically correct lights, should be 2.\n\n\tthis.shadow = new SpotLightShadow();\n\n}\n\nSpotLight.prototype = Object.assign( Object.create( Light.prototype ), {\n\n\tconstructor: SpotLight,\n\n\tisSpotLight: true,\n\n\tcopy: function ( source ) {\n\n\t\tLight.prototype.copy.call( this, source );\n\n\t\tthis.distance = source.distance;\n\t\tthis.angle = source.angle;\n\t\tthis.penumbra = source.penumbra;\n\t\tthis.decay = source.decay;\n\n\t\tthis.target = source.target.clone();\n\n\t\tthis.shadow = source.shadow.clone();\n\n\t\treturn this;\n\n\t}\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\n\nfunction PointLight( color, intensity, distance, decay ) {\n\n\tLight.call( this, color, intensity );\n\n\tthis.type = 'PointLight';\n\n\tObject.defineProperty( this, 'power', {\n\t\tget: function () {\n\n\t\t\t// intensity = power per solid angle.\n\t\t\t// ref: equation (15) from https://seblagarde.files.wordpress.com/2015/07/course_notes_moving_frostbite_to_pbr_v32.pdf\n\t\t\treturn this.intensity * 4 * Math.PI;\n\n\t\t},\n\t\tset: function ( power ) {\n\n\t\t\t// intensity = power per solid angle.\n\t\t\t// ref: equation (15) from https://seblagarde.files.wordpress.com/2015/07/course_notes_moving_frostbite_to_pbr_v32.pdf\n\t\t\tthis.intensity = power / ( 4 * Math.PI );\n\n\t\t}\n\t} );\n\n\tthis.distance = ( distance !== undefined ) ? distance : 0;\n\tthis.decay = ( decay !== undefined ) ? decay : 1;\t// for physically correct lights, should be 2.\n\n\tthis.shadow = new LightShadow( new PerspectiveCamera( 90, 1, 0.5, 500 ) );\n\n}\n\nPointLight.prototype = Object.assign( Object.create( Light.prototype ), {\n\n\tconstructor: PointLight,\n\n\tisPointLight: true,\n\n\tcopy: function ( source ) {\n\n\t\tLight.prototype.copy.call( this, source );\n\n\t\tthis.distance = source.distance;\n\t\tthis.decay = source.decay;\n\n\t\tthis.shadow = source.shadow.clone();\n\n\t\treturn this;\n\n\t}\n\n} );\n\n/**\n * @author alteredq / http://alteredqualia.com/\n * @author arose / http://github.com/arose\n */\n\nfunction OrthographicCamera( left, right, top, bottom, near, far ) {\n\n\tCamera.call( this );\n\n\tthis.type = 'OrthographicCamera';\n\n\tthis.zoom = 1;\n\tthis.view = null;\n\n\tthis.left = ( left !== undefined ) ? left : - 1;\n\tthis.right = ( right !== undefined ) ? right : 1;\n\tthis.top = ( top !== undefined ) ? top : 1;\n\tthis.bottom = ( bottom !== undefined ) ? bottom : - 1;\n\n\tthis.near = ( near !== undefined ) ? near : 0.1;\n\tthis.far = ( far !== undefined ) ? far : 2000;\n\n\tthis.updateProjectionMatrix();\n\n}\n\nOrthographicCamera.prototype = Object.assign( Object.create( Camera.prototype ), {\n\n\tconstructor: OrthographicCamera,\n\n\tisOrthographicCamera: true,\n\n\tcopy: function ( source, recursive ) {\n\n\t\tCamera.prototype.copy.call( this, source, recursive );\n\n\t\tthis.left = source.left;\n\t\tthis.right = source.right;\n\t\tthis.top = source.top;\n\t\tthis.bottom = source.bottom;\n\t\tthis.near = source.near;\n\t\tthis.far = source.far;\n\n\t\tthis.zoom = source.zoom;\n\t\tthis.view = source.view === null ? null : Object.assign( {}, source.view );\n\n\t\treturn this;\n\n\t},\n\n\tsetViewOffset: function ( fullWidth, fullHeight, x, y, width, height ) {\n\n\t\tif ( this.view === null ) {\n\n\t\t\tthis.view = {\n\t\t\t\tenabled: true,\n\t\t\t\tfullWidth: 1,\n\t\t\t\tfullHeight: 1,\n\t\t\t\toffsetX: 0,\n\t\t\t\toffsetY: 0,\n\t\t\t\twidth: 1,\n\t\t\t\theight: 1\n\t\t\t};\n\n\t\t}\n\n\t\tthis.view.enabled = true;\n\t\tthis.view.fullWidth = fullWidth;\n\t\tthis.view.fullHeight = fullHeight;\n\t\tthis.view.offsetX = x;\n\t\tthis.view.offsetY = y;\n\t\tthis.view.width = width;\n\t\tthis.view.height = height;\n\n\t\tthis.updateProjectionMatrix();\n\n\t},\n\n\tclearViewOffset: function () {\n\n\t\tif ( this.view !== null ) {\n\n\t\t\tthis.view.enabled = false;\n\n\t\t}\n\n\t\tthis.updateProjectionMatrix();\n\n\t},\n\n\tupdateProjectionMatrix: function () {\n\n\t\tvar dx = ( this.right - this.left ) / ( 2 * this.zoom );\n\t\tvar dy = ( this.top - this.bottom ) / ( 2 * this.zoom );\n\t\tvar cx = ( this.right + this.left ) / 2;\n\t\tvar cy = ( this.top + this.bottom ) / 2;\n\n\t\tvar left = cx - dx;\n\t\tvar right = cx + dx;\n\t\tvar top = cy + dy;\n\t\tvar bottom = cy - dy;\n\n\t\tif ( this.view !== null && this.view.enabled ) {\n\n\t\t\tvar zoomW = this.zoom / ( this.view.width / this.view.fullWidth );\n\t\t\tvar zoomH = this.zoom / ( this.view.height / this.view.fullHeight );\n\t\t\tvar scaleW = ( this.right - this.left ) / this.view.width;\n\t\t\tvar scaleH = ( this.top - this.bottom ) / this.view.height;\n\n\t\t\tleft += scaleW * ( this.view.offsetX / zoomW );\n\t\t\tright = left + scaleW * ( this.view.width / zoomW );\n\t\t\ttop -= scaleH * ( this.view.offsetY / zoomH );\n\t\t\tbottom = top - scaleH * ( this.view.height / zoomH );\n\n\t\t}\n\n\t\tthis.projectionMatrix.makeOrthographic( left, right, top, bottom, this.near, this.far );\n\n\t\tthis.projectionMatrixInverse.getInverse( this.projectionMatrix );\n\n\t},\n\n\ttoJSON: function ( meta ) {\n\n\t\tvar data = Object3D.prototype.toJSON.call( this, meta );\n\n\t\tdata.object.zoom = this.zoom;\n\t\tdata.object.left = this.left;\n\t\tdata.object.right = this.right;\n\t\tdata.object.top = this.top;\n\t\tdata.object.bottom = this.bottom;\n\t\tdata.object.near = this.near;\n\t\tdata.object.far = this.far;\n\n\t\tif ( this.view !== null ) data.object.view = Object.assign( {}, this.view );\n\n\t\treturn data;\n\n\t}\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction DirectionalLightShadow( ) {\n\n\tLightShadow.call( this, new OrthographicCamera( - 5, 5, 5, - 5, 0.5, 500 ) );\n\n}\n\nDirectionalLightShadow.prototype = Object.assign( Object.create( LightShadow.prototype ), {\n\n\tconstructor: DirectionalLightShadow\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author alteredq / http://alteredqualia.com/\n */\n\nfunction DirectionalLight( color, intensity ) {\n\n\tLight.call( this, color, intensity );\n\n\tthis.type = 'DirectionalLight';\n\n\tthis.position.copy( Object3D.DefaultUp );\n\tthis.updateMatrix();\n\n\tthis.target = new Object3D();\n\n\tthis.shadow = new DirectionalLightShadow();\n\n}\n\nDirectionalLight.prototype = Object.assign( Object.create( Light.prototype ), {\n\n\tconstructor: DirectionalLight,\n\n\tisDirectionalLight: true,\n\n\tcopy: function ( source ) {\n\n\t\tLight.prototype.copy.call( this, source );\n\n\t\tthis.target = source.target.clone();\n\n\t\tthis.shadow = source.shadow.clone();\n\n\t\treturn this;\n\n\t}\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction AmbientLight( color, intensity ) {\n\n\tLight.call( this, color, intensity );\n\n\tthis.type = 'AmbientLight';\n\n\tthis.castShadow = undefined;\n\n}\n\nAmbientLight.prototype = Object.assign( Object.create( Light.prototype ), {\n\n\tconstructor: AmbientLight,\n\n\tisAmbientLight: true\n\n} );\n\n/**\n * @author abelnation / http://github.com/abelnation\n */\n\nfunction RectAreaLight( color, intensity, width, height ) {\n\n\tLight.call( this, color, intensity );\n\n\tthis.type = 'RectAreaLight';\n\n\tthis.width = ( width !== undefined ) ? width : 10;\n\tthis.height = ( height !== undefined ) ? height : 10;\n\n}\n\nRectAreaLight.prototype = Object.assign( Object.create( Light.prototype ), {\n\n\tconstructor: RectAreaLight,\n\n\tisRectAreaLight: true,\n\n\tcopy: function ( source ) {\n\n\t\tLight.prototype.copy.call( this, source );\n\n\t\tthis.width = source.width;\n\t\tthis.height = source.height;\n\n\t\treturn this;\n\n\t},\n\n\ttoJSON: function ( meta ) {\n\n\t\tvar data = Light.prototype.toJSON.call( this, meta );\n\n\t\tdata.object.width = this.width;\n\t\tdata.object.height = this.height;\n\n\t\treturn data;\n\n\t}\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction MaterialLoader( manager ) {\n\n\tthis.manager = ( manager !== undefined ) ? manager : DefaultLoadingManager;\n\tthis.textures = {};\n\n}\n\nObject.assign( MaterialLoader.prototype, {\n\n\tload: function ( url, onLoad, onProgress, onError ) {\n\n\t\tvar scope = this;\n\n\t\tvar loader = new FileLoader( scope.manager );\n\t\tloader.setPath( scope.path );\n\t\tloader.load( url, function ( text ) {\n\n\t\t\tonLoad( scope.parse( JSON.parse( text ) ) );\n\n\t\t}, onProgress, onError );\n\n\t},\n\n\tparse: function ( json ) {\n\n\t\tvar textures = this.textures;\n\n\t\tfunction getTexture( name ) {\n\n\t\t\tif ( textures[ name ] === undefined ) {\n\n\t\t\t\tconsole.warn( 'THREE.MaterialLoader: Undefined texture', name );\n\n\t\t\t}\n\n\t\t\treturn textures[ name ];\n\n\t\t}\n\n\t\tvar material = new Materials[ json.type ]();\n\n\t\tif ( json.uuid !== undefined ) material.uuid = json.uuid;\n\t\tif ( json.name !== undefined ) material.name = json.name;\n\t\tif ( json.color !== undefined ) material.color.setHex( json.color );\n\t\tif ( json.roughness !== undefined ) material.roughness = json.roughness;\n\t\tif ( json.metalness !== undefined ) material.metalness = json.metalness;\n\t\tif ( json.emissive !== undefined ) material.emissive.setHex( json.emissive );\n\t\tif ( json.specular !== undefined ) material.specular.setHex( json.specular );\n\t\tif ( json.shininess !== undefined ) material.shininess = json.shininess;\n\t\tif ( json.clearCoat !== undefined ) material.clearCoat = json.clearCoat;\n\t\tif ( json.clearCoatRoughness !== undefined ) material.clearCoatRoughness = json.clearCoatRoughness;\n\t\tif ( json.vertexColors !== undefined ) material.vertexColors = json.vertexColors;\n\t\tif ( json.fog !== undefined ) material.fog = json.fog;\n\t\tif ( json.flatShading !== undefined ) material.flatShading = json.flatShading;\n\t\tif ( json.blending !== undefined ) material.blending = json.blending;\n\t\tif ( json.combine !== undefined ) material.combine = json.combine;\n\t\tif ( json.side !== undefined ) material.side = json.side;\n\t\tif ( json.opacity !== undefined ) material.opacity = json.opacity;\n\t\tif ( json.transparent !== undefined ) material.transparent = json.transparent;\n\t\tif ( json.alphaTest !== undefined ) material.alphaTest = json.alphaTest;\n\t\tif ( json.depthTest !== undefined ) material.depthTest = json.depthTest;\n\t\tif ( json.depthWrite !== undefined ) material.depthWrite = json.depthWrite;\n\t\tif ( json.colorWrite !== undefined ) material.colorWrite = json.colorWrite;\n\t\tif ( json.wireframe !== undefined ) material.wireframe = json.wireframe;\n\t\tif ( json.wireframeLinewidth !== undefined ) material.wireframeLinewidth = json.wireframeLinewidth;\n\t\tif ( json.wireframeLinecap !== undefined ) material.wireframeLinecap = json.wireframeLinecap;\n\t\tif ( json.wireframeLinejoin !== undefined ) material.wireframeLinejoin = json.wireframeLinejoin;\n\n\t\tif ( json.rotation !== undefined ) material.rotation = json.rotation;\n\n\t\tif ( json.linewidth !== 1 ) material.linewidth = json.linewidth;\n\t\tif ( json.dashSize !== undefined ) material.dashSize = json.dashSize;\n\t\tif ( json.gapSize !== undefined ) material.gapSize = json.gapSize;\n\t\tif ( json.scale !== undefined ) material.scale = json.scale;\n\n\t\tif ( json.polygonOffset !== undefined ) material.polygonOffset = json.polygonOffset;\n\t\tif ( json.polygonOffsetFactor !== undefined ) material.polygonOffsetFactor = json.polygonOffsetFactor;\n\t\tif ( json.polygonOffsetUnits !== undefined ) material.polygonOffsetUnits = json.polygonOffsetUnits;\n\n\t\tif ( json.skinning !== undefined ) material.skinning = json.skinning;\n\t\tif ( json.morphTargets !== undefined ) material.morphTargets = json.morphTargets;\n\t\tif ( json.dithering !== undefined ) material.dithering = json.dithering;\n\n\t\tif ( json.visible !== undefined ) material.visible = json.visible;\n\t\tif ( json.userData !== undefined ) material.userData = json.userData;\n\n\t\t// Shader Material\n\n\t\tif ( json.uniforms !== undefined ) {\n\n\t\t\tfor ( var name in json.uniforms ) {\n\n\t\t\t\tvar uniform = json.uniforms[ name ];\n\n\t\t\t\tmaterial.uniforms[ name ] = {};\n\n\t\t\t\tswitch ( uniform.type ) {\n\n\t\t\t\t\tcase 't':\n\t\t\t\t\t\tmaterial.uniforms[ name ].value = getTexture( uniform.value );\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'c':\n\t\t\t\t\t\tmaterial.uniforms[ name ].value = new Color().setHex( uniform.value );\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'v2':\n\t\t\t\t\t\tmaterial.uniforms[ name ].value = new Vector2().fromArray( uniform.value );\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'v3':\n\t\t\t\t\t\tmaterial.uniforms[ name ].value = new Vector3().fromArray( uniform.value );\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'v4':\n\t\t\t\t\t\tmaterial.uniforms[ name ].value = new Vector4().fromArray( uniform.value );\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'm3':\n\t\t\t\t\t\tmaterial.uniforms[ name ].value = new Matrix3().fromArray( uniform.value );\n\n\t\t\t\t\tcase 'm4':\n\t\t\t\t\t\tmaterial.uniforms[ name ].value = new Matrix4().fromArray( uniform.value );\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tdefault:\n\t\t\t\t\t\tmaterial.uniforms[ name ].value = uniform.value;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( json.defines !== undefined ) material.defines = json.defines;\n\t\tif ( json.vertexShader !== undefined ) material.vertexShader = json.vertexShader;\n\t\tif ( json.fragmentShader !== undefined ) material.fragmentShader = json.fragmentShader;\n\n\t\tif ( json.extensions !== undefined ) {\n\n\t\t\tfor ( var key in json.extensions ) {\n\n\t\t\t\tmaterial.extensions[ key ] = json.extensions[ key ];\n\n\t\t\t}\n\n\t\t}\n\n\t\t// Deprecated\n\n\t\tif ( json.shading !== undefined ) material.flatShading = json.shading === 1; // THREE.FlatShading\n\n\t\t// for PointsMaterial\n\n\t\tif ( json.size !== undefined ) material.size = json.size;\n\t\tif ( json.sizeAttenuation !== undefined ) material.sizeAttenuation = json.sizeAttenuation;\n\n\t\t// maps\n\n\t\tif ( json.map !== undefined ) material.map = getTexture( json.map );\n\t\tif ( json.matcap !== undefined ) material.matcap = getTexture( json.matcap );\n\n\t\tif ( json.alphaMap !== undefined ) {\n\n\t\t\tmaterial.alphaMap = getTexture( json.alphaMap );\n\t\t\tmaterial.transparent = true;\n\n\t\t}\n\n\t\tif ( json.bumpMap !== undefined ) material.bumpMap = getTexture( json.bumpMap );\n\t\tif ( json.bumpScale !== undefined ) material.bumpScale = json.bumpScale;\n\n\t\tif ( json.normalMap !== undefined ) material.normalMap = getTexture( json.normalMap );\n\t\tif ( json.normalMapType !== undefined ) material.normalMapType = json.normalMapType;\n\t\tif ( json.normalScale !== undefined ) {\n\n\t\t\tvar normalScale = json.normalScale;\n\n\t\t\tif ( Array.isArray( normalScale ) === false ) {\n\n\t\t\t\t// Blender exporter used to export a scalar. See #7459\n\n\t\t\t\tnormalScale = [ normalScale, normalScale ];\n\n\t\t\t}\n\n\t\t\tmaterial.normalScale = new Vector2().fromArray( normalScale );\n\n\t\t}\n\n\t\tif ( json.displacementMap !== undefined ) material.displacementMap = getTexture( json.displacementMap );\n\t\tif ( json.displacementScale !== undefined ) material.displacementScale = json.displacementScale;\n\t\tif ( json.displacementBias !== undefined ) material.displacementBias = json.displacementBias;\n\n\t\tif ( json.roughnessMap !== undefined ) material.roughnessMap = getTexture( json.roughnessMap );\n\t\tif ( json.metalnessMap !== undefined ) material.metalnessMap = getTexture( json.metalnessMap );\n\n\t\tif ( json.emissiveMap !== undefined ) material.emissiveMap = getTexture( json.emissiveMap );\n\t\tif ( json.emissiveIntensity !== undefined ) material.emissiveIntensity = json.emissiveIntensity;\n\n\t\tif ( json.specularMap !== undefined ) material.specularMap = getTexture( json.specularMap );\n\n\t\tif ( json.envMap !== undefined ) material.envMap = getTexture( json.envMap );\n\t\tif ( json.envMapIntensity !== undefined ) material.envMapIntensity = json.envMapIntensity;\n\n\t\tif ( json.reflectivity !== undefined ) material.reflectivity = json.reflectivity;\n\n\t\tif ( json.lightMap !== undefined ) material.lightMap = getTexture( json.lightMap );\n\t\tif ( json.lightMapIntensity !== undefined ) material.lightMapIntensity = json.lightMapIntensity;\n\n\t\tif ( json.aoMap !== undefined ) material.aoMap = getTexture( json.aoMap );\n\t\tif ( json.aoMapIntensity !== undefined ) material.aoMapIntensity = json.aoMapIntensity;\n\n\t\tif ( json.gradientMap !== undefined ) material.gradientMap = getTexture( json.gradientMap );\n\n\t\treturn material;\n\n\t},\n\n\tsetPath: function ( value ) {\n\n\t\tthis.path = value;\n\t\treturn this;\n\n\t},\n\n\tsetTextures: function ( value ) {\n\n\t\tthis.textures = value;\n\t\treturn this;\n\n\t}\n\n} );\n\n/**\n * @author Don McCurdy / https://www.donmccurdy.com\n */\n\nvar LoaderUtils = {\n\n\tdecodeText: function ( array ) {\n\n\t\tif ( typeof TextDecoder !== 'undefined' ) {\n\n\t\t\treturn new TextDecoder().decode( array );\n\n\t\t}\n\n\t\t// Avoid the String.fromCharCode.apply(null, array) shortcut, which\n\t\t// throws a \"maximum call stack size exceeded\" error for large arrays.\n\n\t\tvar s = '';\n\n\t\tfor ( var i = 0, il = array.length; i < il; i ++ ) {\n\n\t\t\t// Implicitly assumes little-endian.\n\t\t\ts += String.fromCharCode( array[ i ] );\n\n\t\t}\n\n\t\ttry {\n\n\t\t\t// merges multi-byte utf-8 characters.\n\n\t\t\treturn decodeURIComponent( escape( s ) );\n\n\t\t} catch ( e ) { // see #16358\n\n\t\t\treturn s;\n\n\t\t}\n\n\t},\n\n\textractUrlBase: function ( url ) {\n\n\t\tvar index = url.lastIndexOf( '/' );\n\n\t\tif ( index === - 1 ) return './';\n\n\t\treturn url.substr( 0, index + 1 );\n\n\t}\n\n};\n\n/**\n * @author benaadams / https://twitter.com/ben_a_adams\n */\n\nfunction InstancedBufferGeometry() {\n\n\tBufferGeometry.call( this );\n\n\tthis.type = 'InstancedBufferGeometry';\n\tthis.maxInstancedCount = undefined;\n\n}\n\nInstancedBufferGeometry.prototype = Object.assign( Object.create( BufferGeometry.prototype ), {\n\n\tconstructor: InstancedBufferGeometry,\n\n\tisInstancedBufferGeometry: true,\n\n\tcopy: function ( source ) {\n\n\t\tBufferGeometry.prototype.copy.call( this, source );\n\n\t\tthis.maxInstancedCount = source.maxInstancedCount;\n\n\t\treturn this;\n\n\t},\n\n\tclone: function () {\n\n\t\treturn new this.constructor().copy( this );\n\n\t},\n\n\ttoJSON: function () {\n\n\t\tvar data = BufferGeometry.prototype.toJSON.call( this );\n\n\t\tdata.maxInstancedCount = this.maxInstancedCount;\n\n\t\tdata.isInstancedBufferGeometry = true;\n\n\t\treturn data;\n\n\t}\n\n} );\n\n/**\n * @author benaadams / https://twitter.com/ben_a_adams\n */\n\nfunction InstancedBufferAttribute( array, itemSize, normalized, meshPerAttribute ) {\n\n\tif ( typeof ( normalized ) === 'number' ) {\n\n\t\tmeshPerAttribute = normalized;\n\n\t\tnormalized = false;\n\n\t\tconsole.error( 'THREE.InstancedBufferAttribute: The constructor now expects normalized as the third argument.' );\n\n\t}\n\n\tBufferAttribute.call( this, array, itemSize, normalized );\n\n\tthis.meshPerAttribute = meshPerAttribute || 1;\n\n}\n\nInstancedBufferAttribute.prototype = Object.assign( Object.create( BufferAttribute.prototype ), {\n\n\tconstructor: InstancedBufferAttribute,\n\n\tisInstancedBufferAttribute: true,\n\n\tcopy: function ( source ) {\n\n\t\tBufferAttribute.prototype.copy.call( this, source );\n\n\t\tthis.meshPerAttribute = source.meshPerAttribute;\n\n\t\treturn this;\n\n\t},\n\n\ttoJSON: function ()\t{\n\n\t\tvar data = BufferAttribute.prototype.toJSON.call( this );\n\n\t\tdata.meshPerAttribute = this.meshPerAttribute;\n\n\t\tdata.isInstancedBufferAttribute = true;\n\n\t\treturn data;\n\n\t}\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction BufferGeometryLoader( manager ) {\n\n\tthis.manager = ( manager !== undefined ) ? manager : DefaultLoadingManager;\n\n}\n\nObject.assign( BufferGeometryLoader.prototype, {\n\n\tload: function ( url, onLoad, onProgress, onError ) {\n\n\t\tvar scope = this;\n\n\t\tvar loader = new FileLoader( scope.manager );\n\t\tloader.setPath( scope.path );\n\t\tloader.load( url, function ( text ) {\n\n\t\t\tonLoad( scope.parse( JSON.parse( text ) ) );\n\n\t\t}, onProgress, onError );\n\n\t},\n\n\tparse: function ( json ) {\n\n\t\tvar geometry = json.isInstancedBufferGeometry ? new InstancedBufferGeometry() : new BufferGeometry();\n\n\t\tvar index = json.data.index;\n\n\t\tif ( index !== undefined ) {\n\n\t\t\tvar typedArray = new TYPED_ARRAYS[ index.type ]( index.array );\n\t\t\tgeometry.setIndex( new BufferAttribute( typedArray, 1 ) );\n\n\t\t}\n\n\t\tvar attributes = json.data.attributes;\n\n\t\tfor ( var key in attributes ) {\n\n\t\t\tvar attribute = attributes[ key ];\n\t\t\tvar typedArray = new TYPED_ARRAYS[ attribute.type ]( attribute.array );\n\t\t\tvar bufferAttributeConstr = attribute.isInstancedBufferAttribute ? InstancedBufferAttribute : BufferAttribute;\n\t\t\tvar bufferAttribute = new bufferAttributeConstr( typedArray, attribute.itemSize, attribute.normalized );\n\t\t\tif ( attribute.name !== undefined ) bufferAttribute.name = attribute.name;\n\t\t\tgeometry.addAttribute( key, bufferAttribute );\n\n\t\t}\n\n\t\tvar morphAttributes = json.data.morphAttributes;\n\n\t\tif ( morphAttributes ) {\n\n\t\t\tfor ( var key in morphAttributes ) {\n\n\t\t\t\tvar attributeArray = morphAttributes[ key ];\n\n\t\t\t\tvar array = [];\n\n\t\t\t\tfor ( var i = 0, il = attributeArray.length; i < il; i ++ ) {\n\n\t\t\t\t\tvar attribute = attributeArray[ i ];\n\t\t\t\t\tvar typedArray = new TYPED_ARRAYS[ attribute.type ]( attribute.array );\n\n\t\t\t\t\tvar bufferAttribute = new BufferAttribute( typedArray, attribute.itemSize, attribute.normalized );\n\t\t\t\t\tif ( attribute.name !== undefined ) bufferAttribute.name = attribute.name;\n\t\t\t\t\tarray.push( bufferAttribute );\n\n\t\t\t\t}\n\n\t\t\t\tgeometry.morphAttributes[ key ] = array;\n\n\t\t\t}\n\n\t\t}\n\n\t\tvar groups = json.data.groups || json.data.drawcalls || json.data.offsets;\n\n\t\tif ( groups !== undefined ) {\n\n\t\t\tfor ( var i = 0, n = groups.length; i !== n; ++ i ) {\n\n\t\t\t\tvar group = groups[ i ];\n\n\t\t\t\tgeometry.addGroup( group.start, group.count, group.materialIndex );\n\n\t\t\t}\n\n\t\t}\n\n\t\tvar boundingSphere = json.data.boundingSphere;\n\n\t\tif ( boundingSphere !== undefined ) {\n\n\t\t\tvar center = new Vector3();\n\n\t\t\tif ( boundingSphere.center !== undefined ) {\n\n\t\t\t\tcenter.fromArray( boundingSphere.center );\n\n\t\t\t}\n\n\t\t\tgeometry.boundingSphere = new Sphere( center, boundingSphere.radius );\n\n\t\t}\n\n\t\tif ( json.name ) geometry.name = json.name;\n\t\tif ( json.userData ) geometry.userData = json.userData;\n\n\t\treturn geometry;\n\n\t},\n\n\tsetPath: function ( value ) {\n\n\t\tthis.path = value;\n\t\treturn this;\n\n\t}\n\n} );\n\nvar TYPED_ARRAYS = {\n\tInt8Array: Int8Array,\n\tUint8Array: Uint8Array,\n\t// Workaround for IE11 pre KB2929437. See #11440\n\tUint8ClampedArray: typeof Uint8ClampedArray !== 'undefined' ? Uint8ClampedArray : Uint8Array,\n\tInt16Array: Int16Array,\n\tUint16Array: Uint16Array,\n\tInt32Array: Int32Array,\n\tUint32Array: Uint32Array,\n\tFloat32Array: Float32Array,\n\tFloat64Array: Float64Array\n};\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction ObjectLoader( manager ) {\n\n\tthis.manager = ( manager !== undefined ) ? manager : DefaultLoadingManager;\n\tthis.resourcePath = '';\n\n}\n\nObject.assign( ObjectLoader.prototype, {\n\n\tcrossOrigin: 'anonymous',\n\n\tload: function ( url, onLoad, onProgress, onError ) {\n\n\t\tvar scope = this;\n\n\t\tvar path = ( this.path === undefined ) ? LoaderUtils.extractUrlBase( url ) : this.path;\n\t\tthis.resourcePath = this.resourcePath || path;\n\n\t\tvar loader = new FileLoader( scope.manager );\n\t\tloader.setPath( this.path );\n\t\tloader.load( url, function ( text ) {\n\n\t\t\tvar json = null;\n\n\t\t\ttry {\n\n\t\t\t\tjson = JSON.parse( text );\n\n\t\t\t} catch ( error ) {\n\n\t\t\t\tif ( onError !== undefined ) onError( error );\n\n\t\t\t\tconsole.error( 'THREE:ObjectLoader: Can\\'t parse ' + url + '.', error.message );\n\n\t\t\t\treturn;\n\n\t\t\t}\n\n\t\t\tvar metadata = json.metadata;\n\n\t\t\tif ( metadata === undefined || metadata.type === undefined || metadata.type.toLowerCase() === 'geometry' ) {\n\n\t\t\t\tconsole.error( 'THREE.ObjectLoader: Can\\'t load ' + url );\n\t\t\t\treturn;\n\n\t\t\t}\n\n\t\t\tscope.parse( json, onLoad );\n\n\t\t}, onProgress, onError );\n\n\t},\n\n\tsetPath: function ( value ) {\n\n\t\tthis.path = value;\n\t\treturn this;\n\n\t},\n\n\tsetResourcePath: function ( value ) {\n\n\t\tthis.resourcePath = value;\n\t\treturn this;\n\n\t},\n\n\tsetCrossOrigin: function ( value ) {\n\n\t\tthis.crossOrigin = value;\n\t\treturn this;\n\n\t},\n\n\tparse: function ( json, onLoad ) {\n\n\t\tvar shapes = this.parseShape( json.shapes );\n\t\tvar geometries = this.parseGeometries( json.geometries, shapes );\n\n\t\tvar images = this.parseImages( json.images, function () {\n\n\t\t\tif ( onLoad !== undefined ) onLoad( object );\n\n\t\t} );\n\n\t\tvar textures = this.parseTextures( json.textures, images );\n\t\tvar materials = this.parseMaterials( json.materials, textures );\n\n\t\tvar object = this.parseObject( json.object, geometries, materials );\n\n\t\tif ( json.animations ) {\n\n\t\t\tobject.animations = this.parseAnimations( json.animations );\n\n\t\t}\n\n\t\tif ( json.images === undefined || json.images.length === 0 ) {\n\n\t\t\tif ( onLoad !== undefined ) onLoad( object );\n\n\t\t}\n\n\t\treturn object;\n\n\t},\n\n\tparseShape: function ( json ) {\n\n\t\tvar shapes = {};\n\n\t\tif ( json !== undefined ) {\n\n\t\t\tfor ( var i = 0, l = json.length; i < l; i ++ ) {\n\n\t\t\t\tvar shape = new Shape().fromJSON( json[ i ] );\n\n\t\t\t\tshapes[ shape.uuid ] = shape;\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn shapes;\n\n\t},\n\n\tparseGeometries: function ( json, shapes ) {\n\n\t\tvar geometries = {};\n\n\t\tif ( json !== undefined ) {\n\n\t\t\tvar bufferGeometryLoader = new BufferGeometryLoader();\n\n\t\t\tfor ( var i = 0, l = json.length; i < l; i ++ ) {\n\n\t\t\t\tvar geometry;\n\t\t\t\tvar data = json[ i ];\n\n\t\t\t\tswitch ( data.type ) {\n\n\t\t\t\t\tcase 'PlaneGeometry':\n\t\t\t\t\tcase 'PlaneBufferGeometry':\n\n\t\t\t\t\t\tgeometry = new Geometries[ data.type ](\n\t\t\t\t\t\t\tdata.width,\n\t\t\t\t\t\t\tdata.height,\n\t\t\t\t\t\t\tdata.widthSegments,\n\t\t\t\t\t\t\tdata.heightSegments\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'BoxGeometry':\n\t\t\t\t\tcase 'BoxBufferGeometry':\n\t\t\t\t\tcase 'CubeGeometry': // backwards compatible\n\n\t\t\t\t\t\tgeometry = new Geometries[ data.type ](\n\t\t\t\t\t\t\tdata.width,\n\t\t\t\t\t\t\tdata.height,\n\t\t\t\t\t\t\tdata.depth,\n\t\t\t\t\t\t\tdata.widthSegments,\n\t\t\t\t\t\t\tdata.heightSegments,\n\t\t\t\t\t\t\tdata.depthSegments\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'CircleGeometry':\n\t\t\t\t\tcase 'CircleBufferGeometry':\n\n\t\t\t\t\t\tgeometry = new Geometries[ data.type ](\n\t\t\t\t\t\t\tdata.radius,\n\t\t\t\t\t\t\tdata.segments,\n\t\t\t\t\t\t\tdata.thetaStart,\n\t\t\t\t\t\t\tdata.thetaLength\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'CylinderGeometry':\n\t\t\t\t\tcase 'CylinderBufferGeometry':\n\n\t\t\t\t\t\tgeometry = new Geometries[ data.type ](\n\t\t\t\t\t\t\tdata.radiusTop,\n\t\t\t\t\t\t\tdata.radiusBottom,\n\t\t\t\t\t\t\tdata.height,\n\t\t\t\t\t\t\tdata.radialSegments,\n\t\t\t\t\t\t\tdata.heightSegments,\n\t\t\t\t\t\t\tdata.openEnded,\n\t\t\t\t\t\t\tdata.thetaStart,\n\t\t\t\t\t\t\tdata.thetaLength\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'ConeGeometry':\n\t\t\t\t\tcase 'ConeBufferGeometry':\n\n\t\t\t\t\t\tgeometry = new Geometries[ data.type ](\n\t\t\t\t\t\t\tdata.radius,\n\t\t\t\t\t\t\tdata.height,\n\t\t\t\t\t\t\tdata.radialSegments,\n\t\t\t\t\t\t\tdata.heightSegments,\n\t\t\t\t\t\t\tdata.openEnded,\n\t\t\t\t\t\t\tdata.thetaStart,\n\t\t\t\t\t\t\tdata.thetaLength\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'SphereGeometry':\n\t\t\t\t\tcase 'SphereBufferGeometry':\n\n\t\t\t\t\t\tgeometry = new Geometries[ data.type ](\n\t\t\t\t\t\t\tdata.radius,\n\t\t\t\t\t\t\tdata.widthSegments,\n\t\t\t\t\t\t\tdata.heightSegments,\n\t\t\t\t\t\t\tdata.phiStart,\n\t\t\t\t\t\t\tdata.phiLength,\n\t\t\t\t\t\t\tdata.thetaStart,\n\t\t\t\t\t\t\tdata.thetaLength\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'DodecahedronGeometry':\n\t\t\t\t\tcase 'DodecahedronBufferGeometry':\n\t\t\t\t\tcase 'IcosahedronGeometry':\n\t\t\t\t\tcase 'IcosahedronBufferGeometry':\n\t\t\t\t\tcase 'OctahedronGeometry':\n\t\t\t\t\tcase 'OctahedronBufferGeometry':\n\t\t\t\t\tcase 'TetrahedronGeometry':\n\t\t\t\t\tcase 'TetrahedronBufferGeometry':\n\n\t\t\t\t\t\tgeometry = new Geometries[ data.type ](\n\t\t\t\t\t\t\tdata.radius,\n\t\t\t\t\t\t\tdata.detail\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'RingGeometry':\n\t\t\t\t\tcase 'RingBufferGeometry':\n\n\t\t\t\t\t\tgeometry = new Geometries[ data.type ](\n\t\t\t\t\t\t\tdata.innerRadius,\n\t\t\t\t\t\t\tdata.outerRadius,\n\t\t\t\t\t\t\tdata.thetaSegments,\n\t\t\t\t\t\t\tdata.phiSegments,\n\t\t\t\t\t\t\tdata.thetaStart,\n\t\t\t\t\t\t\tdata.thetaLength\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'TorusGeometry':\n\t\t\t\t\tcase 'TorusBufferGeometry':\n\n\t\t\t\t\t\tgeometry = new Geometries[ data.type ](\n\t\t\t\t\t\t\tdata.radius,\n\t\t\t\t\t\t\tdata.tube,\n\t\t\t\t\t\t\tdata.radialSegments,\n\t\t\t\t\t\t\tdata.tubularSegments,\n\t\t\t\t\t\t\tdata.arc\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'TorusKnotGeometry':\n\t\t\t\t\tcase 'TorusKnotBufferGeometry':\n\n\t\t\t\t\t\tgeometry = new Geometries[ data.type ](\n\t\t\t\t\t\t\tdata.radius,\n\t\t\t\t\t\t\tdata.tube,\n\t\t\t\t\t\t\tdata.tubularSegments,\n\t\t\t\t\t\t\tdata.radialSegments,\n\t\t\t\t\t\t\tdata.p,\n\t\t\t\t\t\t\tdata.q\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'TubeGeometry':\n\t\t\t\t\tcase 'TubeBufferGeometry':\n\n\t\t\t\t\t\t// This only works for built-in curves (e.g. CatmullRomCurve3).\n\t\t\t\t\t\t// User defined curves or instances of CurvePath will not be deserialized.\n\t\t\t\t\t\tgeometry = new Geometries[ data.type ](\n\t\t\t\t\t\t\tnew Curves[ data.path.type ]().fromJSON( data.path ),\n\t\t\t\t\t\t\tdata.tubularSegments,\n\t\t\t\t\t\t\tdata.radius,\n\t\t\t\t\t\t\tdata.radialSegments,\n\t\t\t\t\t\t\tdata.closed\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'LatheGeometry':\n\t\t\t\t\tcase 'LatheBufferGeometry':\n\n\t\t\t\t\t\tgeometry = new Geometries[ data.type ](\n\t\t\t\t\t\t\tdata.points,\n\t\t\t\t\t\t\tdata.segments,\n\t\t\t\t\t\t\tdata.phiStart,\n\t\t\t\t\t\t\tdata.phiLength\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'PolyhedronGeometry':\n\t\t\t\t\tcase 'PolyhedronBufferGeometry':\n\n\t\t\t\t\t\tgeometry = new Geometries[ data.type ](\n\t\t\t\t\t\t\tdata.vertices,\n\t\t\t\t\t\t\tdata.indices,\n\t\t\t\t\t\t\tdata.radius,\n\t\t\t\t\t\t\tdata.details\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'ShapeGeometry':\n\t\t\t\t\tcase 'ShapeBufferGeometry':\n\n\t\t\t\t\t\tvar geometryShapes = [];\n\n\t\t\t\t\t\tfor ( var j = 0, jl = data.shapes.length; j < jl; j ++ ) {\n\n\t\t\t\t\t\t\tvar shape = shapes[ data.shapes[ j ] ];\n\n\t\t\t\t\t\t\tgeometryShapes.push( shape );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tgeometry = new Geometries[ data.type ](\n\t\t\t\t\t\t\tgeometryShapes,\n\t\t\t\t\t\t\tdata.curveSegments\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\tbreak;\n\n\n\t\t\t\t\tcase 'ExtrudeGeometry':\n\t\t\t\t\tcase 'ExtrudeBufferGeometry':\n\n\t\t\t\t\t\tvar geometryShapes = [];\n\n\t\t\t\t\t\tfor ( var j = 0, jl = data.shapes.length; j < jl; j ++ ) {\n\n\t\t\t\t\t\t\tvar shape = shapes[ data.shapes[ j ] ];\n\n\t\t\t\t\t\t\tgeometryShapes.push( shape );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tvar extrudePath = data.options.extrudePath;\n\n\t\t\t\t\t\tif ( extrudePath !== undefined ) {\n\n\t\t\t\t\t\t\tdata.options.extrudePath = new Curves[ extrudePath.type ]().fromJSON( extrudePath );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tgeometry = new Geometries[ data.type ](\n\t\t\t\t\t\t\tgeometryShapes,\n\t\t\t\t\t\t\tdata.options\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'BufferGeometry':\n\t\t\t\t\tcase 'InstancedBufferGeometry':\n\n\t\t\t\t\t\tgeometry = bufferGeometryLoader.parse( data );\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'Geometry':\n\n\t\t\t\t\t\tif ( 'THREE' in window && 'LegacyJSONLoader' in THREE ) {\n\n\t\t\t\t\t\t\tvar geometryLoader = new THREE.LegacyJSONLoader();\n\t\t\t\t\t\t\tgeometry = geometryLoader.parse( data, this.resourcePath ).geometry;\n\n\n\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\tconsole.error( 'THREE.ObjectLoader: You have to import LegacyJSONLoader in order load geometry data of type \"Geometry\".' );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tdefault:\n\n\t\t\t\t\t\tconsole.warn( 'THREE.ObjectLoader: Unsupported geometry type \"' + data.type + '\"' );\n\n\t\t\t\t\t\tcontinue;\n\n\t\t\t\t}\n\n\t\t\t\tgeometry.uuid = data.uuid;\n\n\t\t\t\tif ( data.name !== undefined ) geometry.name = data.name;\n\t\t\t\tif ( geometry.isBufferGeometry === true && data.userData !== undefined ) geometry.userData = data.userData;\n\n\t\t\t\tgeometries[ data.uuid ] = geometry;\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn geometries;\n\n\t},\n\n\tparseMaterials: function ( json, textures ) {\n\n\t\tvar cache = {}; // MultiMaterial\n\t\tvar materials = {};\n\n\t\tif ( json !== undefined ) {\n\n\t\t\tvar loader = new MaterialLoader();\n\t\t\tloader.setTextures( textures );\n\n\t\t\tfor ( var i = 0, l = json.length; i < l; i ++ ) {\n\n\t\t\t\tvar data = json[ i ];\n\n\t\t\t\tif ( data.type === 'MultiMaterial' ) {\n\n\t\t\t\t\t// Deprecated\n\n\t\t\t\t\tvar array = [];\n\n\t\t\t\t\tfor ( var j = 0; j < data.materials.length; j ++ ) {\n\n\t\t\t\t\t\tvar material = data.materials[ j ];\n\n\t\t\t\t\t\tif ( cache[ material.uuid ] === undefined ) {\n\n\t\t\t\t\t\t\tcache[ material.uuid ] = loader.parse( material );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tarray.push( cache[ material.uuid ] );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tmaterials[ data.uuid ] = array;\n\n\t\t\t\t} else {\n\n\t\t\t\t\tif ( cache[ data.uuid ] === undefined ) {\n\n\t\t\t\t\t\tcache[ data.uuid ] = loader.parse( data );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tmaterials[ data.uuid ] = cache[ data.uuid ];\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn materials;\n\n\t},\n\n\tparseAnimations: function ( json ) {\n\n\t\tvar animations = [];\n\n\t\tfor ( var i = 0; i < json.length; i ++ ) {\n\n\t\t\tvar data = json[ i ];\n\n\t\t\tvar clip = AnimationClip.parse( data );\n\n\t\t\tif ( data.uuid !== undefined ) clip.uuid = data.uuid;\n\n\t\t\tanimations.push( clip );\n\n\t\t}\n\n\t\treturn animations;\n\n\t},\n\n\tparseImages: function ( json, onLoad ) {\n\n\t\tvar scope = this;\n\t\tvar images = {};\n\n\t\tfunction loadImage( url ) {\n\n\t\t\tscope.manager.itemStart( url );\n\n\t\t\treturn loader.load( url, function () {\n\n\t\t\t\tscope.manager.itemEnd( url );\n\n\t\t\t}, undefined, function () {\n\n\t\t\t\tscope.manager.itemError( url );\n\t\t\t\tscope.manager.itemEnd( url );\n\n\t\t\t} );\n\n\t\t}\n\n\t\tif ( json !== undefined && json.length > 0 ) {\n\n\t\t\tvar manager = new LoadingManager( onLoad );\n\n\t\t\tvar loader = new ImageLoader( manager );\n\t\t\tloader.setCrossOrigin( this.crossOrigin );\n\n\t\t\tfor ( var i = 0, il = json.length; i < il; i ++ ) {\n\n\t\t\t\tvar image = json[ i ];\n\t\t\t\tvar url = image.url;\n\n\t\t\t\tif ( Array.isArray( url ) ) {\n\n\t\t\t\t\t// load array of images e.g CubeTexture\n\n\t\t\t\t\timages[ image.uuid ] = [];\n\n\t\t\t\t\tfor ( var j = 0, jl = url.length; j < jl; j ++ ) {\n\n\t\t\t\t\t\tvar currentUrl = url[ j ];\n\n\t\t\t\t\t\tvar path = /^(\\/\\/)|([a-z]+:(\\/\\/)?)/i.test( currentUrl ) ? currentUrl : scope.resourcePath + currentUrl;\n\n\t\t\t\t\t\timages[ image.uuid ].push( loadImage( path ) );\n\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\n\t\t\t\t\t// load single image\n\n\t\t\t\t\tvar path = /^(\\/\\/)|([a-z]+:(\\/\\/)?)/i.test( image.url ) ? image.url : scope.resourcePath + image.url;\n\n\t\t\t\t\timages[ image.uuid ] = loadImage( path );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn images;\n\n\t},\n\n\tparseTextures: function ( json, images ) {\n\n\t\tfunction parseConstant( value, type ) {\n\n\t\t\tif ( typeof value === 'number' ) return value;\n\n\t\t\tconsole.warn( 'THREE.ObjectLoader.parseTexture: Constant should be in numeric form.', value );\n\n\t\t\treturn type[ value ];\n\n\t\t}\n\n\t\tvar textures = {};\n\n\t\tif ( json !== undefined ) {\n\n\t\t\tfor ( var i = 0, l = json.length; i < l; i ++ ) {\n\n\t\t\t\tvar data = json[ i ];\n\n\t\t\t\tif ( data.image === undefined ) {\n\n\t\t\t\t\tconsole.warn( 'THREE.ObjectLoader: No \"image\" specified for', data.uuid );\n\n\t\t\t\t}\n\n\t\t\t\tif ( images[ data.image ] === undefined ) {\n\n\t\t\t\t\tconsole.warn( 'THREE.ObjectLoader: Undefined image', data.image );\n\n\t\t\t\t}\n\n\t\t\t\tvar texture;\n\n\t\t\t\tif ( Array.isArray( images[ data.image ] ) ) {\n\n\t\t\t\t\ttexture = new CubeTexture( images[ data.image ] );\n\n\t\t\t\t} else {\n\n\t\t\t\t\ttexture = new Texture( images[ data.image ] );\n\n\t\t\t\t}\n\n\t\t\t\ttexture.needsUpdate = true;\n\n\t\t\t\ttexture.uuid = data.uuid;\n\n\t\t\t\tif ( data.name !== undefined ) texture.name = data.name;\n\n\t\t\t\tif ( data.mapping !== undefined ) texture.mapping = parseConstant( data.mapping, TEXTURE_MAPPING );\n\n\t\t\t\tif ( data.offset !== undefined ) texture.offset.fromArray( data.offset );\n\t\t\t\tif ( data.repeat !== undefined ) texture.repeat.fromArray( data.repeat );\n\t\t\t\tif ( data.center !== undefined ) texture.center.fromArray( data.center );\n\t\t\t\tif ( data.rotation !== undefined ) texture.rotation = data.rotation;\n\n\t\t\t\tif ( data.wrap !== undefined ) {\n\n\t\t\t\t\ttexture.wrapS = parseConstant( data.wrap[ 0 ], TEXTURE_WRAPPING );\n\t\t\t\t\ttexture.wrapT = parseConstant( data.wrap[ 1 ], TEXTURE_WRAPPING );\n\n\t\t\t\t}\n\n\t\t\t\tif ( data.format !== undefined ) texture.format = data.format;\n\t\t\t\tif ( data.type !== undefined ) texture.type = data.type;\n\t\t\t\tif ( data.encoding !== undefined ) texture.encoding = data.encoding;\n\n\t\t\t\tif ( data.minFilter !== undefined ) texture.minFilter = parseConstant( data.minFilter, TEXTURE_FILTER );\n\t\t\t\tif ( data.magFilter !== undefined ) texture.magFilter = parseConstant( data.magFilter, TEXTURE_FILTER );\n\t\t\t\tif ( data.anisotropy !== undefined ) texture.anisotropy = data.anisotropy;\n\n\t\t\t\tif ( data.flipY !== undefined ) texture.flipY = data.flipY;\n\n\t\t\t\tif ( data.premultiplyAlpha !== undefined ) texture.premultiplyAlpha = data.premultiplyAlpha;\n\t\t\t\tif ( data.unpackAlignment !== undefined ) texture.unpackAlignment = data.unpackAlignment;\n\n\t\t\t\ttextures[ data.uuid ] = texture;\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn textures;\n\n\t},\n\n\tparseObject: function ( data, geometries, materials ) {\n\n\t\tvar object;\n\n\t\tfunction getGeometry( name ) {\n\n\t\t\tif ( geometries[ name ] === undefined ) {\n\n\t\t\t\tconsole.warn( 'THREE.ObjectLoader: Undefined geometry', name );\n\n\t\t\t}\n\n\t\t\treturn geometries[ name ];\n\n\t\t}\n\n\t\tfunction getMaterial( name ) {\n\n\t\t\tif ( name === undefined ) return undefined;\n\n\t\t\tif ( Array.isArray( name ) ) {\n\n\t\t\t\tvar array = [];\n\n\t\t\t\tfor ( var i = 0, l = name.length; i < l; i ++ ) {\n\n\t\t\t\t\tvar uuid = name[ i ];\n\n\t\t\t\t\tif ( materials[ uuid ] === undefined ) {\n\n\t\t\t\t\t\tconsole.warn( 'THREE.ObjectLoader: Undefined material', uuid );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tarray.push( materials[ uuid ] );\n\n\t\t\t\t}\n\n\t\t\t\treturn array;\n\n\t\t\t}\n\n\t\t\tif ( materials[ name ] === undefined ) {\n\n\t\t\t\tconsole.warn( 'THREE.ObjectLoader: Undefined material', name );\n\n\t\t\t}\n\n\t\t\treturn materials[ name ];\n\n\t\t}\n\n\t\tswitch ( data.type ) {\n\n\t\t\tcase 'Scene':\n\n\t\t\t\tobject = new Scene();\n\n\t\t\t\tif ( data.background !== undefined ) {\n\n\t\t\t\t\tif ( Number.isInteger( data.background ) ) {\n\n\t\t\t\t\t\tobject.background = new Color( data.background );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\tif ( data.fog !== undefined ) {\n\n\t\t\t\t\tif ( data.fog.type === 'Fog' ) {\n\n\t\t\t\t\t\tobject.fog = new Fog( data.fog.color, data.fog.near, data.fog.far );\n\n\t\t\t\t\t} else if ( data.fog.type === 'FogExp2' ) {\n\n\t\t\t\t\t\tobject.fog = new FogExp2( data.fog.color, data.fog.density );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'PerspectiveCamera':\n\n\t\t\t\tobject = new PerspectiveCamera( data.fov, data.aspect, data.near, data.far );\n\n\t\t\t\tif ( data.focus !== undefined ) object.focus = data.focus;\n\t\t\t\tif ( data.zoom !== undefined ) object.zoom = data.zoom;\n\t\t\t\tif ( data.filmGauge !== undefined ) object.filmGauge = data.filmGauge;\n\t\t\t\tif ( data.filmOffset !== undefined ) object.filmOffset = data.filmOffset;\n\t\t\t\tif ( data.view !== undefined ) object.view = Object.assign( {}, data.view );\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'OrthographicCamera':\n\n\t\t\t\tobject = new OrthographicCamera( data.left, data.right, data.top, data.bottom, data.near, data.far );\n\n\t\t\t\tif ( data.zoom !== undefined ) object.zoom = data.zoom;\n\t\t\t\tif ( data.view !== undefined ) object.view = Object.assign( {}, data.view );\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'AmbientLight':\n\n\t\t\t\tobject = new AmbientLight( data.color, data.intensity );\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'DirectionalLight':\n\n\t\t\t\tobject = new DirectionalLight( data.color, data.intensity );\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'PointLight':\n\n\t\t\t\tobject = new PointLight( data.color, data.intensity, data.distance, data.decay );\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'RectAreaLight':\n\n\t\t\t\tobject = new RectAreaLight( data.color, data.intensity, data.width, data.height );\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'SpotLight':\n\n\t\t\t\tobject = new SpotLight( data.color, data.intensity, data.distance, data.angle, data.penumbra, data.decay );\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'HemisphereLight':\n\n\t\t\t\tobject = new HemisphereLight( data.color, data.groundColor, data.intensity );\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'SkinnedMesh':\n\n\t\t\t\tconsole.warn( 'THREE.ObjectLoader.parseObject() does not support SkinnedMesh yet.' );\n\n\t\t\tcase 'Mesh':\n\n\t\t\t\tvar geometry = getGeometry( data.geometry );\n\t\t\t\tvar material = getMaterial( data.material );\n\n\t\t\t\tif ( geometry.bones && geometry.bones.length > 0 ) {\n\n\t\t\t\t\tobject = new SkinnedMesh( geometry, material );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tobject = new Mesh( geometry, material );\n\n\t\t\t\t}\n\n\t\t\t\tif ( data.drawMode !== undefined ) object.setDrawMode( data.drawMode );\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'LOD':\n\n\t\t\t\tobject = new LOD();\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'Line':\n\n\t\t\t\tobject = new Line( getGeometry( data.geometry ), getMaterial( data.material ), data.mode );\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'LineLoop':\n\n\t\t\t\tobject = new LineLoop( getGeometry( data.geometry ), getMaterial( data.material ) );\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'LineSegments':\n\n\t\t\t\tobject = new LineSegments( getGeometry( data.geometry ), getMaterial( data.material ) );\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'PointCloud':\n\t\t\tcase 'Points':\n\n\t\t\t\tobject = new Points( getGeometry( data.geometry ), getMaterial( data.material ) );\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'Sprite':\n\n\t\t\t\tobject = new Sprite( getMaterial( data.material ) );\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'Group':\n\n\t\t\t\tobject = new Group();\n\n\t\t\t\tbreak;\n\n\t\t\tdefault:\n\n\t\t\t\tobject = new Object3D();\n\n\t\t}\n\n\t\tobject.uuid = data.uuid;\n\n\t\tif ( data.name !== undefined ) object.name = data.name;\n\n\t\tif ( data.matrix !== undefined ) {\n\n\t\t\tobject.matrix.fromArray( data.matrix );\n\n\t\t\tif ( data.matrixAutoUpdate !== undefined ) object.matrixAutoUpdate = data.matrixAutoUpdate;\n\t\t\tif ( object.matrixAutoUpdate ) object.matrix.decompose( object.position, object.quaternion, object.scale );\n\n\t\t} else {\n\n\t\t\tif ( data.position !== undefined ) object.position.fromArray( data.position );\n\t\t\tif ( data.rotation !== undefined ) object.rotation.fromArray( data.rotation );\n\t\t\tif ( data.quaternion !== undefined ) object.quaternion.fromArray( data.quaternion );\n\t\t\tif ( data.scale !== undefined ) object.scale.fromArray( data.scale );\n\n\t\t}\n\n\t\tif ( data.castShadow !== undefined ) object.castShadow = data.castShadow;\n\t\tif ( data.receiveShadow !== undefined ) object.receiveShadow = data.receiveShadow;\n\n\t\tif ( data.shadow ) {\n\n\t\t\tif ( data.shadow.bias !== undefined ) object.shadow.bias = data.shadow.bias;\n\t\t\tif ( data.shadow.radius !== undefined ) object.shadow.radius = data.shadow.radius;\n\t\t\tif ( data.shadow.mapSize !== undefined ) object.shadow.mapSize.fromArray( data.shadow.mapSize );\n\t\t\tif ( data.shadow.camera !== undefined ) object.shadow.camera = this.parseObject( data.shadow.camera );\n\n\t\t}\n\n\t\tif ( data.visible !== undefined ) object.visible = data.visible;\n\t\tif ( data.frustumCulled !== undefined ) object.frustumCulled = data.frustumCulled;\n\t\tif ( data.renderOrder !== undefined ) object.renderOrder = data.renderOrder;\n\t\tif ( data.userData !== undefined ) object.userData = data.userData;\n\t\tif ( data.layers !== undefined ) object.layers.mask = data.layers;\n\n\t\tif ( data.children !== undefined ) {\n\n\t\t\tvar children = data.children;\n\n\t\t\tfor ( var i = 0; i < children.length; i ++ ) {\n\n\t\t\t\tobject.add( this.parseObject( children[ i ], geometries, materials ) );\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( data.type === 'LOD' ) {\n\n\t\t\tvar levels = data.levels;\n\n\t\t\tfor ( var l = 0; l < levels.length; l ++ ) {\n\n\t\t\t\tvar level = levels[ l ];\n\t\t\t\tvar child = object.getObjectByProperty( 'uuid', level.object );\n\n\t\t\t\tif ( child !== undefined ) {\n\n\t\t\t\t\tobject.addLevel( child, level.distance );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn object;\n\n\t}\n\n} );\n\nvar TEXTURE_MAPPING = {\n\tUVMapping: UVMapping,\n\tCubeReflectionMapping: CubeReflectionMapping,\n\tCubeRefractionMapping: CubeRefractionMapping,\n\tEquirectangularReflectionMapping: EquirectangularReflectionMapping,\n\tEquirectangularRefractionMapping: EquirectangularRefractionMapping,\n\tSphericalReflectionMapping: SphericalReflectionMapping,\n\tCubeUVReflectionMapping: CubeUVReflectionMapping,\n\tCubeUVRefractionMapping: CubeUVRefractionMapping\n};\n\nvar TEXTURE_WRAPPING = {\n\tRepeatWrapping: RepeatWrapping,\n\tClampToEdgeWrapping: ClampToEdgeWrapping,\n\tMirroredRepeatWrapping: MirroredRepeatWrapping\n};\n\nvar TEXTURE_FILTER = {\n\tNearestFilter: NearestFilter,\n\tNearestMipMapNearestFilter: NearestMipMapNearestFilter,\n\tNearestMipMapLinearFilter: NearestMipMapLinearFilter,\n\tLinearFilter: LinearFilter,\n\tLinearMipMapNearestFilter: LinearMipMapNearestFilter,\n\tLinearMipMapLinearFilter: LinearMipMapLinearFilter\n};\n\n/**\n * @author thespite / http://clicktorelease.com/\n */\n\n\nfunction ImageBitmapLoader( manager ) {\n\n\tif ( typeof createImageBitmap === 'undefined' ) {\n\n\t\tconsole.warn( 'THREE.ImageBitmapLoader: createImageBitmap() not supported.' );\n\n\t}\n\n\tif ( typeof fetch === 'undefined' ) {\n\n\t\tconsole.warn( 'THREE.ImageBitmapLoader: fetch() not supported.' );\n\n\t}\n\n\tthis.manager = manager !== undefined ? manager : DefaultLoadingManager;\n\tthis.options = undefined;\n\n}\n\nImageBitmapLoader.prototype = {\n\n\tconstructor: ImageBitmapLoader,\n\n\tsetOptions: function setOptions( options ) {\n\n\t\tthis.options = options;\n\n\t\treturn this;\n\n\t},\n\n\tload: function ( url, onLoad, onProgress, onError ) {\n\n\t\tif ( url === undefined ) url = '';\n\n\t\tif ( this.path !== undefined ) url = this.path + url;\n\n\t\turl = this.manager.resolveURL( url );\n\n\t\tvar scope = this;\n\n\t\tvar cached = Cache.get( url );\n\n\t\tif ( cached !== undefined ) {\n\n\t\t\tscope.manager.itemStart( url );\n\n\t\t\tsetTimeout( function () {\n\n\t\t\t\tif ( onLoad ) onLoad( cached );\n\n\t\t\t\tscope.manager.itemEnd( url );\n\n\t\t\t}, 0 );\n\n\t\t\treturn cached;\n\n\t\t}\n\n\t\tfetch( url ).then( function ( res ) {\n\n\t\t\treturn res.blob();\n\n\t\t} ).then( function ( blob ) {\n\n\t\t\tif ( scope.options === undefined ) {\n\n\t\t\t\t// Workaround for FireFox. It causes an error if you pass options.\n\t\t\t\treturn createImageBitmap( blob );\n\n\t\t\t} else {\n\n\t\t\t\treturn createImageBitmap( blob, scope.options );\n\n\t\t\t}\n\n\t\t} ).then( function ( imageBitmap ) {\n\n\t\t\tCache.add( url, imageBitmap );\n\n\t\t\tif ( onLoad ) onLoad( imageBitmap );\n\n\t\t\tscope.manager.itemEnd( url );\n\n\t\t} ).catch( function ( e ) {\n\n\t\t\tif ( onError ) onError( e );\n\n\t\t\tscope.manager.itemError( url );\n\t\t\tscope.manager.itemEnd( url );\n\n\t\t} );\n\n\t\tscope.manager.itemStart( url );\n\n\t},\n\n\tsetCrossOrigin: function ( /* value */ ) {\n\n\t\treturn this;\n\n\t},\n\n\tsetPath: function ( value ) {\n\n\t\tthis.path = value;\n\t\treturn this;\n\n\t}\n\n};\n\n/**\n * @author zz85 / http://www.lab4games.net/zz85/blog\n * minimal class for proxing functions to Path. Replaces old \"extractSubpaths()\"\n **/\n\nfunction ShapePath() {\n\n\tthis.type = 'ShapePath';\n\n\tthis.color = new Color();\n\n\tthis.subPaths = [];\n\tthis.currentPath = null;\n\n}\n\nObject.assign( ShapePath.prototype, {\n\n\tmoveTo: function ( x, y ) {\n\n\t\tthis.currentPath = new Path();\n\t\tthis.subPaths.push( this.currentPath );\n\t\tthis.currentPath.moveTo( x, y );\n\n\t},\n\n\tlineTo: function ( x, y ) {\n\n\t\tthis.currentPath.lineTo( x, y );\n\n\t},\n\n\tquadraticCurveTo: function ( aCPx, aCPy, aX, aY ) {\n\n\t\tthis.currentPath.quadraticCurveTo( aCPx, aCPy, aX, aY );\n\n\t},\n\n\tbezierCurveTo: function ( aCP1x, aCP1y, aCP2x, aCP2y, aX, aY ) {\n\n\t\tthis.currentPath.bezierCurveTo( aCP1x, aCP1y, aCP2x, aCP2y, aX, aY );\n\n\t},\n\n\tsplineThru: function ( pts ) {\n\n\t\tthis.currentPath.splineThru( pts );\n\n\t},\n\n\ttoShapes: function ( isCCW, noHoles ) {\n\n\t\tfunction toShapesNoHoles( inSubpaths ) {\n\n\t\t\tvar shapes = [];\n\n\t\t\tfor ( var i = 0, l = inSubpaths.length; i < l; i ++ ) {\n\n\t\t\t\tvar tmpPath = inSubpaths[ i ];\n\n\t\t\t\tvar tmpShape = new Shape();\n\t\t\t\ttmpShape.curves = tmpPath.curves;\n\n\t\t\t\tshapes.push( tmpShape );\n\n\t\t\t}\n\n\t\t\treturn shapes;\n\n\t\t}\n\n\t\tfunction isPointInsidePolygon( inPt, inPolygon ) {\n\n\t\t\tvar polyLen = inPolygon.length;\n\n\t\t\t// inPt on polygon contour => immediate success    or\n\t\t\t// toggling of inside/outside at every single! intersection point of an edge\n\t\t\t//  with the horizontal line through inPt, left of inPt\n\t\t\t//  not counting lowerY endpoints of edges and whole edges on that line\n\t\t\tvar inside = false;\n\t\t\tfor ( var p = polyLen - 1, q = 0; q < polyLen; p = q ++ ) {\n\n\t\t\t\tvar edgeLowPt = inPolygon[ p ];\n\t\t\t\tvar edgeHighPt = inPolygon[ q ];\n\n\t\t\t\tvar edgeDx = edgeHighPt.x - edgeLowPt.x;\n\t\t\t\tvar edgeDy = edgeHighPt.y - edgeLowPt.y;\n\n\t\t\t\tif ( Math.abs( edgeDy ) > Number.EPSILON ) {\n\n\t\t\t\t\t// not parallel\n\t\t\t\t\tif ( edgeDy < 0 ) {\n\n\t\t\t\t\t\tedgeLowPt = inPolygon[ q ]; edgeDx = - edgeDx;\n\t\t\t\t\t\tedgeHighPt = inPolygon[ p ]; edgeDy = - edgeDy;\n\n\t\t\t\t\t}\n\t\t\t\t\tif ( ( inPt.y < edgeLowPt.y ) || ( inPt.y > edgeHighPt.y ) ) \t\tcontinue;\n\n\t\t\t\t\tif ( inPt.y === edgeLowPt.y ) {\n\n\t\t\t\t\t\tif ( inPt.x === edgeLowPt.x )\t\treturn\ttrue;\t\t// inPt is on contour ?\n\t\t\t\t\t\t// continue;\t\t\t\t// no intersection or edgeLowPt => doesn't count !!!\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tvar perpEdge = edgeDy * ( inPt.x - edgeLowPt.x ) - edgeDx * ( inPt.y - edgeLowPt.y );\n\t\t\t\t\t\tif ( perpEdge === 0 )\t\t\t\treturn\ttrue;\t\t// inPt is on contour ?\n\t\t\t\t\t\tif ( perpEdge < 0 ) \t\t\t\tcontinue;\n\t\t\t\t\t\tinside = ! inside;\t\t// true intersection left of inPt\n\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\n\t\t\t\t\t// parallel or collinear\n\t\t\t\t\tif ( inPt.y !== edgeLowPt.y ) \t\tcontinue;\t\t\t// parallel\n\t\t\t\t\t// edge lies on the same horizontal line as inPt\n\t\t\t\t\tif ( ( ( edgeHighPt.x <= inPt.x ) && ( inPt.x <= edgeLowPt.x ) ) ||\n\t\t\t\t\t\t ( ( edgeLowPt.x <= inPt.x ) && ( inPt.x <= edgeHighPt.x ) ) )\t\treturn\ttrue;\t// inPt: Point on contour !\n\t\t\t\t\t// continue;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\treturn\tinside;\n\n\t\t}\n\n\t\tvar isClockWise = ShapeUtils.isClockWise;\n\n\t\tvar subPaths = this.subPaths;\n\t\tif ( subPaths.length === 0 ) return [];\n\n\t\tif ( noHoles === true )\treturn\ttoShapesNoHoles( subPaths );\n\n\n\t\tvar solid, tmpPath, tmpShape, shapes = [];\n\n\t\tif ( subPaths.length === 1 ) {\n\n\t\t\ttmpPath = subPaths[ 0 ];\n\t\t\ttmpShape = new Shape();\n\t\t\ttmpShape.curves = tmpPath.curves;\n\t\t\tshapes.push( tmpShape );\n\t\t\treturn shapes;\n\n\t\t}\n\n\t\tvar holesFirst = ! isClockWise( subPaths[ 0 ].getPoints() );\n\t\tholesFirst = isCCW ? ! holesFirst : holesFirst;\n\n\t\t// console.log(\"Holes first\", holesFirst);\n\n\t\tvar betterShapeHoles = [];\n\t\tvar newShapes = [];\n\t\tvar newShapeHoles = [];\n\t\tvar mainIdx = 0;\n\t\tvar tmpPoints;\n\n\t\tnewShapes[ mainIdx ] = undefined;\n\t\tnewShapeHoles[ mainIdx ] = [];\n\n\t\tfor ( var i = 0, l = subPaths.length; i < l; i ++ ) {\n\n\t\t\ttmpPath = subPaths[ i ];\n\t\t\ttmpPoints = tmpPath.getPoints();\n\t\t\tsolid = isClockWise( tmpPoints );\n\t\t\tsolid = isCCW ? ! solid : solid;\n\n\t\t\tif ( solid ) {\n\n\t\t\t\tif ( ( ! holesFirst ) && ( newShapes[ mainIdx ] ) )\tmainIdx ++;\n\n\t\t\t\tnewShapes[ mainIdx ] = { s: new Shape(), p: tmpPoints };\n\t\t\t\tnewShapes[ mainIdx ].s.curves = tmpPath.curves;\n\n\t\t\t\tif ( holesFirst )\tmainIdx ++;\n\t\t\t\tnewShapeHoles[ mainIdx ] = [];\n\n\t\t\t\t//console.log('cw', i);\n\n\t\t\t} else {\n\n\t\t\t\tnewShapeHoles[ mainIdx ].push( { h: tmpPath, p: tmpPoints[ 0 ] } );\n\n\t\t\t\t//console.log('ccw', i);\n\n\t\t\t}\n\n\t\t}\n\n\t\t// only Holes? -> probably all Shapes with wrong orientation\n\t\tif ( ! newShapes[ 0 ] )\treturn\ttoShapesNoHoles( subPaths );\n\n\n\t\tif ( newShapes.length > 1 ) {\n\n\t\t\tvar ambiguous = false;\n\t\t\tvar toChange = [];\n\n\t\t\tfor ( var sIdx = 0, sLen = newShapes.length; sIdx < sLen; sIdx ++ ) {\n\n\t\t\t\tbetterShapeHoles[ sIdx ] = [];\n\n\t\t\t}\n\n\t\t\tfor ( var sIdx = 0, sLen = newShapes.length; sIdx < sLen; sIdx ++ ) {\n\n\t\t\t\tvar sho = newShapeHoles[ sIdx ];\n\n\t\t\t\tfor ( var hIdx = 0; hIdx < sho.length; hIdx ++ ) {\n\n\t\t\t\t\tvar ho = sho[ hIdx ];\n\t\t\t\t\tvar hole_unassigned = true;\n\n\t\t\t\t\tfor ( var s2Idx = 0; s2Idx < newShapes.length; s2Idx ++ ) {\n\n\t\t\t\t\t\tif ( isPointInsidePolygon( ho.p, newShapes[ s2Idx ].p ) ) {\n\n\t\t\t\t\t\t\tif ( sIdx !== s2Idx )\ttoChange.push( { froms: sIdx, tos: s2Idx, hole: hIdx } );\n\t\t\t\t\t\t\tif ( hole_unassigned ) {\n\n\t\t\t\t\t\t\t\thole_unassigned = false;\n\t\t\t\t\t\t\t\tbetterShapeHoles[ s2Idx ].push( ho );\n\n\t\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\t\tambiguous = true;\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\t\t\t\t\tif ( hole_unassigned ) {\n\n\t\t\t\t\t\tbetterShapeHoles[ sIdx ].push( ho );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\t\t\t// console.log(\"ambiguous: \", ambiguous);\n\t\t\tif ( toChange.length > 0 ) {\n\n\t\t\t\t// console.log(\"to change: \", toChange);\n\t\t\t\tif ( ! ambiguous )\tnewShapeHoles = betterShapeHoles;\n\n\t\t\t}\n\n\t\t}\n\n\t\tvar tmpHoles;\n\n\t\tfor ( var i = 0, il = newShapes.length; i < il; i ++ ) {\n\n\t\t\ttmpShape = newShapes[ i ].s;\n\t\t\tshapes.push( tmpShape );\n\t\t\ttmpHoles = newShapeHoles[ i ];\n\n\t\t\tfor ( var j = 0, jl = tmpHoles.length; j < jl; j ++ ) {\n\n\t\t\t\ttmpShape.holes.push( tmpHoles[ j ].h );\n\n\t\t\t}\n\n\t\t}\n\n\t\t//console.log(\"shape\", shapes);\n\n\t\treturn shapes;\n\n\t}\n\n} );\n\n/**\n * @author zz85 / http://www.lab4games.net/zz85/blog\n * @author mrdoob / http://mrdoob.com/\n */\n\n\nfunction Font( data ) {\n\n\tthis.type = 'Font';\n\n\tthis.data = data;\n\n}\n\nObject.assign( Font.prototype, {\n\n\tisFont: true,\n\n\tgenerateShapes: function ( text, size ) {\n\n\t\tif ( size === undefined ) size = 100;\n\n\t\tvar shapes = [];\n\t\tvar paths = createPaths( text, size, this.data );\n\n\t\tfor ( var p = 0, pl = paths.length; p < pl; p ++ ) {\n\n\t\t\tArray.prototype.push.apply( shapes, paths[ p ].toShapes() );\n\n\t\t}\n\n\t\treturn shapes;\n\n\t}\n\n} );\n\nfunction createPaths( text, size, data ) {\n\n\tvar chars = Array.from ? Array.from( text ) : String( text ).split( '' ); // see #13988\n\tvar scale = size / data.resolution;\n\tvar line_height = ( data.boundingBox.yMax - data.boundingBox.yMin + data.underlineThickness ) * scale;\n\n\tvar paths = [];\n\n\tvar offsetX = 0, offsetY = 0;\n\n\tfor ( var i = 0; i < chars.length; i ++ ) {\n\n\t\tvar char = chars[ i ];\n\n\t\tif ( char === '\\n' ) {\n\n\t\t\toffsetX = 0;\n\t\t\toffsetY -= line_height;\n\n\t\t} else {\n\n\t\t\tvar ret = createPath( char, scale, offsetX, offsetY, data );\n\t\t\toffsetX += ret.offsetX;\n\t\t\tpaths.push( ret.path );\n\n\t\t}\n\n\t}\n\n\treturn paths;\n\n}\n\nfunction createPath( char, scale, offsetX, offsetY, data ) {\n\n\tvar glyph = data.glyphs[ char ] || data.glyphs[ '?' ];\n\n\tif ( ! glyph ) return;\n\n\tvar path = new ShapePath();\n\n\tvar x, y, cpx, cpy, cpx1, cpy1, cpx2, cpy2;\n\n\tif ( glyph.o ) {\n\n\t\tvar outline = glyph._cachedOutline || ( glyph._cachedOutline = glyph.o.split( ' ' ) );\n\n\t\tfor ( var i = 0, l = outline.length; i < l; ) {\n\n\t\t\tvar action = outline[ i ++ ];\n\n\t\t\tswitch ( action ) {\n\n\t\t\t\tcase 'm': // moveTo\n\n\t\t\t\t\tx = outline[ i ++ ] * scale + offsetX;\n\t\t\t\t\ty = outline[ i ++ ] * scale + offsetY;\n\n\t\t\t\t\tpath.moveTo( x, y );\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'l': // lineTo\n\n\t\t\t\t\tx = outline[ i ++ ] * scale + offsetX;\n\t\t\t\t\ty = outline[ i ++ ] * scale + offsetY;\n\n\t\t\t\t\tpath.lineTo( x, y );\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'q': // quadraticCurveTo\n\n\t\t\t\t\tcpx = outline[ i ++ ] * scale + offsetX;\n\t\t\t\t\tcpy = outline[ i ++ ] * scale + offsetY;\n\t\t\t\t\tcpx1 = outline[ i ++ ] * scale + offsetX;\n\t\t\t\t\tcpy1 = outline[ i ++ ] * scale + offsetY;\n\n\t\t\t\t\tpath.quadraticCurveTo( cpx1, cpy1, cpx, cpy );\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'b': // bezierCurveTo\n\n\t\t\t\t\tcpx = outline[ i ++ ] * scale + offsetX;\n\t\t\t\t\tcpy = outline[ i ++ ] * scale + offsetY;\n\t\t\t\t\tcpx1 = outline[ i ++ ] * scale + offsetX;\n\t\t\t\t\tcpy1 = outline[ i ++ ] * scale + offsetY;\n\t\t\t\t\tcpx2 = outline[ i ++ ] * scale + offsetX;\n\t\t\t\t\tcpy2 = outline[ i ++ ] * scale + offsetY;\n\n\t\t\t\t\tpath.bezierCurveTo( cpx1, cpy1, cpx2, cpy2, cpx, cpy );\n\n\t\t\t\t\tbreak;\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\treturn { offsetX: glyph.ha * scale, path: path };\n\n}\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction FontLoader( manager ) {\n\n\tthis.manager = ( manager !== undefined ) ? manager : DefaultLoadingManager;\n\n}\n\nObject.assign( FontLoader.prototype, {\n\n\tload: function ( url, onLoad, onProgress, onError ) {\n\n\t\tvar scope = this;\n\n\t\tvar loader = new FileLoader( this.manager );\n\t\tloader.setPath( this.path );\n\t\tloader.load( url, function ( text ) {\n\n\t\t\tvar json;\n\n\t\t\ttry {\n\n\t\t\t\tjson = JSON.parse( text );\n\n\t\t\t} catch ( e ) {\n\n\t\t\t\tconsole.warn( 'THREE.FontLoader: typeface.js support is being deprecated. Use typeface.json instead.' );\n\t\t\t\tjson = JSON.parse( text.substring( 65, text.length - 2 ) );\n\n\t\t\t}\n\n\t\t\tvar font = scope.parse( json );\n\n\t\t\tif ( onLoad ) onLoad( font );\n\n\t\t}, onProgress, onError );\n\n\t},\n\n\tparse: function ( json ) {\n\n\t\treturn new Font( json );\n\n\t},\n\n\tsetPath: function ( value ) {\n\n\t\tthis.path = value;\n\t\treturn this;\n\n\t}\n\n} );\n\n/**\n * @author alteredq / http://alteredqualia.com/\n */\n\nfunction Loader() {}\n\nLoader.Handlers = {\n\n\thandlers: [],\n\n\tadd: function ( regex, loader ) {\n\n\t\tthis.handlers.push( regex, loader );\n\n\t},\n\n\tget: function ( file ) {\n\n\t\tvar handlers = this.handlers;\n\n\t\tfor ( var i = 0, l = handlers.length; i < l; i += 2 ) {\n\n\t\t\tvar regex = handlers[ i ];\n\t\t\tvar loader = handlers[ i + 1 ];\n\n\t\t\tif ( regex.test( file ) ) {\n\n\t\t\t\treturn loader;\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn null;\n\n\t}\n\n};\n\nObject.assign( Loader.prototype, {\n\n\tcrossOrigin: 'anonymous',\n\n\tonLoadStart: function () {},\n\n\tonLoadProgress: function () {},\n\n\tonLoadComplete: function () {},\n\n\tinitMaterials: function ( materials, texturePath, crossOrigin ) {\n\n\t\tvar array = [];\n\n\t\tfor ( var i = 0; i < materials.length; ++ i ) {\n\n\t\t\tarray[ i ] = this.createMaterial( materials[ i ], texturePath, crossOrigin );\n\n\t\t}\n\n\t\treturn array;\n\n\t},\n\n\tcreateMaterial: ( function () {\n\n\t\tvar BlendingMode = {\n\t\t\tNoBlending: NoBlending,\n\t\t\tNormalBlending: NormalBlending,\n\t\t\tAdditiveBlending: AdditiveBlending,\n\t\t\tSubtractiveBlending: SubtractiveBlending,\n\t\t\tMultiplyBlending: MultiplyBlending,\n\t\t\tCustomBlending: CustomBlending\n\t\t};\n\n\t\tvar color = new Color();\n\t\tvar textureLoader = new TextureLoader();\n\t\tvar materialLoader = new MaterialLoader();\n\n\t\treturn function createMaterial( m, texturePath, crossOrigin ) {\n\n\t\t\t// convert from old material format\n\n\t\t\tvar textures = {};\n\n\t\t\tfunction loadTexture( path, repeat, offset, wrap, anisotropy ) {\n\n\t\t\t\tvar fullPath = texturePath + path;\n\t\t\t\tvar loader = Loader.Handlers.get( fullPath );\n\n\t\t\t\tvar texture;\n\n\t\t\t\tif ( loader !== null ) {\n\n\t\t\t\t\ttexture = loader.load( fullPath );\n\n\t\t\t\t} else {\n\n\t\t\t\t\ttextureLoader.setCrossOrigin( crossOrigin );\n\t\t\t\t\ttexture = textureLoader.load( fullPath );\n\n\t\t\t\t}\n\n\t\t\t\tif ( repeat !== undefined ) {\n\n\t\t\t\t\ttexture.repeat.fromArray( repeat );\n\n\t\t\t\t\tif ( repeat[ 0 ] !== 1 ) texture.wrapS = RepeatWrapping;\n\t\t\t\t\tif ( repeat[ 1 ] !== 1 ) texture.wrapT = RepeatWrapping;\n\n\t\t\t\t}\n\n\t\t\t\tif ( offset !== undefined ) {\n\n\t\t\t\t\ttexture.offset.fromArray( offset );\n\n\t\t\t\t}\n\n\t\t\t\tif ( wrap !== undefined ) {\n\n\t\t\t\t\tif ( wrap[ 0 ] === 'repeat' ) texture.wrapS = RepeatWrapping;\n\t\t\t\t\tif ( wrap[ 0 ] === 'mirror' ) texture.wrapS = MirroredRepeatWrapping;\n\n\t\t\t\t\tif ( wrap[ 1 ] === 'repeat' ) texture.wrapT = RepeatWrapping;\n\t\t\t\t\tif ( wrap[ 1 ] === 'mirror' ) texture.wrapT = MirroredRepeatWrapping;\n\n\t\t\t\t}\n\n\t\t\t\tif ( anisotropy !== undefined ) {\n\n\t\t\t\t\ttexture.anisotropy = anisotropy;\n\n\t\t\t\t}\n\n\t\t\t\tvar uuid = _Math.generateUUID();\n\n\t\t\t\ttextures[ uuid ] = texture;\n\n\t\t\t\treturn uuid;\n\n\t\t\t}\n\n\t\t\t//\n\n\t\t\tvar json = {\n\t\t\t\tuuid: _Math.generateUUID(),\n\t\t\t\ttype: 'MeshLambertMaterial'\n\t\t\t};\n\n\t\t\tfor ( var name in m ) {\n\n\t\t\t\tvar value = m[ name ];\n\n\t\t\t\tswitch ( name ) {\n\n\t\t\t\t\tcase 'DbgColor':\n\t\t\t\t\tcase 'DbgIndex':\n\t\t\t\t\tcase 'opticalDensity':\n\t\t\t\t\tcase 'illumination':\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'DbgName':\n\t\t\t\t\t\tjson.name = value;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'blending':\n\t\t\t\t\t\tjson.blending = BlendingMode[ value ];\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'colorAmbient':\n\t\t\t\t\tcase 'mapAmbient':\n\t\t\t\t\t\tconsole.warn( 'THREE.Loader.createMaterial:', name, 'is no longer supported.' );\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'colorDiffuse':\n\t\t\t\t\t\tjson.color = color.fromArray( value ).getHex();\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'colorSpecular':\n\t\t\t\t\t\tjson.specular = color.fromArray( value ).getHex();\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'colorEmissive':\n\t\t\t\t\t\tjson.emissive = color.fromArray( value ).getHex();\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'specularCoef':\n\t\t\t\t\t\tjson.shininess = value;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'shading':\n\t\t\t\t\t\tif ( value.toLowerCase() === 'basic' ) json.type = 'MeshBasicMaterial';\n\t\t\t\t\t\tif ( value.toLowerCase() === 'phong' ) json.type = 'MeshPhongMaterial';\n\t\t\t\t\t\tif ( value.toLowerCase() === 'standard' ) json.type = 'MeshStandardMaterial';\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'mapDiffuse':\n\t\t\t\t\t\tjson.map = loadTexture( value, m.mapDiffuseRepeat, m.mapDiffuseOffset, m.mapDiffuseWrap, m.mapDiffuseAnisotropy );\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'mapDiffuseRepeat':\n\t\t\t\t\tcase 'mapDiffuseOffset':\n\t\t\t\t\tcase 'mapDiffuseWrap':\n\t\t\t\t\tcase 'mapDiffuseAnisotropy':\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'mapEmissive':\n\t\t\t\t\t\tjson.emissiveMap = loadTexture( value, m.mapEmissiveRepeat, m.mapEmissiveOffset, m.mapEmissiveWrap, m.mapEmissiveAnisotropy );\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'mapEmissiveRepeat':\n\t\t\t\t\tcase 'mapEmissiveOffset':\n\t\t\t\t\tcase 'mapEmissiveWrap':\n\t\t\t\t\tcase 'mapEmissiveAnisotropy':\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'mapLight':\n\t\t\t\t\t\tjson.lightMap = loadTexture( value, m.mapLightRepeat, m.mapLightOffset, m.mapLightWrap, m.mapLightAnisotropy );\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'mapLightRepeat':\n\t\t\t\t\tcase 'mapLightOffset':\n\t\t\t\t\tcase 'mapLightWrap':\n\t\t\t\t\tcase 'mapLightAnisotropy':\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'mapAO':\n\t\t\t\t\t\tjson.aoMap = loadTexture( value, m.mapAORepeat, m.mapAOOffset, m.mapAOWrap, m.mapAOAnisotropy );\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'mapAORepeat':\n\t\t\t\t\tcase 'mapAOOffset':\n\t\t\t\t\tcase 'mapAOWrap':\n\t\t\t\t\tcase 'mapAOAnisotropy':\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'mapBump':\n\t\t\t\t\t\tjson.bumpMap = loadTexture( value, m.mapBumpRepeat, m.mapBumpOffset, m.mapBumpWrap, m.mapBumpAnisotropy );\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'mapBumpScale':\n\t\t\t\t\t\tjson.bumpScale = value;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'mapBumpRepeat':\n\t\t\t\t\tcase 'mapBumpOffset':\n\t\t\t\t\tcase 'mapBumpWrap':\n\t\t\t\t\tcase 'mapBumpAnisotropy':\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'mapNormal':\n\t\t\t\t\t\tjson.normalMap = loadTexture( value, m.mapNormalRepeat, m.mapNormalOffset, m.mapNormalWrap, m.mapNormalAnisotropy );\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'mapNormalFactor':\n\t\t\t\t\t\tjson.normalScale = value;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'mapNormalRepeat':\n\t\t\t\t\tcase 'mapNormalOffset':\n\t\t\t\t\tcase 'mapNormalWrap':\n\t\t\t\t\tcase 'mapNormalAnisotropy':\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'mapSpecular':\n\t\t\t\t\t\tjson.specularMap = loadTexture( value, m.mapSpecularRepeat, m.mapSpecularOffset, m.mapSpecularWrap, m.mapSpecularAnisotropy );\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'mapSpecularRepeat':\n\t\t\t\t\tcase 'mapSpecularOffset':\n\t\t\t\t\tcase 'mapSpecularWrap':\n\t\t\t\t\tcase 'mapSpecularAnisotropy':\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'mapMetalness':\n\t\t\t\t\t\tjson.metalnessMap = loadTexture( value, m.mapMetalnessRepeat, m.mapMetalnessOffset, m.mapMetalnessWrap, m.mapMetalnessAnisotropy );\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'mapMetalnessRepeat':\n\t\t\t\t\tcase 'mapMetalnessOffset':\n\t\t\t\t\tcase 'mapMetalnessWrap':\n\t\t\t\t\tcase 'mapMetalnessAnisotropy':\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'mapRoughness':\n\t\t\t\t\t\tjson.roughnessMap = loadTexture( value, m.mapRoughnessRepeat, m.mapRoughnessOffset, m.mapRoughnessWrap, m.mapRoughnessAnisotropy );\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'mapRoughnessRepeat':\n\t\t\t\t\tcase 'mapRoughnessOffset':\n\t\t\t\t\tcase 'mapRoughnessWrap':\n\t\t\t\t\tcase 'mapRoughnessAnisotropy':\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'mapAlpha':\n\t\t\t\t\t\tjson.alphaMap = loadTexture( value, m.mapAlphaRepeat, m.mapAlphaOffset, m.mapAlphaWrap, m.mapAlphaAnisotropy );\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'mapAlphaRepeat':\n\t\t\t\t\tcase 'mapAlphaOffset':\n\t\t\t\t\tcase 'mapAlphaWrap':\n\t\t\t\t\tcase 'mapAlphaAnisotropy':\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'flipSided':\n\t\t\t\t\t\tjson.side = BackSide;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'doubleSided':\n\t\t\t\t\t\tjson.side = DoubleSide;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'transparency':\n\t\t\t\t\t\tconsole.warn( 'THREE.Loader.createMaterial: transparency has been renamed to opacity' );\n\t\t\t\t\t\tjson.opacity = value;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'depthTest':\n\t\t\t\t\tcase 'depthWrite':\n\t\t\t\t\tcase 'colorWrite':\n\t\t\t\t\tcase 'opacity':\n\t\t\t\t\tcase 'reflectivity':\n\t\t\t\t\tcase 'transparent':\n\t\t\t\t\tcase 'visible':\n\t\t\t\t\tcase 'wireframe':\n\t\t\t\t\t\tjson[ name ] = value;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'vertexColors':\n\t\t\t\t\t\tif ( value === true ) json.vertexColors = VertexColors;\n\t\t\t\t\t\tif ( value === 'face' ) json.vertexColors = FaceColors;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tdefault:\n\t\t\t\t\t\tconsole.error( 'THREE.Loader.createMaterial: Unsupported', name, value );\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tif ( json.type === 'MeshBasicMaterial' ) delete json.emissive;\n\t\t\tif ( json.type !== 'MeshPhongMaterial' ) delete json.specular;\n\n\t\t\tif ( json.opacity < 1 ) json.transparent = true;\n\n\t\t\tmaterialLoader.setTextures( textures );\n\n\t\t\treturn materialLoader.parse( json );\n\n\t\t};\n\n\t} )()\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nvar context;\n\nvar AudioContext = {\n\n\tgetContext: function () {\n\n\t\tif ( context === undefined ) {\n\n\t\t\tcontext = new ( window.AudioContext || window.webkitAudioContext )();\n\n\t\t}\n\n\t\treturn context;\n\n\t},\n\n\tsetContext: function ( value ) {\n\n\t\tcontext = value;\n\n\t}\n\n};\n\n/**\n * @author Reece Aaron Lecrivain / http://reecenotes.com/\n */\n\nfunction AudioLoader( manager ) {\n\n\tthis.manager = ( manager !== undefined ) ? manager : DefaultLoadingManager;\n\n}\n\nObject.assign( AudioLoader.prototype, {\n\n\tload: function ( url, onLoad, onProgress, onError ) {\n\n\t\tvar loader = new FileLoader( this.manager );\n\t\tloader.setResponseType( 'arraybuffer' );\n\t\tloader.setPath( this.path );\n\t\tloader.load( url, function ( buffer ) {\n\n\t\t\t// Create a copy of the buffer. The `decodeAudioData` method\n\t\t\t// detaches the buffer when complete, preventing reuse.\n\t\t\tvar bufferCopy = buffer.slice( 0 );\n\n\t\t\tvar context = AudioContext.getContext();\n\t\t\tcontext.decodeAudioData( bufferCopy, function ( audioBuffer ) {\n\n\t\t\t\tonLoad( audioBuffer );\n\n\t\t\t} );\n\n\t\t}, onProgress, onError );\n\n\t},\n\n\tsetPath: function ( value ) {\n\n\t\tthis.path = value;\n\t\treturn this;\n\n\t}\n\n} );\n\n/**\n * @author bhouston / http://clara.io\n * @author WestLangley / http://github.com/WestLangley\n *\n * Primary reference:\n *   https://graphics.stanford.edu/papers/envmap/envmap.pdf\n *\n * Secondary reference:\n *   https://www.ppsloan.org/publications/StupidSH36.pdf\n */\n\n// 3-band SH defined by 9 coefficients\n\nfunction SphericalHarmonics3() {\n\n\tthis.coefficients = [];\n\n\tfor ( var i = 0; i < 9; i ++ ) {\n\n\t\tthis.coefficients.push( new Vector3() );\n\n\t}\n\n}\n\nObject.assign( SphericalHarmonics3.prototype, {\n\n\tisSphericalHarmonics3: true,\n\n\tset: function ( coefficients ) {\n\n\t\tfor ( var i = 0; i < 9; i ++ ) {\n\n\t\t\tthis.coefficients[ i ].copy( coefficients[ i ] );\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tzero: function () {\n\n\t\tfor ( var i = 0; i < 9; i ++ ) {\n\n\t\t\tthis.coefficients[ i ].set( 0, 0, 0 );\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\t// get the radiance in the direction of the normal\n\t// target is a Vector3\n\tgetAt: function ( normal, target ) {\n\n\t\t// normal is assumed to be unit length\n\n\t\tvar x = normal.x, y = normal.y, z = normal.z;\n\n\t\tvar coeff = this.coefficients;\n\n\t\t// band 0\n\t\ttarget = coeff[ 0 ] * 0.282095;\n\n\t\t// band 1\n\t\ttarget += coeff[ 1 ] * 0.488603 * y;\n\t\ttarget += coeff[ 2 ] * 0.488603 * z;\n\t\ttarget += coeff[ 3 ] * 0.488603 * x;\n\n\t\t// band 2\n\t\ttarget += coeff[ 4 ] * 1.092548 * ( x * y );\n\t\ttarget += coeff[ 5 ] * 1.092548 * ( y * z );\n\t\ttarget += coeff[ 6 ] * 0.315392 * ( 3.0 * z * z - 1.0 );\n\t\ttarget += coeff[ 7 ] * 1.092548 * ( x * z );\n\t\ttarget += coeff[ 8 ] * 0.546274 * ( x * x - y * y );\n\n\t\treturn target;\n\n\t},\n\n\t// get the irradiance (radiance convolved with cosine lobe) in the direction of the normal\n\t// target is a Vector3\n\t// https://graphics.stanford.edu/papers/envmap/envmap.pdf\n\tgetIrradianceAt: function ( normal, target ) {\n\n\t\t// normal is assumed to be unit length\n\n\t\tvar x = normal.x, y = normal.y, z = normal.z;\n\n\t\tvar coeff = this.coefficients;\n\n\t\t// band 0\n\t\ttarget = coeff[ 0 ] * 0.886227; //  * 0.282095\n\n\t\t// band 1\n\t\ttarget += coeff[ 1 ] * 2.0 * 0.511664 * y; // ( 2 *  / 3 ) * 0.488603\n\t\ttarget += coeff[ 2 ] * 2.0 * 0.511664 * z;\n\t\ttarget += coeff[ 3 ] * 2.0 * 0.511664 * x;\n\n\t\t// band 2\n\t\ttarget += coeff[ 4 ] * 2.0 * 0.429043 * x * y; // (  / 4 ) * 1.092548\n\t\ttarget += coeff[ 5 ] * 2.0 * 0.429043 * y * z;\n\t\ttarget += coeff[ 6 ] * ( 0.743125 * z * z - 0.247708 ); // (  / 4 ) * 0.315392 * 3\n\t\ttarget += coeff[ 7 ] * 2.0 * 0.429043 * x * z;\n\t\ttarget += coeff[ 8 ] * 0.429043 * ( x * x - y * y ); // (  / 4 ) * 0.546274\n\n\t\treturn target;\n\n\t},\n\n\tadd: function ( sh ) {\n\n\t\tfor ( var i = 0; i < 9; i ++ ) {\n\n\t\t\tthis.coefficients[ i ].add( sh.coefficients[ i ] );\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\n\tscale: function ( s ) {\n\n\t\tfor ( var i = 0; i < 9; i ++ ) {\n\n\t\t\tthis.coefficients[ i ].multiplyScalar( s );\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tlerp: function ( sh, alpha ) {\n\n\t\tfor ( var i = 0; i < 9; i ++ ) {\n\n\t\t\tthis.coefficients[ i ].lerp( sh.coefficients[ i ], alpha );\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tequals: function ( sh ) {\n\n\t\tfor ( var i = 0; i < 9; i ++ ) {\n\n\t\t\tif ( ! this.coefficients[ i ].equals( sh.coefficients[ i ] ) ) {\n\n\t\t\t\treturn false;\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn true;\n\n\t},\n\n\tcopy: function ( sh ) {\n\n\t\treturn this.set( sh.coefficients );\n\n\t},\n\n\tclone: function () {\n\n\t\treturn new this.constructor().copy( this );\n\n\t},\n\n\tfromArray: function ( array ) {\n\n\t\tvar coefficients = this.coefficients;\n\n\t\tfor ( var i = 0; i < 9; i ++ ) {\n\n\t\t\tcoefficients[ i ].fromArray( array, i * 3 );\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\ttoArray: function () {\n\n\t\tvar array = [];\n\t\tvar coefficients = this.coefficients;\n\n\t\tfor ( var i = 0; i < 9; i ++ ) {\n\n\t\t\tcoefficients[ i ].toArray( array, i * 3 );\n\n\t\t}\n\n\t\treturn array;\n\n\t}\n\n} );\n\nObject.assign( SphericalHarmonics3, {\n\n\t// evaluate the basis functions\n\t// shBasis is an Array[ 9 ]\n\tgetBasisAt: function ( normal, shBasis ) {\n\n\t\t// normal is assumed to be unit length\n\n\t\tvar x = normal.x, y = normal.y, z = normal.z;\n\n\t\t// band 0\n\t\tshBasis[ 0 ] = 0.282095;\n\n\t\t// band 1\n\t\tshBasis[ 1 ] = 0.488603 * y;\n\t\tshBasis[ 2 ] = 0.488603 * z;\n\t\tshBasis[ 3 ] = 0.488603 * x;\n\n\t\t// band 2\n\t\tshBasis[ 4 ] = 1.092548 * x * y;\n\t\tshBasis[ 5 ] = 1.092548 * y * z;\n\t\tshBasis[ 6 ] = 0.315392 * ( 3 * z * z - 1 );\n\t\tshBasis[ 7 ] = 1.092548 * x * z;\n\t\tshBasis[ 8 ] = 0.546274 * ( x * x - y * y );\n\n\t}\n\n} );\n\n/**\n * @author WestLangley / http://github.com/WestLangley\n *\n * A LightProbe is a source of indirect-diffuse light\n */\n\nfunction LightProbe( sh, intensity ) {\n\n\tLight.call( this, undefined, intensity );\n\n\tthis.sh = ( sh !== undefined ) ? sh : new SphericalHarmonics3();\n\n}\n\nLightProbe.prototype = Object.assign( Object.create( Light.prototype ), {\n\n\tconstructor: LightProbe,\n\n\tisLightProbe: true,\n\n\tcopy: function ( source ) {\n\n\t\tLight.prototype.copy.call( this, source );\n\n\t\tthis.sh.copy( source.sh );\n\t\tthis.intensity = source.intensity;\n\n\t\treturn this;\n\n\t},\n\n\ttoJSON: function ( meta ) {\n\n\t\tvar data = Light.prototype.toJSON.call( this, meta );\n\n\t\t// data.sh = this.sh.toArray(); // todo\n\n\t\treturn data;\n\n\t}\n\n} );\n\n/**\n * @author WestLangley / http://github.com/WestLangley\n */\n\nfunction HemisphereLightProbe( skyColor, groundColor, intensity ) {\n\n\tLightProbe.call( this, undefined, intensity );\n\n\tvar color1 = new Color().set( skyColor );\n\tvar color2 = new Color().set( groundColor );\n\n\tvar sky = new Vector3( color1.r, color1.g, color1.b );\n\tvar ground = new Vector3( color2.r, color2.g, color2.b );\n\n\t// without extra factor of PI in the shader, should = 1 / Math.sqrt( Math.PI );\n\tvar c0 = Math.sqrt( Math.PI );\n\tvar c1 = c0 * Math.sqrt( 0.75 );\n\n\tthis.sh.coefficients[ 0 ].copy( sky ).add( ground ).multiplyScalar( c0 );\n\tthis.sh.coefficients[ 1 ].copy( sky ).sub( ground ).multiplyScalar( c1 );\n\n}\n\nHemisphereLightProbe.prototype = Object.assign( Object.create( LightProbe.prototype ), {\n\n\tconstructor: HemisphereLightProbe,\n\n\tisHemisphereLightProbe: true,\n\n\tcopy: function ( source ) { // modifying colors not currently supported\n\n\t\tLightProbe.prototype.copy.call( this, source );\n\n\t\treturn this;\n\n\t},\n\n\ttoJSON: function ( meta ) {\n\n\t\tvar data = LightProbe.prototype.toJSON.call( this, meta );\n\n\t\t// data.sh = this.sh.toArray(); // todo\n\n\t\treturn data;\n\n\t}\n\n} );\n\n/**\n * @author WestLangley / http://github.com/WestLangley\n */\n\nfunction AmbientLightProbe( color, intensity ) {\n\n\tLightProbe.call( this, undefined, intensity );\n\n\tvar color1 = new Color().set( color );\n\n\t// without extra factor of PI in the shader, would be 2 / Math.sqrt( Math.PI );\n\tthis.sh.coefficients[ 0 ].set( color1.r, color1.g, color1.b ).multiplyScalar( 2 * Math.sqrt( Math.PI ) );\n\n}\n\nAmbientLightProbe.prototype = Object.assign( Object.create( LightProbe.prototype ), {\n\n\tconstructor: AmbientLightProbe,\n\n\tisAmbientLightProbe: true,\n\n\tcopy: function ( source ) { // modifying color not currently supported\n\n\t\tLightProbe.prototype.copy.call( this, source );\n\n\t\treturn this;\n\n\t},\n\n\ttoJSON: function ( meta ) {\n\n\t\tvar data = LightProbe.prototype.toJSON.call( this, meta );\n\n\t\t// data.sh = this.sh.toArray(); // todo\n\n\t\treturn data;\n\n\t}\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction StereoCamera() {\n\n\tthis.type = 'StereoCamera';\n\n\tthis.aspect = 1;\n\n\tthis.eyeSep = 0.064;\n\n\tthis.cameraL = new PerspectiveCamera();\n\tthis.cameraL.layers.enable( 1 );\n\tthis.cameraL.matrixAutoUpdate = false;\n\n\tthis.cameraR = new PerspectiveCamera();\n\tthis.cameraR.layers.enable( 2 );\n\tthis.cameraR.matrixAutoUpdate = false;\n\n}\n\nObject.assign( StereoCamera.prototype, {\n\n\tupdate: ( function () {\n\n\t\tvar instance, focus, fov, aspect, near, far, zoom, eyeSep;\n\n\t\tvar eyeRight = new Matrix4();\n\t\tvar eyeLeft = new Matrix4();\n\n\t\treturn function update( camera ) {\n\n\t\t\tvar needsUpdate = instance !== this || focus !== camera.focus || fov !== camera.fov ||\n\t\t\t\t\t\t\t\t\t\t\t\taspect !== camera.aspect * this.aspect || near !== camera.near ||\n\t\t\t\t\t\t\t\t\t\t\t\tfar !== camera.far || zoom !== camera.zoom || eyeSep !== this.eyeSep;\n\n\t\t\tif ( needsUpdate ) {\n\n\t\t\t\tinstance = this;\n\t\t\t\tfocus = camera.focus;\n\t\t\t\tfov = camera.fov;\n\t\t\t\taspect = camera.aspect * this.aspect;\n\t\t\t\tnear = camera.near;\n\t\t\t\tfar = camera.far;\n\t\t\t\tzoom = camera.zoom;\n\n\t\t\t\t// Off-axis stereoscopic effect based on\n\t\t\t\t// http://paulbourke.net/stereographics/stereorender/\n\n\t\t\t\tvar projectionMatrix = camera.projectionMatrix.clone();\n\t\t\t\teyeSep = this.eyeSep / 2;\n\t\t\t\tvar eyeSepOnProjection = eyeSep * near / focus;\n\t\t\t\tvar ymax = ( near * Math.tan( _Math.DEG2RAD * fov * 0.5 ) ) / zoom;\n\t\t\t\tvar xmin, xmax;\n\n\t\t\t\t// translate xOffset\n\n\t\t\t\teyeLeft.elements[ 12 ] = - eyeSep;\n\t\t\t\teyeRight.elements[ 12 ] = eyeSep;\n\n\t\t\t\t// for left eye\n\n\t\t\t\txmin = - ymax * aspect + eyeSepOnProjection;\n\t\t\t\txmax = ymax * aspect + eyeSepOnProjection;\n\n\t\t\t\tprojectionMatrix.elements[ 0 ] = 2 * near / ( xmax - xmin );\n\t\t\t\tprojectionMatrix.elements[ 8 ] = ( xmax + xmin ) / ( xmax - xmin );\n\n\t\t\t\tthis.cameraL.projectionMatrix.copy( projectionMatrix );\n\n\t\t\t\t// for right eye\n\n\t\t\t\txmin = - ymax * aspect - eyeSepOnProjection;\n\t\t\t\txmax = ymax * aspect - eyeSepOnProjection;\n\n\t\t\t\tprojectionMatrix.elements[ 0 ] = 2 * near / ( xmax - xmin );\n\t\t\t\tprojectionMatrix.elements[ 8 ] = ( xmax + xmin ) / ( xmax - xmin );\n\n\t\t\t\tthis.cameraR.projectionMatrix.copy( projectionMatrix );\n\n\t\t\t}\n\n\t\t\tthis.cameraL.matrixWorld.copy( camera.matrixWorld ).multiply( eyeLeft );\n\t\t\tthis.cameraR.matrixWorld.copy( camera.matrixWorld ).multiply( eyeRight );\n\n\t\t};\n\n\t} )()\n\n} );\n\n/**\n * Camera for rendering cube maps\n *\t- renders scene into axis-aligned cube\n *\n * @author alteredq / http://alteredqualia.com/\n */\n\nvar fov = 90, aspect = 1;\n\nfunction CubeCamera( near, far, cubeResolution, options ) {\n\n\tObject3D.call( this );\n\n\tthis.type = 'CubeCamera';\n\n\tvar cameraPX = new PerspectiveCamera( fov, aspect, near, far );\n\tcameraPX.up.set( 0, - 1, 0 );\n\tcameraPX.lookAt( new Vector3( 1, 0, 0 ) );\n\tthis.add( cameraPX );\n\n\tvar cameraNX = new PerspectiveCamera( fov, aspect, near, far );\n\tcameraNX.up.set( 0, - 1, 0 );\n\tcameraNX.lookAt( new Vector3( - 1, 0, 0 ) );\n\tthis.add( cameraNX );\n\n\tvar cameraPY = new PerspectiveCamera( fov, aspect, near, far );\n\tcameraPY.up.set( 0, 0, 1 );\n\tcameraPY.lookAt( new Vector3( 0, 1, 0 ) );\n\tthis.add( cameraPY );\n\n\tvar cameraNY = new PerspectiveCamera( fov, aspect, near, far );\n\tcameraNY.up.set( 0, 0, - 1 );\n\tcameraNY.lookAt( new Vector3( 0, - 1, 0 ) );\n\tthis.add( cameraNY );\n\n\tvar cameraPZ = new PerspectiveCamera( fov, aspect, near, far );\n\tcameraPZ.up.set( 0, - 1, 0 );\n\tcameraPZ.lookAt( new Vector3( 0, 0, 1 ) );\n\tthis.add( cameraPZ );\n\n\tvar cameraNZ = new PerspectiveCamera( fov, aspect, near, far );\n\tcameraNZ.up.set( 0, - 1, 0 );\n\tcameraNZ.lookAt( new Vector3( 0, 0, - 1 ) );\n\tthis.add( cameraNZ );\n\n\toptions = options || { format: RGBFormat, magFilter: LinearFilter, minFilter: LinearFilter };\n\n\tthis.renderTarget = new WebGLRenderTargetCube( cubeResolution, cubeResolution, options );\n\tthis.renderTarget.texture.name = \"CubeCamera\";\n\n\tthis.update = function ( renderer, scene ) {\n\n\t\tif ( this.parent === null ) this.updateMatrixWorld();\n\n\t\tvar currentRenderTarget = renderer.getRenderTarget();\n\n\t\tvar renderTarget = this.renderTarget;\n\t\tvar generateMipmaps = renderTarget.texture.generateMipmaps;\n\n\t\trenderTarget.texture.generateMipmaps = false;\n\n\t\trenderer.setRenderTarget( renderTarget, 0 );\n\t\trenderer.render( scene, cameraPX );\n\n\t\trenderer.setRenderTarget( renderTarget, 1 );\n\t\trenderer.render( scene, cameraNX );\n\n\t\trenderer.setRenderTarget( renderTarget, 2 );\n\t\trenderer.render( scene, cameraPY );\n\n\t\trenderer.setRenderTarget( renderTarget, 3 );\n\t\trenderer.render( scene, cameraNY );\n\n\t\trenderer.setRenderTarget( renderTarget, 4 );\n\t\trenderer.render( scene, cameraPZ );\n\n\t\trenderTarget.texture.generateMipmaps = generateMipmaps;\n\n\t\trenderer.setRenderTarget( renderTarget, 5 );\n\t\trenderer.render( scene, cameraNZ );\n\n\t\trenderer.setRenderTarget( currentRenderTarget );\n\n\t};\n\n\tthis.clear = function ( renderer, color, depth, stencil ) {\n\n\t\tvar currentRenderTarget = renderer.getRenderTarget();\n\n\t\tvar renderTarget = this.renderTarget;\n\n\t\tfor ( var i = 0; i < 6; i ++ ) {\n\n\t\t\trenderer.setRenderTarget( renderTarget, i );\n\n\t\t\trenderer.clear( color, depth, stencil );\n\n\t\t}\n\n\t\trenderer.setRenderTarget( currentRenderTarget );\n\n\t};\n\n}\n\nCubeCamera.prototype = Object.create( Object3D.prototype );\nCubeCamera.prototype.constructor = CubeCamera;\n\n/**\n * @author alteredq / http://alteredqualia.com/\n */\n\nfunction Clock( autoStart ) {\n\n\tthis.autoStart = ( autoStart !== undefined ) ? autoStart : true;\n\n\tthis.startTime = 0;\n\tthis.oldTime = 0;\n\tthis.elapsedTime = 0;\n\n\tthis.running = false;\n\n}\n\nObject.assign( Clock.prototype, {\n\n\tstart: function () {\n\n\t\tthis.startTime = ( typeof performance === 'undefined' ? Date : performance ).now(); // see #10732\n\n\t\tthis.oldTime = this.startTime;\n\t\tthis.elapsedTime = 0;\n\t\tthis.running = true;\n\n\t},\n\n\tstop: function () {\n\n\t\tthis.getElapsedTime();\n\t\tthis.running = false;\n\t\tthis.autoStart = false;\n\n\t},\n\n\tgetElapsedTime: function () {\n\n\t\tthis.getDelta();\n\t\treturn this.elapsedTime;\n\n\t},\n\n\tgetDelta: function () {\n\n\t\tvar diff = 0;\n\n\t\tif ( this.autoStart && ! this.running ) {\n\n\t\t\tthis.start();\n\t\t\treturn 0;\n\n\t\t}\n\n\t\tif ( this.running ) {\n\n\t\t\tvar newTime = ( typeof performance === 'undefined' ? Date : performance ).now();\n\n\t\t\tdiff = ( newTime - this.oldTime ) / 1000;\n\t\t\tthis.oldTime = newTime;\n\n\t\t\tthis.elapsedTime += diff;\n\n\t\t}\n\n\t\treturn diff;\n\n\t}\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction AudioListener() {\n\n\tObject3D.call( this );\n\n\tthis.type = 'AudioListener';\n\n\tthis.context = AudioContext.getContext();\n\n\tthis.gain = this.context.createGain();\n\tthis.gain.connect( this.context.destination );\n\n\tthis.filter = null;\n\n\tthis.timeDelta = 0;\n\n}\n\nAudioListener.prototype = Object.assign( Object.create( Object3D.prototype ), {\n\n\tconstructor: AudioListener,\n\n\tgetInput: function () {\n\n\t\treturn this.gain;\n\n\t},\n\n\tremoveFilter: function ( ) {\n\n\t\tif ( this.filter !== null ) {\n\n\t\t\tthis.gain.disconnect( this.filter );\n\t\t\tthis.filter.disconnect( this.context.destination );\n\t\t\tthis.gain.connect( this.context.destination );\n\t\t\tthis.filter = null;\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tgetFilter: function () {\n\n\t\treturn this.filter;\n\n\t},\n\n\tsetFilter: function ( value ) {\n\n\t\tif ( this.filter !== null ) {\n\n\t\t\tthis.gain.disconnect( this.filter );\n\t\t\tthis.filter.disconnect( this.context.destination );\n\n\t\t} else {\n\n\t\t\tthis.gain.disconnect( this.context.destination );\n\n\t\t}\n\n\t\tthis.filter = value;\n\t\tthis.gain.connect( this.filter );\n\t\tthis.filter.connect( this.context.destination );\n\n\t\treturn this;\n\n\t},\n\n\tgetMasterVolume: function () {\n\n\t\treturn this.gain.gain.value;\n\n\t},\n\n\tsetMasterVolume: function ( value ) {\n\n\t\tthis.gain.gain.setTargetAtTime( value, this.context.currentTime, 0.01 );\n\n\t\treturn this;\n\n\t},\n\n\tupdateMatrixWorld: ( function () {\n\n\t\tvar position = new Vector3();\n\t\tvar quaternion = new Quaternion();\n\t\tvar scale = new Vector3();\n\n\t\tvar orientation = new Vector3();\n\t\tvar clock = new Clock();\n\n\t\treturn function updateMatrixWorld( force ) {\n\n\t\t\tObject3D.prototype.updateMatrixWorld.call( this, force );\n\n\t\t\tvar listener = this.context.listener;\n\t\t\tvar up = this.up;\n\n\t\t\tthis.timeDelta = clock.getDelta();\n\n\t\t\tthis.matrixWorld.decompose( position, quaternion, scale );\n\n\t\t\torientation.set( 0, 0, - 1 ).applyQuaternion( quaternion );\n\n\t\t\tif ( listener.positionX ) {\n\n\t\t\t\t// code path for Chrome (see #14393)\n\n\t\t\t\tvar endTime = this.context.currentTime + this.timeDelta;\n\n\t\t\t\tlistener.positionX.linearRampToValueAtTime( position.x, endTime );\n\t\t\t\tlistener.positionY.linearRampToValueAtTime( position.y, endTime );\n\t\t\t\tlistener.positionZ.linearRampToValueAtTime( position.z, endTime );\n\t\t\t\tlistener.forwardX.linearRampToValueAtTime( orientation.x, endTime );\n\t\t\t\tlistener.forwardY.linearRampToValueAtTime( orientation.y, endTime );\n\t\t\t\tlistener.forwardZ.linearRampToValueAtTime( orientation.z, endTime );\n\t\t\t\tlistener.upX.linearRampToValueAtTime( up.x, endTime );\n\t\t\t\tlistener.upY.linearRampToValueAtTime( up.y, endTime );\n\t\t\t\tlistener.upZ.linearRampToValueAtTime( up.z, endTime );\n\n\t\t\t} else {\n\n\t\t\t\tlistener.setPosition( position.x, position.y, position.z );\n\t\t\t\tlistener.setOrientation( orientation.x, orientation.y, orientation.z, up.x, up.y, up.z );\n\n\t\t\t}\n\n\t\t};\n\n\t} )()\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author Reece Aaron Lecrivain / http://reecenotes.com/\n */\n\nfunction Audio( listener ) {\n\n\tObject3D.call( this );\n\n\tthis.type = 'Audio';\n\n\tthis.listener = listener;\n\tthis.context = listener.context;\n\n\tthis.gain = this.context.createGain();\n\tthis.gain.connect( listener.getInput() );\n\n\tthis.autoplay = false;\n\n\tthis.buffer = null;\n\tthis.detune = 0;\n\tthis.loop = false;\n\tthis.startTime = 0;\n\tthis.offset = 0;\n\tthis.playbackRate = 1;\n\tthis.isPlaying = false;\n\tthis.hasPlaybackControl = true;\n\tthis.sourceType = 'empty';\n\n\tthis.filters = [];\n\n}\n\nAudio.prototype = Object.assign( Object.create( Object3D.prototype ), {\n\n\tconstructor: Audio,\n\n\tgetOutput: function () {\n\n\t\treturn this.gain;\n\n\t},\n\n\tsetNodeSource: function ( audioNode ) {\n\n\t\tthis.hasPlaybackControl = false;\n\t\tthis.sourceType = 'audioNode';\n\t\tthis.source = audioNode;\n\t\tthis.connect();\n\n\t\treturn this;\n\n\t},\n\n\tsetMediaElementSource: function ( mediaElement ) {\n\n\t\tthis.hasPlaybackControl = false;\n\t\tthis.sourceType = 'mediaNode';\n\t\tthis.source = this.context.createMediaElementSource( mediaElement );\n\t\tthis.connect();\n\n\t\treturn this;\n\n\t},\n\n\tsetBuffer: function ( audioBuffer ) {\n\n\t\tthis.buffer = audioBuffer;\n\t\tthis.sourceType = 'buffer';\n\n\t\tif ( this.autoplay ) this.play();\n\n\t\treturn this;\n\n\t},\n\n\tplay: function () {\n\n\t\tif ( this.isPlaying === true ) {\n\n\t\t\tconsole.warn( 'THREE.Audio: Audio is already playing.' );\n\t\t\treturn;\n\n\t\t}\n\n\t\tif ( this.hasPlaybackControl === false ) {\n\n\t\t\tconsole.warn( 'THREE.Audio: this Audio has no playback control.' );\n\t\t\treturn;\n\n\t\t}\n\n\t\tvar source = this.context.createBufferSource();\n\n\t\tsource.buffer = this.buffer;\n\t\tsource.loop = this.loop;\n\t\tsource.onended = this.onEnded.bind( this );\n\t\tthis.startTime = this.context.currentTime;\n\t\tsource.start( this.startTime, this.offset );\n\n\t\tthis.isPlaying = true;\n\n\t\tthis.source = source;\n\n\t\tthis.setDetune( this.detune );\n\t\tthis.setPlaybackRate( this.playbackRate );\n\n\t\treturn this.connect();\n\n\t},\n\n\tpause: function () {\n\n\t\tif ( this.hasPlaybackControl === false ) {\n\n\t\t\tconsole.warn( 'THREE.Audio: this Audio has no playback control.' );\n\t\t\treturn;\n\n\t\t}\n\n\t\tif ( this.isPlaying === true ) {\n\n\t\t\tthis.source.stop();\n\t\t\tthis.source.onended = null;\n\t\t\tthis.offset += ( this.context.currentTime - this.startTime ) * this.playbackRate;\n\t\t\tthis.isPlaying = false;\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tstop: function () {\n\n\t\tif ( this.hasPlaybackControl === false ) {\n\n\t\t\tconsole.warn( 'THREE.Audio: this Audio has no playback control.' );\n\t\t\treturn;\n\n\t\t}\n\n\t\tthis.source.stop();\n\t\tthis.source.onended = null;\n\t\tthis.offset = 0;\n\t\tthis.isPlaying = false;\n\n\t\treturn this;\n\n\t},\n\n\tconnect: function () {\n\n\t\tif ( this.filters.length > 0 ) {\n\n\t\t\tthis.source.connect( this.filters[ 0 ] );\n\n\t\t\tfor ( var i = 1, l = this.filters.length; i < l; i ++ ) {\n\n\t\t\t\tthis.filters[ i - 1 ].connect( this.filters[ i ] );\n\n\t\t\t}\n\n\t\t\tthis.filters[ this.filters.length - 1 ].connect( this.getOutput() );\n\n\t\t} else {\n\n\t\t\tthis.source.connect( this.getOutput() );\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tdisconnect: function () {\n\n\t\tif ( this.filters.length > 0 ) {\n\n\t\t\tthis.source.disconnect( this.filters[ 0 ] );\n\n\t\t\tfor ( var i = 1, l = this.filters.length; i < l; i ++ ) {\n\n\t\t\t\tthis.filters[ i - 1 ].disconnect( this.filters[ i ] );\n\n\t\t\t}\n\n\t\t\tthis.filters[ this.filters.length - 1 ].disconnect( this.getOutput() );\n\n\t\t} else {\n\n\t\t\tthis.source.disconnect( this.getOutput() );\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tgetFilters: function () {\n\n\t\treturn this.filters;\n\n\t},\n\n\tsetFilters: function ( value ) {\n\n\t\tif ( ! value ) value = [];\n\n\t\tif ( this.isPlaying === true ) {\n\n\t\t\tthis.disconnect();\n\t\t\tthis.filters = value;\n\t\t\tthis.connect();\n\n\t\t} else {\n\n\t\t\tthis.filters = value;\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tsetDetune: function ( value ) {\n\n\t\tthis.detune = value;\n\n\t\tif ( this.source.detune === undefined ) return; // only set detune when available\n\n\t\tif ( this.isPlaying === true ) {\n\n\t\t\tthis.source.detune.setTargetAtTime( this.detune, this.context.currentTime, 0.01 );\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tgetDetune: function () {\n\n\t\treturn this.detune;\n\n\t},\n\n\tgetFilter: function () {\n\n\t\treturn this.getFilters()[ 0 ];\n\n\t},\n\n\tsetFilter: function ( filter ) {\n\n\t\treturn this.setFilters( filter ? [ filter ] : [] );\n\n\t},\n\n\tsetPlaybackRate: function ( value ) {\n\n\t\tif ( this.hasPlaybackControl === false ) {\n\n\t\t\tconsole.warn( 'THREE.Audio: this Audio has no playback control.' );\n\t\t\treturn;\n\n\t\t}\n\n\t\tthis.playbackRate = value;\n\n\t\tif ( this.isPlaying === true ) {\n\n\t\t\tthis.source.playbackRate.setTargetAtTime( this.playbackRate, this.context.currentTime, 0.01 );\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tgetPlaybackRate: function () {\n\n\t\treturn this.playbackRate;\n\n\t},\n\n\tonEnded: function () {\n\n\t\tthis.isPlaying = false;\n\n\t},\n\n\tgetLoop: function () {\n\n\t\tif ( this.hasPlaybackControl === false ) {\n\n\t\t\tconsole.warn( 'THREE.Audio: this Audio has no playback control.' );\n\t\t\treturn false;\n\n\t\t}\n\n\t\treturn this.loop;\n\n\t},\n\n\tsetLoop: function ( value ) {\n\n\t\tif ( this.hasPlaybackControl === false ) {\n\n\t\t\tconsole.warn( 'THREE.Audio: this Audio has no playback control.' );\n\t\t\treturn;\n\n\t\t}\n\n\t\tthis.loop = value;\n\n\t\tif ( this.isPlaying === true ) {\n\n\t\t\tthis.source.loop = this.loop;\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tgetVolume: function () {\n\n\t\treturn this.gain.gain.value;\n\n\t},\n\n\tsetVolume: function ( value ) {\n\n\t\tthis.gain.gain.setTargetAtTime( value, this.context.currentTime, 0.01 );\n\n\t\treturn this;\n\n\t}\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction PositionalAudio( listener ) {\n\n\tAudio.call( this, listener );\n\n\tthis.panner = this.context.createPanner();\n\tthis.panner.panningModel = 'HRTF';\n\tthis.panner.connect( this.gain );\n\n}\n\nPositionalAudio.prototype = Object.assign( Object.create( Audio.prototype ), {\n\n\tconstructor: PositionalAudio,\n\n\tgetOutput: function () {\n\n\t\treturn this.panner;\n\n\t},\n\n\tgetRefDistance: function () {\n\n\t\treturn this.panner.refDistance;\n\n\t},\n\n\tsetRefDistance: function ( value ) {\n\n\t\tthis.panner.refDistance = value;\n\n\t\treturn this;\n\n\t},\n\n\tgetRolloffFactor: function () {\n\n\t\treturn this.panner.rolloffFactor;\n\n\t},\n\n\tsetRolloffFactor: function ( value ) {\n\n\t\tthis.panner.rolloffFactor = value;\n\n\t\treturn this;\n\n\t},\n\n\tgetDistanceModel: function () {\n\n\t\treturn this.panner.distanceModel;\n\n\t},\n\n\tsetDistanceModel: function ( value ) {\n\n\t\tthis.panner.distanceModel = value;\n\n\t\treturn this;\n\n\t},\n\n\tgetMaxDistance: function () {\n\n\t\treturn this.panner.maxDistance;\n\n\t},\n\n\tsetMaxDistance: function ( value ) {\n\n\t\tthis.panner.maxDistance = value;\n\n\t\treturn this;\n\n\t},\n\n\tsetDirectionalCone: function ( coneInnerAngle, coneOuterAngle, coneOuterGain ) {\n\n\t\tthis.panner.coneInnerAngle = coneInnerAngle;\n\t\tthis.panner.coneOuterAngle = coneOuterAngle;\n\t\tthis.panner.coneOuterGain = coneOuterGain;\n\n\t\treturn this;\n\n\t},\n\n\tupdateMatrixWorld: ( function () {\n\n\t\tvar position = new Vector3();\n\t\tvar quaternion = new Quaternion();\n\t\tvar scale = new Vector3();\n\n\t\tvar orientation = new Vector3();\n\n\t\treturn function updateMatrixWorld( force ) {\n\n\t\t\tObject3D.prototype.updateMatrixWorld.call( this, force );\n\n\t\t\tif ( this.hasPlaybackControl === true && this.isPlaying === false ) return;\n\n\t\t\tthis.matrixWorld.decompose( position, quaternion, scale );\n\n\t\t\torientation.set( 0, 0, 1 ).applyQuaternion( quaternion );\n\n\t\t\tvar panner = this.panner;\n\n\t\t\tif ( panner.positionX ) {\n\n\t\t\t\t// code path for Chrome and Firefox (see #14393)\n\n\t\t\t\tvar endTime = this.context.currentTime + this.listener.timeDelta;\n\n\t\t\t\tpanner.positionX.linearRampToValueAtTime( position.x, endTime );\n\t\t\t\tpanner.positionY.linearRampToValueAtTime( position.y, endTime );\n\t\t\t\tpanner.positionZ.linearRampToValueAtTime( position.z, endTime );\n\t\t\t\tpanner.orientationX.linearRampToValueAtTime( orientation.x, endTime );\n\t\t\t\tpanner.orientationY.linearRampToValueAtTime( orientation.y, endTime );\n\t\t\t\tpanner.orientationZ.linearRampToValueAtTime( orientation.z, endTime );\n\n\t\t\t} else {\n\n\t\t\t\tpanner.setPosition( position.x, position.y, position.z );\n\t\t\t\tpanner.setOrientation( orientation.x, orientation.y, orientation.z );\n\n\t\t\t}\n\n\t\t};\n\n\t} )()\n\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction AudioAnalyser( audio, fftSize ) {\n\n\tthis.analyser = audio.context.createAnalyser();\n\tthis.analyser.fftSize = fftSize !== undefined ? fftSize : 2048;\n\n\tthis.data = new Uint8Array( this.analyser.frequencyBinCount );\n\n\taudio.getOutput().connect( this.analyser );\n\n}\n\nObject.assign( AudioAnalyser.prototype, {\n\n\tgetFrequencyData: function () {\n\n\t\tthis.analyser.getByteFrequencyData( this.data );\n\n\t\treturn this.data;\n\n\t},\n\n\tgetAverageFrequency: function () {\n\n\t\tvar value = 0, data = this.getFrequencyData();\n\n\t\tfor ( var i = 0; i < data.length; i ++ ) {\n\n\t\t\tvalue += data[ i ];\n\n\t\t}\n\n\t\treturn value / data.length;\n\n\t}\n\n} );\n\n/**\n *\n * Buffered scene graph property that allows weighted accumulation.\n *\n *\n * @author Ben Houston / http://clara.io/\n * @author David Sarno / http://lighthaus.us/\n * @author tschw\n */\n\nfunction PropertyMixer( binding, typeName, valueSize ) {\n\n\tthis.binding = binding;\n\tthis.valueSize = valueSize;\n\n\tvar bufferType = Float64Array,\n\t\tmixFunction;\n\n\tswitch ( typeName ) {\n\n\t\tcase 'quaternion':\n\t\t\tmixFunction = this._slerp;\n\t\t\tbreak;\n\n\t\tcase 'string':\n\t\tcase 'bool':\n\t\t\tbufferType = Array;\n\t\t\tmixFunction = this._select;\n\t\t\tbreak;\n\n\t\tdefault:\n\t\t\tmixFunction = this._lerp;\n\n\t}\n\n\tthis.buffer = new bufferType( valueSize * 4 );\n\t// layout: [ incoming | accu0 | accu1 | orig ]\n\t//\n\t// interpolators can use .buffer as their .result\n\t// the data then goes to 'incoming'\n\t//\n\t// 'accu0' and 'accu1' are used frame-interleaved for\n\t// the cumulative result and are compared to detect\n\t// changes\n\t//\n\t// 'orig' stores the original state of the property\n\n\tthis._mixBufferRegion = mixFunction;\n\n\tthis.cumulativeWeight = 0;\n\n\tthis.useCount = 0;\n\tthis.referenceCount = 0;\n\n}\n\nObject.assign( PropertyMixer.prototype, {\n\n\t// accumulate data in the 'incoming' region into 'accu<i>'\n\taccumulate: function ( accuIndex, weight ) {\n\n\t\t// note: happily accumulating nothing when weight = 0, the caller knows\n\t\t// the weight and shouldn't have made the call in the first place\n\n\t\tvar buffer = this.buffer,\n\t\t\tstride = this.valueSize,\n\t\t\toffset = accuIndex * stride + stride,\n\n\t\t\tcurrentWeight = this.cumulativeWeight;\n\n\t\tif ( currentWeight === 0 ) {\n\n\t\t\t// accuN := incoming * weight\n\n\t\t\tfor ( var i = 0; i !== stride; ++ i ) {\n\n\t\t\t\tbuffer[ offset + i ] = buffer[ i ];\n\n\t\t\t}\n\n\t\t\tcurrentWeight = weight;\n\n\t\t} else {\n\n\t\t\t// accuN := accuN + incoming * weight\n\n\t\t\tcurrentWeight += weight;\n\t\t\tvar mix = weight / currentWeight;\n\t\t\tthis._mixBufferRegion( buffer, offset, 0, mix, stride );\n\n\t\t}\n\n\t\tthis.cumulativeWeight = currentWeight;\n\n\t},\n\n\t// apply the state of 'accu<i>' to the binding when accus differ\n\tapply: function ( accuIndex ) {\n\n\t\tvar stride = this.valueSize,\n\t\t\tbuffer = this.buffer,\n\t\t\toffset = accuIndex * stride + stride,\n\n\t\t\tweight = this.cumulativeWeight,\n\n\t\t\tbinding = this.binding;\n\n\t\tthis.cumulativeWeight = 0;\n\n\t\tif ( weight < 1 ) {\n\n\t\t\t// accuN := accuN + original * ( 1 - cumulativeWeight )\n\n\t\t\tvar originalValueOffset = stride * 3;\n\n\t\t\tthis._mixBufferRegion(\n\t\t\t\tbuffer, offset, originalValueOffset, 1 - weight, stride );\n\n\t\t}\n\n\t\tfor ( var i = stride, e = stride + stride; i !== e; ++ i ) {\n\n\t\t\tif ( buffer[ i ] !== buffer[ i + stride ] ) {\n\n\t\t\t\t// value has changed -> update scene graph\n\n\t\t\t\tbinding.setValue( buffer, offset );\n\t\t\t\tbreak;\n\n\t\t\t}\n\n\t\t}\n\n\t},\n\n\t// remember the state of the bound property and copy it to both accus\n\tsaveOriginalState: function () {\n\n\t\tvar binding = this.binding;\n\n\t\tvar buffer = this.buffer,\n\t\t\tstride = this.valueSize,\n\n\t\t\toriginalValueOffset = stride * 3;\n\n\t\tbinding.getValue( buffer, originalValueOffset );\n\n\t\t// accu[0..1] := orig -- initially detect changes against the original\n\t\tfor ( var i = stride, e = originalValueOffset; i !== e; ++ i ) {\n\n\t\t\tbuffer[ i ] = buffer[ originalValueOffset + ( i % stride ) ];\n\n\t\t}\n\n\t\tthis.cumulativeWeight = 0;\n\n\t},\n\n\t// apply the state previously taken via 'saveOriginalState' to the binding\n\trestoreOriginalState: function () {\n\n\t\tvar originalValueOffset = this.valueSize * 3;\n\t\tthis.binding.setValue( this.buffer, originalValueOffset );\n\n\t},\n\n\n\t// mix functions\n\n\t_select: function ( buffer, dstOffset, srcOffset, t, stride ) {\n\n\t\tif ( t >= 0.5 ) {\n\n\t\t\tfor ( var i = 0; i !== stride; ++ i ) {\n\n\t\t\t\tbuffer[ dstOffset + i ] = buffer[ srcOffset + i ];\n\n\t\t\t}\n\n\t\t}\n\n\t},\n\n\t_slerp: function ( buffer, dstOffset, srcOffset, t ) {\n\n\t\tQuaternion.slerpFlat( buffer, dstOffset, buffer, dstOffset, buffer, srcOffset, t );\n\n\t},\n\n\t_lerp: function ( buffer, dstOffset, srcOffset, t, stride ) {\n\n\t\tvar s = 1 - t;\n\n\t\tfor ( var i = 0; i !== stride; ++ i ) {\n\n\t\t\tvar j = dstOffset + i;\n\n\t\t\tbuffer[ j ] = buffer[ j ] * s + buffer[ srcOffset + i ] * t;\n\n\t\t}\n\n\t}\n\n} );\n\n/**\n *\n * A reference to a real property in the scene graph.\n *\n *\n * @author Ben Houston / http://clara.io/\n * @author David Sarno / http://lighthaus.us/\n * @author tschw\n */\n\n// Characters [].:/ are reserved for track binding syntax.\nvar RESERVED_CHARS_RE = '\\\\[\\\\]\\\\.:\\\\/';\n\nfunction Composite( targetGroup, path, optionalParsedPath ) {\n\n\tvar parsedPath = optionalParsedPath || PropertyBinding.parseTrackName( path );\n\n\tthis._targetGroup = targetGroup;\n\tthis._bindings = targetGroup.subscribe_( path, parsedPath );\n\n}\n\nObject.assign( Composite.prototype, {\n\n\tgetValue: function ( array, offset ) {\n\n\t\tthis.bind(); // bind all binding\n\n\t\tvar firstValidIndex = this._targetGroup.nCachedObjects_,\n\t\t\tbinding = this._bindings[ firstValidIndex ];\n\n\t\t// and only call .getValue on the first\n\t\tif ( binding !== undefined ) binding.getValue( array, offset );\n\n\t},\n\n\tsetValue: function ( array, offset ) {\n\n\t\tvar bindings = this._bindings;\n\n\t\tfor ( var i = this._targetGroup.nCachedObjects_, n = bindings.length; i !== n; ++ i ) {\n\n\t\t\tbindings[ i ].setValue( array, offset );\n\n\t\t}\n\n\t},\n\n\tbind: function () {\n\n\t\tvar bindings = this._bindings;\n\n\t\tfor ( var i = this._targetGroup.nCachedObjects_, n = bindings.length; i !== n; ++ i ) {\n\n\t\t\tbindings[ i ].bind();\n\n\t\t}\n\n\t},\n\n\tunbind: function () {\n\n\t\tvar bindings = this._bindings;\n\n\t\tfor ( var i = this._targetGroup.nCachedObjects_, n = bindings.length; i !== n; ++ i ) {\n\n\t\t\tbindings[ i ].unbind();\n\n\t\t}\n\n\t}\n\n} );\n\n\nfunction PropertyBinding( rootNode, path, parsedPath ) {\n\n\tthis.path = path;\n\tthis.parsedPath = parsedPath || PropertyBinding.parseTrackName( path );\n\n\tthis.node = PropertyBinding.findNode( rootNode, this.parsedPath.nodeName ) || rootNode;\n\n\tthis.rootNode = rootNode;\n\n}\n\nObject.assign( PropertyBinding, {\n\n\tComposite: Composite,\n\n\tcreate: function ( root, path, parsedPath ) {\n\n\t\tif ( ! ( root && root.isAnimationObjectGroup ) ) {\n\n\t\t\treturn new PropertyBinding( root, path, parsedPath );\n\n\t\t} else {\n\n\t\t\treturn new PropertyBinding.Composite( root, path, parsedPath );\n\n\t\t}\n\n\t},\n\n\t/**\n\t * Replaces spaces with underscores and removes unsupported characters from\n\t * node names, to ensure compatibility with parseTrackName().\n\t *\n\t * @param {string} name Node name to be sanitized.\n\t * @return {string}\n\t */\n\tsanitizeNodeName: ( function () {\n\n\t\tvar reservedRe = new RegExp( '[' + RESERVED_CHARS_RE + ']', 'g' );\n\n\t\treturn function sanitizeNodeName( name ) {\n\n\t\t\treturn name.replace( /\\s/g, '_' ).replace( reservedRe, '' );\n\n\t\t};\n\n\t}() ),\n\n\tparseTrackName: function () {\n\n\t\t// Attempts to allow node names from any language. ES5's `\\w` regexp matches\n\t\t// only latin characters, and the unicode \\p{L} is not yet supported. So\n\t\t// instead, we exclude reserved characters and match everything else.\n\t\tvar wordChar = '[^' + RESERVED_CHARS_RE + ']';\n\t\tvar wordCharOrDot = '[^' + RESERVED_CHARS_RE.replace( '\\\\.', '' ) + ']';\n\n\t\t// Parent directories, delimited by '/' or ':'. Currently unused, but must\n\t\t// be matched to parse the rest of the track name.\n\t\tvar directoryRe = /((?:WC+[\\/:])*)/.source.replace( 'WC', wordChar );\n\n\t\t// Target node. May contain word characters (a-zA-Z0-9_) and '.' or '-'.\n\t\tvar nodeRe = /(WCOD+)?/.source.replace( 'WCOD', wordCharOrDot );\n\n\t\t// Object on target node, and accessor. May not contain reserved\n\t\t// characters. Accessor may contain any character except closing bracket.\n\t\tvar objectRe = /(?:\\.(WC+)(?:\\[(.+)\\])?)?/.source.replace( 'WC', wordChar );\n\n\t\t// Property and accessor. May not contain reserved characters. Accessor may\n\t\t// contain any non-bracket characters.\n\t\tvar propertyRe = /\\.(WC+)(?:\\[(.+)\\])?/.source.replace( 'WC', wordChar );\n\n\t\tvar trackRe = new RegExp( ''\n\t\t\t+ '^'\n\t\t\t+ directoryRe\n\t\t\t+ nodeRe\n\t\t\t+ objectRe\n\t\t\t+ propertyRe\n\t\t\t+ '$'\n\t\t);\n\n\t\tvar supportedObjectNames = [ 'material', 'materials', 'bones' ];\n\n\t\treturn function parseTrackName( trackName ) {\n\n\t\t\tvar matches = trackRe.exec( trackName );\n\n\t\t\tif ( ! matches ) {\n\n\t\t\t\tthrow new Error( 'PropertyBinding: Cannot parse trackName: ' + trackName );\n\n\t\t\t}\n\n\t\t\tvar results = {\n\t\t\t\t// directoryName: matches[ 1 ], // (tschw) currently unused\n\t\t\t\tnodeName: matches[ 2 ],\n\t\t\t\tobjectName: matches[ 3 ],\n\t\t\t\tobjectIndex: matches[ 4 ],\n\t\t\t\tpropertyName: matches[ 5 ], // required\n\t\t\t\tpropertyIndex: matches[ 6 ]\n\t\t\t};\n\n\t\t\tvar lastDot = results.nodeName && results.nodeName.lastIndexOf( '.' );\n\n\t\t\tif ( lastDot !== undefined && lastDot !== - 1 ) {\n\n\t\t\t\tvar objectName = results.nodeName.substring( lastDot + 1 );\n\n\t\t\t\t// Object names must be checked against a whitelist. Otherwise, there\n\t\t\t\t// is no way to parse 'foo.bar.baz': 'baz' must be a property, but\n\t\t\t\t// 'bar' could be the objectName, or part of a nodeName (which can\n\t\t\t\t// include '.' characters).\n\t\t\t\tif ( supportedObjectNames.indexOf( objectName ) !== - 1 ) {\n\n\t\t\t\t\tresults.nodeName = results.nodeName.substring( 0, lastDot );\n\t\t\t\t\tresults.objectName = objectName;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tif ( results.propertyName === null || results.propertyName.length === 0 ) {\n\n\t\t\t\tthrow new Error( 'PropertyBinding: can not parse propertyName from trackName: ' + trackName );\n\n\t\t\t}\n\n\t\t\treturn results;\n\n\t\t};\n\n\t}(),\n\n\tfindNode: function ( root, nodeName ) {\n\n\t\tif ( ! nodeName || nodeName === \"\" || nodeName === \"root\" || nodeName === \".\" || nodeName === - 1 || nodeName === root.name || nodeName === root.uuid ) {\n\n\t\t\treturn root;\n\n\t\t}\n\n\t\t// search into skeleton bones.\n\t\tif ( root.skeleton ) {\n\n\t\t\tvar bone = root.skeleton.getBoneByName( nodeName );\n\n\t\t\tif ( bone !== undefined ) {\n\n\t\t\t\treturn bone;\n\n\t\t\t}\n\n\t\t}\n\n\t\t// search into node subtree.\n\t\tif ( root.children ) {\n\n\t\t\tvar searchNodeSubtree = function ( children ) {\n\n\t\t\t\tfor ( var i = 0; i < children.length; i ++ ) {\n\n\t\t\t\t\tvar childNode = children[ i ];\n\n\t\t\t\t\tif ( childNode.name === nodeName || childNode.uuid === nodeName ) {\n\n\t\t\t\t\t\treturn childNode;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tvar result = searchNodeSubtree( childNode.children );\n\n\t\t\t\t\tif ( result ) return result;\n\n\t\t\t\t}\n\n\t\t\t\treturn null;\n\n\t\t\t};\n\n\t\t\tvar subTreeNode = searchNodeSubtree( root.children );\n\n\t\t\tif ( subTreeNode ) {\n\n\t\t\t\treturn subTreeNode;\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn null;\n\n\t}\n\n} );\n\nObject.assign( PropertyBinding.prototype, { // prototype, continued\n\n\t// these are used to \"bind\" a nonexistent property\n\t_getValue_unavailable: function () {},\n\t_setValue_unavailable: function () {},\n\n\tBindingType: {\n\t\tDirect: 0,\n\t\tEntireArray: 1,\n\t\tArrayElement: 2,\n\t\tHasFromToArray: 3\n\t},\n\n\tVersioning: {\n\t\tNone: 0,\n\t\tNeedsUpdate: 1,\n\t\tMatrixWorldNeedsUpdate: 2\n\t},\n\n\tGetterByBindingType: [\n\n\t\tfunction getValue_direct( buffer, offset ) {\n\n\t\t\tbuffer[ offset ] = this.node[ this.propertyName ];\n\n\t\t},\n\n\t\tfunction getValue_array( buffer, offset ) {\n\n\t\t\tvar source = this.resolvedProperty;\n\n\t\t\tfor ( var i = 0, n = source.length; i !== n; ++ i ) {\n\n\t\t\t\tbuffer[ offset ++ ] = source[ i ];\n\n\t\t\t}\n\n\t\t},\n\n\t\tfunction getValue_arrayElement( buffer, offset ) {\n\n\t\t\tbuffer[ offset ] = this.resolvedProperty[ this.propertyIndex ];\n\n\t\t},\n\n\t\tfunction getValue_toArray( buffer, offset ) {\n\n\t\t\tthis.resolvedProperty.toArray( buffer, offset );\n\n\t\t}\n\n\t],\n\n\tSetterByBindingTypeAndVersioning: [\n\n\t\t[\n\t\t\t// Direct\n\n\t\t\tfunction setValue_direct( buffer, offset ) {\n\n\t\t\t\tthis.targetObject[ this.propertyName ] = buffer[ offset ];\n\n\t\t\t},\n\n\t\t\tfunction setValue_direct_setNeedsUpdate( buffer, offset ) {\n\n\t\t\t\tthis.targetObject[ this.propertyName ] = buffer[ offset ];\n\t\t\t\tthis.targetObject.needsUpdate = true;\n\n\t\t\t},\n\n\t\t\tfunction setValue_direct_setMatrixWorldNeedsUpdate( buffer, offset ) {\n\n\t\t\t\tthis.targetObject[ this.propertyName ] = buffer[ offset ];\n\t\t\t\tthis.targetObject.matrixWorldNeedsUpdate = true;\n\n\t\t\t}\n\n\t\t], [\n\n\t\t\t// EntireArray\n\n\t\t\tfunction setValue_array( buffer, offset ) {\n\n\t\t\t\tvar dest = this.resolvedProperty;\n\n\t\t\t\tfor ( var i = 0, n = dest.length; i !== n; ++ i ) {\n\n\t\t\t\t\tdest[ i ] = buffer[ offset ++ ];\n\n\t\t\t\t}\n\n\t\t\t},\n\n\t\t\tfunction setValue_array_setNeedsUpdate( buffer, offset ) {\n\n\t\t\t\tvar dest = this.resolvedProperty;\n\n\t\t\t\tfor ( var i = 0, n = dest.length; i !== n; ++ i ) {\n\n\t\t\t\t\tdest[ i ] = buffer[ offset ++ ];\n\n\t\t\t\t}\n\n\t\t\t\tthis.targetObject.needsUpdate = true;\n\n\t\t\t},\n\n\t\t\tfunction setValue_array_setMatrixWorldNeedsUpdate( buffer, offset ) {\n\n\t\t\t\tvar dest = this.resolvedProperty;\n\n\t\t\t\tfor ( var i = 0, n = dest.length; i !== n; ++ i ) {\n\n\t\t\t\t\tdest[ i ] = buffer[ offset ++ ];\n\n\t\t\t\t}\n\n\t\t\t\tthis.targetObject.matrixWorldNeedsUpdate = true;\n\n\t\t\t}\n\n\t\t], [\n\n\t\t\t// ArrayElement\n\n\t\t\tfunction setValue_arrayElement( buffer, offset ) {\n\n\t\t\t\tthis.resolvedProperty[ this.propertyIndex ] = buffer[ offset ];\n\n\t\t\t},\n\n\t\t\tfunction setValue_arrayElement_setNeedsUpdate( buffer, offset ) {\n\n\t\t\t\tthis.resolvedProperty[ this.propertyIndex ] = buffer[ offset ];\n\t\t\t\tthis.targetObject.needsUpdate = true;\n\n\t\t\t},\n\n\t\t\tfunction setValue_arrayElement_setMatrixWorldNeedsUpdate( buffer, offset ) {\n\n\t\t\t\tthis.resolvedProperty[ this.propertyIndex ] = buffer[ offset ];\n\t\t\t\tthis.targetObject.matrixWorldNeedsUpdate = true;\n\n\t\t\t}\n\n\t\t], [\n\n\t\t\t// HasToFromArray\n\n\t\t\tfunction setValue_fromArray( buffer, offset ) {\n\n\t\t\t\tthis.resolvedProperty.fromArray( buffer, offset );\n\n\t\t\t},\n\n\t\t\tfunction setValue_fromArray_setNeedsUpdate( buffer, offset ) {\n\n\t\t\t\tthis.resolvedProperty.fromArray( buffer, offset );\n\t\t\t\tthis.targetObject.needsUpdate = true;\n\n\t\t\t},\n\n\t\t\tfunction setValue_fromArray_setMatrixWorldNeedsUpdate( buffer, offset ) {\n\n\t\t\t\tthis.resolvedProperty.fromArray( buffer, offset );\n\t\t\t\tthis.targetObject.matrixWorldNeedsUpdate = true;\n\n\t\t\t}\n\n\t\t]\n\n\t],\n\n\tgetValue: function getValue_unbound( targetArray, offset ) {\n\n\t\tthis.bind();\n\t\tthis.getValue( targetArray, offset );\n\n\t\t// Note: This class uses a State pattern on a per-method basis:\n\t\t// 'bind' sets 'this.getValue' / 'setValue' and shadows the\n\t\t// prototype version of these methods with one that represents\n\t\t// the bound state. When the property is not found, the methods\n\t\t// become no-ops.\n\n\t},\n\n\tsetValue: function getValue_unbound( sourceArray, offset ) {\n\n\t\tthis.bind();\n\t\tthis.setValue( sourceArray, offset );\n\n\t},\n\n\t// create getter / setter pair for a property in the scene graph\n\tbind: function () {\n\n\t\tvar targetObject = this.node,\n\t\t\tparsedPath = this.parsedPath,\n\n\t\t\tobjectName = parsedPath.objectName,\n\t\t\tpropertyName = parsedPath.propertyName,\n\t\t\tpropertyIndex = parsedPath.propertyIndex;\n\n\t\tif ( ! targetObject ) {\n\n\t\t\ttargetObject = PropertyBinding.findNode( this.rootNode, parsedPath.nodeName ) || this.rootNode;\n\n\t\t\tthis.node = targetObject;\n\n\t\t}\n\n\t\t// set fail state so we can just 'return' on error\n\t\tthis.getValue = this._getValue_unavailable;\n\t\tthis.setValue = this._setValue_unavailable;\n\n\t\t// ensure there is a value node\n\t\tif ( ! targetObject ) {\n\n\t\t\tconsole.error( 'THREE.PropertyBinding: Trying to update node for track: ' + this.path + ' but it wasn\\'t found.' );\n\t\t\treturn;\n\n\t\t}\n\n\t\tif ( objectName ) {\n\n\t\t\tvar objectIndex = parsedPath.objectIndex;\n\n\t\t\t// special cases were we need to reach deeper into the hierarchy to get the face materials....\n\t\t\tswitch ( objectName ) {\n\n\t\t\t\tcase 'materials':\n\n\t\t\t\t\tif ( ! targetObject.material ) {\n\n\t\t\t\t\t\tconsole.error( 'THREE.PropertyBinding: Can not bind to material as node does not have a material.', this );\n\t\t\t\t\t\treturn;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( ! targetObject.material.materials ) {\n\n\t\t\t\t\t\tconsole.error( 'THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.', this );\n\t\t\t\t\t\treturn;\n\n\t\t\t\t\t}\n\n\t\t\t\t\ttargetObject = targetObject.material.materials;\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'bones':\n\n\t\t\t\t\tif ( ! targetObject.skeleton ) {\n\n\t\t\t\t\t\tconsole.error( 'THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.', this );\n\t\t\t\t\t\treturn;\n\n\t\t\t\t\t}\n\n\t\t\t\t\t// potential future optimization: skip this if propertyIndex is already an integer\n\t\t\t\t\t// and convert the integer string to a true integer.\n\n\t\t\t\t\ttargetObject = targetObject.skeleton.bones;\n\n\t\t\t\t\t// support resolving morphTarget names into indices.\n\t\t\t\t\tfor ( var i = 0; i < targetObject.length; i ++ ) {\n\n\t\t\t\t\t\tif ( targetObject[ i ].name === objectIndex ) {\n\n\t\t\t\t\t\t\tobjectIndex = i;\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tdefault:\n\n\t\t\t\t\tif ( targetObject[ objectName ] === undefined ) {\n\n\t\t\t\t\t\tconsole.error( 'THREE.PropertyBinding: Can not bind to objectName of node undefined.', this );\n\t\t\t\t\t\treturn;\n\n\t\t\t\t\t}\n\n\t\t\t\t\ttargetObject = targetObject[ objectName ];\n\n\t\t\t}\n\n\n\t\t\tif ( objectIndex !== undefined ) {\n\n\t\t\t\tif ( targetObject[ objectIndex ] === undefined ) {\n\n\t\t\t\t\tconsole.error( 'THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.', this, targetObject );\n\t\t\t\t\treturn;\n\n\t\t\t\t}\n\n\t\t\t\ttargetObject = targetObject[ objectIndex ];\n\n\t\t\t}\n\n\t\t}\n\n\t\t// resolve property\n\t\tvar nodeProperty = targetObject[ propertyName ];\n\n\t\tif ( nodeProperty === undefined ) {\n\n\t\t\tvar nodeName = parsedPath.nodeName;\n\n\t\t\tconsole.error( 'THREE.PropertyBinding: Trying to update property for track: ' + nodeName +\n\t\t\t\t'.' + propertyName + ' but it wasn\\'t found.', targetObject );\n\t\t\treturn;\n\n\t\t}\n\n\t\t// determine versioning scheme\n\t\tvar versioning = this.Versioning.None;\n\n\t\tthis.targetObject = targetObject;\n\n\t\tif ( targetObject.needsUpdate !== undefined ) { // material\n\n\t\t\tversioning = this.Versioning.NeedsUpdate;\n\n\t\t} else if ( targetObject.matrixWorldNeedsUpdate !== undefined ) { // node transform\n\n\t\t\tversioning = this.Versioning.MatrixWorldNeedsUpdate;\n\n\t\t}\n\n\t\t// determine how the property gets bound\n\t\tvar bindingType = this.BindingType.Direct;\n\n\t\tif ( propertyIndex !== undefined ) {\n\n\t\t\t// access a sub element of the property array (only primitives are supported right now)\n\n\t\t\tif ( propertyName === \"morphTargetInfluences\" ) {\n\n\t\t\t\t// potential optimization, skip this if propertyIndex is already an integer, and convert the integer string to a true integer.\n\n\t\t\t\t// support resolving morphTarget names into indices.\n\t\t\t\tif ( ! targetObject.geometry ) {\n\n\t\t\t\t\tconsole.error( 'THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.', this );\n\t\t\t\t\treturn;\n\n\t\t\t\t}\n\n\t\t\t\tif ( targetObject.geometry.isBufferGeometry ) {\n\n\t\t\t\t\tif ( ! targetObject.geometry.morphAttributes ) {\n\n\t\t\t\t\t\tconsole.error( 'THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.', this );\n\t\t\t\t\t\treturn;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tfor ( var i = 0; i < this.node.geometry.morphAttributes.position.length; i ++ ) {\n\n\t\t\t\t\t\tif ( targetObject.geometry.morphAttributes.position[ i ].name === propertyIndex ) {\n\n\t\t\t\t\t\t\tpropertyIndex = i;\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\n\t\t\t\t} else {\n\n\t\t\t\t\tif ( ! targetObject.geometry.morphTargets ) {\n\n\t\t\t\t\t\tconsole.error( 'THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphTargets.', this );\n\t\t\t\t\t\treturn;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tfor ( var i = 0; i < this.node.geometry.morphTargets.length; i ++ ) {\n\n\t\t\t\t\t\tif ( targetObject.geometry.morphTargets[ i ].name === propertyIndex ) {\n\n\t\t\t\t\t\t\tpropertyIndex = i;\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tbindingType = this.BindingType.ArrayElement;\n\n\t\t\tthis.resolvedProperty = nodeProperty;\n\t\t\tthis.propertyIndex = propertyIndex;\n\n\t\t} else if ( nodeProperty.fromArray !== undefined && nodeProperty.toArray !== undefined ) {\n\n\t\t\t// must use copy for Object3D.Euler/Quaternion\n\n\t\t\tbindingType = this.BindingType.HasFromToArray;\n\n\t\t\tthis.resolvedProperty = nodeProperty;\n\n\t\t} else if ( Array.isArray( nodeProperty ) ) {\n\n\t\t\tbindingType = this.BindingType.EntireArray;\n\n\t\t\tthis.resolvedProperty = nodeProperty;\n\n\t\t} else {\n\n\t\t\tthis.propertyName = propertyName;\n\n\t\t}\n\n\t\t// select getter / setter\n\t\tthis.getValue = this.GetterByBindingType[ bindingType ];\n\t\tthis.setValue = this.SetterByBindingTypeAndVersioning[ bindingType ][ versioning ];\n\n\t},\n\n\tunbind: function () {\n\n\t\tthis.node = null;\n\n\t\t// back to the prototype version of getValue / setValue\n\t\t// note: avoiding to mutate the shape of 'this' via 'delete'\n\t\tthis.getValue = this._getValue_unbound;\n\t\tthis.setValue = this._setValue_unbound;\n\n\t}\n\n} );\n\n//!\\ DECLARE ALIAS AFTER assign prototype !\nObject.assign( PropertyBinding.prototype, {\n\n\t// initial state of these methods that calls 'bind'\n\t_getValue_unbound: PropertyBinding.prototype.getValue,\n\t_setValue_unbound: PropertyBinding.prototype.setValue,\n\n} );\n\n/**\n *\n * A group of objects that receives a shared animation state.\n *\n * Usage:\n *\n *  - Add objects you would otherwise pass as 'root' to the\n *    constructor or the .clipAction method of AnimationMixer.\n *\n *  - Instead pass this object as 'root'.\n *\n *  - You can also add and remove objects later when the mixer\n *    is running.\n *\n * Note:\n *\n *    Objects of this class appear as one object to the mixer,\n *    so cache control of the individual objects must be done\n *    on the group.\n *\n * Limitation:\n *\n *  - The animated properties must be compatible among the\n *    all objects in the group.\n *\n *  - A single property can either be controlled through a\n *    target group or directly, but not both.\n *\n * @author tschw\n */\n\nfunction AnimationObjectGroup() {\n\n\tthis.uuid = _Math.generateUUID();\n\n\t// cached objects followed by the active ones\n\tthis._objects = Array.prototype.slice.call( arguments );\n\n\tthis.nCachedObjects_ = 0; // threshold\n\t// note: read by PropertyBinding.Composite\n\n\tvar indices = {};\n\tthis._indicesByUUID = indices; // for bookkeeping\n\n\tfor ( var i = 0, n = arguments.length; i !== n; ++ i ) {\n\n\t\tindices[ arguments[ i ].uuid ] = i;\n\n\t}\n\n\tthis._paths = []; // inside: string\n\tthis._parsedPaths = []; // inside: { we don't care, here }\n\tthis._bindings = []; // inside: Array< PropertyBinding >\n\tthis._bindingsIndicesByPath = {}; // inside: indices in these arrays\n\n\tvar scope = this;\n\n\tthis.stats = {\n\n\t\tobjects: {\n\t\t\tget total() {\n\n\t\t\t\treturn scope._objects.length;\n\n\t\t\t},\n\t\t\tget inUse() {\n\n\t\t\t\treturn this.total - scope.nCachedObjects_;\n\n\t\t\t}\n\t\t},\n\t\tget bindingsPerObject() {\n\n\t\t\treturn scope._bindings.length;\n\n\t\t}\n\n\t};\n\n}\n\nObject.assign( AnimationObjectGroup.prototype, {\n\n\tisAnimationObjectGroup: true,\n\n\tadd: function () {\n\n\t\tvar objects = this._objects,\n\t\t\tnObjects = objects.length,\n\t\t\tnCachedObjects = this.nCachedObjects_,\n\t\t\tindicesByUUID = this._indicesByUUID,\n\t\t\tpaths = this._paths,\n\t\t\tparsedPaths = this._parsedPaths,\n\t\t\tbindings = this._bindings,\n\t\t\tnBindings = bindings.length,\n\t\t\tknownObject = undefined;\n\n\t\tfor ( var i = 0, n = arguments.length; i !== n; ++ i ) {\n\n\t\t\tvar object = arguments[ i ],\n\t\t\t\tuuid = object.uuid,\n\t\t\t\tindex = indicesByUUID[ uuid ];\n\n\t\t\tif ( index === undefined ) {\n\n\t\t\t\t// unknown object -> add it to the ACTIVE region\n\n\t\t\t\tindex = nObjects ++;\n\t\t\t\tindicesByUUID[ uuid ] = index;\n\t\t\t\tobjects.push( object );\n\n\t\t\t\t// accounting is done, now do the same for all bindings\n\n\t\t\t\tfor ( var j = 0, m = nBindings; j !== m; ++ j ) {\n\n\t\t\t\t\tbindings[ j ].push( new PropertyBinding( object, paths[ j ], parsedPaths[ j ] ) );\n\n\t\t\t\t}\n\n\t\t\t} else if ( index < nCachedObjects ) {\n\n\t\t\t\tknownObject = objects[ index ];\n\n\t\t\t\t// move existing object to the ACTIVE region\n\n\t\t\t\tvar firstActiveIndex = -- nCachedObjects,\n\t\t\t\t\tlastCachedObject = objects[ firstActiveIndex ];\n\n\t\t\t\tindicesByUUID[ lastCachedObject.uuid ] = index;\n\t\t\t\tobjects[ index ] = lastCachedObject;\n\n\t\t\t\tindicesByUUID[ uuid ] = firstActiveIndex;\n\t\t\t\tobjects[ firstActiveIndex ] = object;\n\n\t\t\t\t// accounting is done, now do the same for all bindings\n\n\t\t\t\tfor ( var j = 0, m = nBindings; j !== m; ++ j ) {\n\n\t\t\t\t\tvar bindingsForPath = bindings[ j ],\n\t\t\t\t\t\tlastCached = bindingsForPath[ firstActiveIndex ],\n\t\t\t\t\t\tbinding = bindingsForPath[ index ];\n\n\t\t\t\t\tbindingsForPath[ index ] = lastCached;\n\n\t\t\t\t\tif ( binding === undefined ) {\n\n\t\t\t\t\t\t// since we do not bother to create new bindings\n\t\t\t\t\t\t// for objects that are cached, the binding may\n\t\t\t\t\t\t// or may not exist\n\n\t\t\t\t\t\tbinding = new PropertyBinding( object, paths[ j ], parsedPaths[ j ] );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tbindingsForPath[ firstActiveIndex ] = binding;\n\n\t\t\t\t}\n\n\t\t\t} else if ( objects[ index ] !== knownObject ) {\n\n\t\t\t\tconsole.error( 'THREE.AnimationObjectGroup: Different objects with the same UUID ' +\n\t\t\t\t\t'detected. Clean the caches or recreate your infrastructure when reloading scenes.' );\n\n\t\t\t} // else the object is already where we want it to be\n\n\t\t} // for arguments\n\n\t\tthis.nCachedObjects_ = nCachedObjects;\n\n\t},\n\n\tremove: function () {\n\n\t\tvar objects = this._objects,\n\t\t\tnCachedObjects = this.nCachedObjects_,\n\t\t\tindicesByUUID = this._indicesByUUID,\n\t\t\tbindings = this._bindings,\n\t\t\tnBindings = bindings.length;\n\n\t\tfor ( var i = 0, n = arguments.length; i !== n; ++ i ) {\n\n\t\t\tvar object = arguments[ i ],\n\t\t\t\tuuid = object.uuid,\n\t\t\t\tindex = indicesByUUID[ uuid ];\n\n\t\t\tif ( index !== undefined && index >= nCachedObjects ) {\n\n\t\t\t\t// move existing object into the CACHED region\n\n\t\t\t\tvar lastCachedIndex = nCachedObjects ++,\n\t\t\t\t\tfirstActiveObject = objects[ lastCachedIndex ];\n\n\t\t\t\tindicesByUUID[ firstActiveObject.uuid ] = index;\n\t\t\t\tobjects[ index ] = firstActiveObject;\n\n\t\t\t\tindicesByUUID[ uuid ] = lastCachedIndex;\n\t\t\t\tobjects[ lastCachedIndex ] = object;\n\n\t\t\t\t// accounting is done, now do the same for all bindings\n\n\t\t\t\tfor ( var j = 0, m = nBindings; j !== m; ++ j ) {\n\n\t\t\t\t\tvar bindingsForPath = bindings[ j ],\n\t\t\t\t\t\tfirstActive = bindingsForPath[ lastCachedIndex ],\n\t\t\t\t\t\tbinding = bindingsForPath[ index ];\n\n\t\t\t\t\tbindingsForPath[ index ] = firstActive;\n\t\t\t\t\tbindingsForPath[ lastCachedIndex ] = binding;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t} // for arguments\n\n\t\tthis.nCachedObjects_ = nCachedObjects;\n\n\t},\n\n\t// remove & forget\n\tuncache: function () {\n\n\t\tvar objects = this._objects,\n\t\t\tnObjects = objects.length,\n\t\t\tnCachedObjects = this.nCachedObjects_,\n\t\t\tindicesByUUID = this._indicesByUUID,\n\t\t\tbindings = this._bindings,\n\t\t\tnBindings = bindings.length;\n\n\t\tfor ( var i = 0, n = arguments.length; i !== n; ++ i ) {\n\n\t\t\tvar object = arguments[ i ],\n\t\t\t\tuuid = object.uuid,\n\t\t\t\tindex = indicesByUUID[ uuid ];\n\n\t\t\tif ( index !== undefined ) {\n\n\t\t\t\tdelete indicesByUUID[ uuid ];\n\n\t\t\t\tif ( index < nCachedObjects ) {\n\n\t\t\t\t\t// object is cached, shrink the CACHED region\n\n\t\t\t\t\tvar firstActiveIndex = -- nCachedObjects,\n\t\t\t\t\t\tlastCachedObject = objects[ firstActiveIndex ],\n\t\t\t\t\t\tlastIndex = -- nObjects,\n\t\t\t\t\t\tlastObject = objects[ lastIndex ];\n\n\t\t\t\t\t// last cached object takes this object's place\n\t\t\t\t\tindicesByUUID[ lastCachedObject.uuid ] = index;\n\t\t\t\t\tobjects[ index ] = lastCachedObject;\n\n\t\t\t\t\t// last object goes to the activated slot and pop\n\t\t\t\t\tindicesByUUID[ lastObject.uuid ] = firstActiveIndex;\n\t\t\t\t\tobjects[ firstActiveIndex ] = lastObject;\n\t\t\t\t\tobjects.pop();\n\n\t\t\t\t\t// accounting is done, now do the same for all bindings\n\n\t\t\t\t\tfor ( var j = 0, m = nBindings; j !== m; ++ j ) {\n\n\t\t\t\t\t\tvar bindingsForPath = bindings[ j ],\n\t\t\t\t\t\t\tlastCached = bindingsForPath[ firstActiveIndex ],\n\t\t\t\t\t\t\tlast = bindingsForPath[ lastIndex ];\n\n\t\t\t\t\t\tbindingsForPath[ index ] = lastCached;\n\t\t\t\t\t\tbindingsForPath[ firstActiveIndex ] = last;\n\t\t\t\t\t\tbindingsForPath.pop();\n\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\n\t\t\t\t\t// object is active, just swap with the last and pop\n\n\t\t\t\t\tvar lastIndex = -- nObjects,\n\t\t\t\t\t\tlastObject = objects[ lastIndex ];\n\n\t\t\t\t\tindicesByUUID[ lastObject.uuid ] = index;\n\t\t\t\t\tobjects[ index ] = lastObject;\n\t\t\t\t\tobjects.pop();\n\n\t\t\t\t\t// accounting is done, now do the same for all bindings\n\n\t\t\t\t\tfor ( var j = 0, m = nBindings; j !== m; ++ j ) {\n\n\t\t\t\t\t\tvar bindingsForPath = bindings[ j ];\n\n\t\t\t\t\t\tbindingsForPath[ index ] = bindingsForPath[ lastIndex ];\n\t\t\t\t\t\tbindingsForPath.pop();\n\n\t\t\t\t\t}\n\n\t\t\t\t} // cached or active\n\n\t\t\t} // if object is known\n\n\t\t} // for arguments\n\n\t\tthis.nCachedObjects_ = nCachedObjects;\n\n\t},\n\n\t// Internal interface used by befriended PropertyBinding.Composite:\n\n\tsubscribe_: function ( path, parsedPath ) {\n\n\t\t// returns an array of bindings for the given path that is changed\n\t\t// according to the contained objects in the group\n\n\t\tvar indicesByPath = this._bindingsIndicesByPath,\n\t\t\tindex = indicesByPath[ path ],\n\t\t\tbindings = this._bindings;\n\n\t\tif ( index !== undefined ) return bindings[ index ];\n\n\t\tvar paths = this._paths,\n\t\t\tparsedPaths = this._parsedPaths,\n\t\t\tobjects = this._objects,\n\t\t\tnObjects = objects.length,\n\t\t\tnCachedObjects = this.nCachedObjects_,\n\t\t\tbindingsForPath = new Array( nObjects );\n\n\t\tindex = bindings.length;\n\n\t\tindicesByPath[ path ] = index;\n\n\t\tpaths.push( path );\n\t\tparsedPaths.push( parsedPath );\n\t\tbindings.push( bindingsForPath );\n\n\t\tfor ( var i = nCachedObjects, n = objects.length; i !== n; ++ i ) {\n\n\t\t\tvar object = objects[ i ];\n\t\t\tbindingsForPath[ i ] = new PropertyBinding( object, path, parsedPath );\n\n\t\t}\n\n\t\treturn bindingsForPath;\n\n\t},\n\n\tunsubscribe_: function ( path ) {\n\n\t\t// tells the group to forget about a property path and no longer\n\t\t// update the array previously obtained with 'subscribe_'\n\n\t\tvar indicesByPath = this._bindingsIndicesByPath,\n\t\t\tindex = indicesByPath[ path ];\n\n\t\tif ( index !== undefined ) {\n\n\t\t\tvar paths = this._paths,\n\t\t\t\tparsedPaths = this._parsedPaths,\n\t\t\t\tbindings = this._bindings,\n\t\t\t\tlastBindingsIndex = bindings.length - 1,\n\t\t\t\tlastBindings = bindings[ lastBindingsIndex ],\n\t\t\t\tlastBindingsPath = path[ lastBindingsIndex ];\n\n\t\t\tindicesByPath[ lastBindingsPath ] = index;\n\n\t\t\tbindings[ index ] = lastBindings;\n\t\t\tbindings.pop();\n\n\t\t\tparsedPaths[ index ] = parsedPaths[ lastBindingsIndex ];\n\t\t\tparsedPaths.pop();\n\n\t\t\tpaths[ index ] = paths[ lastBindingsIndex ];\n\t\t\tpaths.pop();\n\n\t\t}\n\n\t}\n\n} );\n\n/**\n *\n * Action provided by AnimationMixer for scheduling clip playback on specific\n * objects.\n *\n * @author Ben Houston / http://clara.io/\n * @author David Sarno / http://lighthaus.us/\n * @author tschw\n *\n */\n\nfunction AnimationAction( mixer, clip, localRoot ) {\n\n\tthis._mixer = mixer;\n\tthis._clip = clip;\n\tthis._localRoot = localRoot || null;\n\n\tvar tracks = clip.tracks,\n\t\tnTracks = tracks.length,\n\t\tinterpolants = new Array( nTracks );\n\n\tvar interpolantSettings = {\n\t\tendingStart: ZeroCurvatureEnding,\n\t\tendingEnd: ZeroCurvatureEnding\n\t};\n\n\tfor ( var i = 0; i !== nTracks; ++ i ) {\n\n\t\tvar interpolant = tracks[ i ].createInterpolant( null );\n\t\tinterpolants[ i ] = interpolant;\n\t\tinterpolant.settings = interpolantSettings;\n\n\t}\n\n\tthis._interpolantSettings = interpolantSettings;\n\n\tthis._interpolants = interpolants; // bound by the mixer\n\n\t// inside: PropertyMixer (managed by the mixer)\n\tthis._propertyBindings = new Array( nTracks );\n\n\tthis._cacheIndex = null; // for the memory manager\n\tthis._byClipCacheIndex = null; // for the memory manager\n\n\tthis._timeScaleInterpolant = null;\n\tthis._weightInterpolant = null;\n\n\tthis.loop = LoopRepeat;\n\tthis._loopCount = - 1;\n\n\t// global mixer time when the action is to be started\n\t// it's set back to 'null' upon start of the action\n\tthis._startTime = null;\n\n\t// scaled local time of the action\n\t// gets clamped or wrapped to 0..clip.duration according to loop\n\tthis.time = 0;\n\n\tthis.timeScale = 1;\n\tthis._effectiveTimeScale = 1;\n\n\tthis.weight = 1;\n\tthis._effectiveWeight = 1;\n\n\tthis.repetitions = Infinity; // no. of repetitions when looping\n\n\tthis.paused = false; // true -> zero effective time scale\n\tthis.enabled = true; // false -> zero effective weight\n\n\tthis.clampWhenFinished = false;// keep feeding the last frame?\n\n\tthis.zeroSlopeAtStart = true;// for smooth interpolation w/o separate\n\tthis.zeroSlopeAtEnd = true;// clips for start, loop and end\n\n}\n\nObject.assign( AnimationAction.prototype, {\n\n\t// State & Scheduling\n\n\tplay: function () {\n\n\t\tthis._mixer._activateAction( this );\n\n\t\treturn this;\n\n\t},\n\n\tstop: function () {\n\n\t\tthis._mixer._deactivateAction( this );\n\n\t\treturn this.reset();\n\n\t},\n\n\treset: function () {\n\n\t\tthis.paused = false;\n\t\tthis.enabled = true;\n\n\t\tthis.time = 0; // restart clip\n\t\tthis._loopCount = - 1;// forget previous loops\n\t\tthis._startTime = null;// forget scheduling\n\n\t\treturn this.stopFading().stopWarping();\n\n\t},\n\n\tisRunning: function () {\n\n\t\treturn this.enabled && ! this.paused && this.timeScale !== 0 &&\n\t\t\tthis._startTime === null && this._mixer._isActiveAction( this );\n\n\t},\n\n\t// return true when play has been called\n\tisScheduled: function () {\n\n\t\treturn this._mixer._isActiveAction( this );\n\n\t},\n\n\tstartAt: function ( time ) {\n\n\t\tthis._startTime = time;\n\n\t\treturn this;\n\n\t},\n\n\tsetLoop: function ( mode, repetitions ) {\n\n\t\tthis.loop = mode;\n\t\tthis.repetitions = repetitions;\n\n\t\treturn this;\n\n\t},\n\n\t// Weight\n\n\t// set the weight stopping any scheduled fading\n\t// although .enabled = false yields an effective weight of zero, this\n\t// method does *not* change .enabled, because it would be confusing\n\tsetEffectiveWeight: function ( weight ) {\n\n\t\tthis.weight = weight;\n\n\t\t// note: same logic as when updated at runtime\n\t\tthis._effectiveWeight = this.enabled ? weight : 0;\n\n\t\treturn this.stopFading();\n\n\t},\n\n\t// return the weight considering fading and .enabled\n\tgetEffectiveWeight: function () {\n\n\t\treturn this._effectiveWeight;\n\n\t},\n\n\tfadeIn: function ( duration ) {\n\n\t\treturn this._scheduleFading( duration, 0, 1 );\n\n\t},\n\n\tfadeOut: function ( duration ) {\n\n\t\treturn this._scheduleFading( duration, 1, 0 );\n\n\t},\n\n\tcrossFadeFrom: function ( fadeOutAction, duration, warp ) {\n\n\t\tfadeOutAction.fadeOut( duration );\n\t\tthis.fadeIn( duration );\n\n\t\tif ( warp ) {\n\n\t\t\tvar fadeInDuration = this._clip.duration,\n\t\t\t\tfadeOutDuration = fadeOutAction._clip.duration,\n\n\t\t\t\tstartEndRatio = fadeOutDuration / fadeInDuration,\n\t\t\t\tendStartRatio = fadeInDuration / fadeOutDuration;\n\n\t\t\tfadeOutAction.warp( 1.0, startEndRatio, duration );\n\t\t\tthis.warp( endStartRatio, 1.0, duration );\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tcrossFadeTo: function ( fadeInAction, duration, warp ) {\n\n\t\treturn fadeInAction.crossFadeFrom( this, duration, warp );\n\n\t},\n\n\tstopFading: function () {\n\n\t\tvar weightInterpolant = this._weightInterpolant;\n\n\t\tif ( weightInterpolant !== null ) {\n\n\t\t\tthis._weightInterpolant = null;\n\t\t\tthis._mixer._takeBackControlInterpolant( weightInterpolant );\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\t// Time Scale Control\n\n\t// set the time scale stopping any scheduled warping\n\t// although .paused = true yields an effective time scale of zero, this\n\t// method does *not* change .paused, because it would be confusing\n\tsetEffectiveTimeScale: function ( timeScale ) {\n\n\t\tthis.timeScale = timeScale;\n\t\tthis._effectiveTimeScale = this.paused ? 0 : timeScale;\n\n\t\treturn this.stopWarping();\n\n\t},\n\n\t// return the time scale considering warping and .paused\n\tgetEffectiveTimeScale: function () {\n\n\t\treturn this._effectiveTimeScale;\n\n\t},\n\n\tsetDuration: function ( duration ) {\n\n\t\tthis.timeScale = this._clip.duration / duration;\n\n\t\treturn this.stopWarping();\n\n\t},\n\n\tsyncWith: function ( action ) {\n\n\t\tthis.time = action.time;\n\t\tthis.timeScale = action.timeScale;\n\n\t\treturn this.stopWarping();\n\n\t},\n\n\thalt: function ( duration ) {\n\n\t\treturn this.warp( this._effectiveTimeScale, 0, duration );\n\n\t},\n\n\twarp: function ( startTimeScale, endTimeScale, duration ) {\n\n\t\tvar mixer = this._mixer, now = mixer.time,\n\t\t\tinterpolant = this._timeScaleInterpolant,\n\n\t\t\ttimeScale = this.timeScale;\n\n\t\tif ( interpolant === null ) {\n\n\t\t\tinterpolant = mixer._lendControlInterpolant();\n\t\t\tthis._timeScaleInterpolant = interpolant;\n\n\t\t}\n\n\t\tvar times = interpolant.parameterPositions,\n\t\t\tvalues = interpolant.sampleValues;\n\n\t\ttimes[ 0 ] = now;\n\t\ttimes[ 1 ] = now + duration;\n\n\t\tvalues[ 0 ] = startTimeScale / timeScale;\n\t\tvalues[ 1 ] = endTimeScale / timeScale;\n\n\t\treturn this;\n\n\t},\n\n\tstopWarping: function () {\n\n\t\tvar timeScaleInterpolant = this._timeScaleInterpolant;\n\n\t\tif ( timeScaleInterpolant !== null ) {\n\n\t\t\tthis._timeScaleInterpolant = null;\n\t\t\tthis._mixer._takeBackControlInterpolant( timeScaleInterpolant );\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\t// Object Accessors\n\n\tgetMixer: function () {\n\n\t\treturn this._mixer;\n\n\t},\n\n\tgetClip: function () {\n\n\t\treturn this._clip;\n\n\t},\n\n\tgetRoot: function () {\n\n\t\treturn this._localRoot || this._mixer._root;\n\n\t},\n\n\t// Interna\n\n\t_update: function ( time, deltaTime, timeDirection, accuIndex ) {\n\n\t\t// called by the mixer\n\n\t\tif ( ! this.enabled ) {\n\n\t\t\t// call ._updateWeight() to update ._effectiveWeight\n\n\t\t\tthis._updateWeight( time );\n\t\t\treturn;\n\n\t\t}\n\n\t\tvar startTime = this._startTime;\n\n\t\tif ( startTime !== null ) {\n\n\t\t\t// check for scheduled start of action\n\n\t\t\tvar timeRunning = ( time - startTime ) * timeDirection;\n\t\t\tif ( timeRunning < 0 || timeDirection === 0 ) {\n\n\t\t\t\treturn; // yet to come / don't decide when delta = 0\n\n\t\t\t}\n\n\t\t\t// start\n\n\t\t\tthis._startTime = null; // unschedule\n\t\t\tdeltaTime = timeDirection * timeRunning;\n\n\t\t}\n\n\t\t// apply time scale and advance time\n\n\t\tdeltaTime *= this._updateTimeScale( time );\n\t\tvar clipTime = this._updateTime( deltaTime );\n\n\t\t// note: _updateTime may disable the action resulting in\n\t\t// an effective weight of 0\n\n\t\tvar weight = this._updateWeight( time );\n\n\t\tif ( weight > 0 ) {\n\n\t\t\tvar interpolants = this._interpolants;\n\t\t\tvar propertyMixers = this._propertyBindings;\n\n\t\t\tfor ( var j = 0, m = interpolants.length; j !== m; ++ j ) {\n\n\t\t\t\tinterpolants[ j ].evaluate( clipTime );\n\t\t\t\tpropertyMixers[ j ].accumulate( accuIndex, weight );\n\n\t\t\t}\n\n\t\t}\n\n\t},\n\n\t_updateWeight: function ( time ) {\n\n\t\tvar weight = 0;\n\n\t\tif ( this.enabled ) {\n\n\t\t\tweight = this.weight;\n\t\t\tvar interpolant = this._weightInterpolant;\n\n\t\t\tif ( interpolant !== null ) {\n\n\t\t\t\tvar interpolantValue = interpolant.evaluate( time )[ 0 ];\n\n\t\t\t\tweight *= interpolantValue;\n\n\t\t\t\tif ( time > interpolant.parameterPositions[ 1 ] ) {\n\n\t\t\t\t\tthis.stopFading();\n\n\t\t\t\t\tif ( interpolantValue === 0 ) {\n\n\t\t\t\t\t\t// faded out, disable\n\t\t\t\t\t\tthis.enabled = false;\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tthis._effectiveWeight = weight;\n\t\treturn weight;\n\n\t},\n\n\t_updateTimeScale: function ( time ) {\n\n\t\tvar timeScale = 0;\n\n\t\tif ( ! this.paused ) {\n\n\t\t\ttimeScale = this.timeScale;\n\n\t\t\tvar interpolant = this._timeScaleInterpolant;\n\n\t\t\tif ( interpolant !== null ) {\n\n\t\t\t\tvar interpolantValue = interpolant.evaluate( time )[ 0 ];\n\n\t\t\t\ttimeScale *= interpolantValue;\n\n\t\t\t\tif ( time > interpolant.parameterPositions[ 1 ] ) {\n\n\t\t\t\t\tthis.stopWarping();\n\n\t\t\t\t\tif ( timeScale === 0 ) {\n\n\t\t\t\t\t\t// motion has halted, pause\n\t\t\t\t\t\tthis.paused = true;\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\t// warp done - apply final time scale\n\t\t\t\t\t\tthis.timeScale = timeScale;\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tthis._effectiveTimeScale = timeScale;\n\t\treturn timeScale;\n\n\t},\n\n\t_updateTime: function ( deltaTime ) {\n\n\t\tvar time = this.time + deltaTime;\n\t\tvar duration = this._clip.duration;\n\t\tvar loop = this.loop;\n\t\tvar loopCount = this._loopCount;\n\n\t\tvar pingPong = ( loop === LoopPingPong );\n\n\t\tif ( deltaTime === 0 ) {\n\n\t\t\tif ( loopCount === - 1 ) return time;\n\n\t\t\treturn ( pingPong && ( loopCount & 1 ) === 1 ) ? duration - time : time;\n\n\t\t}\n\n\t\tif ( loop === LoopOnce ) {\n\n\t\t\tif ( loopCount === - 1 ) {\n\n\t\t\t\t// just started\n\n\t\t\t\tthis._loopCount = 0;\n\t\t\t\tthis._setEndings( true, true, false );\n\n\t\t\t}\n\n\t\t\thandle_stop: {\n\n\t\t\t\tif ( time >= duration ) {\n\n\t\t\t\t\ttime = duration;\n\n\t\t\t\t} else if ( time < 0 ) {\n\n\t\t\t\t\ttime = 0;\n\n\t\t\t\t} else {\n\n\t\t\t\t\tthis.time = time;\n\n\t\t\t\t\tbreak handle_stop;\n\n\t\t\t\t}\n\n\t\t\t\tif ( this.clampWhenFinished ) this.paused = true;\n\t\t\t\telse this.enabled = false;\n\n\t\t\t\tthis.time = time;\n\n\t\t\t\tthis._mixer.dispatchEvent( {\n\t\t\t\t\ttype: 'finished', action: this,\n\t\t\t\t\tdirection: deltaTime < 0 ? - 1 : 1\n\t\t\t\t} );\n\n\t\t\t}\n\n\t\t} else { // repetitive Repeat or PingPong\n\n\t\t\tif ( loopCount === - 1 ) {\n\n\t\t\t\t// just started\n\n\t\t\t\tif ( deltaTime >= 0 ) {\n\n\t\t\t\t\tloopCount = 0;\n\n\t\t\t\t\tthis._setEndings( true, this.repetitions === 0, pingPong );\n\n\t\t\t\t} else {\n\n\t\t\t\t\t// when looping in reverse direction, the initial\n\t\t\t\t\t// transition through zero counts as a repetition,\n\t\t\t\t\t// so leave loopCount at -1\n\n\t\t\t\t\tthis._setEndings( this.repetitions === 0, true, pingPong );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tif ( time >= duration || time < 0 ) {\n\n\t\t\t\t// wrap around\n\n\t\t\t\tvar loopDelta = Math.floor( time / duration ); // signed\n\t\t\t\ttime -= duration * loopDelta;\n\n\t\t\t\tloopCount += Math.abs( loopDelta );\n\n\t\t\t\tvar pending = this.repetitions - loopCount;\n\n\t\t\t\tif ( pending <= 0 ) {\n\n\t\t\t\t\t// have to stop (switch state, clamp time, fire event)\n\n\t\t\t\t\tif ( this.clampWhenFinished ) this.paused = true;\n\t\t\t\t\telse this.enabled = false;\n\n\t\t\t\t\ttime = deltaTime > 0 ? duration : 0;\n\n\t\t\t\t\tthis.time = time;\n\n\t\t\t\t\tthis._mixer.dispatchEvent( {\n\t\t\t\t\t\ttype: 'finished', action: this,\n\t\t\t\t\t\tdirection: deltaTime > 0 ? 1 : - 1\n\t\t\t\t\t} );\n\n\t\t\t\t} else {\n\n\t\t\t\t\t// keep running\n\n\t\t\t\t\tif ( pending === 1 ) {\n\n\t\t\t\t\t\t// entering the last round\n\n\t\t\t\t\t\tvar atStart = deltaTime < 0;\n\t\t\t\t\t\tthis._setEndings( atStart, ! atStart, pingPong );\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tthis._setEndings( false, false, pingPong );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tthis._loopCount = loopCount;\n\n\t\t\t\t\tthis.time = time;\n\n\t\t\t\t\tthis._mixer.dispatchEvent( {\n\t\t\t\t\t\ttype: 'loop', action: this, loopDelta: loopDelta\n\t\t\t\t\t} );\n\n\t\t\t\t}\n\n\t\t\t} else {\n\n\t\t\t\tthis.time = time;\n\n\t\t\t}\n\n\t\t\tif ( pingPong && ( loopCount & 1 ) === 1 ) {\n\n\t\t\t\t// invert time for the \"pong round\"\n\n\t\t\t\treturn duration - time;\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn time;\n\n\t},\n\n\t_setEndings: function ( atStart, atEnd, pingPong ) {\n\n\t\tvar settings = this._interpolantSettings;\n\n\t\tif ( pingPong ) {\n\n\t\t\tsettings.endingStart = ZeroSlopeEnding;\n\t\t\tsettings.endingEnd = ZeroSlopeEnding;\n\n\t\t} else {\n\n\t\t\t// assuming for LoopOnce atStart == atEnd == true\n\n\t\t\tif ( atStart ) {\n\n\t\t\t\tsettings.endingStart = this.zeroSlopeAtStart ? ZeroSlopeEnding : ZeroCurvatureEnding;\n\n\t\t\t} else {\n\n\t\t\t\tsettings.endingStart = WrapAroundEnding;\n\n\t\t\t}\n\n\t\t\tif ( atEnd ) {\n\n\t\t\t\tsettings.endingEnd = this.zeroSlopeAtEnd ? ZeroSlopeEnding : ZeroCurvatureEnding;\n\n\t\t\t} else {\n\n\t\t\t\tsettings.endingEnd \t = WrapAroundEnding;\n\n\t\t\t}\n\n\t\t}\n\n\t},\n\n\t_scheduleFading: function ( duration, weightNow, weightThen ) {\n\n\t\tvar mixer = this._mixer, now = mixer.time,\n\t\t\tinterpolant = this._weightInterpolant;\n\n\t\tif ( interpolant === null ) {\n\n\t\t\tinterpolant = mixer._lendControlInterpolant();\n\t\t\tthis._weightInterpolant = interpolant;\n\n\t\t}\n\n\t\tvar times = interpolant.parameterPositions,\n\t\t\tvalues = interpolant.sampleValues;\n\n\t\ttimes[ 0 ] = now;\n\t\tvalues[ 0 ] = weightNow;\n\t\ttimes[ 1 ] = now + duration;\n\t\tvalues[ 1 ] = weightThen;\n\n\t\treturn this;\n\n\t}\n\n} );\n\n/**\n *\n * Player for AnimationClips.\n *\n *\n * @author Ben Houston / http://clara.io/\n * @author David Sarno / http://lighthaus.us/\n * @author tschw\n */\n\nfunction AnimationMixer( root ) {\n\n\tthis._root = root;\n\tthis._initMemoryManager();\n\tthis._accuIndex = 0;\n\n\tthis.time = 0;\n\n\tthis.timeScale = 1.0;\n\n}\n\nAnimationMixer.prototype = Object.assign( Object.create( EventDispatcher.prototype ), {\n\n\tconstructor: AnimationMixer,\n\n\t_bindAction: function ( action, prototypeAction ) {\n\n\t\tvar root = action._localRoot || this._root,\n\t\t\ttracks = action._clip.tracks,\n\t\t\tnTracks = tracks.length,\n\t\t\tbindings = action._propertyBindings,\n\t\t\tinterpolants = action._interpolants,\n\t\t\trootUuid = root.uuid,\n\t\t\tbindingsByRoot = this._bindingsByRootAndName,\n\t\t\tbindingsByName = bindingsByRoot[ rootUuid ];\n\n\t\tif ( bindingsByName === undefined ) {\n\n\t\t\tbindingsByName = {};\n\t\t\tbindingsByRoot[ rootUuid ] = bindingsByName;\n\n\t\t}\n\n\t\tfor ( var i = 0; i !== nTracks; ++ i ) {\n\n\t\t\tvar track = tracks[ i ],\n\t\t\t\ttrackName = track.name,\n\t\t\t\tbinding = bindingsByName[ trackName ];\n\n\t\t\tif ( binding !== undefined ) {\n\n\t\t\t\tbindings[ i ] = binding;\n\n\t\t\t} else {\n\n\t\t\t\tbinding = bindings[ i ];\n\n\t\t\t\tif ( binding !== undefined ) {\n\n\t\t\t\t\t// existing binding, make sure the cache knows\n\n\t\t\t\t\tif ( binding._cacheIndex === null ) {\n\n\t\t\t\t\t\t++ binding.referenceCount;\n\t\t\t\t\t\tthis._addInactiveBinding( binding, rootUuid, trackName );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tcontinue;\n\n\t\t\t\t}\n\n\t\t\t\tvar path = prototypeAction && prototypeAction.\n\t\t\t\t\t_propertyBindings[ i ].binding.parsedPath;\n\n\t\t\t\tbinding = new PropertyMixer(\n\t\t\t\t\tPropertyBinding.create( root, trackName, path ),\n\t\t\t\t\ttrack.ValueTypeName, track.getValueSize() );\n\n\t\t\t\t++ binding.referenceCount;\n\t\t\t\tthis._addInactiveBinding( binding, rootUuid, trackName );\n\n\t\t\t\tbindings[ i ] = binding;\n\n\t\t\t}\n\n\t\t\tinterpolants[ i ].resultBuffer = binding.buffer;\n\n\t\t}\n\n\t},\n\n\t_activateAction: function ( action ) {\n\n\t\tif ( ! this._isActiveAction( action ) ) {\n\n\t\t\tif ( action._cacheIndex === null ) {\n\n\t\t\t\t// this action has been forgotten by the cache, but the user\n\t\t\t\t// appears to be still using it -> rebind\n\n\t\t\t\tvar rootUuid = ( action._localRoot || this._root ).uuid,\n\t\t\t\t\tclipUuid = action._clip.uuid,\n\t\t\t\t\tactionsForClip = this._actionsByClip[ clipUuid ];\n\n\t\t\t\tthis._bindAction( action,\n\t\t\t\t\tactionsForClip && actionsForClip.knownActions[ 0 ] );\n\n\t\t\t\tthis._addInactiveAction( action, clipUuid, rootUuid );\n\n\t\t\t}\n\n\t\t\tvar bindings = action._propertyBindings;\n\n\t\t\t// increment reference counts / sort out state\n\t\t\tfor ( var i = 0, n = bindings.length; i !== n; ++ i ) {\n\n\t\t\t\tvar binding = bindings[ i ];\n\n\t\t\t\tif ( binding.useCount ++ === 0 ) {\n\n\t\t\t\t\tthis._lendBinding( binding );\n\t\t\t\t\tbinding.saveOriginalState();\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tthis._lendAction( action );\n\n\t\t}\n\n\t},\n\n\t_deactivateAction: function ( action ) {\n\n\t\tif ( this._isActiveAction( action ) ) {\n\n\t\t\tvar bindings = action._propertyBindings;\n\n\t\t\t// decrement reference counts / sort out state\n\t\t\tfor ( var i = 0, n = bindings.length; i !== n; ++ i ) {\n\n\t\t\t\tvar binding = bindings[ i ];\n\n\t\t\t\tif ( -- binding.useCount === 0 ) {\n\n\t\t\t\t\tbinding.restoreOriginalState();\n\t\t\t\t\tthis._takeBackBinding( binding );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tthis._takeBackAction( action );\n\n\t\t}\n\n\t},\n\n\t// Memory manager\n\n\t_initMemoryManager: function () {\n\n\t\tthis._actions = []; // 'nActiveActions' followed by inactive ones\n\t\tthis._nActiveActions = 0;\n\n\t\tthis._actionsByClip = {};\n\t\t// inside:\n\t\t// {\n\t\t// \tknownActions: Array< AnimationAction > - used as prototypes\n\t\t// \tactionByRoot: AnimationAction - lookup\n\t\t// }\n\n\n\t\tthis._bindings = []; // 'nActiveBindings' followed by inactive ones\n\t\tthis._nActiveBindings = 0;\n\n\t\tthis._bindingsByRootAndName = {}; // inside: Map< name, PropertyMixer >\n\n\n\t\tthis._controlInterpolants = []; // same game as above\n\t\tthis._nActiveControlInterpolants = 0;\n\n\t\tvar scope = this;\n\n\t\tthis.stats = {\n\n\t\t\tactions: {\n\t\t\t\tget total() {\n\n\t\t\t\t\treturn scope._actions.length;\n\n\t\t\t\t},\n\t\t\t\tget inUse() {\n\n\t\t\t\t\treturn scope._nActiveActions;\n\n\t\t\t\t}\n\t\t\t},\n\t\t\tbindings: {\n\t\t\t\tget total() {\n\n\t\t\t\t\treturn scope._bindings.length;\n\n\t\t\t\t},\n\t\t\t\tget inUse() {\n\n\t\t\t\t\treturn scope._nActiveBindings;\n\n\t\t\t\t}\n\t\t\t},\n\t\t\tcontrolInterpolants: {\n\t\t\t\tget total() {\n\n\t\t\t\t\treturn scope._controlInterpolants.length;\n\n\t\t\t\t},\n\t\t\t\tget inUse() {\n\n\t\t\t\t\treturn scope._nActiveControlInterpolants;\n\n\t\t\t\t}\n\t\t\t}\n\n\t\t};\n\n\t},\n\n\t// Memory management for AnimationAction objects\n\n\t_isActiveAction: function ( action ) {\n\n\t\tvar index = action._cacheIndex;\n\t\treturn index !== null && index < this._nActiveActions;\n\n\t},\n\n\t_addInactiveAction: function ( action, clipUuid, rootUuid ) {\n\n\t\tvar actions = this._actions,\n\t\t\tactionsByClip = this._actionsByClip,\n\t\t\tactionsForClip = actionsByClip[ clipUuid ];\n\n\t\tif ( actionsForClip === undefined ) {\n\n\t\t\tactionsForClip = {\n\n\t\t\t\tknownActions: [ action ],\n\t\t\t\tactionByRoot: {}\n\n\t\t\t};\n\n\t\t\taction._byClipCacheIndex = 0;\n\n\t\t\tactionsByClip[ clipUuid ] = actionsForClip;\n\n\t\t} else {\n\n\t\t\tvar knownActions = actionsForClip.knownActions;\n\n\t\t\taction._byClipCacheIndex = knownActions.length;\n\t\t\tknownActions.push( action );\n\n\t\t}\n\n\t\taction._cacheIndex = actions.length;\n\t\tactions.push( action );\n\n\t\tactionsForClip.actionByRoot[ rootUuid ] = action;\n\n\t},\n\n\t_removeInactiveAction: function ( action ) {\n\n\t\tvar actions = this._actions,\n\t\t\tlastInactiveAction = actions[ actions.length - 1 ],\n\t\t\tcacheIndex = action._cacheIndex;\n\n\t\tlastInactiveAction._cacheIndex = cacheIndex;\n\t\tactions[ cacheIndex ] = lastInactiveAction;\n\t\tactions.pop();\n\n\t\taction._cacheIndex = null;\n\n\n\t\tvar clipUuid = action._clip.uuid,\n\t\t\tactionsByClip = this._actionsByClip,\n\t\t\tactionsForClip = actionsByClip[ clipUuid ],\n\t\t\tknownActionsForClip = actionsForClip.knownActions,\n\n\t\t\tlastKnownAction =\n\t\t\t\tknownActionsForClip[ knownActionsForClip.length - 1 ],\n\n\t\t\tbyClipCacheIndex = action._byClipCacheIndex;\n\n\t\tlastKnownAction._byClipCacheIndex = byClipCacheIndex;\n\t\tknownActionsForClip[ byClipCacheIndex ] = lastKnownAction;\n\t\tknownActionsForClip.pop();\n\n\t\taction._byClipCacheIndex = null;\n\n\n\t\tvar actionByRoot = actionsForClip.actionByRoot,\n\t\t\trootUuid = ( action._localRoot || this._root ).uuid;\n\n\t\tdelete actionByRoot[ rootUuid ];\n\n\t\tif ( knownActionsForClip.length === 0 ) {\n\n\t\t\tdelete actionsByClip[ clipUuid ];\n\n\t\t}\n\n\t\tthis._removeInactiveBindingsForAction( action );\n\n\t},\n\n\t_removeInactiveBindingsForAction: function ( action ) {\n\n\t\tvar bindings = action._propertyBindings;\n\t\tfor ( var i = 0, n = bindings.length; i !== n; ++ i ) {\n\n\t\t\tvar binding = bindings[ i ];\n\n\t\t\tif ( -- binding.referenceCount === 0 ) {\n\n\t\t\t\tthis._removeInactiveBinding( binding );\n\n\t\t\t}\n\n\t\t}\n\n\t},\n\n\t_lendAction: function ( action ) {\n\n\t\t// [ active actions |  inactive actions  ]\n\t\t// [  active actions >| inactive actions ]\n\t\t//                 s        a\n\t\t//                  <-swap->\n\t\t//                 a        s\n\n\t\tvar actions = this._actions,\n\t\t\tprevIndex = action._cacheIndex,\n\n\t\t\tlastActiveIndex = this._nActiveActions ++,\n\n\t\t\tfirstInactiveAction = actions[ lastActiveIndex ];\n\n\t\taction._cacheIndex = lastActiveIndex;\n\t\tactions[ lastActiveIndex ] = action;\n\n\t\tfirstInactiveAction._cacheIndex = prevIndex;\n\t\tactions[ prevIndex ] = firstInactiveAction;\n\n\t},\n\n\t_takeBackAction: function ( action ) {\n\n\t\t// [  active actions  | inactive actions ]\n\t\t// [ active actions |< inactive actions  ]\n\t\t//        a        s\n\t\t//         <-swap->\n\t\t//        s        a\n\n\t\tvar actions = this._actions,\n\t\t\tprevIndex = action._cacheIndex,\n\n\t\t\tfirstInactiveIndex = -- this._nActiveActions,\n\n\t\t\tlastActiveAction = actions[ firstInactiveIndex ];\n\n\t\taction._cacheIndex = firstInactiveIndex;\n\t\tactions[ firstInactiveIndex ] = action;\n\n\t\tlastActiveAction._cacheIndex = prevIndex;\n\t\tactions[ prevIndex ] = lastActiveAction;\n\n\t},\n\n\t// Memory management for PropertyMixer objects\n\n\t_addInactiveBinding: function ( binding, rootUuid, trackName ) {\n\n\t\tvar bindingsByRoot = this._bindingsByRootAndName,\n\t\t\tbindingByName = bindingsByRoot[ rootUuid ],\n\n\t\t\tbindings = this._bindings;\n\n\t\tif ( bindingByName === undefined ) {\n\n\t\t\tbindingByName = {};\n\t\t\tbindingsByRoot[ rootUuid ] = bindingByName;\n\n\t\t}\n\n\t\tbindingByName[ trackName ] = binding;\n\n\t\tbinding._cacheIndex = bindings.length;\n\t\tbindings.push( binding );\n\n\t},\n\n\t_removeInactiveBinding: function ( binding ) {\n\n\t\tvar bindings = this._bindings,\n\t\t\tpropBinding = binding.binding,\n\t\t\trootUuid = propBinding.rootNode.uuid,\n\t\t\ttrackName = propBinding.path,\n\t\t\tbindingsByRoot = this._bindingsByRootAndName,\n\t\t\tbindingByName = bindingsByRoot[ rootUuid ],\n\n\t\t\tlastInactiveBinding = bindings[ bindings.length - 1 ],\n\t\t\tcacheIndex = binding._cacheIndex;\n\n\t\tlastInactiveBinding._cacheIndex = cacheIndex;\n\t\tbindings[ cacheIndex ] = lastInactiveBinding;\n\t\tbindings.pop();\n\n\t\tdelete bindingByName[ trackName ];\n\n\t\tremove_empty_map: {\n\n\t\t\tfor ( var _ in bindingByName ) break remove_empty_map; // eslint-disable-line no-unused-vars\n\n\t\t\tdelete bindingsByRoot[ rootUuid ];\n\n\t\t}\n\n\t},\n\n\t_lendBinding: function ( binding ) {\n\n\t\tvar bindings = this._bindings,\n\t\t\tprevIndex = binding._cacheIndex,\n\n\t\t\tlastActiveIndex = this._nActiveBindings ++,\n\n\t\t\tfirstInactiveBinding = bindings[ lastActiveIndex ];\n\n\t\tbinding._cacheIndex = lastActiveIndex;\n\t\tbindings[ lastActiveIndex ] = binding;\n\n\t\tfirstInactiveBinding._cacheIndex = prevIndex;\n\t\tbindings[ prevIndex ] = firstInactiveBinding;\n\n\t},\n\n\t_takeBackBinding: function ( binding ) {\n\n\t\tvar bindings = this._bindings,\n\t\t\tprevIndex = binding._cacheIndex,\n\n\t\t\tfirstInactiveIndex = -- this._nActiveBindings,\n\n\t\t\tlastActiveBinding = bindings[ firstInactiveIndex ];\n\n\t\tbinding._cacheIndex = firstInactiveIndex;\n\t\tbindings[ firstInactiveIndex ] = binding;\n\n\t\tlastActiveBinding._cacheIndex = prevIndex;\n\t\tbindings[ prevIndex ] = lastActiveBinding;\n\n\t},\n\n\n\t// Memory management of Interpolants for weight and time scale\n\n\t_lendControlInterpolant: function () {\n\n\t\tvar interpolants = this._controlInterpolants,\n\t\t\tlastActiveIndex = this._nActiveControlInterpolants ++,\n\t\t\tinterpolant = interpolants[ lastActiveIndex ];\n\n\t\tif ( interpolant === undefined ) {\n\n\t\t\tinterpolant = new LinearInterpolant(\n\t\t\t\tnew Float32Array( 2 ), new Float32Array( 2 ),\n\t\t\t\t1, this._controlInterpolantsResultBuffer );\n\n\t\t\tinterpolant.__cacheIndex = lastActiveIndex;\n\t\t\tinterpolants[ lastActiveIndex ] = interpolant;\n\n\t\t}\n\n\t\treturn interpolant;\n\n\t},\n\n\t_takeBackControlInterpolant: function ( interpolant ) {\n\n\t\tvar interpolants = this._controlInterpolants,\n\t\t\tprevIndex = interpolant.__cacheIndex,\n\n\t\t\tfirstInactiveIndex = -- this._nActiveControlInterpolants,\n\n\t\t\tlastActiveInterpolant = interpolants[ firstInactiveIndex ];\n\n\t\tinterpolant.__cacheIndex = firstInactiveIndex;\n\t\tinterpolants[ firstInactiveIndex ] = interpolant;\n\n\t\tlastActiveInterpolant.__cacheIndex = prevIndex;\n\t\tinterpolants[ prevIndex ] = lastActiveInterpolant;\n\n\t},\n\n\t_controlInterpolantsResultBuffer: new Float32Array( 1 ),\n\n\t// return an action for a clip optionally using a custom root target\n\t// object (this method allocates a lot of dynamic memory in case a\n\t// previously unknown clip/root combination is specified)\n\tclipAction: function ( clip, optionalRoot ) {\n\n\t\tvar root = optionalRoot || this._root,\n\t\t\trootUuid = root.uuid,\n\n\t\t\tclipObject = typeof clip === 'string' ?\n\t\t\t\tAnimationClip.findByName( root, clip ) : clip,\n\n\t\t\tclipUuid = clipObject !== null ? clipObject.uuid : clip,\n\n\t\t\tactionsForClip = this._actionsByClip[ clipUuid ],\n\t\t\tprototypeAction = null;\n\n\t\tif ( actionsForClip !== undefined ) {\n\n\t\t\tvar existingAction =\n\t\t\t\t\tactionsForClip.actionByRoot[ rootUuid ];\n\n\t\t\tif ( existingAction !== undefined ) {\n\n\t\t\t\treturn existingAction;\n\n\t\t\t}\n\n\t\t\t// we know the clip, so we don't have to parse all\n\t\t\t// the bindings again but can just copy\n\t\t\tprototypeAction = actionsForClip.knownActions[ 0 ];\n\n\t\t\t// also, take the clip from the prototype action\n\t\t\tif ( clipObject === null )\n\t\t\t\tclipObject = prototypeAction._clip;\n\n\t\t}\n\n\t\t// clip must be known when specified via string\n\t\tif ( clipObject === null ) return null;\n\n\t\t// allocate all resources required to run it\n\t\tvar newAction = new AnimationAction( this, clipObject, optionalRoot );\n\n\t\tthis._bindAction( newAction, prototypeAction );\n\n\t\t// and make the action known to the memory manager\n\t\tthis._addInactiveAction( newAction, clipUuid, rootUuid );\n\n\t\treturn newAction;\n\n\t},\n\n\t// get an existing action\n\texistingAction: function ( clip, optionalRoot ) {\n\n\t\tvar root = optionalRoot || this._root,\n\t\t\trootUuid = root.uuid,\n\n\t\t\tclipObject = typeof clip === 'string' ?\n\t\t\t\tAnimationClip.findByName( root, clip ) : clip,\n\n\t\t\tclipUuid = clipObject ? clipObject.uuid : clip,\n\n\t\t\tactionsForClip = this._actionsByClip[ clipUuid ];\n\n\t\tif ( actionsForClip !== undefined ) {\n\n\t\t\treturn actionsForClip.actionByRoot[ rootUuid ] || null;\n\n\t\t}\n\n\t\treturn null;\n\n\t},\n\n\t// deactivates all previously scheduled actions\n\tstopAllAction: function () {\n\n\t\tvar actions = this._actions,\n\t\t\tnActions = this._nActiveActions,\n\t\t\tbindings = this._bindings,\n\t\t\tnBindings = this._nActiveBindings;\n\n\t\tthis._nActiveActions = 0;\n\t\tthis._nActiveBindings = 0;\n\n\t\tfor ( var i = 0; i !== nActions; ++ i ) {\n\n\t\t\tactions[ i ].reset();\n\n\t\t}\n\n\t\tfor ( var i = 0; i !== nBindings; ++ i ) {\n\n\t\t\tbindings[ i ].useCount = 0;\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\t// advance the time and update apply the animation\n\tupdate: function ( deltaTime ) {\n\n\t\tdeltaTime *= this.timeScale;\n\n\t\tvar actions = this._actions,\n\t\t\tnActions = this._nActiveActions,\n\n\t\t\ttime = this.time += deltaTime,\n\t\t\ttimeDirection = Math.sign( deltaTime ),\n\n\t\t\taccuIndex = this._accuIndex ^= 1;\n\n\t\t// run active actions\n\n\t\tfor ( var i = 0; i !== nActions; ++ i ) {\n\n\t\t\tvar action = actions[ i ];\n\n\t\t\taction._update( time, deltaTime, timeDirection, accuIndex );\n\n\t\t}\n\n\t\t// update scene graph\n\n\t\tvar bindings = this._bindings,\n\t\t\tnBindings = this._nActiveBindings;\n\n\t\tfor ( var i = 0; i !== nBindings; ++ i ) {\n\n\t\t\tbindings[ i ].apply( accuIndex );\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\t// return this mixer's root target object\n\tgetRoot: function () {\n\n\t\treturn this._root;\n\n\t},\n\n\t// free all resources specific to a particular clip\n\tuncacheClip: function ( clip ) {\n\n\t\tvar actions = this._actions,\n\t\t\tclipUuid = clip.uuid,\n\t\t\tactionsByClip = this._actionsByClip,\n\t\t\tactionsForClip = actionsByClip[ clipUuid ];\n\n\t\tif ( actionsForClip !== undefined ) {\n\n\t\t\t// note: just calling _removeInactiveAction would mess up the\n\t\t\t// iteration state and also require updating the state we can\n\t\t\t// just throw away\n\n\t\t\tvar actionsToRemove = actionsForClip.knownActions;\n\n\t\t\tfor ( var i = 0, n = actionsToRemove.length; i !== n; ++ i ) {\n\n\t\t\t\tvar action = actionsToRemove[ i ];\n\n\t\t\t\tthis._deactivateAction( action );\n\n\t\t\t\tvar cacheIndex = action._cacheIndex,\n\t\t\t\t\tlastInactiveAction = actions[ actions.length - 1 ];\n\n\t\t\t\taction._cacheIndex = null;\n\t\t\t\taction._byClipCacheIndex = null;\n\n\t\t\t\tlastInactiveAction._cacheIndex = cacheIndex;\n\t\t\t\tactions[ cacheIndex ] = lastInactiveAction;\n\t\t\t\tactions.pop();\n\n\t\t\t\tthis._removeInactiveBindingsForAction( action );\n\n\t\t\t}\n\n\t\t\tdelete actionsByClip[ clipUuid ];\n\n\t\t}\n\n\t},\n\n\t// free all resources specific to a particular root target object\n\tuncacheRoot: function ( root ) {\n\n\t\tvar rootUuid = root.uuid,\n\t\t\tactionsByClip = this._actionsByClip;\n\n\t\tfor ( var clipUuid in actionsByClip ) {\n\n\t\t\tvar actionByRoot = actionsByClip[ clipUuid ].actionByRoot,\n\t\t\t\taction = actionByRoot[ rootUuid ];\n\n\t\t\tif ( action !== undefined ) {\n\n\t\t\t\tthis._deactivateAction( action );\n\t\t\t\tthis._removeInactiveAction( action );\n\n\t\t\t}\n\n\t\t}\n\n\t\tvar bindingsByRoot = this._bindingsByRootAndName,\n\t\t\tbindingByName = bindingsByRoot[ rootUuid ];\n\n\t\tif ( bindingByName !== undefined ) {\n\n\t\t\tfor ( var trackName in bindingByName ) {\n\n\t\t\t\tvar binding = bindingByName[ trackName ];\n\t\t\t\tbinding.restoreOriginalState();\n\t\t\t\tthis._removeInactiveBinding( binding );\n\n\t\t\t}\n\n\t\t}\n\n\t},\n\n\t// remove a targeted clip from the cache\n\tuncacheAction: function ( clip, optionalRoot ) {\n\n\t\tvar action = this.existingAction( clip, optionalRoot );\n\n\t\tif ( action !== null ) {\n\n\t\t\tthis._deactivateAction( action );\n\t\t\tthis._removeInactiveAction( action );\n\n\t\t}\n\n\t}\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction Uniform( value ) {\n\n\tif ( typeof value === 'string' ) {\n\n\t\tconsole.warn( 'THREE.Uniform: Type parameter is no longer needed.' );\n\t\tvalue = arguments[ 1 ];\n\n\t}\n\n\tthis.value = value;\n\n}\n\nUniform.prototype.clone = function () {\n\n\treturn new Uniform( this.value.clone === undefined ? this.value : this.value.clone() );\n\n};\n\n/**\n * @author benaadams / https://twitter.com/ben_a_adams\n */\n\nfunction InstancedInterleavedBuffer( array, stride, meshPerAttribute ) {\n\n\tInterleavedBuffer.call( this, array, stride );\n\n\tthis.meshPerAttribute = meshPerAttribute || 1;\n\n}\n\nInstancedInterleavedBuffer.prototype = Object.assign( Object.create( InterleavedBuffer.prototype ), {\n\n\tconstructor: InstancedInterleavedBuffer,\n\n\tisInstancedInterleavedBuffer: true,\n\n\tcopy: function ( source ) {\n\n\t\tInterleavedBuffer.prototype.copy.call( this, source );\n\n\t\tthis.meshPerAttribute = source.meshPerAttribute;\n\n\t\treturn this;\n\n\t}\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author bhouston / http://clara.io/\n * @author stephomi / http://stephaneginier.com/\n */\n\nfunction Raycaster( origin, direction, near, far ) {\n\n\tthis.ray = new Ray( origin, direction );\n\t// direction is assumed to be normalized (for accurate distance calculations)\n\n\tthis.near = near || 0;\n\tthis.far = far || Infinity;\n\n\tthis.params = {\n\t\tMesh: {},\n\t\tLine: {},\n\t\tLOD: {},\n\t\tPoints: { threshold: 1 },\n\t\tSprite: {}\n\t};\n\n\tObject.defineProperties( this.params, {\n\t\tPointCloud: {\n\t\t\tget: function () {\n\n\t\t\t\tconsole.warn( 'THREE.Raycaster: params.PointCloud has been renamed to params.Points.' );\n\t\t\t\treturn this.Points;\n\n\t\t\t}\n\t\t}\n\t} );\n\n}\n\nfunction ascSort( a, b ) {\n\n\treturn a.distance - b.distance;\n\n}\n\nfunction intersectObject( object, raycaster, intersects, recursive ) {\n\n\tif ( object.visible === false ) return;\n\n\tobject.raycast( raycaster, intersects );\n\n\tif ( recursive === true ) {\n\n\t\tvar children = object.children;\n\n\t\tfor ( var i = 0, l = children.length; i < l; i ++ ) {\n\n\t\t\tintersectObject( children[ i ], raycaster, intersects, true );\n\n\t\t}\n\n\t}\n\n}\n\nObject.assign( Raycaster.prototype, {\n\n\tlinePrecision: 1,\n\n\tset: function ( origin, direction ) {\n\n\t\t// direction is assumed to be normalized (for accurate distance calculations)\n\n\t\tthis.ray.set( origin, direction );\n\n\t},\n\n\tsetFromCamera: function ( coords, camera ) {\n\n\t\tif ( ( camera && camera.isPerspectiveCamera ) ) {\n\n\t\t\tthis.ray.origin.setFromMatrixPosition( camera.matrixWorld );\n\t\t\tthis.ray.direction.set( coords.x, coords.y, 0.5 ).unproject( camera ).sub( this.ray.origin ).normalize();\n\n\t\t} else if ( ( camera && camera.isOrthographicCamera ) ) {\n\n\t\t\tthis.ray.origin.set( coords.x, coords.y, ( camera.near + camera.far ) / ( camera.near - camera.far ) ).unproject( camera ); // set origin in plane of camera\n\t\t\tthis.ray.direction.set( 0, 0, - 1 ).transformDirection( camera.matrixWorld );\n\n\t\t} else {\n\n\t\t\tconsole.error( 'THREE.Raycaster: Unsupported camera type.' );\n\n\t\t}\n\n\t},\n\n\tintersectObject: function ( object, recursive, optionalTarget ) {\n\n\t\tvar intersects = optionalTarget || [];\n\n\t\tintersectObject( object, this, intersects, recursive );\n\n\t\tintersects.sort( ascSort );\n\n\t\treturn intersects;\n\n\t},\n\n\tintersectObjects: function ( objects, recursive, optionalTarget ) {\n\n\t\tvar intersects = optionalTarget || [];\n\n\t\tif ( Array.isArray( objects ) === false ) {\n\n\t\t\tconsole.warn( 'THREE.Raycaster.intersectObjects: objects is not an Array.' );\n\t\t\treturn intersects;\n\n\t\t}\n\n\t\tfor ( var i = 0, l = objects.length; i < l; i ++ ) {\n\n\t\t\tintersectObject( objects[ i ], this, intersects, recursive );\n\n\t\t}\n\n\t\tintersects.sort( ascSort );\n\n\t\treturn intersects;\n\n\t}\n\n} );\n\n/**\n * @author bhouston / http://clara.io\n * @author WestLangley / http://github.com/WestLangley\n *\n * Ref: https://en.wikipedia.org/wiki/Spherical_coordinate_system\n *\n * The polar angle (phi) is measured from the positive y-axis. The positive y-axis is up.\n * The azimuthal angle (theta) is measured from the positive z-axiz.\n */\n\nfunction Spherical( radius, phi, theta ) {\n\n\tthis.radius = ( radius !== undefined ) ? radius : 1.0;\n\tthis.phi = ( phi !== undefined ) ? phi : 0; // polar angle\n\tthis.theta = ( theta !== undefined ) ? theta : 0; // azimuthal angle\n\n\treturn this;\n\n}\n\nObject.assign( Spherical.prototype, {\n\n\tset: function ( radius, phi, theta ) {\n\n\t\tthis.radius = radius;\n\t\tthis.phi = phi;\n\t\tthis.theta = theta;\n\n\t\treturn this;\n\n\t},\n\n\tclone: function () {\n\n\t\treturn new this.constructor().copy( this );\n\n\t},\n\n\tcopy: function ( other ) {\n\n\t\tthis.radius = other.radius;\n\t\tthis.phi = other.phi;\n\t\tthis.theta = other.theta;\n\n\t\treturn this;\n\n\t},\n\n\t// restrict phi to be betwee EPS and PI-EPS\n\tmakeSafe: function () {\n\n\t\tvar EPS = 0.000001;\n\t\tthis.phi = Math.max( EPS, Math.min( Math.PI - EPS, this.phi ) );\n\n\t\treturn this;\n\n\t},\n\n\tsetFromVector3: function ( v ) {\n\n\t\treturn this.setFromCartesianCoords( v.x, v.y, v.z );\n\n\t},\n\n\tsetFromCartesianCoords: function ( x, y, z ) {\n\n\t\tthis.radius = Math.sqrt( x * x + y * y + z * z );\n\n\t\tif ( this.radius === 0 ) {\n\n\t\t\tthis.theta = 0;\n\t\t\tthis.phi = 0;\n\n\t\t} else {\n\n\t\t\tthis.theta = Math.atan2( x, z );\n\t\t\tthis.phi = Math.acos( _Math.clamp( y / this.radius, - 1, 1 ) );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n} );\n\n/**\n * @author Mugen87 / https://github.com/Mugen87\n *\n * Ref: https://en.wikipedia.org/wiki/Cylindrical_coordinate_system\n *\n */\n\nfunction Cylindrical( radius, theta, y ) {\n\n\tthis.radius = ( radius !== undefined ) ? radius : 1.0; // distance from the origin to a point in the x-z plane\n\tthis.theta = ( theta !== undefined ) ? theta : 0; // counterclockwise angle in the x-z plane measured in radians from the positive z-axis\n\tthis.y = ( y !== undefined ) ? y : 0; // height above the x-z plane\n\n\treturn this;\n\n}\n\nObject.assign( Cylindrical.prototype, {\n\n\tset: function ( radius, theta, y ) {\n\n\t\tthis.radius = radius;\n\t\tthis.theta = theta;\n\t\tthis.y = y;\n\n\t\treturn this;\n\n\t},\n\n\tclone: function () {\n\n\t\treturn new this.constructor().copy( this );\n\n\t},\n\n\tcopy: function ( other ) {\n\n\t\tthis.radius = other.radius;\n\t\tthis.theta = other.theta;\n\t\tthis.y = other.y;\n\n\t\treturn this;\n\n\t},\n\n\tsetFromVector3: function ( v ) {\n\n\t\treturn this.setFromCartesianCoords( v.x, v.y, v.z );\n\n\t},\n\n\tsetFromCartesianCoords: function ( x, y, z ) {\n\n\t\tthis.radius = Math.sqrt( x * x + z * z );\n\t\tthis.theta = Math.atan2( x, z );\n\t\tthis.y = y;\n\n\t\treturn this;\n\n\t}\n\n} );\n\n/**\n * @author bhouston / http://clara.io\n */\n\nfunction Box2( min, max ) {\n\n\tthis.min = ( min !== undefined ) ? min : new Vector2( + Infinity, + Infinity );\n\tthis.max = ( max !== undefined ) ? max : new Vector2( - Infinity, - Infinity );\n\n}\n\nObject.assign( Box2.prototype, {\n\n\tset: function ( min, max ) {\n\n\t\tthis.min.copy( min );\n\t\tthis.max.copy( max );\n\n\t\treturn this;\n\n\t},\n\n\tsetFromPoints: function ( points ) {\n\n\t\tthis.makeEmpty();\n\n\t\tfor ( var i = 0, il = points.length; i < il; i ++ ) {\n\n\t\t\tthis.expandByPoint( points[ i ] );\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tsetFromCenterAndSize: function () {\n\n\t\tvar v1 = new Vector2();\n\n\t\treturn function setFromCenterAndSize( center, size ) {\n\n\t\t\tvar halfSize = v1.copy( size ).multiplyScalar( 0.5 );\n\t\t\tthis.min.copy( center ).sub( halfSize );\n\t\t\tthis.max.copy( center ).add( halfSize );\n\n\t\t\treturn this;\n\n\t\t};\n\n\t}(),\n\n\tclone: function () {\n\n\t\treturn new this.constructor().copy( this );\n\n\t},\n\n\tcopy: function ( box ) {\n\n\t\tthis.min.copy( box.min );\n\t\tthis.max.copy( box.max );\n\n\t\treturn this;\n\n\t},\n\n\tmakeEmpty: function () {\n\n\t\tthis.min.x = this.min.y = + Infinity;\n\t\tthis.max.x = this.max.y = - Infinity;\n\n\t\treturn this;\n\n\t},\n\n\tisEmpty: function () {\n\n\t\t// this is a more robust check for empty than ( volume <= 0 ) because volume can get positive with two negative axes\n\n\t\treturn ( this.max.x < this.min.x ) || ( this.max.y < this.min.y );\n\n\t},\n\n\tgetCenter: function ( target ) {\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Box2: .getCenter() target is now required' );\n\t\t\ttarget = new Vector2();\n\n\t\t}\n\n\t\treturn this.isEmpty() ? target.set( 0, 0 ) : target.addVectors( this.min, this.max ).multiplyScalar( 0.5 );\n\n\t},\n\n\tgetSize: function ( target ) {\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Box2: .getSize() target is now required' );\n\t\t\ttarget = new Vector2();\n\n\t\t}\n\n\t\treturn this.isEmpty() ? target.set( 0, 0 ) : target.subVectors( this.max, this.min );\n\n\t},\n\n\texpandByPoint: function ( point ) {\n\n\t\tthis.min.min( point );\n\t\tthis.max.max( point );\n\n\t\treturn this;\n\n\t},\n\n\texpandByVector: function ( vector ) {\n\n\t\tthis.min.sub( vector );\n\t\tthis.max.add( vector );\n\n\t\treturn this;\n\n\t},\n\n\texpandByScalar: function ( scalar ) {\n\n\t\tthis.min.addScalar( - scalar );\n\t\tthis.max.addScalar( scalar );\n\n\t\treturn this;\n\n\t},\n\n\tcontainsPoint: function ( point ) {\n\n\t\treturn point.x < this.min.x || point.x > this.max.x ||\n\t\t\tpoint.y < this.min.y || point.y > this.max.y ? false : true;\n\n\t},\n\n\tcontainsBox: function ( box ) {\n\n\t\treturn this.min.x <= box.min.x && box.max.x <= this.max.x &&\n\t\t\tthis.min.y <= box.min.y && box.max.y <= this.max.y;\n\n\t},\n\n\tgetParameter: function ( point, target ) {\n\n\t\t// This can potentially have a divide by zero if the box\n\t\t// has a size dimension of 0.\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Box2: .getParameter() target is now required' );\n\t\t\ttarget = new Vector2();\n\n\t\t}\n\n\t\treturn target.set(\n\t\t\t( point.x - this.min.x ) / ( this.max.x - this.min.x ),\n\t\t\t( point.y - this.min.y ) / ( this.max.y - this.min.y )\n\t\t);\n\n\t},\n\n\tintersectsBox: function ( box ) {\n\n\t\t// using 4 splitting planes to rule out intersections\n\n\t\treturn box.max.x < this.min.x || box.min.x > this.max.x ||\n\t\t\tbox.max.y < this.min.y || box.min.y > this.max.y ? false : true;\n\n\t},\n\n\tclampPoint: function ( point, target ) {\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Box2: .clampPoint() target is now required' );\n\t\t\ttarget = new Vector2();\n\n\t\t}\n\n\t\treturn target.copy( point ).clamp( this.min, this.max );\n\n\t},\n\n\tdistanceToPoint: function () {\n\n\t\tvar v1 = new Vector2();\n\n\t\treturn function distanceToPoint( point ) {\n\n\t\t\tvar clampedPoint = v1.copy( point ).clamp( this.min, this.max );\n\t\t\treturn clampedPoint.sub( point ).length();\n\n\t\t};\n\n\t}(),\n\n\tintersect: function ( box ) {\n\n\t\tthis.min.max( box.min );\n\t\tthis.max.min( box.max );\n\n\t\treturn this;\n\n\t},\n\n\tunion: function ( box ) {\n\n\t\tthis.min.min( box.min );\n\t\tthis.max.max( box.max );\n\n\t\treturn this;\n\n\t},\n\n\ttranslate: function ( offset ) {\n\n\t\tthis.min.add( offset );\n\t\tthis.max.add( offset );\n\n\t\treturn this;\n\n\t},\n\n\tequals: function ( box ) {\n\n\t\treturn box.min.equals( this.min ) && box.max.equals( this.max );\n\n\t}\n\n} );\n\n/**\n * @author bhouston / http://clara.io\n */\n\nfunction Line3( start, end ) {\n\n\tthis.start = ( start !== undefined ) ? start : new Vector3();\n\tthis.end = ( end !== undefined ) ? end : new Vector3();\n\n}\n\nObject.assign( Line3.prototype, {\n\n\tset: function ( start, end ) {\n\n\t\tthis.start.copy( start );\n\t\tthis.end.copy( end );\n\n\t\treturn this;\n\n\t},\n\n\tclone: function () {\n\n\t\treturn new this.constructor().copy( this );\n\n\t},\n\n\tcopy: function ( line ) {\n\n\t\tthis.start.copy( line.start );\n\t\tthis.end.copy( line.end );\n\n\t\treturn this;\n\n\t},\n\n\tgetCenter: function ( target ) {\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Line3: .getCenter() target is now required' );\n\t\t\ttarget = new Vector3();\n\n\t\t}\n\n\t\treturn target.addVectors( this.start, this.end ).multiplyScalar( 0.5 );\n\n\t},\n\n\tdelta: function ( target ) {\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Line3: .delta() target is now required' );\n\t\t\ttarget = new Vector3();\n\n\t\t}\n\n\t\treturn target.subVectors( this.end, this.start );\n\n\t},\n\n\tdistanceSq: function () {\n\n\t\treturn this.start.distanceToSquared( this.end );\n\n\t},\n\n\tdistance: function () {\n\n\t\treturn this.start.distanceTo( this.end );\n\n\t},\n\n\tat: function ( t, target ) {\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Line3: .at() target is now required' );\n\t\t\ttarget = new Vector3();\n\n\t\t}\n\n\t\treturn this.delta( target ).multiplyScalar( t ).add( this.start );\n\n\t},\n\n\tclosestPointToPointParameter: function () {\n\n\t\tvar startP = new Vector3();\n\t\tvar startEnd = new Vector3();\n\n\t\treturn function closestPointToPointParameter( point, clampToLine ) {\n\n\t\t\tstartP.subVectors( point, this.start );\n\t\t\tstartEnd.subVectors( this.end, this.start );\n\n\t\t\tvar startEnd2 = startEnd.dot( startEnd );\n\t\t\tvar startEnd_startP = startEnd.dot( startP );\n\n\t\t\tvar t = startEnd_startP / startEnd2;\n\n\t\t\tif ( clampToLine ) {\n\n\t\t\t\tt = _Math.clamp( t, 0, 1 );\n\n\t\t\t}\n\n\t\t\treturn t;\n\n\t\t};\n\n\t}(),\n\n\tclosestPointToPoint: function ( point, clampToLine, target ) {\n\n\t\tvar t = this.closestPointToPointParameter( point, clampToLine );\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Line3: .closestPointToPoint() target is now required' );\n\t\t\ttarget = new Vector3();\n\n\t\t}\n\n\t\treturn this.delta( target ).multiplyScalar( t ).add( this.start );\n\n\t},\n\n\tapplyMatrix4: function ( matrix ) {\n\n\t\tthis.start.applyMatrix4( matrix );\n\t\tthis.end.applyMatrix4( matrix );\n\n\t\treturn this;\n\n\t},\n\n\tequals: function ( line ) {\n\n\t\treturn line.start.equals( this.start ) && line.end.equals( this.end );\n\n\t}\n\n} );\n\n/**\n * @author alteredq / http://alteredqualia.com/\n */\n\nfunction ImmediateRenderObject( material ) {\n\n\tObject3D.call( this );\n\n\tthis.material = material;\n\tthis.render = function ( /* renderCallback */ ) {};\n\n}\n\nImmediateRenderObject.prototype = Object.create( Object3D.prototype );\nImmediateRenderObject.prototype.constructor = ImmediateRenderObject;\n\nImmediateRenderObject.prototype.isImmediateRenderObject = true;\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author WestLangley / http://github.com/WestLangley\n */\n\nfunction VertexNormalsHelper( object, size, hex, linewidth ) {\n\n\tthis.object = object;\n\n\tthis.size = ( size !== undefined ) ? size : 1;\n\n\tvar color = ( hex !== undefined ) ? hex : 0xff0000;\n\n\tvar width = ( linewidth !== undefined ) ? linewidth : 1;\n\n\t//\n\n\tvar nNormals = 0;\n\n\tvar objGeometry = this.object.geometry;\n\n\tif ( objGeometry && objGeometry.isGeometry ) {\n\n\t\tnNormals = objGeometry.faces.length * 3;\n\n\t} else if ( objGeometry && objGeometry.isBufferGeometry ) {\n\n\t\tnNormals = objGeometry.attributes.normal.count;\n\n\t}\n\n\t//\n\n\tvar geometry = new BufferGeometry();\n\n\tvar positions = new Float32BufferAttribute( nNormals * 2 * 3, 3 );\n\n\tgeometry.addAttribute( 'position', positions );\n\n\tLineSegments.call( this, geometry, new LineBasicMaterial( { color: color, linewidth: width } ) );\n\n\t//\n\n\tthis.matrixAutoUpdate = false;\n\n\tthis.update();\n\n}\n\nVertexNormalsHelper.prototype = Object.create( LineSegments.prototype );\nVertexNormalsHelper.prototype.constructor = VertexNormalsHelper;\n\nVertexNormalsHelper.prototype.update = ( function () {\n\n\tvar v1 = new Vector3();\n\tvar v2 = new Vector3();\n\tvar normalMatrix = new Matrix3();\n\n\treturn function update() {\n\n\t\tvar keys = [ 'a', 'b', 'c' ];\n\n\t\tthis.object.updateMatrixWorld( true );\n\n\t\tnormalMatrix.getNormalMatrix( this.object.matrixWorld );\n\n\t\tvar matrixWorld = this.object.matrixWorld;\n\n\t\tvar position = this.geometry.attributes.position;\n\n\t\t//\n\n\t\tvar objGeometry = this.object.geometry;\n\n\t\tif ( objGeometry && objGeometry.isGeometry ) {\n\n\t\t\tvar vertices = objGeometry.vertices;\n\n\t\t\tvar faces = objGeometry.faces;\n\n\t\t\tvar idx = 0;\n\n\t\t\tfor ( var i = 0, l = faces.length; i < l; i ++ ) {\n\n\t\t\t\tvar face = faces[ i ];\n\n\t\t\t\tfor ( var j = 0, jl = face.vertexNormals.length; j < jl; j ++ ) {\n\n\t\t\t\t\tvar vertex = vertices[ face[ keys[ j ] ] ];\n\n\t\t\t\t\tvar normal = face.vertexNormals[ j ];\n\n\t\t\t\t\tv1.copy( vertex ).applyMatrix4( matrixWorld );\n\n\t\t\t\t\tv2.copy( normal ).applyMatrix3( normalMatrix ).normalize().multiplyScalar( this.size ).add( v1 );\n\n\t\t\t\t\tposition.setXYZ( idx, v1.x, v1.y, v1.z );\n\n\t\t\t\t\tidx = idx + 1;\n\n\t\t\t\t\tposition.setXYZ( idx, v2.x, v2.y, v2.z );\n\n\t\t\t\t\tidx = idx + 1;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t} else if ( objGeometry && objGeometry.isBufferGeometry ) {\n\n\t\t\tvar objPos = objGeometry.attributes.position;\n\n\t\t\tvar objNorm = objGeometry.attributes.normal;\n\n\t\t\tvar idx = 0;\n\n\t\t\t// for simplicity, ignore index and drawcalls, and render every normal\n\n\t\t\tfor ( var j = 0, jl = objPos.count; j < jl; j ++ ) {\n\n\t\t\t\tv1.set( objPos.getX( j ), objPos.getY( j ), objPos.getZ( j ) ).applyMatrix4( matrixWorld );\n\n\t\t\t\tv2.set( objNorm.getX( j ), objNorm.getY( j ), objNorm.getZ( j ) );\n\n\t\t\t\tv2.applyMatrix3( normalMatrix ).normalize().multiplyScalar( this.size ).add( v1 );\n\n\t\t\t\tposition.setXYZ( idx, v1.x, v1.y, v1.z );\n\n\t\t\t\tidx = idx + 1;\n\n\t\t\t\tposition.setXYZ( idx, v2.x, v2.y, v2.z );\n\n\t\t\t\tidx = idx + 1;\n\n\t\t\t}\n\n\t\t}\n\n\t\tposition.needsUpdate = true;\n\n\t};\n\n}() );\n\n/**\n * @author alteredq / http://alteredqualia.com/\n * @author mrdoob / http://mrdoob.com/\n * @author WestLangley / http://github.com/WestLangley\n */\n\nfunction SpotLightHelper( light, color ) {\n\n\tObject3D.call( this );\n\n\tthis.light = light;\n\tthis.light.updateMatrixWorld();\n\n\tthis.matrix = light.matrixWorld;\n\tthis.matrixAutoUpdate = false;\n\n\tthis.color = color;\n\n\tvar geometry = new BufferGeometry();\n\n\tvar positions = [\n\t\t0, 0, 0, \t0, 0, 1,\n\t\t0, 0, 0, \t1, 0, 1,\n\t\t0, 0, 0,\t- 1, 0, 1,\n\t\t0, 0, 0, \t0, 1, 1,\n\t\t0, 0, 0, \t0, - 1, 1\n\t];\n\n\tfor ( var i = 0, j = 1, l = 32; i < l; i ++, j ++ ) {\n\n\t\tvar p1 = ( i / l ) * Math.PI * 2;\n\t\tvar p2 = ( j / l ) * Math.PI * 2;\n\n\t\tpositions.push(\n\t\t\tMath.cos( p1 ), Math.sin( p1 ), 1,\n\t\t\tMath.cos( p2 ), Math.sin( p2 ), 1\n\t\t);\n\n\t}\n\n\tgeometry.addAttribute( 'position', new Float32BufferAttribute( positions, 3 ) );\n\n\tvar material = new LineBasicMaterial( { fog: false } );\n\n\tthis.cone = new LineSegments( geometry, material );\n\tthis.add( this.cone );\n\n\tthis.update();\n\n}\n\nSpotLightHelper.prototype = Object.create( Object3D.prototype );\nSpotLightHelper.prototype.constructor = SpotLightHelper;\n\nSpotLightHelper.prototype.dispose = function () {\n\n\tthis.cone.geometry.dispose();\n\tthis.cone.material.dispose();\n\n};\n\nSpotLightHelper.prototype.update = function () {\n\n\tvar vector = new Vector3();\n\n\treturn function update() {\n\n\t\tthis.light.updateMatrixWorld();\n\n\t\tvar coneLength = this.light.distance ? this.light.distance : 1000;\n\t\tvar coneWidth = coneLength * Math.tan( this.light.angle );\n\n\t\tthis.cone.scale.set( coneWidth, coneWidth, coneLength );\n\n\t\tvector.setFromMatrixPosition( this.light.target.matrixWorld );\n\n\t\tthis.cone.lookAt( vector );\n\n\t\tif ( this.color !== undefined ) {\n\n\t\t\tthis.cone.material.color.set( this.color );\n\n\t\t} else {\n\n\t\t\tthis.cone.material.color.copy( this.light.color );\n\n\t\t}\n\n\t};\n\n}();\n\n/**\n * @author Sean Griffin / http://twitter.com/sgrif\n * @author Michael Guerrero / http://realitymeltdown.com\n * @author mrdoob / http://mrdoob.com/\n * @author ikerr / http://verold.com\n * @author Mugen87 / https://github.com/Mugen87\n */\n\nfunction getBoneList( object ) {\n\n\tvar boneList = [];\n\n\tif ( object && object.isBone ) {\n\n\t\tboneList.push( object );\n\n\t}\n\n\tfor ( var i = 0; i < object.children.length; i ++ ) {\n\n\t\tboneList.push.apply( boneList, getBoneList( object.children[ i ] ) );\n\n\t}\n\n\treturn boneList;\n\n}\n\nfunction SkeletonHelper( object ) {\n\n\tvar bones = getBoneList( object );\n\n\tvar geometry = new BufferGeometry();\n\n\tvar vertices = [];\n\tvar colors = [];\n\n\tvar color1 = new Color( 0, 0, 1 );\n\tvar color2 = new Color( 0, 1, 0 );\n\n\tfor ( var i = 0; i < bones.length; i ++ ) {\n\n\t\tvar bone = bones[ i ];\n\n\t\tif ( bone.parent && bone.parent.isBone ) {\n\n\t\t\tvertices.push( 0, 0, 0 );\n\t\t\tvertices.push( 0, 0, 0 );\n\t\t\tcolors.push( color1.r, color1.g, color1.b );\n\t\t\tcolors.push( color2.r, color2.g, color2.b );\n\n\t\t}\n\n\t}\n\n\tgeometry.addAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\n\tgeometry.addAttribute( 'color', new Float32BufferAttribute( colors, 3 ) );\n\n\tvar material = new LineBasicMaterial( { vertexColors: VertexColors, depthTest: false, depthWrite: false, transparent: true } );\n\n\tLineSegments.call( this, geometry, material );\n\n\tthis.root = object;\n\tthis.bones = bones;\n\n\tthis.matrix = object.matrixWorld;\n\tthis.matrixAutoUpdate = false;\n\n}\n\nSkeletonHelper.prototype = Object.create( LineSegments.prototype );\nSkeletonHelper.prototype.constructor = SkeletonHelper;\n\nSkeletonHelper.prototype.updateMatrixWorld = function () {\n\n\tvar vector = new Vector3();\n\n\tvar boneMatrix = new Matrix4();\n\tvar matrixWorldInv = new Matrix4();\n\n\treturn function updateMatrixWorld( force ) {\n\n\t\tvar bones = this.bones;\n\n\t\tvar geometry = this.geometry;\n\t\tvar position = geometry.getAttribute( 'position' );\n\n\t\tmatrixWorldInv.getInverse( this.root.matrixWorld );\n\n\t\tfor ( var i = 0, j = 0; i < bones.length; i ++ ) {\n\n\t\t\tvar bone = bones[ i ];\n\n\t\t\tif ( bone.parent && bone.parent.isBone ) {\n\n\t\t\t\tboneMatrix.multiplyMatrices( matrixWorldInv, bone.matrixWorld );\n\t\t\t\tvector.setFromMatrixPosition( boneMatrix );\n\t\t\t\tposition.setXYZ( j, vector.x, vector.y, vector.z );\n\n\t\t\t\tboneMatrix.multiplyMatrices( matrixWorldInv, bone.parent.matrixWorld );\n\t\t\t\tvector.setFromMatrixPosition( boneMatrix );\n\t\t\t\tposition.setXYZ( j + 1, vector.x, vector.y, vector.z );\n\n\t\t\t\tj += 2;\n\n\t\t\t}\n\n\t\t}\n\n\t\tgeometry.getAttribute( 'position' ).needsUpdate = true;\n\n\t\tObject3D.prototype.updateMatrixWorld.call( this, force );\n\n\t};\n\n}();\n\n/**\n * @author alteredq / http://alteredqualia.com/\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction PointLightHelper( light, sphereSize, color ) {\n\n\tthis.light = light;\n\tthis.light.updateMatrixWorld();\n\n\tthis.color = color;\n\n\tvar geometry = new SphereBufferGeometry( sphereSize, 4, 2 );\n\tvar material = new MeshBasicMaterial( { wireframe: true, fog: false } );\n\n\tMesh.call( this, geometry, material );\n\n\tthis.matrix = this.light.matrixWorld;\n\tthis.matrixAutoUpdate = false;\n\n\tthis.update();\n\n\n\t/*\n\tvar distanceGeometry = new THREE.IcosahedronBufferGeometry( 1, 2 );\n\tvar distanceMaterial = new THREE.MeshBasicMaterial( { color: hexColor, fog: false, wireframe: true, opacity: 0.1, transparent: true } );\n\n\tthis.lightSphere = new THREE.Mesh( bulbGeometry, bulbMaterial );\n\tthis.lightDistance = new THREE.Mesh( distanceGeometry, distanceMaterial );\n\n\tvar d = light.distance;\n\n\tif ( d === 0.0 ) {\n\n\t\tthis.lightDistance.visible = false;\n\n\t} else {\n\n\t\tthis.lightDistance.scale.set( d, d, d );\n\n\t}\n\n\tthis.add( this.lightDistance );\n\t*/\n\n}\n\nPointLightHelper.prototype = Object.create( Mesh.prototype );\nPointLightHelper.prototype.constructor = PointLightHelper;\n\nPointLightHelper.prototype.dispose = function () {\n\n\tthis.geometry.dispose();\n\tthis.material.dispose();\n\n};\n\nPointLightHelper.prototype.update = function () {\n\n\tif ( this.color !== undefined ) {\n\n\t\tthis.material.color.set( this.color );\n\n\t} else {\n\n\t\tthis.material.color.copy( this.light.color );\n\n\t}\n\n\t/*\n\tvar d = this.light.distance;\n\n\tif ( d === 0.0 ) {\n\n\t\tthis.lightDistance.visible = false;\n\n\t} else {\n\n\t\tthis.lightDistance.visible = true;\n\t\tthis.lightDistance.scale.set( d, d, d );\n\n\t}\n\t*/\n\n};\n\n/**\n * @author abelnation / http://github.com/abelnation\n * @author Mugen87 / http://github.com/Mugen87\n * @author WestLangley / http://github.com/WestLangley\n *\n *  This helper must be added as a child of the light\n */\n\nfunction RectAreaLightHelper( light, color ) {\n\n\tthis.type = 'RectAreaLightHelper';\n\n\tthis.light = light;\n\n\tthis.color = color; // optional hardwired color for the helper\n\n\tvar positions = [ 1, 1, 0, - 1, 1, 0, - 1, - 1, 0, 1, - 1, 0, 1, 1, 0 ];\n\n\tvar geometry = new BufferGeometry();\n\tgeometry.addAttribute( 'position', new Float32BufferAttribute( positions, 3 ) );\n\tgeometry.computeBoundingSphere();\n\n\tvar material = new LineBasicMaterial( { fog: false } );\n\n\tLine.call( this, geometry, material );\n\n\t//\n\n\tvar positions2 = [ 1, 1, 0, - 1, 1, 0, - 1, - 1, 0, 1, 1, 0, - 1, - 1, 0, 1, - 1, 0 ];\n\n\tvar geometry2 = new BufferGeometry();\n\tgeometry2.addAttribute( 'position', new Float32BufferAttribute( positions2, 3 ) );\n\tgeometry2.computeBoundingSphere();\n\n\tthis.add( new Mesh( geometry2, new MeshBasicMaterial( { side: BackSide, fog: false } ) ) );\n\n\tthis.update();\n\n}\n\nRectAreaLightHelper.prototype = Object.create( Line.prototype );\nRectAreaLightHelper.prototype.constructor = RectAreaLightHelper;\n\nRectAreaLightHelper.prototype.update = function () {\n\n\tthis.scale.set( 0.5 * this.light.width, 0.5 * this.light.height, 1 );\n\n\tif ( this.color !== undefined ) {\n\n\t\tthis.material.color.set( this.color );\n\t\tthis.children[ 0 ].material.color.set( this.color );\n\n\t} else {\n\n\t\tthis.material.color.copy( this.light.color ).multiplyScalar( this.light.intensity );\n\n\t\t// prevent hue shift\n\t\tvar c = this.material.color;\n\t\tvar max = Math.max( c.r, c.g, c.b );\n\t\tif ( max > 1 ) c.multiplyScalar( 1 / max );\n\n\t\tthis.children[ 0 ].material.color.copy( this.material.color );\n\n\t}\n\n};\n\nRectAreaLightHelper.prototype.dispose = function () {\n\n\tthis.geometry.dispose();\n\tthis.material.dispose();\n\tthis.children[ 0 ].geometry.dispose();\n\tthis.children[ 0 ].material.dispose();\n\n};\n\n/**\n * @author alteredq / http://alteredqualia.com/\n * @author mrdoob / http://mrdoob.com/\n * @author Mugen87 / https://github.com/Mugen87\n */\n\nfunction HemisphereLightHelper( light, size, color ) {\n\n\tObject3D.call( this );\n\n\tthis.light = light;\n\tthis.light.updateMatrixWorld();\n\n\tthis.matrix = light.matrixWorld;\n\tthis.matrixAutoUpdate = false;\n\n\tthis.color = color;\n\n\tvar geometry = new OctahedronBufferGeometry( size );\n\tgeometry.rotateY( Math.PI * 0.5 );\n\n\tthis.material = new MeshBasicMaterial( { wireframe: true, fog: false } );\n\tif ( this.color === undefined ) this.material.vertexColors = VertexColors;\n\n\tvar position = geometry.getAttribute( 'position' );\n\tvar colors = new Float32Array( position.count * 3 );\n\n\tgeometry.addAttribute( 'color', new BufferAttribute( colors, 3 ) );\n\n\tthis.add( new Mesh( geometry, this.material ) );\n\n\tthis.update();\n\n}\n\nHemisphereLightHelper.prototype = Object.create( Object3D.prototype );\nHemisphereLightHelper.prototype.constructor = HemisphereLightHelper;\n\nHemisphereLightHelper.prototype.dispose = function () {\n\n\tthis.children[ 0 ].geometry.dispose();\n\tthis.children[ 0 ].material.dispose();\n\n};\n\nHemisphereLightHelper.prototype.update = function () {\n\n\tvar vector = new Vector3();\n\n\tvar color1 = new Color();\n\tvar color2 = new Color();\n\n\treturn function update() {\n\n\t\tvar mesh = this.children[ 0 ];\n\n\t\tif ( this.color !== undefined ) {\n\n\t\t\tthis.material.color.set( this.color );\n\n\t\t} else {\n\n\t\t\tvar colors = mesh.geometry.getAttribute( 'color' );\n\n\t\t\tcolor1.copy( this.light.color );\n\t\t\tcolor2.copy( this.light.groundColor );\n\n\t\t\tfor ( var i = 0, l = colors.count; i < l; i ++ ) {\n\n\t\t\t\tvar color = ( i < ( l / 2 ) ) ? color1 : color2;\n\n\t\t\t\tcolors.setXYZ( i, color.r, color.g, color.b );\n\n\t\t\t}\n\n\t\t\tcolors.needsUpdate = true;\n\n\t\t}\n\n\t\tmesh.lookAt( vector.setFromMatrixPosition( this.light.matrixWorld ).negate() );\n\n\t};\n\n}();\n\n/**\n * @author WestLangley / http://github.com/WestLangley\n */\n\nfunction LightProbeHelper( lightProbe, size ) {\n\n\tthis.lightProbe = lightProbe;\n\n\tthis.size = size;\n\n\tvar defines = {};\n\tdefines[ 'GAMMA_OUTPUT' ] = \"\";\n\n\t// material\n\tvar material = new ShaderMaterial( {\n\n\t\tdefines: defines,\n\n\t\tuniforms: {\n\n\t\t\tsh: { value: this.lightProbe.sh.coefficients }, // by reference\n\n\t\t\tintensity: { value: this.lightProbe.intensity }\n\n\t\t},\n\n\t\tvertexShader: [\n\n\t\t\t'varying vec3 vNormal;',\n\n\t\t\t'void main() {',\n\n\t\t\t'\tvNormal = normalize( normalMatrix * normal );',\n\n\t\t\t'\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );',\n\n\t\t\t'}',\n\n\t\t].join( '\\n' ),\n\n\t\tfragmentShader: [\n\n\t\t\t'#define RECIPROCAL_PI 0.318309886',\n\n\t\t\t'vec3 inverseTransformDirection( in vec3 normal, in mat4 matrix ) {',\n\n\t\t\t'\t// matrix is assumed to be orthogonal',\n\n\t\t\t'\treturn normalize( ( vec4( normal, 0.0 ) * matrix ).xyz );',\n\n\t\t\t'}',\n\n\t\t\t'vec3 linearToOutput( in vec3 a ) {',\n\n\t\t\t'\t#ifdef GAMMA_OUTPUT',\n\n\t\t\t'\t\treturn pow( a, vec3( 1.0 / float( GAMMA_FACTOR ) ) );',\n\n\t\t\t'\t#else',\n\n\t\t\t'\t\treturn a;',\n\n\t\t\t'\t#endif',\n\n\t\t\t'}',\n\n\t\t\t'// source: https://graphics.stanford.edu/papers/envmap/envmap.pdf',\n\t\t\t'vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {',\n\n\t\t\t'\t// normal is assumed to have unit length',\n\n\t\t\t'\tfloat x = normal.x, y = normal.y, z = normal.z;',\n\n\t\t\t'\t// band 0',\n\t\t\t'\tvec3 result = shCoefficients[ 0 ] * 0.886227;',\n\n\t\t\t'\t// band 1',\n\t\t\t'\tresult += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;',\n\t\t\t'\tresult += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;',\n\t\t\t'\tresult += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;',\n\n\t\t\t'\t// band 2',\n\t\t\t'\tresult += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;',\n\t\t\t'\tresult += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;',\n\t\t\t'\tresult += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );',\n\t\t\t'\tresult += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;',\n\t\t\t'\tresult += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );',\n\n\t\t\t'\treturn result;',\n\n\t\t\t'}',\n\n\t\t\t'uniform vec3 sh[ 9 ]; // sh coefficients',\n\n\t\t\t'uniform float intensity; // light probe intensity',\n\n\t\t\t'varying vec3 vNormal;',\n\n\t\t\t'void main() {',\n\n\t\t\t'\tvec3 normal = normalize( vNormal );',\n\n\t\t\t'\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );',\n\n\t\t\t'\tvec3 irradiance = shGetIrradianceAt( worldNormal, sh );',\n\n\t\t\t'\tvec3 outgoingLight = RECIPROCAL_PI * irradiance * intensity;',\n\n\t\t\t'\toutgoingLight = linearToOutput( outgoingLight );',\n\n\t\t\t'\tgl_FragColor = vec4( outgoingLight, 1.0 );',\n\n\t\t\t'}'\n\n\t\t].join( '\\n' )\n\n\t} );\n\n\tvar geometry = new SphereBufferGeometry( 1, 32, 16 );\n\n\tMesh.call( this, geometry, material );\n\n\tthis.onBeforeRender();\n\n}\n\nLightProbeHelper.prototype = Object.create( Mesh.prototype );\nLightProbeHelper.prototype.constructor = LightProbeHelper;\n\nLightProbeHelper.prototype.dispose = function () {\n\n\tthis.geometry.dispose();\n\tthis.material.dispose();\n\n};\n\nLightProbeHelper.prototype.onBeforeRender = function () {\n\n\treturn function update() {\n\n\t\tthis.position.copy( this.lightProbe.position );\n\n\t\tthis.scale.set( 1, 1, 1 ).multiplyScalar( this.size );\n\n\t\tthis.material.uniforms.intensity.value = this.lightProbe.intensity;\n\n\t};\n\n}();\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction GridHelper( size, divisions, color1, color2 ) {\n\n\tsize = size || 10;\n\tdivisions = divisions || 10;\n\tcolor1 = new Color( color1 !== undefined ? color1 : 0x444444 );\n\tcolor2 = new Color( color2 !== undefined ? color2 : 0x888888 );\n\n\tvar center = divisions / 2;\n\tvar step = size / divisions;\n\tvar halfSize = size / 2;\n\n\tvar vertices = [], colors = [];\n\n\tfor ( var i = 0, j = 0, k = - halfSize; i <= divisions; i ++, k += step ) {\n\n\t\tvertices.push( - halfSize, 0, k, halfSize, 0, k );\n\t\tvertices.push( k, 0, - halfSize, k, 0, halfSize );\n\n\t\tvar color = i === center ? color1 : color2;\n\n\t\tcolor.toArray( colors, j ); j += 3;\n\t\tcolor.toArray( colors, j ); j += 3;\n\t\tcolor.toArray( colors, j ); j += 3;\n\t\tcolor.toArray( colors, j ); j += 3;\n\n\t}\n\n\tvar geometry = new BufferGeometry();\n\tgeometry.addAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\n\tgeometry.addAttribute( 'color', new Float32BufferAttribute( colors, 3 ) );\n\n\tvar material = new LineBasicMaterial( { vertexColors: VertexColors } );\n\n\tLineSegments.call( this, geometry, material );\n\n}\n\nGridHelper.prototype = Object.assign( Object.create( LineSegments.prototype ), {\n\n\tconstructor: GridHelper,\n\n\tcopy: function ( source ) {\n\n\t\tLineSegments.prototype.copy.call( this, source );\n\n\t\tthis.geometry.copy( source.geometry );\n\t\tthis.material.copy( source.material );\n\n\t\treturn this;\n\n\t},\n\n\tclone: function () {\n\n\t\treturn new this.constructor().copy( this );\n\n\t}\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author Mugen87 / http://github.com/Mugen87\n * @author Hectate / http://www.github.com/Hectate\n */\n\nfunction PolarGridHelper( radius, radials, circles, divisions, color1, color2 ) {\n\n\tradius = radius || 10;\n\tradials = radials || 16;\n\tcircles = circles || 8;\n\tdivisions = divisions || 64;\n\tcolor1 = new Color( color1 !== undefined ? color1 : 0x444444 );\n\tcolor2 = new Color( color2 !== undefined ? color2 : 0x888888 );\n\n\tvar vertices = [];\n\tvar colors = [];\n\n\tvar x, z;\n\tvar v, i, j, r, color;\n\n\t// create the radials\n\n\tfor ( i = 0; i <= radials; i ++ ) {\n\n\t\tv = ( i / radials ) * ( Math.PI * 2 );\n\n\t\tx = Math.sin( v ) * radius;\n\t\tz = Math.cos( v ) * radius;\n\n\t\tvertices.push( 0, 0, 0 );\n\t\tvertices.push( x, 0, z );\n\n\t\tcolor = ( i & 1 ) ? color1 : color2;\n\n\t\tcolors.push( color.r, color.g, color.b );\n\t\tcolors.push( color.r, color.g, color.b );\n\n\t}\n\n\t// create the circles\n\n\tfor ( i = 0; i <= circles; i ++ ) {\n\n\t\tcolor = ( i & 1 ) ? color1 : color2;\n\n\t\tr = radius - ( radius / circles * i );\n\n\t\tfor ( j = 0; j < divisions; j ++ ) {\n\n\t\t\t// first vertex\n\n\t\t\tv = ( j / divisions ) * ( Math.PI * 2 );\n\n\t\t\tx = Math.sin( v ) * r;\n\t\t\tz = Math.cos( v ) * r;\n\n\t\t\tvertices.push( x, 0, z );\n\t\t\tcolors.push( color.r, color.g, color.b );\n\n\t\t\t// second vertex\n\n\t\t\tv = ( ( j + 1 ) / divisions ) * ( Math.PI * 2 );\n\n\t\t\tx = Math.sin( v ) * r;\n\t\t\tz = Math.cos( v ) * r;\n\n\t\t\tvertices.push( x, 0, z );\n\t\t\tcolors.push( color.r, color.g, color.b );\n\n\t\t}\n\n\t}\n\n\tvar geometry = new BufferGeometry();\n\tgeometry.addAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\n\tgeometry.addAttribute( 'color', new Float32BufferAttribute( colors, 3 ) );\n\n\tvar material = new LineBasicMaterial( { vertexColors: VertexColors } );\n\n\tLineSegments.call( this, geometry, material );\n\n}\n\nPolarGridHelper.prototype = Object.create( LineSegments.prototype );\nPolarGridHelper.prototype.constructor = PolarGridHelper;\n\n/**\n * @author Mugen87 / http://github.com/Mugen87\n */\n\nfunction PositionalAudioHelper( audio, range, divisionsInnerAngle, divisionsOuterAngle ) {\n\n\tthis.audio = audio;\n\tthis.range = range || 1;\n\tthis.divisionsInnerAngle = divisionsInnerAngle || 16;\n\tthis.divisionsOuterAngle = divisionsOuterAngle || 2;\n\n\tvar geometry = new BufferGeometry();\n\tvar divisions = this.divisionsInnerAngle + this.divisionsOuterAngle * 2;\n\tvar positions = new Float32Array( ( divisions * 3 + 3 ) * 3 );\n\tgeometry.addAttribute( 'position', new BufferAttribute( positions, 3 ) );\n\n\tvar materialInnerAngle = new LineBasicMaterial( { color: 0x00ff00 } );\n\tvar materialOuterAngle = new LineBasicMaterial( { color: 0xffff00 } );\n\n\tLine.call( this, geometry, [ materialOuterAngle, materialInnerAngle ] );\n\n\tthis.update();\n\n}\n\nPositionalAudioHelper.prototype = Object.create( Line.prototype );\nPositionalAudioHelper.prototype.constructor = PositionalAudioHelper;\n\nPositionalAudioHelper.prototype.update = function () {\n\n\tvar audio = this.audio;\n\tvar range = this.range;\n\tvar divisionsInnerAngle = this.divisionsInnerAngle;\n\tvar divisionsOuterAngle = this.divisionsOuterAngle;\n\n\tvar coneInnerAngle = _Math.degToRad( audio.panner.coneInnerAngle );\n\tvar coneOuterAngle = _Math.degToRad( audio.panner.coneOuterAngle );\n\n\tvar halfConeInnerAngle = coneInnerAngle / 2;\n\tvar halfConeOuterAngle = coneOuterAngle / 2;\n\n\tvar start = 0;\n\tvar count = 0;\n\tvar i, stride;\n\n\tvar geometry = this.geometry;\n\tvar positionAttribute = geometry.attributes.position;\n\n\tgeometry.clearGroups();\n\n\t//\n\n\tfunction generateSegment( from, to, divisions, materialIndex ) {\n\n\t\tvar step = ( to - from ) / divisions;\n\n\t\tpositionAttribute.setXYZ( start, 0, 0, 0 );\n\t\tcount ++;\n\n\t\tfor ( i = from; i < to; i += step ) {\n\n\t\t\tstride = start + count;\n\n\t\t\tpositionAttribute.setXYZ( stride, Math.sin( i ) * range, 0, Math.cos( i ) * range );\n\t\t\tpositionAttribute.setXYZ( stride + 1, Math.sin( Math.min( i + step, to ) ) * range, 0, Math.cos( Math.min( i + step, to ) ) * range );\n\t\t\tpositionAttribute.setXYZ( stride + 2, 0, 0, 0 );\n\n\t\t\tcount += 3;\n\n\t\t}\n\n\t\tgeometry.addGroup( start, count, materialIndex );\n\n\t\tstart += count;\n\t\tcount = 0;\n\n\t}\n\n\t//\n\n\tgenerateSegment( - halfConeOuterAngle, - halfConeInnerAngle, divisionsOuterAngle, 0 );\n\tgenerateSegment( - halfConeInnerAngle, halfConeInnerAngle, divisionsInnerAngle, 1 );\n\tgenerateSegment( halfConeInnerAngle, halfConeOuterAngle, divisionsOuterAngle, 0 );\n\n\t//\n\n\tpositionAttribute.needsUpdate = true;\n\n\tif ( coneInnerAngle === coneOuterAngle ) this.material[ 0 ].visible = false;\n\n};\n\nPositionalAudioHelper.prototype.dispose = function () {\n\n\tthis.geometry.dispose();\n\tthis.material[ 0 ].dispose();\n\tthis.material[ 1 ].dispose();\n\n};\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author WestLangley / http://github.com/WestLangley\n */\n\nfunction FaceNormalsHelper( object, size, hex, linewidth ) {\n\n\t// FaceNormalsHelper only supports THREE.Geometry\n\n\tthis.object = object;\n\n\tthis.size = ( size !== undefined ) ? size : 1;\n\n\tvar color = ( hex !== undefined ) ? hex : 0xffff00;\n\n\tvar width = ( linewidth !== undefined ) ? linewidth : 1;\n\n\t//\n\n\tvar nNormals = 0;\n\n\tvar objGeometry = this.object.geometry;\n\n\tif ( objGeometry && objGeometry.isGeometry ) {\n\n\t\tnNormals = objGeometry.faces.length;\n\n\t} else {\n\n\t\tconsole.warn( 'THREE.FaceNormalsHelper: only THREE.Geometry is supported. Use THREE.VertexNormalsHelper, instead.' );\n\n\t}\n\n\t//\n\n\tvar geometry = new BufferGeometry();\n\n\tvar positions = new Float32BufferAttribute( nNormals * 2 * 3, 3 );\n\n\tgeometry.addAttribute( 'position', positions );\n\n\tLineSegments.call( this, geometry, new LineBasicMaterial( { color: color, linewidth: width } ) );\n\n\t//\n\n\tthis.matrixAutoUpdate = false;\n\tthis.update();\n\n}\n\nFaceNormalsHelper.prototype = Object.create( LineSegments.prototype );\nFaceNormalsHelper.prototype.constructor = FaceNormalsHelper;\n\nFaceNormalsHelper.prototype.update = ( function () {\n\n\tvar v1 = new Vector3();\n\tvar v2 = new Vector3();\n\tvar normalMatrix = new Matrix3();\n\n\treturn function update() {\n\n\t\tthis.object.updateMatrixWorld( true );\n\n\t\tnormalMatrix.getNormalMatrix( this.object.matrixWorld );\n\n\t\tvar matrixWorld = this.object.matrixWorld;\n\n\t\tvar position = this.geometry.attributes.position;\n\n\t\t//\n\n\t\tvar objGeometry = this.object.geometry;\n\n\t\tvar vertices = objGeometry.vertices;\n\n\t\tvar faces = objGeometry.faces;\n\n\t\tvar idx = 0;\n\n\t\tfor ( var i = 0, l = faces.length; i < l; i ++ ) {\n\n\t\t\tvar face = faces[ i ];\n\n\t\t\tvar normal = face.normal;\n\n\t\t\tv1.copy( vertices[ face.a ] )\n\t\t\t\t.add( vertices[ face.b ] )\n\t\t\t\t.add( vertices[ face.c ] )\n\t\t\t\t.divideScalar( 3 )\n\t\t\t\t.applyMatrix4( matrixWorld );\n\n\t\t\tv2.copy( normal ).applyMatrix3( normalMatrix ).normalize().multiplyScalar( this.size ).add( v1 );\n\n\t\t\tposition.setXYZ( idx, v1.x, v1.y, v1.z );\n\n\t\t\tidx = idx + 1;\n\n\t\t\tposition.setXYZ( idx, v2.x, v2.y, v2.z );\n\n\t\t\tidx = idx + 1;\n\n\t\t}\n\n\t\tposition.needsUpdate = true;\n\n\t};\n\n}() );\n\n/**\n * @author alteredq / http://alteredqualia.com/\n * @author mrdoob / http://mrdoob.com/\n * @author WestLangley / http://github.com/WestLangley\n */\n\nfunction DirectionalLightHelper( light, size, color ) {\n\n\tObject3D.call( this );\n\n\tthis.light = light;\n\tthis.light.updateMatrixWorld();\n\n\tthis.matrix = light.matrixWorld;\n\tthis.matrixAutoUpdate = false;\n\n\tthis.color = color;\n\n\tif ( size === undefined ) size = 1;\n\n\tvar geometry = new BufferGeometry();\n\tgeometry.addAttribute( 'position', new Float32BufferAttribute( [\n\t\t- size, size, 0,\n\t\tsize, size, 0,\n\t\tsize, - size, 0,\n\t\t- size, - size, 0,\n\t\t- size, size, 0\n\t], 3 ) );\n\n\tvar material = new LineBasicMaterial( { fog: false } );\n\n\tthis.lightPlane = new Line( geometry, material );\n\tthis.add( this.lightPlane );\n\n\tgeometry = new BufferGeometry();\n\tgeometry.addAttribute( 'position', new Float32BufferAttribute( [ 0, 0, 0, 0, 0, 1 ], 3 ) );\n\n\tthis.targetLine = new Line( geometry, material );\n\tthis.add( this.targetLine );\n\n\tthis.update();\n\n}\n\nDirectionalLightHelper.prototype = Object.create( Object3D.prototype );\nDirectionalLightHelper.prototype.constructor = DirectionalLightHelper;\n\nDirectionalLightHelper.prototype.dispose = function () {\n\n\tthis.lightPlane.geometry.dispose();\n\tthis.lightPlane.material.dispose();\n\tthis.targetLine.geometry.dispose();\n\tthis.targetLine.material.dispose();\n\n};\n\nDirectionalLightHelper.prototype.update = function () {\n\n\tvar v1 = new Vector3();\n\tvar v2 = new Vector3();\n\tvar v3 = new Vector3();\n\n\treturn function update() {\n\n\t\tv1.setFromMatrixPosition( this.light.matrixWorld );\n\t\tv2.setFromMatrixPosition( this.light.target.matrixWorld );\n\t\tv3.subVectors( v2, v1 );\n\n\t\tthis.lightPlane.lookAt( v2 );\n\n\t\tif ( this.color !== undefined ) {\n\n\t\t\tthis.lightPlane.material.color.set( this.color );\n\t\t\tthis.targetLine.material.color.set( this.color );\n\n\t\t} else {\n\n\t\t\tthis.lightPlane.material.color.copy( this.light.color );\n\t\t\tthis.targetLine.material.color.copy( this.light.color );\n\n\t\t}\n\n\t\tthis.targetLine.lookAt( v2 );\n\t\tthis.targetLine.scale.z = v3.length();\n\n\t};\n\n}();\n\n/**\n * @author alteredq / http://alteredqualia.com/\n * @author Mugen87 / https://github.com/Mugen87\n *\n *\t- shows frustum, line of sight and up of the camera\n *\t- suitable for fast updates\n * \t- based on frustum visualization in lightgl.js shadowmap example\n *\t\thttp://evanw.github.com/lightgl.js/tests/shadowmap.html\n */\n\nfunction CameraHelper( camera ) {\n\n\tvar geometry = new BufferGeometry();\n\tvar material = new LineBasicMaterial( { color: 0xffffff, vertexColors: FaceColors } );\n\n\tvar vertices = [];\n\tvar colors = [];\n\n\tvar pointMap = {};\n\n\t// colors\n\n\tvar colorFrustum = new Color( 0xffaa00 );\n\tvar colorCone = new Color( 0xff0000 );\n\tvar colorUp = new Color( 0x00aaff );\n\tvar colorTarget = new Color( 0xffffff );\n\tvar colorCross = new Color( 0x333333 );\n\n\t// near\n\n\taddLine( 'n1', 'n2', colorFrustum );\n\taddLine( 'n2', 'n4', colorFrustum );\n\taddLine( 'n4', 'n3', colorFrustum );\n\taddLine( 'n3', 'n1', colorFrustum );\n\n\t// far\n\n\taddLine( 'f1', 'f2', colorFrustum );\n\taddLine( 'f2', 'f4', colorFrustum );\n\taddLine( 'f4', 'f3', colorFrustum );\n\taddLine( 'f3', 'f1', colorFrustum );\n\n\t// sides\n\n\taddLine( 'n1', 'f1', colorFrustum );\n\taddLine( 'n2', 'f2', colorFrustum );\n\taddLine( 'n3', 'f3', colorFrustum );\n\taddLine( 'n4', 'f4', colorFrustum );\n\n\t// cone\n\n\taddLine( 'p', 'n1', colorCone );\n\taddLine( 'p', 'n2', colorCone );\n\taddLine( 'p', 'n3', colorCone );\n\taddLine( 'p', 'n4', colorCone );\n\n\t// up\n\n\taddLine( 'u1', 'u2', colorUp );\n\taddLine( 'u2', 'u3', colorUp );\n\taddLine( 'u3', 'u1', colorUp );\n\n\t// target\n\n\taddLine( 'c', 't', colorTarget );\n\taddLine( 'p', 'c', colorCross );\n\n\t// cross\n\n\taddLine( 'cn1', 'cn2', colorCross );\n\taddLine( 'cn3', 'cn4', colorCross );\n\n\taddLine( 'cf1', 'cf2', colorCross );\n\taddLine( 'cf3', 'cf4', colorCross );\n\n\tfunction addLine( a, b, color ) {\n\n\t\taddPoint( a, color );\n\t\taddPoint( b, color );\n\n\t}\n\n\tfunction addPoint( id, color ) {\n\n\t\tvertices.push( 0, 0, 0 );\n\t\tcolors.push( color.r, color.g, color.b );\n\n\t\tif ( pointMap[ id ] === undefined ) {\n\n\t\t\tpointMap[ id ] = [];\n\n\t\t}\n\n\t\tpointMap[ id ].push( ( vertices.length / 3 ) - 1 );\n\n\t}\n\n\tgeometry.addAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\n\tgeometry.addAttribute( 'color', new Float32BufferAttribute( colors, 3 ) );\n\n\tLineSegments.call( this, geometry, material );\n\n\tthis.camera = camera;\n\tif ( this.camera.updateProjectionMatrix ) this.camera.updateProjectionMatrix();\n\n\tthis.matrix = camera.matrixWorld;\n\tthis.matrixAutoUpdate = false;\n\n\tthis.pointMap = pointMap;\n\n\tthis.update();\n\n}\n\nCameraHelper.prototype = Object.create( LineSegments.prototype );\nCameraHelper.prototype.constructor = CameraHelper;\n\nCameraHelper.prototype.update = function () {\n\n\tvar geometry, pointMap;\n\n\tvar vector = new Vector3();\n\tvar camera = new Camera();\n\n\tfunction setPoint( point, x, y, z ) {\n\n\t\tvector.set( x, y, z ).unproject( camera );\n\n\t\tvar points = pointMap[ point ];\n\n\t\tif ( points !== undefined ) {\n\n\t\t\tvar position = geometry.getAttribute( 'position' );\n\n\t\t\tfor ( var i = 0, l = points.length; i < l; i ++ ) {\n\n\t\t\t\tposition.setXYZ( points[ i ], vector.x, vector.y, vector.z );\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\treturn function update() {\n\n\t\tgeometry = this.geometry;\n\t\tpointMap = this.pointMap;\n\n\t\tvar w = 1, h = 1;\n\n\t\t// we need just camera projection matrix inverse\n\t\t// world matrix must be identity\n\n\t\tcamera.projectionMatrixInverse.copy( this.camera.projectionMatrixInverse );\n\n\t\t// center / target\n\n\t\tsetPoint( 'c', 0, 0, - 1 );\n\t\tsetPoint( 't', 0, 0, 1 );\n\n\t\t// near\n\n\t\tsetPoint( 'n1', - w, - h, - 1 );\n\t\tsetPoint( 'n2', w, - h, - 1 );\n\t\tsetPoint( 'n3', - w, h, - 1 );\n\t\tsetPoint( 'n4', w, h, - 1 );\n\n\t\t// far\n\n\t\tsetPoint( 'f1', - w, - h, 1 );\n\t\tsetPoint( 'f2', w, - h, 1 );\n\t\tsetPoint( 'f3', - w, h, 1 );\n\t\tsetPoint( 'f4', w, h, 1 );\n\n\t\t// up\n\n\t\tsetPoint( 'u1', w * 0.7, h * 1.1, - 1 );\n\t\tsetPoint( 'u2', - w * 0.7, h * 1.1, - 1 );\n\t\tsetPoint( 'u3', 0, h * 2, - 1 );\n\n\t\t// cross\n\n\t\tsetPoint( 'cf1', - w, 0, 1 );\n\t\tsetPoint( 'cf2', w, 0, 1 );\n\t\tsetPoint( 'cf3', 0, - h, 1 );\n\t\tsetPoint( 'cf4', 0, h, 1 );\n\n\t\tsetPoint( 'cn1', - w, 0, - 1 );\n\t\tsetPoint( 'cn2', w, 0, - 1 );\n\t\tsetPoint( 'cn3', 0, - h, - 1 );\n\t\tsetPoint( 'cn4', 0, h, - 1 );\n\n\t\tgeometry.getAttribute( 'position' ).needsUpdate = true;\n\n\t};\n\n}();\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author Mugen87 / http://github.com/Mugen87\n */\n\nfunction BoxHelper( object, color ) {\n\n\tthis.object = object;\n\n\tif ( color === undefined ) color = 0xffff00;\n\n\tvar indices = new Uint16Array( [ 0, 1, 1, 2, 2, 3, 3, 0, 4, 5, 5, 6, 6, 7, 7, 4, 0, 4, 1, 5, 2, 6, 3, 7 ] );\n\tvar positions = new Float32Array( 8 * 3 );\n\n\tvar geometry = new BufferGeometry();\n\tgeometry.setIndex( new BufferAttribute( indices, 1 ) );\n\tgeometry.addAttribute( 'position', new BufferAttribute( positions, 3 ) );\n\n\tLineSegments.call( this, geometry, new LineBasicMaterial( { color: color } ) );\n\n\tthis.matrixAutoUpdate = false;\n\n\tthis.update();\n\n}\n\nBoxHelper.prototype = Object.create( LineSegments.prototype );\nBoxHelper.prototype.constructor = BoxHelper;\n\nBoxHelper.prototype.update = ( function () {\n\n\tvar box = new Box3();\n\n\treturn function update( object ) {\n\n\t\tif ( object !== undefined ) {\n\n\t\t\tconsole.warn( 'THREE.BoxHelper: .update() has no longer arguments.' );\n\n\t\t}\n\n\t\tif ( this.object !== undefined ) {\n\n\t\t\tbox.setFromObject( this.object );\n\n\t\t}\n\n\t\tif ( box.isEmpty() ) return;\n\n\t\tvar min = box.min;\n\t\tvar max = box.max;\n\n\t\t/*\n\t\t  5____4\n\t\t1/___0/|\n\t\t| 6__|_7\n\t\t2/___3/\n\n\t\t0: max.x, max.y, max.z\n\t\t1: min.x, max.y, max.z\n\t\t2: min.x, min.y, max.z\n\t\t3: max.x, min.y, max.z\n\t\t4: max.x, max.y, min.z\n\t\t5: min.x, max.y, min.z\n\t\t6: min.x, min.y, min.z\n\t\t7: max.x, min.y, min.z\n\t\t*/\n\n\t\tvar position = this.geometry.attributes.position;\n\t\tvar array = position.array;\n\n\t\tarray[ 0 ] = max.x; array[ 1 ] = max.y; array[ 2 ] = max.z;\n\t\tarray[ 3 ] = min.x; array[ 4 ] = max.y; array[ 5 ] = max.z;\n\t\tarray[ 6 ] = min.x; array[ 7 ] = min.y; array[ 8 ] = max.z;\n\t\tarray[ 9 ] = max.x; array[ 10 ] = min.y; array[ 11 ] = max.z;\n\t\tarray[ 12 ] = max.x; array[ 13 ] = max.y; array[ 14 ] = min.z;\n\t\tarray[ 15 ] = min.x; array[ 16 ] = max.y; array[ 17 ] = min.z;\n\t\tarray[ 18 ] = min.x; array[ 19 ] = min.y; array[ 20 ] = min.z;\n\t\tarray[ 21 ] = max.x; array[ 22 ] = min.y; array[ 23 ] = min.z;\n\n\t\tposition.needsUpdate = true;\n\n\t\tthis.geometry.computeBoundingSphere();\n\n\t};\n\n} )();\n\nBoxHelper.prototype.setFromObject = function ( object ) {\n\n\tthis.object = object;\n\tthis.update();\n\n\treturn this;\n\n};\n\nBoxHelper.prototype.copy = function ( source ) {\n\n\tLineSegments.prototype.copy.call( this, source );\n\n\tthis.object = source.object;\n\n\treturn this;\n\n};\n\nBoxHelper.prototype.clone = function () {\n\n\treturn new this.constructor().copy( this );\n\n};\n\n/**\n * @author WestLangley / http://github.com/WestLangley\n */\n\nfunction Box3Helper( box, hex ) {\n\n\tthis.type = 'Box3Helper';\n\n\tthis.box = box;\n\n\tvar color = ( hex !== undefined ) ? hex : 0xffff00;\n\n\tvar indices = new Uint16Array( [ 0, 1, 1, 2, 2, 3, 3, 0, 4, 5, 5, 6, 6, 7, 7, 4, 0, 4, 1, 5, 2, 6, 3, 7 ] );\n\n\tvar positions = [ 1, 1, 1, - 1, 1, 1, - 1, - 1, 1, 1, - 1, 1, 1, 1, - 1, - 1, 1, - 1, - 1, - 1, - 1, 1, - 1, - 1 ];\n\n\tvar geometry = new BufferGeometry();\n\n\tgeometry.setIndex( new BufferAttribute( indices, 1 ) );\n\n\tgeometry.addAttribute( 'position', new Float32BufferAttribute( positions, 3 ) );\n\n\tLineSegments.call( this, geometry, new LineBasicMaterial( { color: color } ) );\n\n\tthis.geometry.computeBoundingSphere();\n\n}\n\nBox3Helper.prototype = Object.create( LineSegments.prototype );\nBox3Helper.prototype.constructor = Box3Helper;\n\nBox3Helper.prototype.updateMatrixWorld = function ( force ) {\n\n\tvar box = this.box;\n\n\tif ( box.isEmpty() ) return;\n\n\tbox.getCenter( this.position );\n\n\tbox.getSize( this.scale );\n\n\tthis.scale.multiplyScalar( 0.5 );\n\n\tObject3D.prototype.updateMatrixWorld.call( this, force );\n\n};\n\n/**\n * @author WestLangley / http://github.com/WestLangley\n */\n\nfunction PlaneHelper( plane, size, hex ) {\n\n\tthis.type = 'PlaneHelper';\n\n\tthis.plane = plane;\n\n\tthis.size = ( size === undefined ) ? 1 : size;\n\n\tvar color = ( hex !== undefined ) ? hex : 0xffff00;\n\n\tvar positions = [ 1, - 1, 1, - 1, 1, 1, - 1, - 1, 1, 1, 1, 1, - 1, 1, 1, - 1, - 1, 1, 1, - 1, 1, 1, 1, 1, 0, 0, 1, 0, 0, 0 ];\n\n\tvar geometry = new BufferGeometry();\n\tgeometry.addAttribute( 'position', new Float32BufferAttribute( positions, 3 ) );\n\tgeometry.computeBoundingSphere();\n\n\tLine.call( this, geometry, new LineBasicMaterial( { color: color } ) );\n\n\t//\n\n\tvar positions2 = [ 1, 1, 1, - 1, 1, 1, - 1, - 1, 1, 1, 1, 1, - 1, - 1, 1, 1, - 1, 1 ];\n\n\tvar geometry2 = new BufferGeometry();\n\tgeometry2.addAttribute( 'position', new Float32BufferAttribute( positions2, 3 ) );\n\tgeometry2.computeBoundingSphere();\n\n\tthis.add( new Mesh( geometry2, new MeshBasicMaterial( { color: color, opacity: 0.2, transparent: true, depthWrite: false } ) ) );\n\n}\n\nPlaneHelper.prototype = Object.create( Line.prototype );\nPlaneHelper.prototype.constructor = PlaneHelper;\n\nPlaneHelper.prototype.updateMatrixWorld = function ( force ) {\n\n\tvar scale = - this.plane.constant;\n\n\tif ( Math.abs( scale ) < 1e-8 ) scale = 1e-8; // sign does not matter\n\n\tthis.scale.set( 0.5 * this.size, 0.5 * this.size, scale );\n\n\tthis.children[ 0 ].material.side = ( scale < 0 ) ? BackSide : FrontSide; // renderer flips side when determinant < 0; flipping not wanted here\n\n\tthis.lookAt( this.plane.normal );\n\n\tObject3D.prototype.updateMatrixWorld.call( this, force );\n\n};\n\n/**\n * @author WestLangley / http://github.com/WestLangley\n * @author zz85 / http://github.com/zz85\n * @author bhouston / http://clara.io\n *\n * Creates an arrow for visualizing directions\n *\n * Parameters:\n *  dir - Vector3\n *  origin - Vector3\n *  length - Number\n *  color - color in hex value\n *  headLength - Number\n *  headWidth - Number\n */\n\nvar lineGeometry, coneGeometry;\n\nfunction ArrowHelper( dir, origin, length, color, headLength, headWidth ) {\n\n\t// dir is assumed to be normalized\n\n\tObject3D.call( this );\n\n\tif ( dir === undefined ) dir = new Vector3( 0, 0, 1 );\n\tif ( origin === undefined ) origin = new Vector3( 0, 0, 0 );\n\tif ( length === undefined ) length = 1;\n\tif ( color === undefined ) color = 0xffff00;\n\tif ( headLength === undefined ) headLength = 0.2 * length;\n\tif ( headWidth === undefined ) headWidth = 0.2 * headLength;\n\n\tif ( lineGeometry === undefined ) {\n\n\t\tlineGeometry = new BufferGeometry();\n\t\tlineGeometry.addAttribute( 'position', new Float32BufferAttribute( [ 0, 0, 0, 0, 1, 0 ], 3 ) );\n\n\t\tconeGeometry = new CylinderBufferGeometry( 0, 0.5, 1, 5, 1 );\n\t\tconeGeometry.translate( 0, - 0.5, 0 );\n\n\t}\n\n\tthis.position.copy( origin );\n\n\tthis.line = new Line( lineGeometry, new LineBasicMaterial( { color: color } ) );\n\tthis.line.matrixAutoUpdate = false;\n\tthis.add( this.line );\n\n\tthis.cone = new Mesh( coneGeometry, new MeshBasicMaterial( { color: color } ) );\n\tthis.cone.matrixAutoUpdate = false;\n\tthis.add( this.cone );\n\n\tthis.setDirection( dir );\n\tthis.setLength( length, headLength, headWidth );\n\n}\n\nArrowHelper.prototype = Object.create( Object3D.prototype );\nArrowHelper.prototype.constructor = ArrowHelper;\n\nArrowHelper.prototype.setDirection = ( function () {\n\n\tvar axis = new Vector3();\n\tvar radians;\n\n\treturn function setDirection( dir ) {\n\n\t\t// dir is assumed to be normalized\n\n\t\tif ( dir.y > 0.99999 ) {\n\n\t\t\tthis.quaternion.set( 0, 0, 0, 1 );\n\n\t\t} else if ( dir.y < - 0.99999 ) {\n\n\t\t\tthis.quaternion.set( 1, 0, 0, 0 );\n\n\t\t} else {\n\n\t\t\taxis.set( dir.z, 0, - dir.x ).normalize();\n\n\t\t\tradians = Math.acos( dir.y );\n\n\t\t\tthis.quaternion.setFromAxisAngle( axis, radians );\n\n\t\t}\n\n\t};\n\n}() );\n\nArrowHelper.prototype.setLength = function ( length, headLength, headWidth ) {\n\n\tif ( headLength === undefined ) headLength = 0.2 * length;\n\tif ( headWidth === undefined ) headWidth = 0.2 * headLength;\n\n\tthis.line.scale.set( 1, Math.max( 0, length - headLength ), 1 );\n\tthis.line.updateMatrix();\n\n\tthis.cone.scale.set( headWidth, headLength, headWidth );\n\tthis.cone.position.y = length;\n\tthis.cone.updateMatrix();\n\n};\n\nArrowHelper.prototype.setColor = function ( color ) {\n\n\tthis.line.material.color.copy( color );\n\tthis.cone.material.color.copy( color );\n\n};\n\nArrowHelper.prototype.copy = function ( source ) {\n\n\tObject3D.prototype.copy.call( this, source, false );\n\n\tthis.line.copy( source.line );\n\tthis.cone.copy( source.cone );\n\n\treturn this;\n\n};\n\nArrowHelper.prototype.clone = function () {\n\n\treturn new this.constructor().copy( this );\n\n};\n\n/**\n * @author sroucheray / http://sroucheray.org/\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction AxesHelper( size ) {\n\n\tsize = size || 1;\n\n\tvar vertices = [\n\t\t0, 0, 0,\tsize, 0, 0,\n\t\t0, 0, 0,\t0, size, 0,\n\t\t0, 0, 0,\t0, 0, size\n\t];\n\n\tvar colors = [\n\t\t1, 0, 0,\t1, 0.6, 0,\n\t\t0, 1, 0,\t0.6, 1, 0,\n\t\t0, 0, 1,\t0, 0.6, 1\n\t];\n\n\tvar geometry = new BufferGeometry();\n\tgeometry.addAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\n\tgeometry.addAttribute( 'color', new Float32BufferAttribute( colors, 3 ) );\n\n\tvar material = new LineBasicMaterial( { vertexColors: VertexColors } );\n\n\tLineSegments.call( this, geometry, material );\n\n}\n\nAxesHelper.prototype = Object.create( LineSegments.prototype );\nAxesHelper.prototype.constructor = AxesHelper;\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction Face4( a, b, c, d, normal, color, materialIndex ) {\n\n\tconsole.warn( 'THREE.Face4 has been removed. A THREE.Face3 will be created instead.' );\n\treturn new Face3( a, b, c, normal, color, materialIndex );\n\n}\n\nvar LineStrip = 0;\n\nvar LinePieces = 1;\n\nfunction MeshFaceMaterial( materials ) {\n\n\tconsole.warn( 'THREE.MeshFaceMaterial has been removed. Use an Array instead.' );\n\treturn materials;\n\n}\n\nfunction MultiMaterial( materials ) {\n\n\tif ( materials === undefined ) materials = [];\n\n\tconsole.warn( 'THREE.MultiMaterial has been removed. Use an Array instead.' );\n\tmaterials.isMultiMaterial = true;\n\tmaterials.materials = materials;\n\tmaterials.clone = function () {\n\n\t\treturn materials.slice();\n\n\t};\n\treturn materials;\n\n}\n\nfunction PointCloud( geometry, material ) {\n\n\tconsole.warn( 'THREE.PointCloud has been renamed to THREE.Points.' );\n\treturn new Points( geometry, material );\n\n}\n\nfunction Particle( material ) {\n\n\tconsole.warn( 'THREE.Particle has been renamed to THREE.Sprite.' );\n\treturn new Sprite( material );\n\n}\n\nfunction ParticleSystem( geometry, material ) {\n\n\tconsole.warn( 'THREE.ParticleSystem has been renamed to THREE.Points.' );\n\treturn new Points( geometry, material );\n\n}\n\nfunction PointCloudMaterial( parameters ) {\n\n\tconsole.warn( 'THREE.PointCloudMaterial has been renamed to THREE.PointsMaterial.' );\n\treturn new PointsMaterial( parameters );\n\n}\n\nfunction ParticleBasicMaterial( parameters ) {\n\n\tconsole.warn( 'THREE.ParticleBasicMaterial has been renamed to THREE.PointsMaterial.' );\n\treturn new PointsMaterial( parameters );\n\n}\n\nfunction ParticleSystemMaterial( parameters ) {\n\n\tconsole.warn( 'THREE.ParticleSystemMaterial has been renamed to THREE.PointsMaterial.' );\n\treturn new PointsMaterial( parameters );\n\n}\n\nfunction Vertex( x, y, z ) {\n\n\tconsole.warn( 'THREE.Vertex has been removed. Use THREE.Vector3 instead.' );\n\treturn new Vector3( x, y, z );\n\n}\n\n//\n\nfunction DynamicBufferAttribute( array, itemSize ) {\n\n\tconsole.warn( 'THREE.DynamicBufferAttribute has been removed. Use new THREE.BufferAttribute().setDynamic( true ) instead.' );\n\treturn new BufferAttribute( array, itemSize ).setDynamic( true );\n\n}\n\nfunction Int8Attribute( array, itemSize ) {\n\n\tconsole.warn( 'THREE.Int8Attribute has been removed. Use new THREE.Int8BufferAttribute() instead.' );\n\treturn new Int8BufferAttribute( array, itemSize );\n\n}\n\nfunction Uint8Attribute( array, itemSize ) {\n\n\tconsole.warn( 'THREE.Uint8Attribute has been removed. Use new THREE.Uint8BufferAttribute() instead.' );\n\treturn new Uint8BufferAttribute( array, itemSize );\n\n}\n\nfunction Uint8ClampedAttribute( array, itemSize ) {\n\n\tconsole.warn( 'THREE.Uint8ClampedAttribute has been removed. Use new THREE.Uint8ClampedBufferAttribute() instead.' );\n\treturn new Uint8ClampedBufferAttribute( array, itemSize );\n\n}\n\nfunction Int16Attribute( array, itemSize ) {\n\n\tconsole.warn( 'THREE.Int16Attribute has been removed. Use new THREE.Int16BufferAttribute() instead.' );\n\treturn new Int16BufferAttribute( array, itemSize );\n\n}\n\nfunction Uint16Attribute( array, itemSize ) {\n\n\tconsole.warn( 'THREE.Uint16Attribute has been removed. Use new THREE.Uint16BufferAttribute() instead.' );\n\treturn new Uint16BufferAttribute( array, itemSize );\n\n}\n\nfunction Int32Attribute( array, itemSize ) {\n\n\tconsole.warn( 'THREE.Int32Attribute has been removed. Use new THREE.Int32BufferAttribute() instead.' );\n\treturn new Int32BufferAttribute( array, itemSize );\n\n}\n\nfunction Uint32Attribute( array, itemSize ) {\n\n\tconsole.warn( 'THREE.Uint32Attribute has been removed. Use new THREE.Uint32BufferAttribute() instead.' );\n\treturn new Uint32BufferAttribute( array, itemSize );\n\n}\n\nfunction Float32Attribute( array, itemSize ) {\n\n\tconsole.warn( 'THREE.Float32Attribute has been removed. Use new THREE.Float32BufferAttribute() instead.' );\n\treturn new Float32BufferAttribute( array, itemSize );\n\n}\n\nfunction Float64Attribute( array, itemSize ) {\n\n\tconsole.warn( 'THREE.Float64Attribute has been removed. Use new THREE.Float64BufferAttribute() instead.' );\n\treturn new Float64BufferAttribute( array, itemSize );\n\n}\n\n//\n\nCurve.create = function ( construct, getPoint ) {\n\n\tconsole.log( 'THREE.Curve.create() has been deprecated' );\n\n\tconstruct.prototype = Object.create( Curve.prototype );\n\tconstruct.prototype.constructor = construct;\n\tconstruct.prototype.getPoint = getPoint;\n\n\treturn construct;\n\n};\n\n//\n\nObject.assign( CurvePath.prototype, {\n\n\tcreatePointsGeometry: function ( divisions ) {\n\n\t\tconsole.warn( 'THREE.CurvePath: .createPointsGeometry() has been removed. Use new THREE.Geometry().setFromPoints( points ) instead.' );\n\n\t\t// generate geometry from path points (for Line or Points objects)\n\n\t\tvar pts = this.getPoints( divisions );\n\t\treturn this.createGeometry( pts );\n\n\t},\n\n\tcreateSpacedPointsGeometry: function ( divisions ) {\n\n\t\tconsole.warn( 'THREE.CurvePath: .createSpacedPointsGeometry() has been removed. Use new THREE.Geometry().setFromPoints( points ) instead.' );\n\n\t\t// generate geometry from equidistant sampling along the path\n\n\t\tvar pts = this.getSpacedPoints( divisions );\n\t\treturn this.createGeometry( pts );\n\n\t},\n\n\tcreateGeometry: function ( points ) {\n\n\t\tconsole.warn( 'THREE.CurvePath: .createGeometry() has been removed. Use new THREE.Geometry().setFromPoints( points ) instead.' );\n\n\t\tvar geometry = new Geometry();\n\n\t\tfor ( var i = 0, l = points.length; i < l; i ++ ) {\n\n\t\t\tvar point = points[ i ];\n\t\t\tgeometry.vertices.push( new Vector3( point.x, point.y, point.z || 0 ) );\n\n\t\t}\n\n\t\treturn geometry;\n\n\t}\n\n} );\n\n//\n\nObject.assign( Path.prototype, {\n\n\tfromPoints: function ( points ) {\n\n\t\tconsole.warn( 'THREE.Path: .fromPoints() has been renamed to .setFromPoints().' );\n\t\tthis.setFromPoints( points );\n\n\t}\n\n} );\n\n//\n\nfunction ClosedSplineCurve3( points ) {\n\n\tconsole.warn( 'THREE.ClosedSplineCurve3 has been deprecated. Use THREE.CatmullRomCurve3 instead.' );\n\n\tCatmullRomCurve3.call( this, points );\n\tthis.type = 'catmullrom';\n\tthis.closed = true;\n\n}\n\nClosedSplineCurve3.prototype = Object.create( CatmullRomCurve3.prototype );\n\n//\n\nfunction SplineCurve3( points ) {\n\n\tconsole.warn( 'THREE.SplineCurve3 has been deprecated. Use THREE.CatmullRomCurve3 instead.' );\n\n\tCatmullRomCurve3.call( this, points );\n\tthis.type = 'catmullrom';\n\n}\n\nSplineCurve3.prototype = Object.create( CatmullRomCurve3.prototype );\n\n//\n\nfunction Spline( points ) {\n\n\tconsole.warn( 'THREE.Spline has been removed. Use THREE.CatmullRomCurve3 instead.' );\n\n\tCatmullRomCurve3.call( this, points );\n\tthis.type = 'catmullrom';\n\n}\n\nSpline.prototype = Object.create( CatmullRomCurve3.prototype );\n\nObject.assign( Spline.prototype, {\n\n\tinitFromArray: function ( /* a */ ) {\n\n\t\tconsole.error( 'THREE.Spline: .initFromArray() has been removed.' );\n\n\t},\n\tgetControlPointsArray: function ( /* optionalTarget */ ) {\n\n\t\tconsole.error( 'THREE.Spline: .getControlPointsArray() has been removed.' );\n\n\t},\n\treparametrizeByArcLength: function ( /* samplingCoef */ ) {\n\n\t\tconsole.error( 'THREE.Spline: .reparametrizeByArcLength() has been removed.' );\n\n\t}\n\n} );\n\n//\n\nfunction AxisHelper( size ) {\n\n\tconsole.warn( 'THREE.AxisHelper has been renamed to THREE.AxesHelper.' );\n\treturn new AxesHelper( size );\n\n}\n\nfunction BoundingBoxHelper( object, color ) {\n\n\tconsole.warn( 'THREE.BoundingBoxHelper has been deprecated. Creating a THREE.BoxHelper instead.' );\n\treturn new BoxHelper( object, color );\n\n}\n\nfunction EdgesHelper( object, hex ) {\n\n\tconsole.warn( 'THREE.EdgesHelper has been removed. Use THREE.EdgesGeometry instead.' );\n\treturn new LineSegments( new EdgesGeometry( object.geometry ), new LineBasicMaterial( { color: hex !== undefined ? hex : 0xffffff } ) );\n\n}\n\nGridHelper.prototype.setColors = function () {\n\n\tconsole.error( 'THREE.GridHelper: setColors() has been deprecated, pass them in the constructor instead.' );\n\n};\n\nSkeletonHelper.prototype.update = function () {\n\n\tconsole.error( 'THREE.SkeletonHelper: update() no longer needs to be called.' );\n\n};\n\nfunction WireframeHelper( object, hex ) {\n\n\tconsole.warn( 'THREE.WireframeHelper has been removed. Use THREE.WireframeGeometry instead.' );\n\treturn new LineSegments( new WireframeGeometry( object.geometry ), new LineBasicMaterial( { color: hex !== undefined ? hex : 0xffffff } ) );\n\n}\n\n//\n\nObject.assign( Loader.prototype, {\n\n\textractUrlBase: function ( url ) {\n\n\t\tconsole.warn( 'THREE.Loader: .extractUrlBase() has been deprecated. Use THREE.LoaderUtils.extractUrlBase() instead.' );\n\t\treturn LoaderUtils.extractUrlBase( url );\n\n\t}\n\n} );\n\nfunction XHRLoader( manager ) {\n\n\tconsole.warn( 'THREE.XHRLoader has been renamed to THREE.FileLoader.' );\n\treturn new FileLoader( manager );\n\n}\n\nfunction BinaryTextureLoader( manager ) {\n\n\tconsole.warn( 'THREE.BinaryTextureLoader has been renamed to THREE.DataTextureLoader.' );\n\treturn new DataTextureLoader( manager );\n\n}\n\nObject.assign( ObjectLoader.prototype, {\n\n\tsetTexturePath: function ( value ) {\n\n\t\tconsole.warn( 'THREE.ObjectLoader: .setTexturePath() has been renamed to .setResourcePath().' );\n\t\treturn this.setResourcePath( value );\n\n\t}\n\n} );\n\n//\n\nObject.assign( Box2.prototype, {\n\n\tcenter: function ( optionalTarget ) {\n\n\t\tconsole.warn( 'THREE.Box2: .center() has been renamed to .getCenter().' );\n\t\treturn this.getCenter( optionalTarget );\n\n\t},\n\tempty: function () {\n\n\t\tconsole.warn( 'THREE.Box2: .empty() has been renamed to .isEmpty().' );\n\t\treturn this.isEmpty();\n\n\t},\n\tisIntersectionBox: function ( box ) {\n\n\t\tconsole.warn( 'THREE.Box2: .isIntersectionBox() has been renamed to .intersectsBox().' );\n\t\treturn this.intersectsBox( box );\n\n\t},\n\tsize: function ( optionalTarget ) {\n\n\t\tconsole.warn( 'THREE.Box2: .size() has been renamed to .getSize().' );\n\t\treturn this.getSize( optionalTarget );\n\n\t}\n} );\n\nObject.assign( Box3.prototype, {\n\n\tcenter: function ( optionalTarget ) {\n\n\t\tconsole.warn( 'THREE.Box3: .center() has been renamed to .getCenter().' );\n\t\treturn this.getCenter( optionalTarget );\n\n\t},\n\tempty: function () {\n\n\t\tconsole.warn( 'THREE.Box3: .empty() has been renamed to .isEmpty().' );\n\t\treturn this.isEmpty();\n\n\t},\n\tisIntersectionBox: function ( box ) {\n\n\t\tconsole.warn( 'THREE.Box3: .isIntersectionBox() has been renamed to .intersectsBox().' );\n\t\treturn this.intersectsBox( box );\n\n\t},\n\tisIntersectionSphere: function ( sphere ) {\n\n\t\tconsole.warn( 'THREE.Box3: .isIntersectionSphere() has been renamed to .intersectsSphere().' );\n\t\treturn this.intersectsSphere( sphere );\n\n\t},\n\tsize: function ( optionalTarget ) {\n\n\t\tconsole.warn( 'THREE.Box3: .size() has been renamed to .getSize().' );\n\t\treturn this.getSize( optionalTarget );\n\n\t}\n} );\n\nLine3.prototype.center = function ( optionalTarget ) {\n\n\tconsole.warn( 'THREE.Line3: .center() has been renamed to .getCenter().' );\n\treturn this.getCenter( optionalTarget );\n\n};\n\nObject.assign( _Math, {\n\n\trandom16: function () {\n\n\t\tconsole.warn( 'THREE.Math: .random16() has been deprecated. Use Math.random() instead.' );\n\t\treturn Math.random();\n\n\t},\n\n\tnearestPowerOfTwo: function ( value ) {\n\n\t\tconsole.warn( 'THREE.Math: .nearestPowerOfTwo() has been renamed to .floorPowerOfTwo().' );\n\t\treturn _Math.floorPowerOfTwo( value );\n\n\t},\n\n\tnextPowerOfTwo: function ( value ) {\n\n\t\tconsole.warn( 'THREE.Math: .nextPowerOfTwo() has been renamed to .ceilPowerOfTwo().' );\n\t\treturn _Math.ceilPowerOfTwo( value );\n\n\t}\n\n} );\n\nObject.assign( Matrix3.prototype, {\n\n\tflattenToArrayOffset: function ( array, offset ) {\n\n\t\tconsole.warn( \"THREE.Matrix3: .flattenToArrayOffset() has been deprecated. Use .toArray() instead.\" );\n\t\treturn this.toArray( array, offset );\n\n\t},\n\tmultiplyVector3: function ( vector ) {\n\n\t\tconsole.warn( 'THREE.Matrix3: .multiplyVector3() has been removed. Use vector.applyMatrix3( matrix ) instead.' );\n\t\treturn vector.applyMatrix3( this );\n\n\t},\n\tmultiplyVector3Array: function ( /* a */ ) {\n\n\t\tconsole.error( 'THREE.Matrix3: .multiplyVector3Array() has been removed.' );\n\n\t},\n\tapplyToBuffer: function ( buffer /*, offset, length */ ) {\n\n\t\tconsole.warn( 'THREE.Matrix3: .applyToBuffer() has been removed. Use matrix.applyToBufferAttribute( attribute ) instead.' );\n\t\treturn this.applyToBufferAttribute( buffer );\n\n\t},\n\tapplyToVector3Array: function ( /* array, offset, length */ ) {\n\n\t\tconsole.error( 'THREE.Matrix3: .applyToVector3Array() has been removed.' );\n\n\t}\n\n} );\n\nObject.assign( Matrix4.prototype, {\n\n\textractPosition: function ( m ) {\n\n\t\tconsole.warn( 'THREE.Matrix4: .extractPosition() has been renamed to .copyPosition().' );\n\t\treturn this.copyPosition( m );\n\n\t},\n\tflattenToArrayOffset: function ( array, offset ) {\n\n\t\tconsole.warn( \"THREE.Matrix4: .flattenToArrayOffset() has been deprecated. Use .toArray() instead.\" );\n\t\treturn this.toArray( array, offset );\n\n\t},\n\tgetPosition: function () {\n\n\t\tvar v1;\n\n\t\treturn function getPosition() {\n\n\t\t\tif ( v1 === undefined ) v1 = new Vector3();\n\t\t\tconsole.warn( 'THREE.Matrix4: .getPosition() has been removed. Use Vector3.setFromMatrixPosition( matrix ) instead.' );\n\t\t\treturn v1.setFromMatrixColumn( this, 3 );\n\n\t\t};\n\n\t}(),\n\tsetRotationFromQuaternion: function ( q ) {\n\n\t\tconsole.warn( 'THREE.Matrix4: .setRotationFromQuaternion() has been renamed to .makeRotationFromQuaternion().' );\n\t\treturn this.makeRotationFromQuaternion( q );\n\n\t},\n\tmultiplyToArray: function () {\n\n\t\tconsole.warn( 'THREE.Matrix4: .multiplyToArray() has been removed.' );\n\n\t},\n\tmultiplyVector3: function ( vector ) {\n\n\t\tconsole.warn( 'THREE.Matrix4: .multiplyVector3() has been removed. Use vector.applyMatrix4( matrix ) instead.' );\n\t\treturn vector.applyMatrix4( this );\n\n\t},\n\tmultiplyVector4: function ( vector ) {\n\n\t\tconsole.warn( 'THREE.Matrix4: .multiplyVector4() has been removed. Use vector.applyMatrix4( matrix ) instead.' );\n\t\treturn vector.applyMatrix4( this );\n\n\t},\n\tmultiplyVector3Array: function ( /* a */ ) {\n\n\t\tconsole.error( 'THREE.Matrix4: .multiplyVector3Array() has been removed.' );\n\n\t},\n\trotateAxis: function ( v ) {\n\n\t\tconsole.warn( 'THREE.Matrix4: .rotateAxis() has been removed. Use Vector3.transformDirection( matrix ) instead.' );\n\t\tv.transformDirection( this );\n\n\t},\n\tcrossVector: function ( vector ) {\n\n\t\tconsole.warn( 'THREE.Matrix4: .crossVector() has been removed. Use vector.applyMatrix4( matrix ) instead.' );\n\t\treturn vector.applyMatrix4( this );\n\n\t},\n\ttranslate: function () {\n\n\t\tconsole.error( 'THREE.Matrix4: .translate() has been removed.' );\n\n\t},\n\trotateX: function () {\n\n\t\tconsole.error( 'THREE.Matrix4: .rotateX() has been removed.' );\n\n\t},\n\trotateY: function () {\n\n\t\tconsole.error( 'THREE.Matrix4: .rotateY() has been removed.' );\n\n\t},\n\trotateZ: function () {\n\n\t\tconsole.error( 'THREE.Matrix4: .rotateZ() has been removed.' );\n\n\t},\n\trotateByAxis: function () {\n\n\t\tconsole.error( 'THREE.Matrix4: .rotateByAxis() has been removed.' );\n\n\t},\n\tapplyToBuffer: function ( buffer /*, offset, length */ ) {\n\n\t\tconsole.warn( 'THREE.Matrix4: .applyToBuffer() has been removed. Use matrix.applyToBufferAttribute( attribute ) instead.' );\n\t\treturn this.applyToBufferAttribute( buffer );\n\n\t},\n\tapplyToVector3Array: function ( /* array, offset, length */ ) {\n\n\t\tconsole.error( 'THREE.Matrix4: .applyToVector3Array() has been removed.' );\n\n\t},\n\tmakeFrustum: function ( left, right, bottom, top, near, far ) {\n\n\t\tconsole.warn( 'THREE.Matrix4: .makeFrustum() has been removed. Use .makePerspective( left, right, top, bottom, near, far ) instead.' );\n\t\treturn this.makePerspective( left, right, top, bottom, near, far );\n\n\t}\n\n} );\n\nPlane.prototype.isIntersectionLine = function ( line ) {\n\n\tconsole.warn( 'THREE.Plane: .isIntersectionLine() has been renamed to .intersectsLine().' );\n\treturn this.intersectsLine( line );\n\n};\n\nQuaternion.prototype.multiplyVector3 = function ( vector ) {\n\n\tconsole.warn( 'THREE.Quaternion: .multiplyVector3() has been removed. Use is now vector.applyQuaternion( quaternion ) instead.' );\n\treturn vector.applyQuaternion( this );\n\n};\n\nObject.assign( Ray.prototype, {\n\n\tisIntersectionBox: function ( box ) {\n\n\t\tconsole.warn( 'THREE.Ray: .isIntersectionBox() has been renamed to .intersectsBox().' );\n\t\treturn this.intersectsBox( box );\n\n\t},\n\tisIntersectionPlane: function ( plane ) {\n\n\t\tconsole.warn( 'THREE.Ray: .isIntersectionPlane() has been renamed to .intersectsPlane().' );\n\t\treturn this.intersectsPlane( plane );\n\n\t},\n\tisIntersectionSphere: function ( sphere ) {\n\n\t\tconsole.warn( 'THREE.Ray: .isIntersectionSphere() has been renamed to .intersectsSphere().' );\n\t\treturn this.intersectsSphere( sphere );\n\n\t}\n\n} );\n\nObject.assign( Triangle.prototype, {\n\n\tarea: function () {\n\n\t\tconsole.warn( 'THREE.Triangle: .area() has been renamed to .getArea().' );\n\t\treturn this.getArea();\n\n\t},\n\tbarycoordFromPoint: function ( point, target ) {\n\n\t\tconsole.warn( 'THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord().' );\n\t\treturn this.getBarycoord( point, target );\n\n\t},\n\tmidpoint: function ( target ) {\n\n\t\tconsole.warn( 'THREE.Triangle: .midpoint() has been renamed to .getMidpoint().' );\n\t\treturn this.getMidpoint( target );\n\n\t},\n\tnormal: function ( target ) {\n\n\t\tconsole.warn( 'THREE.Triangle: .normal() has been renamed to .getNormal().' );\n\t\treturn this.getNormal( target );\n\n\t},\n\tplane: function ( target ) {\n\n\t\tconsole.warn( 'THREE.Triangle: .plane() has been renamed to .getPlane().' );\n\t\treturn this.getPlane( target );\n\n\t}\n\n} );\n\nObject.assign( Triangle, {\n\n\tbarycoordFromPoint: function ( point, a, b, c, target ) {\n\n\t\tconsole.warn( 'THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord().' );\n\t\treturn Triangle.getBarycoord( point, a, b, c, target );\n\n\t},\n\tnormal: function ( a, b, c, target ) {\n\n\t\tconsole.warn( 'THREE.Triangle: .normal() has been renamed to .getNormal().' );\n\t\treturn Triangle.getNormal( a, b, c, target );\n\n\t}\n\n} );\n\nObject.assign( Shape.prototype, {\n\n\textractAllPoints: function ( divisions ) {\n\n\t\tconsole.warn( 'THREE.Shape: .extractAllPoints() has been removed. Use .extractPoints() instead.' );\n\t\treturn this.extractPoints( divisions );\n\n\t},\n\textrude: function ( options ) {\n\n\t\tconsole.warn( 'THREE.Shape: .extrude() has been removed. Use ExtrudeGeometry() instead.' );\n\t\treturn new ExtrudeGeometry( this, options );\n\n\t},\n\tmakeGeometry: function ( options ) {\n\n\t\tconsole.warn( 'THREE.Shape: .makeGeometry() has been removed. Use ShapeGeometry() instead.' );\n\t\treturn new ShapeGeometry( this, options );\n\n\t}\n\n} );\n\nObject.assign( Vector2.prototype, {\n\n\tfromAttribute: function ( attribute, index, offset ) {\n\n\t\tconsole.warn( 'THREE.Vector2: .fromAttribute() has been renamed to .fromBufferAttribute().' );\n\t\treturn this.fromBufferAttribute( attribute, index, offset );\n\n\t},\n\tdistanceToManhattan: function ( v ) {\n\n\t\tconsole.warn( 'THREE.Vector2: .distanceToManhattan() has been renamed to .manhattanDistanceTo().' );\n\t\treturn this.manhattanDistanceTo( v );\n\n\t},\n\tlengthManhattan: function () {\n\n\t\tconsole.warn( 'THREE.Vector2: .lengthManhattan() has been renamed to .manhattanLength().' );\n\t\treturn this.manhattanLength();\n\n\t}\n\n} );\n\nObject.assign( Vector3.prototype, {\n\n\tsetEulerFromRotationMatrix: function () {\n\n\t\tconsole.error( 'THREE.Vector3: .setEulerFromRotationMatrix() has been removed. Use Euler.setFromRotationMatrix() instead.' );\n\n\t},\n\tsetEulerFromQuaternion: function () {\n\n\t\tconsole.error( 'THREE.Vector3: .setEulerFromQuaternion() has been removed. Use Euler.setFromQuaternion() instead.' );\n\n\t},\n\tgetPositionFromMatrix: function ( m ) {\n\n\t\tconsole.warn( 'THREE.Vector3: .getPositionFromMatrix() has been renamed to .setFromMatrixPosition().' );\n\t\treturn this.setFromMatrixPosition( m );\n\n\t},\n\tgetScaleFromMatrix: function ( m ) {\n\n\t\tconsole.warn( 'THREE.Vector3: .getScaleFromMatrix() has been renamed to .setFromMatrixScale().' );\n\t\treturn this.setFromMatrixScale( m );\n\n\t},\n\tgetColumnFromMatrix: function ( index, matrix ) {\n\n\t\tconsole.warn( 'THREE.Vector3: .getColumnFromMatrix() has been renamed to .setFromMatrixColumn().' );\n\t\treturn this.setFromMatrixColumn( matrix, index );\n\n\t},\n\tapplyProjection: function ( m ) {\n\n\t\tconsole.warn( 'THREE.Vector3: .applyProjection() has been removed. Use .applyMatrix4( m ) instead.' );\n\t\treturn this.applyMatrix4( m );\n\n\t},\n\tfromAttribute: function ( attribute, index, offset ) {\n\n\t\tconsole.warn( 'THREE.Vector3: .fromAttribute() has been renamed to .fromBufferAttribute().' );\n\t\treturn this.fromBufferAttribute( attribute, index, offset );\n\n\t},\n\tdistanceToManhattan: function ( v ) {\n\n\t\tconsole.warn( 'THREE.Vector3: .distanceToManhattan() has been renamed to .manhattanDistanceTo().' );\n\t\treturn this.manhattanDistanceTo( v );\n\n\t},\n\tlengthManhattan: function () {\n\n\t\tconsole.warn( 'THREE.Vector3: .lengthManhattan() has been renamed to .manhattanLength().' );\n\t\treturn this.manhattanLength();\n\n\t}\n\n} );\n\nObject.assign( Vector4.prototype, {\n\n\tfromAttribute: function ( attribute, index, offset ) {\n\n\t\tconsole.warn( 'THREE.Vector4: .fromAttribute() has been renamed to .fromBufferAttribute().' );\n\t\treturn this.fromBufferAttribute( attribute, index, offset );\n\n\t},\n\tlengthManhattan: function () {\n\n\t\tconsole.warn( 'THREE.Vector4: .lengthManhattan() has been renamed to .manhattanLength().' );\n\t\treturn this.manhattanLength();\n\n\t}\n\n} );\n\n//\n\nObject.assign( Geometry.prototype, {\n\n\tcomputeTangents: function () {\n\n\t\tconsole.error( 'THREE.Geometry: .computeTangents() has been removed.' );\n\n\t},\n\tcomputeLineDistances: function () {\n\n\t\tconsole.error( 'THREE.Geometry: .computeLineDistances() has been removed. Use THREE.Line.computeLineDistances() instead.' );\n\n\t}\n\n} );\n\nObject.assign( Object3D.prototype, {\n\n\tgetChildByName: function ( name ) {\n\n\t\tconsole.warn( 'THREE.Object3D: .getChildByName() has been renamed to .getObjectByName().' );\n\t\treturn this.getObjectByName( name );\n\n\t},\n\trenderDepth: function () {\n\n\t\tconsole.warn( 'THREE.Object3D: .renderDepth has been removed. Use .renderOrder, instead.' );\n\n\t},\n\ttranslate: function ( distance, axis ) {\n\n\t\tconsole.warn( 'THREE.Object3D: .translate() has been removed. Use .translateOnAxis( axis, distance ) instead.' );\n\t\treturn this.translateOnAxis( axis, distance );\n\n\t},\n\tgetWorldRotation: function () {\n\n\t\tconsole.error( 'THREE.Object3D: .getWorldRotation() has been removed. Use THREE.Object3D.getWorldQuaternion( target ) instead.' );\n\n\t}\n\n} );\n\nObject.defineProperties( Object3D.prototype, {\n\n\teulerOrder: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.Object3D: .eulerOrder is now .rotation.order.' );\n\t\t\treturn this.rotation.order;\n\n\t\t},\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.Object3D: .eulerOrder is now .rotation.order.' );\n\t\t\tthis.rotation.order = value;\n\n\t\t}\n\t},\n\tuseQuaternion: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.' );\n\n\t\t},\n\t\tset: function () {\n\n\t\t\tconsole.warn( 'THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.' );\n\n\t\t}\n\t}\n\n} );\n\nObject.defineProperties( LOD.prototype, {\n\n\tobjects: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.LOD: .objects has been renamed to .levels.' );\n\t\t\treturn this.levels;\n\n\t\t}\n\t}\n\n} );\n\nObject.defineProperty( Skeleton.prototype, 'useVertexTexture', {\n\n\tget: function () {\n\n\t\tconsole.warn( 'THREE.Skeleton: useVertexTexture has been removed.' );\n\n\t},\n\tset: function () {\n\n\t\tconsole.warn( 'THREE.Skeleton: useVertexTexture has been removed.' );\n\n\t}\n\n} );\n\nSkinnedMesh.prototype.initBones = function () {\n\n\tconsole.error( 'THREE.SkinnedMesh: initBones() has been removed.' );\n\n};\n\nObject.defineProperty( Curve.prototype, '__arcLengthDivisions', {\n\n\tget: function () {\n\n\t\tconsole.warn( 'THREE.Curve: .__arcLengthDivisions is now .arcLengthDivisions.' );\n\t\treturn this.arcLengthDivisions;\n\n\t},\n\tset: function ( value ) {\n\n\t\tconsole.warn( 'THREE.Curve: .__arcLengthDivisions is now .arcLengthDivisions.' );\n\t\tthis.arcLengthDivisions = value;\n\n\t}\n\n} );\n\n//\n\nPerspectiveCamera.prototype.setLens = function ( focalLength, filmGauge ) {\n\n\tconsole.warn( \"THREE.PerspectiveCamera.setLens is deprecated. \" +\n\t\t\t\"Use .setFocalLength and .filmGauge for a photographic setup.\" );\n\n\tif ( filmGauge !== undefined ) this.filmGauge = filmGauge;\n\tthis.setFocalLength( focalLength );\n\n};\n\n//\n\nObject.defineProperties( Light.prototype, {\n\tonlyShadow: {\n\t\tset: function () {\n\n\t\t\tconsole.warn( 'THREE.Light: .onlyShadow has been removed.' );\n\n\t\t}\n\t},\n\tshadowCameraFov: {\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.Light: .shadowCameraFov is now .shadow.camera.fov.' );\n\t\t\tthis.shadow.camera.fov = value;\n\n\t\t}\n\t},\n\tshadowCameraLeft: {\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.Light: .shadowCameraLeft is now .shadow.camera.left.' );\n\t\t\tthis.shadow.camera.left = value;\n\n\t\t}\n\t},\n\tshadowCameraRight: {\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.Light: .shadowCameraRight is now .shadow.camera.right.' );\n\t\t\tthis.shadow.camera.right = value;\n\n\t\t}\n\t},\n\tshadowCameraTop: {\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.Light: .shadowCameraTop is now .shadow.camera.top.' );\n\t\t\tthis.shadow.camera.top = value;\n\n\t\t}\n\t},\n\tshadowCameraBottom: {\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.Light: .shadowCameraBottom is now .shadow.camera.bottom.' );\n\t\t\tthis.shadow.camera.bottom = value;\n\n\t\t}\n\t},\n\tshadowCameraNear: {\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.Light: .shadowCameraNear is now .shadow.camera.near.' );\n\t\t\tthis.shadow.camera.near = value;\n\n\t\t}\n\t},\n\tshadowCameraFar: {\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.Light: .shadowCameraFar is now .shadow.camera.far.' );\n\t\t\tthis.shadow.camera.far = value;\n\n\t\t}\n\t},\n\tshadowCameraVisible: {\n\t\tset: function () {\n\n\t\t\tconsole.warn( 'THREE.Light: .shadowCameraVisible has been removed. Use new THREE.CameraHelper( light.shadow.camera ) instead.' );\n\n\t\t}\n\t},\n\tshadowBias: {\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.Light: .shadowBias is now .shadow.bias.' );\n\t\t\tthis.shadow.bias = value;\n\n\t\t}\n\t},\n\tshadowDarkness: {\n\t\tset: function () {\n\n\t\t\tconsole.warn( 'THREE.Light: .shadowDarkness has been removed.' );\n\n\t\t}\n\t},\n\tshadowMapWidth: {\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.Light: .shadowMapWidth is now .shadow.mapSize.width.' );\n\t\t\tthis.shadow.mapSize.width = value;\n\n\t\t}\n\t},\n\tshadowMapHeight: {\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.Light: .shadowMapHeight is now .shadow.mapSize.height.' );\n\t\t\tthis.shadow.mapSize.height = value;\n\n\t\t}\n\t}\n} );\n\n//\n\nObject.defineProperties( BufferAttribute.prototype, {\n\n\tlength: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.BufferAttribute: .length has been deprecated. Use .count instead.' );\n\t\t\treturn this.array.length;\n\n\t\t}\n\t},\n\tcopyIndicesArray: function ( /* indices */ ) {\n\n\t\tconsole.error( 'THREE.BufferAttribute: .copyIndicesArray() has been removed.' );\n\n\t}\n\n} );\n\nObject.assign( BufferGeometry.prototype, {\n\n\taddIndex: function ( index ) {\n\n\t\tconsole.warn( 'THREE.BufferGeometry: .addIndex() has been renamed to .setIndex().' );\n\t\tthis.setIndex( index );\n\n\t},\n\taddDrawCall: function ( start, count, indexOffset ) {\n\n\t\tif ( indexOffset !== undefined ) {\n\n\t\t\tconsole.warn( 'THREE.BufferGeometry: .addDrawCall() no longer supports indexOffset.' );\n\n\t\t}\n\t\tconsole.warn( 'THREE.BufferGeometry: .addDrawCall() is now .addGroup().' );\n\t\tthis.addGroup( start, count );\n\n\t},\n\tclearDrawCalls: function () {\n\n\t\tconsole.warn( 'THREE.BufferGeometry: .clearDrawCalls() is now .clearGroups().' );\n\t\tthis.clearGroups();\n\n\t},\n\tcomputeTangents: function () {\n\n\t\tconsole.warn( 'THREE.BufferGeometry: .computeTangents() has been removed.' );\n\n\t},\n\tcomputeOffsets: function () {\n\n\t\tconsole.warn( 'THREE.BufferGeometry: .computeOffsets() has been removed.' );\n\n\t}\n\n} );\n\nObject.defineProperties( BufferGeometry.prototype, {\n\n\tdrawcalls: {\n\t\tget: function () {\n\n\t\t\tconsole.error( 'THREE.BufferGeometry: .drawcalls has been renamed to .groups.' );\n\t\t\treturn this.groups;\n\n\t\t}\n\t},\n\toffsets: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.BufferGeometry: .offsets has been renamed to .groups.' );\n\t\t\treturn this.groups;\n\n\t\t}\n\t}\n\n} );\n\n//\n\nObject.assign( ExtrudeBufferGeometry.prototype, {\n\n\tgetArrays: function () {\n\n\t\tconsole.error( 'THREE.ExtrudeBufferGeometry: .getArrays() has been removed.' );\n\n\t},\n\n\taddShapeList: function () {\n\n\t\tconsole.error( 'THREE.ExtrudeBufferGeometry: .addShapeList() has been removed.' );\n\n\t},\n\n\taddShape: function () {\n\n\t\tconsole.error( 'THREE.ExtrudeBufferGeometry: .addShape() has been removed.' );\n\n\t}\n\n} );\n\n//\n\nObject.defineProperties( Uniform.prototype, {\n\n\tdynamic: {\n\t\tset: function () {\n\n\t\t\tconsole.warn( 'THREE.Uniform: .dynamic has been removed. Use object.onBeforeRender() instead.' );\n\n\t\t}\n\t},\n\tonUpdate: {\n\t\tvalue: function () {\n\n\t\t\tconsole.warn( 'THREE.Uniform: .onUpdate() has been removed. Use object.onBeforeRender() instead.' );\n\t\t\treturn this;\n\n\t\t}\n\t}\n\n} );\n\n//\n\nObject.defineProperties( Material.prototype, {\n\n\twrapAround: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.Material: .wrapAround has been removed.' );\n\n\t\t},\n\t\tset: function () {\n\n\t\t\tconsole.warn( 'THREE.Material: .wrapAround has been removed.' );\n\n\t\t}\n\t},\n\n\toverdraw: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.Material: .overdraw has been removed.' );\n\n\t\t},\n\t\tset: function () {\n\n\t\t\tconsole.warn( 'THREE.Material: .overdraw has been removed.' );\n\n\t\t}\n\t},\n\n\twrapRGB: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.Material: .wrapRGB has been removed.' );\n\t\t\treturn new Color();\n\n\t\t}\n\t},\n\n\tshading: {\n\t\tget: function () {\n\n\t\t\tconsole.error( 'THREE.' + this.type + ': .shading has been removed. Use the boolean .flatShading instead.' );\n\n\t\t},\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.' + this.type + ': .shading has been removed. Use the boolean .flatShading instead.' );\n\t\t\tthis.flatShading = ( value === FlatShading );\n\n\t\t}\n\t}\n\n} );\n\nObject.defineProperties( MeshPhongMaterial.prototype, {\n\n\tmetal: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.MeshPhongMaterial: .metal has been removed. Use THREE.MeshStandardMaterial instead.' );\n\t\t\treturn false;\n\n\t\t},\n\t\tset: function () {\n\n\t\t\tconsole.warn( 'THREE.MeshPhongMaterial: .metal has been removed. Use THREE.MeshStandardMaterial instead' );\n\n\t\t}\n\t}\n\n} );\n\nObject.defineProperties( ShaderMaterial.prototype, {\n\n\tderivatives: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.ShaderMaterial: .derivatives has been moved to .extensions.derivatives.' );\n\t\t\treturn this.extensions.derivatives;\n\n\t\t},\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE. ShaderMaterial: .derivatives has been moved to .extensions.derivatives.' );\n\t\t\tthis.extensions.derivatives = value;\n\n\t\t}\n\t}\n\n} );\n\n//\n\nObject.assign( WebGLRenderer.prototype, {\n\n\tclearTarget: function ( renderTarget, color, depth, stencil ) {\n\n\t\tconsole.warn( 'THREE.WebGLRenderer: .clearTarget() has been deprecated. Use .setRenderTarget() and .clear() instead.' );\n\t\tthis.setRenderTarget( renderTarget );\n\t\tthis.clear( color, depth, stencil );\n\n\t},\n\tanimate: function ( callback ) {\n\n\t\tconsole.warn( 'THREE.WebGLRenderer: .animate() is now .setAnimationLoop().' );\n\t\tthis.setAnimationLoop( callback );\n\n\t},\n\tgetCurrentRenderTarget: function () {\n\n\t\tconsole.warn( 'THREE.WebGLRenderer: .getCurrentRenderTarget() is now .getRenderTarget().' );\n\t\treturn this.getRenderTarget();\n\n\t},\n\tgetMaxAnisotropy: function () {\n\n\t\tconsole.warn( 'THREE.WebGLRenderer: .getMaxAnisotropy() is now .capabilities.getMaxAnisotropy().' );\n\t\treturn this.capabilities.getMaxAnisotropy();\n\n\t},\n\tgetPrecision: function () {\n\n\t\tconsole.warn( 'THREE.WebGLRenderer: .getPrecision() is now .capabilities.precision.' );\n\t\treturn this.capabilities.precision;\n\n\t},\n\tresetGLState: function () {\n\n\t\tconsole.warn( 'THREE.WebGLRenderer: .resetGLState() is now .state.reset().' );\n\t\treturn this.state.reset();\n\n\t},\n\tsupportsFloatTextures: function () {\n\n\t\tconsole.warn( 'THREE.WebGLRenderer: .supportsFloatTextures() is now .extensions.get( \\'OES_texture_float\\' ).' );\n\t\treturn this.extensions.get( 'OES_texture_float' );\n\n\t},\n\tsupportsHalfFloatTextures: function () {\n\n\t\tconsole.warn( 'THREE.WebGLRenderer: .supportsHalfFloatTextures() is now .extensions.get( \\'OES_texture_half_float\\' ).' );\n\t\treturn this.extensions.get( 'OES_texture_half_float' );\n\n\t},\n\tsupportsStandardDerivatives: function () {\n\n\t\tconsole.warn( 'THREE.WebGLRenderer: .supportsStandardDerivatives() is now .extensions.get( \\'OES_standard_derivatives\\' ).' );\n\t\treturn this.extensions.get( 'OES_standard_derivatives' );\n\n\t},\n\tsupportsCompressedTextureS3TC: function () {\n\n\t\tconsole.warn( 'THREE.WebGLRenderer: .supportsCompressedTextureS3TC() is now .extensions.get( \\'WEBGL_compressed_texture_s3tc\\' ).' );\n\t\treturn this.extensions.get( 'WEBGL_compressed_texture_s3tc' );\n\n\t},\n\tsupportsCompressedTexturePVRTC: function () {\n\n\t\tconsole.warn( 'THREE.WebGLRenderer: .supportsCompressedTexturePVRTC() is now .extensions.get( \\'WEBGL_compressed_texture_pvrtc\\' ).' );\n\t\treturn this.extensions.get( 'WEBGL_compressed_texture_pvrtc' );\n\n\t},\n\tsupportsBlendMinMax: function () {\n\n\t\tconsole.warn( 'THREE.WebGLRenderer: .supportsBlendMinMax() is now .extensions.get( \\'EXT_blend_minmax\\' ).' );\n\t\treturn this.extensions.get( 'EXT_blend_minmax' );\n\n\t},\n\tsupportsVertexTextures: function () {\n\n\t\tconsole.warn( 'THREE.WebGLRenderer: .supportsVertexTextures() is now .capabilities.vertexTextures.' );\n\t\treturn this.capabilities.vertexTextures;\n\n\t},\n\tsupportsInstancedArrays: function () {\n\n\t\tconsole.warn( 'THREE.WebGLRenderer: .supportsInstancedArrays() is now .extensions.get( \\'ANGLE_instanced_arrays\\' ).' );\n\t\treturn this.extensions.get( 'ANGLE_instanced_arrays' );\n\n\t},\n\tenableScissorTest: function ( boolean ) {\n\n\t\tconsole.warn( 'THREE.WebGLRenderer: .enableScissorTest() is now .setScissorTest().' );\n\t\tthis.setScissorTest( boolean );\n\n\t},\n\tinitMaterial: function () {\n\n\t\tconsole.warn( 'THREE.WebGLRenderer: .initMaterial() has been removed.' );\n\n\t},\n\taddPrePlugin: function () {\n\n\t\tconsole.warn( 'THREE.WebGLRenderer: .addPrePlugin() has been removed.' );\n\n\t},\n\taddPostPlugin: function () {\n\n\t\tconsole.warn( 'THREE.WebGLRenderer: .addPostPlugin() has been removed.' );\n\n\t},\n\tupdateShadowMap: function () {\n\n\t\tconsole.warn( 'THREE.WebGLRenderer: .updateShadowMap() has been removed.' );\n\n\t},\n\tsetFaceCulling: function () {\n\n\t\tconsole.warn( 'THREE.WebGLRenderer: .setFaceCulling() has been removed.' );\n\n\t},\n\tallocTextureUnit: function () {\n\n\t\tconsole.warn( 'THREE.WebGLRenderer: .allocTextureUnit() has been removed.' );\n\n\t},\n\tsetTexture: function () {\n\n\t\tconsole.warn( 'THREE.WebGLRenderer: .setTexture() has been removed.' );\n\n\t},\n\tsetTexture2D: function () {\n\n\t\tconsole.warn( 'THREE.WebGLRenderer: .setTexture2D() has been removed.' );\n\n\t},\n\tsetTextureCube: function () {\n\n\t\tconsole.warn( 'THREE.WebGLRenderer: .setTextureCube() has been removed.' );\n\n\t}\n\n} );\n\nObject.defineProperties( WebGLRenderer.prototype, {\n\n\tshadowMapEnabled: {\n\t\tget: function () {\n\n\t\t\treturn this.shadowMap.enabled;\n\n\t\t},\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderer: .shadowMapEnabled is now .shadowMap.enabled.' );\n\t\t\tthis.shadowMap.enabled = value;\n\n\t\t}\n\t},\n\tshadowMapType: {\n\t\tget: function () {\n\n\t\t\treturn this.shadowMap.type;\n\n\t\t},\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderer: .shadowMapType is now .shadowMap.type.' );\n\t\t\tthis.shadowMap.type = value;\n\n\t\t}\n\t},\n\tshadowMapCullFace: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.' );\n\t\t\treturn undefined;\n\n\t\t},\n\t\tset: function ( /* value */ ) {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.' );\n\n\t\t}\n\t}\n} );\n\nObject.defineProperties( WebGLShadowMap.prototype, {\n\n\tcullFace: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.' );\n\t\t\treturn undefined;\n\n\t\t},\n\t\tset: function ( /* cullFace */ ) {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.' );\n\n\t\t}\n\t},\n\trenderReverseSided: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.' );\n\t\t\treturn undefined;\n\n\t\t},\n\t\tset: function () {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.' );\n\n\t\t}\n\t},\n\trenderSingleSided: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.' );\n\t\t\treturn undefined;\n\n\t\t},\n\t\tset: function () {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.' );\n\n\t\t}\n\t}\n\n} );\n\n//\n\nObject.defineProperties( WebGLRenderTargetCube.prototype, {\n\n\tactiveCubeFace: {\n\t\tset: function ( /* value */ ) {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderTargetCube: .activeCubeFace has been removed. It is now the second parameter of WebGLRenderer.setRenderTarget().' );\n\n\t\t}\n\t},\n\tactiveMipMapLevel: {\n\t\tset: function ( /* value */ ) {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderTargetCube: .activeMipMapLevel has been removed. It is now the third parameter of WebGLRenderer.setRenderTarget().' );\n\n\t\t}\n\t}\n\n} );\n\n//\n\nObject.defineProperties( WebGLRenderTarget.prototype, {\n\n\twrapS: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS.' );\n\t\t\treturn this.texture.wrapS;\n\n\t\t},\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS.' );\n\t\t\tthis.texture.wrapS = value;\n\n\t\t}\n\t},\n\twrapT: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT.' );\n\t\t\treturn this.texture.wrapT;\n\n\t\t},\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT.' );\n\t\t\tthis.texture.wrapT = value;\n\n\t\t}\n\t},\n\tmagFilter: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter.' );\n\t\t\treturn this.texture.magFilter;\n\n\t\t},\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter.' );\n\t\t\tthis.texture.magFilter = value;\n\n\t\t}\n\t},\n\tminFilter: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter.' );\n\t\t\treturn this.texture.minFilter;\n\n\t\t},\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter.' );\n\t\t\tthis.texture.minFilter = value;\n\n\t\t}\n\t},\n\tanisotropy: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy.' );\n\t\t\treturn this.texture.anisotropy;\n\n\t\t},\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy.' );\n\t\t\tthis.texture.anisotropy = value;\n\n\t\t}\n\t},\n\toffset: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderTarget: .offset is now .texture.offset.' );\n\t\t\treturn this.texture.offset;\n\n\t\t},\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderTarget: .offset is now .texture.offset.' );\n\t\t\tthis.texture.offset = value;\n\n\t\t}\n\t},\n\trepeat: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderTarget: .repeat is now .texture.repeat.' );\n\t\t\treturn this.texture.repeat;\n\n\t\t},\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderTarget: .repeat is now .texture.repeat.' );\n\t\t\tthis.texture.repeat = value;\n\n\t\t}\n\t},\n\tformat: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderTarget: .format is now .texture.format.' );\n\t\t\treturn this.texture.format;\n\n\t\t},\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderTarget: .format is now .texture.format.' );\n\t\t\tthis.texture.format = value;\n\n\t\t}\n\t},\n\ttype: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderTarget: .type is now .texture.type.' );\n\t\t\treturn this.texture.type;\n\n\t\t},\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderTarget: .type is now .texture.type.' );\n\t\t\tthis.texture.type = value;\n\n\t\t}\n\t},\n\tgenerateMipmaps: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps.' );\n\t\t\treturn this.texture.generateMipmaps;\n\n\t\t},\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps.' );\n\t\t\tthis.texture.generateMipmaps = value;\n\n\t\t}\n\t}\n\n} );\n\n//\n\nObject.defineProperties( WebVRManager.prototype, {\n\n\tstanding: {\n\t\tset: function ( /* value */ ) {\n\n\t\t\tconsole.warn( 'THREE.WebVRManager: .standing has been removed.' );\n\n\t\t}\n\t},\n\tuserHeight: {\n\t\tset: function ( /* value */ ) {\n\n\t\t\tconsole.warn( 'THREE.WebVRManager: .userHeight has been removed.' );\n\n\t\t}\n\t}\n\n} );\n\n//\n\nAudio.prototype.load = function ( file ) {\n\n\tconsole.warn( 'THREE.Audio: .load has been deprecated. Use THREE.AudioLoader instead.' );\n\tvar scope = this;\n\tvar audioLoader = new AudioLoader();\n\taudioLoader.load( file, function ( buffer ) {\n\n\t\tscope.setBuffer( buffer );\n\n\t} );\n\treturn this;\n\n};\n\nAudioAnalyser.prototype.getData = function () {\n\n\tconsole.warn( 'THREE.AudioAnalyser: .getData() is now .getFrequencyData().' );\n\treturn this.getFrequencyData();\n\n};\n\n//\n\nCubeCamera.prototype.updateCubeMap = function ( renderer, scene ) {\n\n\tconsole.warn( 'THREE.CubeCamera: .updateCubeMap() is now .update().' );\n\treturn this.update( renderer, scene );\n\n};\n\n//\n\nvar GeometryUtils = {\n\n\tmerge: function ( geometry1, geometry2, materialIndexOffset ) {\n\n\t\tconsole.warn( 'THREE.GeometryUtils: .merge() has been moved to Geometry. Use geometry.merge( geometry2, matrix, materialIndexOffset ) instead.' );\n\t\tvar matrix;\n\n\t\tif ( geometry2.isMesh ) {\n\n\t\t\tgeometry2.matrixAutoUpdate && geometry2.updateMatrix();\n\n\t\t\tmatrix = geometry2.matrix;\n\t\t\tgeometry2 = geometry2.geometry;\n\n\t\t}\n\n\t\tgeometry1.merge( geometry2, matrix, materialIndexOffset );\n\n\t},\n\n\tcenter: function ( geometry ) {\n\n\t\tconsole.warn( 'THREE.GeometryUtils: .center() has been moved to Geometry. Use geometry.center() instead.' );\n\t\treturn geometry.center();\n\n\t}\n\n};\n\nImageUtils.crossOrigin = undefined;\n\nImageUtils.loadTexture = function ( url, mapping, onLoad, onError ) {\n\n\tconsole.warn( 'THREE.ImageUtils.loadTexture has been deprecated. Use THREE.TextureLoader() instead.' );\n\n\tvar loader = new TextureLoader();\n\tloader.setCrossOrigin( this.crossOrigin );\n\n\tvar texture = loader.load( url, onLoad, undefined, onError );\n\n\tif ( mapping ) texture.mapping = mapping;\n\n\treturn texture;\n\n};\n\nImageUtils.loadTextureCube = function ( urls, mapping, onLoad, onError ) {\n\n\tconsole.warn( 'THREE.ImageUtils.loadTextureCube has been deprecated. Use THREE.CubeTextureLoader() instead.' );\n\n\tvar loader = new CubeTextureLoader();\n\tloader.setCrossOrigin( this.crossOrigin );\n\n\tvar texture = loader.load( urls, onLoad, undefined, onError );\n\n\tif ( mapping ) texture.mapping = mapping;\n\n\treturn texture;\n\n};\n\nImageUtils.loadCompressedTexture = function () {\n\n\tconsole.error( 'THREE.ImageUtils.loadCompressedTexture has been removed. Use THREE.DDSLoader instead.' );\n\n};\n\nImageUtils.loadCompressedTextureCube = function () {\n\n\tconsole.error( 'THREE.ImageUtils.loadCompressedTextureCube has been removed. Use THREE.DDSLoader instead.' );\n\n};\n\n//\n\nfunction CanvasRenderer() {\n\n\tconsole.error( 'THREE.CanvasRenderer has been removed' );\n\n}\n\n//\n\nfunction JSONLoader() {\n\n\tconsole.error( 'THREE.JSONLoader has been removed.' );\n\n}\n\n//\n\nvar SceneUtils = {\n\n\tcreateMultiMaterialObject: function ( /* geometry, materials */ ) {\n\n\t\tconsole.error( 'THREE.SceneUtils has been moved to /examples/js/utils/SceneUtils.js' );\n\n\t},\n\n\tdetach: function ( /* child, parent, scene */ ) {\n\n\t\tconsole.error( 'THREE.SceneUtils has been moved to /examples/js/utils/SceneUtils.js' );\n\n\t},\n\n\tattach: function ( /* child, scene, parent */ ) {\n\n\t\tconsole.error( 'THREE.SceneUtils has been moved to /examples/js/utils/SceneUtils.js' );\n\n\t}\n\n};\n\n//\n\nfunction LensFlare() {\n\n\tconsole.error( 'THREE.LensFlare has been moved to /examples/js/objects/Lensflare.js' );\n\n}\n\nexport { ACESFilmicToneMapping, AddEquation, AddOperation, AdditiveBlending, AlphaFormat, AlwaysDepth, AmbientLight, AmbientLightProbe, AnimationClip, AnimationLoader, AnimationMixer, AnimationObjectGroup, AnimationUtils, ArcCurve, ArrayCamera, ArrowHelper, Audio, AudioAnalyser, AudioContext, AudioListener, AudioLoader, AxesHelper, AxisHelper, BackSide, BasicDepthPacking, BasicShadowMap, BinaryTextureLoader, Bone, BooleanKeyframeTrack, BoundingBoxHelper, Box2, Box3, Box3Helper, BoxBufferGeometry, BoxGeometry, BoxHelper, BufferAttribute, BufferGeometry, BufferGeometryLoader, ByteType, Cache, Camera, CameraHelper, CanvasRenderer, CanvasTexture, CatmullRomCurve3, CineonToneMapping, CircleBufferGeometry, CircleGeometry, ClampToEdgeWrapping, Clock, ClosedSplineCurve3, Color, ColorKeyframeTrack, CompressedTexture, CompressedTextureLoader, ConeBufferGeometry, ConeGeometry, CubeCamera, BoxGeometry as CubeGeometry, CubeReflectionMapping, CubeRefractionMapping, CubeTexture, CubeTextureLoader, CubeUVReflectionMapping, CubeUVRefractionMapping, CubicBezierCurve, CubicBezierCurve3, CubicInterpolant, CullFaceBack, CullFaceFront, CullFaceFrontBack, CullFaceNone, Curve, CurvePath, CustomBlending, CylinderBufferGeometry, CylinderGeometry, Cylindrical, DataTexture, DataTexture2DArray, DataTexture3D, DataTextureLoader, DefaultLoadingManager, DepthFormat, DepthStencilFormat, DepthTexture, DirectionalLight, DirectionalLightHelper, DirectionalLightShadow, DiscreteInterpolant, DodecahedronBufferGeometry, DodecahedronGeometry, DoubleSide, DstAlphaFactor, DstColorFactor, DynamicBufferAttribute, EdgesGeometry, EdgesHelper, EllipseCurve, EqualDepth, EquirectangularReflectionMapping, EquirectangularRefractionMapping, Euler, EventDispatcher, ExtrudeBufferGeometry, ExtrudeGeometry, Face3, Face4, FaceColors, FaceNormalsHelper, FileLoader, FlatShading, Float32Attribute, Float32BufferAttribute, Float64Attribute, Float64BufferAttribute, FloatType, Fog, FogExp2, Font, FontLoader, FrontFaceDirectionCCW, FrontFaceDirectionCW, FrontSide, Frustum, GammaEncoding, Geometry, GeometryUtils, GreaterDepth, GreaterEqualDepth, GridHelper, Group, HalfFloatType, HemisphereLight, HemisphereLightHelper, HemisphereLightProbe, IcosahedronBufferGeometry, IcosahedronGeometry, ImageBitmapLoader, ImageLoader, ImageUtils, ImmediateRenderObject, InstancedBufferAttribute, InstancedBufferGeometry, InstancedInterleavedBuffer, Int16Attribute, Int16BufferAttribute, Int32Attribute, Int32BufferAttribute, Int8Attribute, Int8BufferAttribute, IntType, InterleavedBuffer, InterleavedBufferAttribute, Interpolant, InterpolateDiscrete, InterpolateLinear, InterpolateSmooth, JSONLoader, KeyframeTrack, LOD, LatheBufferGeometry, LatheGeometry, Layers, LensFlare, LessDepth, LessEqualDepth, Light, LightProbe, LightProbeHelper, LightShadow, Line, Line3, LineBasicMaterial, LineCurve, LineCurve3, LineDashedMaterial, LineLoop, LinePieces, LineSegments, LineStrip, LinearEncoding, LinearFilter, LinearInterpolant, LinearMipMapLinearFilter, LinearMipMapNearestFilter, LinearToneMapping, Loader, LoaderUtils, LoadingManager, LogLuvEncoding, LoopOnce, LoopPingPong, LoopRepeat, LuminanceAlphaFormat, LuminanceFormat, MOUSE, Material, MaterialLoader, _Math as Math, Matrix3, Matrix4, MaxEquation, Mesh, MeshBasicMaterial, MeshDepthMaterial, MeshDistanceMaterial, MeshFaceMaterial, MeshLambertMaterial, MeshMatcapMaterial, MeshNormalMaterial, MeshPhongMaterial, MeshPhysicalMaterial, MeshStandardMaterial, MeshToonMaterial, MinEquation, MirroredRepeatWrapping, MixOperation, MultiMaterial, MultiplyBlending, MultiplyOperation, NearestFilter, NearestMipMapLinearFilter, NearestMipMapNearestFilter, NeverDepth, NoBlending, NoColors, NoToneMapping, NormalBlending, NotEqualDepth, NumberKeyframeTrack, Object3D, ObjectLoader, ObjectSpaceNormalMap, OctahedronBufferGeometry, OctahedronGeometry, OneFactor, OneMinusDstAlphaFactor, OneMinusDstColorFactor, OneMinusSrcAlphaFactor, OneMinusSrcColorFactor, OrthographicCamera, PCFShadowMap, PCFSoftShadowMap, ParametricBufferGeometry, ParametricGeometry, Particle, ParticleBasicMaterial, ParticleSystem, ParticleSystemMaterial, Path, PerspectiveCamera, Plane, PlaneBufferGeometry, PlaneGeometry, PlaneHelper, PointCloud, PointCloudMaterial, PointLight, PointLightHelper, Points, PointsMaterial, PolarGridHelper, PolyhedronBufferGeometry, PolyhedronGeometry, PositionalAudio, PositionalAudioHelper, PropertyBinding, PropertyMixer, QuadraticBezierCurve, QuadraticBezierCurve3, Quaternion, QuaternionKeyframeTrack, QuaternionLinearInterpolant, REVISION, RGBADepthPacking, RGBAFormat, RGBA_ASTC_10x10_Format, RGBA_ASTC_10x5_Format, RGBA_ASTC_10x6_Format, RGBA_ASTC_10x8_Format, RGBA_ASTC_12x10_Format, RGBA_ASTC_12x12_Format, RGBA_ASTC_4x4_Format, RGBA_ASTC_5x4_Format, RGBA_ASTC_5x5_Format, RGBA_ASTC_6x5_Format, RGBA_ASTC_6x6_Format, RGBA_ASTC_8x5_Format, RGBA_ASTC_8x6_Format, RGBA_ASTC_8x8_Format, RGBA_PVRTC_2BPPV1_Format, RGBA_PVRTC_4BPPV1_Format, RGBA_S3TC_DXT1_Format, RGBA_S3TC_DXT3_Format, RGBA_S3TC_DXT5_Format, RGBDEncoding, RGBEEncoding, RGBEFormat, RGBFormat, RGBM16Encoding, RGBM7Encoding, RGB_ETC1_Format, RGB_PVRTC_2BPPV1_Format, RGB_PVRTC_4BPPV1_Format, RGB_S3TC_DXT1_Format, RawShaderMaterial, Ray, Raycaster, RectAreaLight, RectAreaLightHelper, RedFormat, ReinhardToneMapping, RepeatWrapping, ReverseSubtractEquation, RingBufferGeometry, RingGeometry, Scene, SceneUtils, ShaderChunk, ShaderLib, ShaderMaterial, ShadowMaterial, Shape, ShapeBufferGeometry, ShapeGeometry, ShapePath, ShapeUtils, ShortType, Skeleton, SkeletonHelper, SkinnedMesh, SmoothShading, Sphere, SphereBufferGeometry, SphereGeometry, Spherical, SphericalHarmonics3, SphericalReflectionMapping, Spline, SplineCurve, SplineCurve3, SpotLight, SpotLightHelper, SpotLightShadow, Sprite, SpriteMaterial, SrcAlphaFactor, SrcAlphaSaturateFactor, SrcColorFactor, StereoCamera, StringKeyframeTrack, SubtractEquation, SubtractiveBlending, TangentSpaceNormalMap, TetrahedronBufferGeometry, TetrahedronGeometry, TextBufferGeometry, TextGeometry, Texture, TextureLoader, TorusBufferGeometry, TorusGeometry, TorusKnotBufferGeometry, TorusKnotGeometry, Triangle, TriangleFanDrawMode, TriangleStripDrawMode, TrianglesDrawMode, TubeBufferGeometry, TubeGeometry, UVMapping, Uint16Attribute, Uint16BufferAttribute, Uint32Attribute, Uint32BufferAttribute, Uint8Attribute, Uint8BufferAttribute, Uint8ClampedAttribute, Uint8ClampedBufferAttribute, Uncharted2ToneMapping, Uniform, UniformsLib, UniformsUtils, UnsignedByteType, UnsignedInt248Type, UnsignedIntType, UnsignedShort4444Type, UnsignedShort5551Type, UnsignedShort565Type, UnsignedShortType, Vector2, Vector3, Vector4, VectorKeyframeTrack, Vertex, VertexColors, VertexNormalsHelper, VideoTexture, WebGLMultisampleRenderTarget, WebGLRenderTarget, WebGLRenderTargetCube, WebGLRenderer, WebGLUtils, WireframeGeometry, WireframeHelper, WrapAroundEnding, XHRLoader, ZeroCurvatureEnding, ZeroFactor, ZeroSlopeEnding, sRGBEncoding };\n","/**\n * @author Rich Tibbett / https://github.com/richtr\n * @author mrdoob / http://mrdoob.com/\n * @author Tony Parisi / http://www.tonyparisi.com/\n * @author Takahiro / https://github.com/takahirox\n * @author Don McCurdy / https://www.donmccurdy.com\n */\n\nimport {\n\tAddEquation,\n\tAlwaysDepth,\n\tAnimationClip,\n\tBackSide,\n\tBone,\n\tBufferAttribute,\n\tBufferGeometry,\n\tCamera,\n\tClampToEdgeWrapping,\n\tColor,\n\tDefaultLoadingManager,\n\tDirectionalLight,\n\tDoubleSide,\n\tDstAlphaFactor,\n\tDstColorFactor,\n\tEqualDepth,\n\tFileLoader,\n\tFrontSide,\n\tGreaterEqualDepth,\n\tGroup,\n\tInterleavedBuffer,\n\tInterleavedBufferAttribute,\n\tInterpolant,\n\tInterpolateDiscrete,\n\tInterpolateLinear,\n\tLessDepth,\n\tLessEqualDepth,\n\tLine,\n\tLineBasicMaterial,\n\tLineLoop,\n\tLineSegments,\n\tLinearFilter,\n\tLinearMipMapLinearFilter,\n\tLinearMipMapNearestFilter,\n\tLoader,\n\tLoaderUtils,\n\tMaterial,\n\tMath as _Math,\n\tMatrix3,\n\tMatrix4,\n\tMesh,\n\tMeshBasicMaterial,\n\tMeshStandardMaterial,\n\tMirroredRepeatWrapping,\n\tNearestFilter,\n\tNearestMipMapLinearFilter,\n\tNearestMipMapNearestFilter,\n\tNeverDepth,\n\tNotEqualDepth,\n\tNumberKeyframeTrack,\n\tObject3D,\n\tOneFactor,\n\tOneMinusDstAlphaFactor,\n\tOneMinusDstColorFactor,\n\tOneMinusSrcAlphaFactor,\n\tOneMinusSrcColorFactor,\n\tOrthographicCamera,\n\tPerspectiveCamera,\n\tPointLight,\n\tPoints,\n\tPointsMaterial,\n\tPropertyBinding,\n\tQuaternionKeyframeTrack,\n\tRGBAFormat,\n\tRGBFormat,\n\tRepeatWrapping,\n\tReverseSubtractEquation,\n\tScene,\n\tShaderLib,\n\tShaderMaterial,\n\tSkeleton,\n\tSkinnedMesh,\n\tSpotLight,\n\tSrcAlphaFactor,\n\tSrcAlphaSaturateFactor,\n\tSrcColorFactor,\n\tSubtractEquation,\n\tTexture,\n\tTextureLoader,\n\tTriangleFanDrawMode,\n\tTriangleStripDrawMode,\n\tUniformsUtils,\n\tVector2,\n\tVector3,\n\tVector4,\n\tVectorKeyframeTrack,\n\tVertexColors,\n\tZeroFactor,\n\tsRGBEncoding\n} from \"../../../build/three.module.js\";\n\nvar GLTFLoader = ( function () {\n\n\tfunction GLTFLoader( manager ) {\n\n\t\tthis.manager = ( manager !== undefined ) ? manager : DefaultLoadingManager;\n\t\tthis.dracoLoader = null;\n\n\t}\n\n\tGLTFLoader.prototype = {\n\n\t\tconstructor: GLTFLoader,\n\n\t\tcrossOrigin: 'anonymous',\n\n\t\tload: function ( url, onLoad, onProgress, onError ) {\n\n\t\t\tvar scope = this;\n\n\t\t\tvar resourcePath;\n\n\t\t\tif ( this.resourcePath !== undefined ) {\n\n\t\t\t\tresourcePath = this.resourcePath;\n\n\t\t\t} else if ( this.path !== undefined ) {\n\n\t\t\t\tresourcePath = this.path;\n\n\t\t\t} else {\n\n\t\t\t\tresourcePath = LoaderUtils.extractUrlBase( url );\n\n\t\t\t}\n\n\t\t\t// Tells the LoadingManager to track an extra item, which resolves after\n\t\t\t// the model is fully loaded. This means the count of items loaded will\n\t\t\t// be incorrect, but ensures manager.onLoad() does not fire early.\n\t\t\tscope.manager.itemStart( url );\n\n\t\t\tvar _onError = function ( e ) {\n\n\t\t\t\tif ( onError ) {\n\n\t\t\t\t\tonError( e );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tconsole.error( e );\n\n\t\t\t\t}\n\n\t\t\t\tscope.manager.itemError( url );\n\t\t\t\tscope.manager.itemEnd( url );\n\n\t\t\t};\n\n\t\t\tvar loader = new FileLoader( scope.manager );\n\n\t\t\tloader.setPath( this.path );\n\t\t\tloader.setResponseType( 'arraybuffer' );\n\n\t\t\tloader.load( url, function ( data ) {\n\n\t\t\t\ttry {\n\n\t\t\t\t\tscope.parse( data, resourcePath, function ( gltf ) {\n\n\t\t\t\t\t\tonLoad( gltf );\n\n\t\t\t\t\t\tscope.manager.itemEnd( url );\n\n\t\t\t\t\t}, _onError );\n\n\t\t\t\t} catch ( e ) {\n\n\t\t\t\t\t_onError( e );\n\n\t\t\t\t}\n\n\t\t\t}, onProgress, _onError );\n\n\t\t},\n\n\t\tsetCrossOrigin: function ( value ) {\n\n\t\t\tthis.crossOrigin = value;\n\t\t\treturn this;\n\n\t\t},\n\n\t\tsetPath: function ( value ) {\n\n\t\t\tthis.path = value;\n\t\t\treturn this;\n\n\t\t},\n\n\t\tsetResourcePath: function ( value ) {\n\n\t\t\tthis.resourcePath = value;\n\t\t\treturn this;\n\n\t\t},\n\n\t\tsetDRACOLoader: function ( dracoLoader ) {\n\n\t\t\tthis.dracoLoader = dracoLoader;\n\t\t\treturn this;\n\n\t\t},\n\n\t\tparse: function ( data, path, onLoad, onError ) {\n\n\t\t\tvar content;\n\t\t\tvar extensions = {};\n\n\t\t\tif ( typeof data === 'string' ) {\n\n\t\t\t\tcontent = data;\n\n\t\t\t} else {\n\n\t\t\t\tvar magic = LoaderUtils.decodeText( new Uint8Array( data, 0, 4 ) );\n\n\t\t\t\tif ( magic === BINARY_EXTENSION_HEADER_MAGIC ) {\n\n\t\t\t\t\ttry {\n\n\t\t\t\t\t\textensions[ EXTENSIONS.KHR_BINARY_GLTF ] = new GLTFBinaryExtension( data );\n\n\t\t\t\t\t} catch ( error ) {\n\n\t\t\t\t\t\tif ( onError ) onError( error );\n\t\t\t\t\t\treturn;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tcontent = extensions[ EXTENSIONS.KHR_BINARY_GLTF ].content;\n\n\t\t\t\t} else {\n\n\t\t\t\t\tcontent = LoaderUtils.decodeText( new Uint8Array( data ) );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tvar json = JSON.parse( content );\n\n\t\t\tif ( json.asset === undefined || json.asset.version[ 0 ] < 2 ) {\n\n\t\t\t\tif ( onError ) onError( new Error( 'THREE.GLTFLoader: Unsupported asset. glTF versions >=2.0 are supported. Use LegacyGLTFLoader instead.' ) );\n\t\t\t\treturn;\n\n\t\t\t}\n\n\t\t\tif ( json.extensionsUsed ) {\n\n\t\t\t\tfor ( var i = 0; i < json.extensionsUsed.length; ++ i ) {\n\n\t\t\t\t\tvar extensionName = json.extensionsUsed[ i ];\n\t\t\t\t\tvar extensionsRequired = json.extensionsRequired || [];\n\n\t\t\t\t\tswitch ( extensionName ) {\n\n\t\t\t\t\t\tcase EXTENSIONS.KHR_LIGHTS_PUNCTUAL:\n\t\t\t\t\t\t\textensions[ extensionName ] = new GLTFLightsExtension( json );\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tcase EXTENSIONS.KHR_MATERIALS_UNLIT:\n\t\t\t\t\t\t\textensions[ extensionName ] = new GLTFMaterialsUnlitExtension( json );\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tcase EXTENSIONS.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS:\n\t\t\t\t\t\t\textensions[ extensionName ] = new GLTFMaterialsPbrSpecularGlossinessExtension( json );\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tcase EXTENSIONS.KHR_DRACO_MESH_COMPRESSION:\n\t\t\t\t\t\t\textensions[ extensionName ] = new GLTFDracoMeshCompressionExtension( json, this.dracoLoader );\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tcase EXTENSIONS.MSFT_TEXTURE_DDS:\n\t\t\t\t\t\t\textensions[ EXTENSIONS.MSFT_TEXTURE_DDS ] = new GLTFTextureDDSExtension();\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tcase EXTENSIONS.KHR_TEXTURE_TRANSFORM:\n\t\t\t\t\t\t\textensions[ EXTENSIONS.KHR_TEXTURE_TRANSFORM ] = new GLTFTextureTransformExtension( json );\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tdefault:\n\n\t\t\t\t\t\t\tif ( extensionsRequired.indexOf( extensionName ) >= 0 ) {\n\n\t\t\t\t\t\t\t\tconsole.warn( 'THREE.GLTFLoader: Unknown extension \"' + extensionName + '\".' );\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tvar parser = new GLTFParser( json, extensions, {\n\n\t\t\t\tpath: path || this.resourcePath || '',\n\t\t\t\tcrossOrigin: this.crossOrigin,\n\t\t\t\tmanager: this.manager\n\n\t\t\t} );\n\n\t\t\tparser.parse( onLoad, onError );\n\n\t\t}\n\n\t};\n\n\t/* GLTFREGISTRY */\n\n\tfunction GLTFRegistry() {\n\n\t\tvar objects = {};\n\n\t\treturn\t{\n\n\t\t\tget: function ( key ) {\n\n\t\t\t\treturn objects[ key ];\n\n\t\t\t},\n\n\t\t\tadd: function ( key, object ) {\n\n\t\t\t\tobjects[ key ] = object;\n\n\t\t\t},\n\n\t\t\tremove: function ( key ) {\n\n\t\t\t\tdelete objects[ key ];\n\n\t\t\t},\n\n\t\t\tremoveAll: function () {\n\n\t\t\t\tobjects = {};\n\n\t\t\t}\n\n\t\t};\n\n\t}\n\n\t/*********************************/\n\t/********** EXTENSIONS ***********/\n\t/*********************************/\n\n\tvar EXTENSIONS = {\n\t\tKHR_BINARY_GLTF: 'KHR_binary_glTF',\n\t\tKHR_DRACO_MESH_COMPRESSION: 'KHR_draco_mesh_compression',\n\t\tKHR_LIGHTS_PUNCTUAL: 'KHR_lights_punctual',\n\t\tKHR_MATERIALS_PBR_SPECULAR_GLOSSINESS: 'KHR_materials_pbrSpecularGlossiness',\n\t\tKHR_MATERIALS_UNLIT: 'KHR_materials_unlit',\n\t\tKHR_TEXTURE_TRANSFORM: 'KHR_texture_transform',\n\t\tMSFT_TEXTURE_DDS: 'MSFT_texture_dds'\n\t};\n\n\t/**\n\t * DDS Texture Extension\n\t *\n\t * Specification:\n\t * https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Vendor/MSFT_texture_dds\n\t *\n\t */\n\tfunction GLTFTextureDDSExtension() {\n\n\t\tif ( ! THREE.DDSLoader ) {\n\n\t\t\tthrow new Error( 'THREE.GLTFLoader: Attempting to load .dds texture without importing THREE.DDSLoader' );\n\n\t\t}\n\n\t\tthis.name = EXTENSIONS.MSFT_TEXTURE_DDS;\n\t\tthis.ddsLoader = new THREE.DDSLoader();\n\n\t}\n\n\t/**\n\t * Lights Extension\n\t *\n\t * Specification: PENDING\n\t */\n\tfunction GLTFLightsExtension( json ) {\n\n\t\tthis.name = EXTENSIONS.KHR_LIGHTS_PUNCTUAL;\n\n\t\tvar extension = ( json.extensions && json.extensions[ EXTENSIONS.KHR_LIGHTS_PUNCTUAL ] ) || {};\n\t\tthis.lightDefs = extension.lights || [];\n\n\t}\n\n\tGLTFLightsExtension.prototype.loadLight = function ( lightIndex ) {\n\n\t\tvar lightDef = this.lightDefs[ lightIndex ];\n\t\tvar lightNode;\n\n\t\tvar color = new Color( 0xffffff );\n\t\tif ( lightDef.color !== undefined ) color.fromArray( lightDef.color );\n\n\t\tvar range = lightDef.range !== undefined ? lightDef.range : 0;\n\n\t\tswitch ( lightDef.type ) {\n\n\t\t\tcase 'directional':\n\t\t\t\tlightNode = new DirectionalLight( color );\n\t\t\t\tlightNode.target.position.set( 0, 0, - 1 );\n\t\t\t\tlightNode.add( lightNode.target );\n\t\t\t\tbreak;\n\n\t\t\tcase 'point':\n\t\t\t\tlightNode = new PointLight( color );\n\t\t\t\tlightNode.distance = range;\n\t\t\t\tbreak;\n\n\t\t\tcase 'spot':\n\t\t\t\tlightNode = new SpotLight( color );\n\t\t\t\tlightNode.distance = range;\n\t\t\t\t// Handle spotlight properties.\n\t\t\t\tlightDef.spot = lightDef.spot || {};\n\t\t\t\tlightDef.spot.innerConeAngle = lightDef.spot.innerConeAngle !== undefined ? lightDef.spot.innerConeAngle : 0;\n\t\t\t\tlightDef.spot.outerConeAngle = lightDef.spot.outerConeAngle !== undefined ? lightDef.spot.outerConeAngle : Math.PI / 4.0;\n\t\t\t\tlightNode.angle = lightDef.spot.outerConeAngle;\n\t\t\t\tlightNode.penumbra = 1.0 - lightDef.spot.innerConeAngle / lightDef.spot.outerConeAngle;\n\t\t\t\tlightNode.target.position.set( 0, 0, - 1 );\n\t\t\t\tlightNode.add( lightNode.target );\n\t\t\t\tbreak;\n\n\t\t\tdefault:\n\t\t\t\tthrow new Error( 'THREE.GLTFLoader: Unexpected light type, \"' + lightDef.type + '\".' );\n\n\t\t}\n\n\t\t// Some lights (e.g. spot) default to a position other than the origin. Reset the position\n\t\t// here, because node-level parsing will only override position if explicitly specified.\n\t\tlightNode.position.set( 0, 0, 0 );\n\n\t\tlightNode.decay = 2;\n\n\t\tif ( lightDef.intensity !== undefined ) lightNode.intensity = lightDef.intensity;\n\n\t\tlightNode.name = lightDef.name || ( 'light_' + lightIndex );\n\n\t\treturn Promise.resolve( lightNode );\n\n\t};\n\n\t/**\n\t * Unlit Materials Extension (pending)\n\t *\n\t * PR: https://github.com/KhronosGroup/glTF/pull/1163\n\t */\n\tfunction GLTFMaterialsUnlitExtension() {\n\n\t\tthis.name = EXTENSIONS.KHR_MATERIALS_UNLIT;\n\n\t}\n\n\tGLTFMaterialsUnlitExtension.prototype.getMaterialType = function () {\n\n\t\treturn MeshBasicMaterial;\n\n\t};\n\n\tGLTFMaterialsUnlitExtension.prototype.extendParams = function ( materialParams, materialDef, parser ) {\n\n\t\tvar pending = [];\n\n\t\tmaterialParams.color = new Color( 1.0, 1.0, 1.0 );\n\t\tmaterialParams.opacity = 1.0;\n\n\t\tvar metallicRoughness = materialDef.pbrMetallicRoughness;\n\n\t\tif ( metallicRoughness ) {\n\n\t\t\tif ( Array.isArray( metallicRoughness.baseColorFactor ) ) {\n\n\t\t\t\tvar array = metallicRoughness.baseColorFactor;\n\n\t\t\t\tmaterialParams.color.fromArray( array );\n\t\t\t\tmaterialParams.opacity = array[ 3 ];\n\n\t\t\t}\n\n\t\t\tif ( metallicRoughness.baseColorTexture !== undefined ) {\n\n\t\t\t\tpending.push( parser.assignTexture( materialParams, 'map', metallicRoughness.baseColorTexture ) );\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn Promise.all( pending );\n\n\t};\n\n\t/* BINARY EXTENSION */\n\n\tvar BINARY_EXTENSION_BUFFER_NAME = 'binary_glTF';\n\tvar BINARY_EXTENSION_HEADER_MAGIC = 'glTF';\n\tvar BINARY_EXTENSION_HEADER_LENGTH = 12;\n\tvar BINARY_EXTENSION_CHUNK_TYPES = { JSON: 0x4E4F534A, BIN: 0x004E4942 };\n\n\tfunction GLTFBinaryExtension( data ) {\n\n\t\tthis.name = EXTENSIONS.KHR_BINARY_GLTF;\n\t\tthis.content = null;\n\t\tthis.body = null;\n\n\t\tvar headerView = new DataView( data, 0, BINARY_EXTENSION_HEADER_LENGTH );\n\n\t\tthis.header = {\n\t\t\tmagic: LoaderUtils.decodeText( new Uint8Array( data.slice( 0, 4 ) ) ),\n\t\t\tversion: headerView.getUint32( 4, true ),\n\t\t\tlength: headerView.getUint32( 8, true )\n\t\t};\n\n\t\tif ( this.header.magic !== BINARY_EXTENSION_HEADER_MAGIC ) {\n\n\t\t\tthrow new Error( 'THREE.GLTFLoader: Unsupported glTF-Binary header.' );\n\n\t\t} else if ( this.header.version < 2.0 ) {\n\n\t\t\tthrow new Error( 'THREE.GLTFLoader: Legacy binary file detected. Use LegacyGLTFLoader instead.' );\n\n\t\t}\n\n\t\tvar chunkView = new DataView( data, BINARY_EXTENSION_HEADER_LENGTH );\n\t\tvar chunkIndex = 0;\n\n\t\twhile ( chunkIndex < chunkView.byteLength ) {\n\n\t\t\tvar chunkLength = chunkView.getUint32( chunkIndex, true );\n\t\t\tchunkIndex += 4;\n\n\t\t\tvar chunkType = chunkView.getUint32( chunkIndex, true );\n\t\t\tchunkIndex += 4;\n\n\t\t\tif ( chunkType === BINARY_EXTENSION_CHUNK_TYPES.JSON ) {\n\n\t\t\t\tvar contentArray = new Uint8Array( data, BINARY_EXTENSION_HEADER_LENGTH + chunkIndex, chunkLength );\n\t\t\t\tthis.content = LoaderUtils.decodeText( contentArray );\n\n\t\t\t} else if ( chunkType === BINARY_EXTENSION_CHUNK_TYPES.BIN ) {\n\n\t\t\t\tvar byteOffset = BINARY_EXTENSION_HEADER_LENGTH + chunkIndex;\n\t\t\t\tthis.body = data.slice( byteOffset, byteOffset + chunkLength );\n\n\t\t\t}\n\n\t\t\t// Clients must ignore chunks with unknown types.\n\n\t\t\tchunkIndex += chunkLength;\n\n\t\t}\n\n\t\tif ( this.content === null ) {\n\n\t\t\tthrow new Error( 'THREE.GLTFLoader: JSON content not found.' );\n\n\t\t}\n\n\t}\n\n\t/**\n\t * DRACO Mesh Compression Extension\n\t *\n\t * Specification: https://github.com/KhronosGroup/glTF/pull/874\n\t */\n\tfunction GLTFDracoMeshCompressionExtension( json, dracoLoader ) {\n\n\t\tif ( ! dracoLoader ) {\n\n\t\t\tthrow new Error( 'THREE.GLTFLoader: No DRACOLoader instance provided.' );\n\n\t\t}\n\n\t\tthis.name = EXTENSIONS.KHR_DRACO_MESH_COMPRESSION;\n\t\tthis.json = json;\n\t\tthis.dracoLoader = dracoLoader;\n\n\t}\n\n\tGLTFDracoMeshCompressionExtension.prototype.decodePrimitive = function ( primitive, parser ) {\n\n\t\tvar json = this.json;\n\t\tvar dracoLoader = this.dracoLoader;\n\t\tvar bufferViewIndex = primitive.extensions[ this.name ].bufferView;\n\t\tvar gltfAttributeMap = primitive.extensions[ this.name ].attributes;\n\t\tvar threeAttributeMap = {};\n\t\tvar attributeNormalizedMap = {};\n\t\tvar attributeTypeMap = {};\n\n\t\tfor ( var attributeName in gltfAttributeMap ) {\n\n\t\t\tvar threeAttributeName = ATTRIBUTES[ attributeName ] || attributeName.toLowerCase();\n\n\t\t\tthreeAttributeMap[ threeAttributeName ] = gltfAttributeMap[ attributeName ];\n\n\t\t}\n\n\t\tfor ( attributeName in primitive.attributes ) {\n\n\t\t\tvar threeAttributeName = ATTRIBUTES[ attributeName ] || attributeName.toLowerCase();\n\n\t\t\tif ( gltfAttributeMap[ attributeName ] !== undefined ) {\n\n\t\t\t\tvar accessorDef = json.accessors[ primitive.attributes[ attributeName ] ];\n\t\t\t\tvar componentType = WEBGL_COMPONENT_TYPES[ accessorDef.componentType ];\n\n\t\t\t\tattributeTypeMap[ threeAttributeName ] = componentType;\n\t\t\t\tattributeNormalizedMap[ threeAttributeName ] = accessorDef.normalized === true;\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn parser.getDependency( 'bufferView', bufferViewIndex ).then( function ( bufferView ) {\n\n\t\t\treturn new Promise( function ( resolve ) {\n\n\t\t\t\tdracoLoader.decodeDracoFile( bufferView, function ( geometry ) {\n\n\t\t\t\t\tfor ( var attributeName in geometry.attributes ) {\n\n\t\t\t\t\t\tvar attribute = geometry.attributes[ attributeName ];\n\t\t\t\t\t\tvar normalized = attributeNormalizedMap[ attributeName ];\n\n\t\t\t\t\t\tif ( normalized !== undefined ) attribute.normalized = normalized;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tresolve( geometry );\n\n\t\t\t\t}, threeAttributeMap, attributeTypeMap );\n\n\t\t\t} );\n\n\t\t} );\n\n\t};\n\n\t/**\n\t * Texture Transform Extension\n\t *\n\t * Specification:\n\t */\n\tfunction GLTFTextureTransformExtension() {\n\n\t\tthis.name = EXTENSIONS.KHR_TEXTURE_TRANSFORM;\n\n\t}\n\n\tGLTFTextureTransformExtension.prototype.extendTexture = function ( texture, transform ) {\n\n\t\ttexture = texture.clone();\n\n\t\tif ( transform.offset !== undefined ) {\n\n\t\t\ttexture.offset.fromArray( transform.offset );\n\n\t\t}\n\n\t\tif ( transform.rotation !== undefined ) {\n\n\t\t\ttexture.rotation = transform.rotation;\n\n\t\t}\n\n\t\tif ( transform.scale !== undefined ) {\n\n\t\t\ttexture.repeat.fromArray( transform.scale );\n\n\t\t}\n\n\t\tif ( transform.texCoord !== undefined ) {\n\n\t\t\tconsole.warn( 'THREE.GLTFLoader: Custom UV sets in \"' + this.name + '\" extension not yet supported.' );\n\n\t\t}\n\n\t\ttexture.needsUpdate = true;\n\n\t\treturn texture;\n\n\t};\n\n\t/**\n\t * Specular-Glossiness Extension\n\t *\n\t * Specification: https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Khronos/KHR_materials_pbrSpecularGlossiness\n\t */\n\tfunction GLTFMaterialsPbrSpecularGlossinessExtension() {\n\n\t\treturn {\n\n\t\t\tname: EXTENSIONS.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS,\n\n\t\t\tspecularGlossinessParams: [\n\t\t\t\t'color',\n\t\t\t\t'map',\n\t\t\t\t'lightMap',\n\t\t\t\t'lightMapIntensity',\n\t\t\t\t'aoMap',\n\t\t\t\t'aoMapIntensity',\n\t\t\t\t'emissive',\n\t\t\t\t'emissiveIntensity',\n\t\t\t\t'emissiveMap',\n\t\t\t\t'bumpMap',\n\t\t\t\t'bumpScale',\n\t\t\t\t'normalMap',\n\t\t\t\t'displacementMap',\n\t\t\t\t'displacementScale',\n\t\t\t\t'displacementBias',\n\t\t\t\t'specularMap',\n\t\t\t\t'specular',\n\t\t\t\t'glossinessMap',\n\t\t\t\t'glossiness',\n\t\t\t\t'alphaMap',\n\t\t\t\t'envMap',\n\t\t\t\t'envMapIntensity',\n\t\t\t\t'refractionRatio',\n\t\t\t],\n\n\t\t\tgetMaterialType: function () {\n\n\t\t\t\treturn ShaderMaterial;\n\n\t\t\t},\n\n\t\t\textendParams: function ( materialParams, materialDef, parser ) {\n\n\t\t\t\tvar pbrSpecularGlossiness = materialDef.extensions[ this.name ];\n\n\t\t\t\tvar shader = ShaderLib[ 'standard' ];\n\n\t\t\t\tvar uniforms = UniformsUtils.clone( shader.uniforms );\n\n\t\t\t\tvar specularMapParsFragmentChunk = [\n\t\t\t\t\t'#ifdef USE_SPECULARMAP',\n\t\t\t\t\t'\tuniform sampler2D specularMap;',\n\t\t\t\t\t'#endif'\n\t\t\t\t].join( '\\n' );\n\n\t\t\t\tvar glossinessMapParsFragmentChunk = [\n\t\t\t\t\t'#ifdef USE_GLOSSINESSMAP',\n\t\t\t\t\t'\tuniform sampler2D glossinessMap;',\n\t\t\t\t\t'#endif'\n\t\t\t\t].join( '\\n' );\n\n\t\t\t\tvar specularMapFragmentChunk = [\n\t\t\t\t\t'vec3 specularFactor = specular;',\n\t\t\t\t\t'#ifdef USE_SPECULARMAP',\n\t\t\t\t\t'\tvec4 texelSpecular = texture2D( specularMap, vUv );',\n\t\t\t\t\t'\ttexelSpecular = sRGBToLinear( texelSpecular );',\n\t\t\t\t\t'\t// reads channel RGB, compatible with a glTF Specular-Glossiness (RGBA) texture',\n\t\t\t\t\t'\tspecularFactor *= texelSpecular.rgb;',\n\t\t\t\t\t'#endif'\n\t\t\t\t].join( '\\n' );\n\n\t\t\t\tvar glossinessMapFragmentChunk = [\n\t\t\t\t\t'float glossinessFactor = glossiness;',\n\t\t\t\t\t'#ifdef USE_GLOSSINESSMAP',\n\t\t\t\t\t'\tvec4 texelGlossiness = texture2D( glossinessMap, vUv );',\n\t\t\t\t\t'\t// reads channel A, compatible with a glTF Specular-Glossiness (RGBA) texture',\n\t\t\t\t\t'\tglossinessFactor *= texelGlossiness.a;',\n\t\t\t\t\t'#endif'\n\t\t\t\t].join( '\\n' );\n\n\t\t\t\tvar lightPhysicalFragmentChunk = [\n\t\t\t\t\t'PhysicalMaterial material;',\n\t\t\t\t\t'material.diffuseColor = diffuseColor.rgb;',\n\t\t\t\t\t'material.specularRoughness = clamp( 1.0 - glossinessFactor, 0.04, 1.0 );',\n\t\t\t\t\t'material.specularColor = specularFactor.rgb;',\n\t\t\t\t].join( '\\n' );\n\n\t\t\t\tvar fragmentShader = shader.fragmentShader\n\t\t\t\t\t.replace( 'uniform float roughness;', 'uniform vec3 specular;' )\n\t\t\t\t\t.replace( 'uniform float metalness;', 'uniform float glossiness;' )\n\t\t\t\t\t.replace( '#include <roughnessmap_pars_fragment>', specularMapParsFragmentChunk )\n\t\t\t\t\t.replace( '#include <metalnessmap_pars_fragment>', glossinessMapParsFragmentChunk )\n\t\t\t\t\t.replace( '#include <roughnessmap_fragment>', specularMapFragmentChunk )\n\t\t\t\t\t.replace( '#include <metalnessmap_fragment>', glossinessMapFragmentChunk )\n\t\t\t\t\t.replace( '#include <lights_physical_fragment>', lightPhysicalFragmentChunk );\n\n\t\t\t\tdelete uniforms.roughness;\n\t\t\t\tdelete uniforms.metalness;\n\t\t\t\tdelete uniforms.roughnessMap;\n\t\t\t\tdelete uniforms.metalnessMap;\n\n\t\t\t\tuniforms.specular = { value: new Color().setHex( 0x111111 ) };\n\t\t\t\tuniforms.glossiness = { value: 0.5 };\n\t\t\t\tuniforms.specularMap = { value: null };\n\t\t\t\tuniforms.glossinessMap = { value: null };\n\n\t\t\t\tmaterialParams.vertexShader = shader.vertexShader;\n\t\t\t\tmaterialParams.fragmentShader = fragmentShader;\n\t\t\t\tmaterialParams.uniforms = uniforms;\n\t\t\t\tmaterialParams.defines = { 'STANDARD': '' };\n\n\t\t\t\tmaterialParams.color = new Color( 1.0, 1.0, 1.0 );\n\t\t\t\tmaterialParams.opacity = 1.0;\n\n\t\t\t\tvar pending = [];\n\n\t\t\t\tif ( Array.isArray( pbrSpecularGlossiness.diffuseFactor ) ) {\n\n\t\t\t\t\tvar array = pbrSpecularGlossiness.diffuseFactor;\n\n\t\t\t\t\tmaterialParams.color.fromArray( array );\n\t\t\t\t\tmaterialParams.opacity = array[ 3 ];\n\n\t\t\t\t}\n\n\t\t\t\tif ( pbrSpecularGlossiness.diffuseTexture !== undefined ) {\n\n\t\t\t\t\tpending.push( parser.assignTexture( materialParams, 'map', pbrSpecularGlossiness.diffuseTexture ) );\n\n\t\t\t\t}\n\n\t\t\t\tmaterialParams.emissive = new Color( 0.0, 0.0, 0.0 );\n\t\t\t\tmaterialParams.glossiness = pbrSpecularGlossiness.glossinessFactor !== undefined ? pbrSpecularGlossiness.glossinessFactor : 1.0;\n\t\t\t\tmaterialParams.specular = new Color( 1.0, 1.0, 1.0 );\n\n\t\t\t\tif ( Array.isArray( pbrSpecularGlossiness.specularFactor ) ) {\n\n\t\t\t\t\tmaterialParams.specular.fromArray( pbrSpecularGlossiness.specularFactor );\n\n\t\t\t\t}\n\n\t\t\t\tif ( pbrSpecularGlossiness.specularGlossinessTexture !== undefined ) {\n\n\t\t\t\t\tvar specGlossMapDef = pbrSpecularGlossiness.specularGlossinessTexture;\n\t\t\t\t\tpending.push( parser.assignTexture( materialParams, 'glossinessMap', specGlossMapDef ) );\n\t\t\t\t\tpending.push( parser.assignTexture( materialParams, 'specularMap', specGlossMapDef ) );\n\n\t\t\t\t}\n\n\t\t\t\treturn Promise.all( pending );\n\n\t\t\t},\n\n\t\t\tcreateMaterial: function ( params ) {\n\n\t\t\t\t// setup material properties based on MeshStandardMaterial for Specular-Glossiness\n\n\t\t\t\tvar material = new ShaderMaterial( {\n\t\t\t\t\tdefines: params.defines,\n\t\t\t\t\tvertexShader: params.vertexShader,\n\t\t\t\t\tfragmentShader: params.fragmentShader,\n\t\t\t\t\tuniforms: params.uniforms,\n\t\t\t\t\tfog: true,\n\t\t\t\t\tlights: true,\n\t\t\t\t\topacity: params.opacity,\n\t\t\t\t\ttransparent: params.transparent\n\t\t\t\t} );\n\n\t\t\t\tmaterial.isGLTFSpecularGlossinessMaterial = true;\n\n\t\t\t\tmaterial.color = params.color;\n\n\t\t\t\tmaterial.map = params.map === undefined ? null : params.map;\n\n\t\t\t\tmaterial.lightMap = null;\n\t\t\t\tmaterial.lightMapIntensity = 1.0;\n\n\t\t\t\tmaterial.aoMap = params.aoMap === undefined ? null : params.aoMap;\n\t\t\t\tmaterial.aoMapIntensity = 1.0;\n\n\t\t\t\tmaterial.emissive = params.emissive;\n\t\t\t\tmaterial.emissiveIntensity = 1.0;\n\t\t\t\tmaterial.emissiveMap = params.emissiveMap === undefined ? null : params.emissiveMap;\n\n\t\t\t\tmaterial.bumpMap = params.bumpMap === undefined ? null : params.bumpMap;\n\t\t\t\tmaterial.bumpScale = 1;\n\n\t\t\t\tmaterial.normalMap = params.normalMap === undefined ? null : params.normalMap;\n\n\t\t\t\tif ( params.normalScale ) material.normalScale = params.normalScale;\n\n\t\t\t\tmaterial.displacementMap = null;\n\t\t\t\tmaterial.displacementScale = 1;\n\t\t\t\tmaterial.displacementBias = 0;\n\n\t\t\t\tmaterial.specularMap = params.specularMap === undefined ? null : params.specularMap;\n\t\t\t\tmaterial.specular = params.specular;\n\n\t\t\t\tmaterial.glossinessMap = params.glossinessMap === undefined ? null : params.glossinessMap;\n\t\t\t\tmaterial.glossiness = params.glossiness;\n\n\t\t\t\tmaterial.alphaMap = null;\n\n\t\t\t\tmaterial.envMap = params.envMap === undefined ? null : params.envMap;\n\t\t\t\tmaterial.envMapIntensity = 1.0;\n\n\t\t\t\tmaterial.refractionRatio = 0.98;\n\n\t\t\t\tmaterial.extensions.derivatives = true;\n\n\t\t\t\treturn material;\n\n\t\t\t},\n\n\t\t\t/**\n\t\t\t * Clones a GLTFSpecularGlossinessMaterial instance. The ShaderMaterial.copy() method can\n\t\t\t * copy only properties it knows about or inherits, and misses many properties that would\n\t\t\t * normally be defined by MeshStandardMaterial.\n\t\t\t *\n\t\t\t * This method allows GLTFSpecularGlossinessMaterials to be cloned in the process of\n\t\t\t * loading a glTF model, but cloning later (e.g. by the user) would require these changes\n\t\t\t * AND also updating `.onBeforeRender` on the parent mesh.\n\t\t\t *\n\t\t\t * @param  {ShaderMaterial} source\n\t\t\t * @return {ShaderMaterial}\n\t\t\t */\n\t\t\tcloneMaterial: function ( source ) {\n\n\t\t\t\tvar target = source.clone();\n\n\t\t\t\ttarget.isGLTFSpecularGlossinessMaterial = true;\n\n\t\t\t\tvar params = this.specularGlossinessParams;\n\n\t\t\t\tfor ( var i = 0, il = params.length; i < il; i ++ ) {\n\n\t\t\t\t\tvar value = source[ params[ i ] ];\n\t\t\t\t\ttarget[ params[ i ] ] = ( value && value.isColor ) ? value.clone() : value;\n\n\t\t\t\t}\n\n\t\t\t\treturn target;\n\n\t\t\t},\n\n\t\t\t// Here's based on refreshUniformsCommon() and refreshUniformsStandard() in WebGLRenderer.\n\t\t\trefreshUniforms: function ( renderer, scene, camera, geometry, material, group ) {\n\n\t\t\t\tif ( material.isGLTFSpecularGlossinessMaterial !== true ) {\n\n\t\t\t\t\treturn;\n\n\t\t\t\t}\n\n\t\t\t\tvar uniforms = material.uniforms;\n\t\t\t\tvar defines = material.defines;\n\n\t\t\t\tuniforms.opacity.value = material.opacity;\n\n\t\t\t\tuniforms.diffuse.value.copy( material.color );\n\t\t\t\tuniforms.emissive.value.copy( material.emissive ).multiplyScalar( material.emissiveIntensity );\n\n\t\t\t\tuniforms.map.value = material.map;\n\t\t\t\tuniforms.specularMap.value = material.specularMap;\n\t\t\t\tuniforms.alphaMap.value = material.alphaMap;\n\n\t\t\t\tuniforms.lightMap.value = material.lightMap;\n\t\t\t\tuniforms.lightMapIntensity.value = material.lightMapIntensity;\n\n\t\t\t\tuniforms.aoMap.value = material.aoMap;\n\t\t\t\tuniforms.aoMapIntensity.value = material.aoMapIntensity;\n\n\t\t\t\t// uv repeat and offset setting priorities\n\t\t\t\t// 1. color map\n\t\t\t\t// 2. specular map\n\t\t\t\t// 3. normal map\n\t\t\t\t// 4. bump map\n\t\t\t\t// 5. alpha map\n\t\t\t\t// 6. emissive map\n\n\t\t\t\tvar uvScaleMap;\n\n\t\t\t\tif ( material.map ) {\n\n\t\t\t\t\tuvScaleMap = material.map;\n\n\t\t\t\t} else if ( material.specularMap ) {\n\n\t\t\t\t\tuvScaleMap = material.specularMap;\n\n\t\t\t\t} else if ( material.displacementMap ) {\n\n\t\t\t\t\tuvScaleMap = material.displacementMap;\n\n\t\t\t\t} else if ( material.normalMap ) {\n\n\t\t\t\t\tuvScaleMap = material.normalMap;\n\n\t\t\t\t} else if ( material.bumpMap ) {\n\n\t\t\t\t\tuvScaleMap = material.bumpMap;\n\n\t\t\t\t} else if ( material.glossinessMap ) {\n\n\t\t\t\t\tuvScaleMap = material.glossinessMap;\n\n\t\t\t\t} else if ( material.alphaMap ) {\n\n\t\t\t\t\tuvScaleMap = material.alphaMap;\n\n\t\t\t\t} else if ( material.emissiveMap ) {\n\n\t\t\t\t\tuvScaleMap = material.emissiveMap;\n\n\t\t\t\t}\n\n\t\t\t\tif ( uvScaleMap !== undefined ) {\n\n\t\t\t\t\t// backwards compatibility\n\t\t\t\t\tif ( uvScaleMap.isWebGLRenderTarget ) {\n\n\t\t\t\t\t\tuvScaleMap = uvScaleMap.texture;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( uvScaleMap.matrixAutoUpdate === true ) {\n\n\t\t\t\t\t\tuvScaleMap.updateMatrix();\n\n\t\t\t\t\t}\n\n\t\t\t\t\tuniforms.uvTransform.value.copy( uvScaleMap.matrix );\n\n\t\t\t\t}\n\n\t\t\t\tif ( material.envMap ) {\n\n\t\t\t\t\tuniforms.envMap.value = material.envMap;\n\t\t\t\t\tuniforms.envMapIntensity.value = material.envMapIntensity;\n\n\t\t\t\t\t// don't flip CubeTexture envMaps, flip everything else:\n\t\t\t\t\t//  WebGLRenderTargetCube will be flipped for backwards compatibility\n\t\t\t\t\t//  WebGLRenderTargetCube.texture will be flipped because it's a Texture and NOT a CubeTexture\n\t\t\t\t\t// this check must be handled differently, or removed entirely, if WebGLRenderTargetCube uses a CubeTexture in the future\n\t\t\t\t\tuniforms.flipEnvMap.value = material.envMap.isCubeTexture ? - 1 : 1;\n\n\t\t\t\t\tuniforms.reflectivity.value = material.reflectivity;\n\t\t\t\t\tuniforms.refractionRatio.value = material.refractionRatio;\n\n\t\t\t\t\tuniforms.maxMipLevel.value = renderer.properties.get( material.envMap ).__maxMipLevel;\n\n\t\t\t\t}\n\n\t\t\t\tuniforms.specular.value.copy( material.specular );\n\t\t\t\tuniforms.glossiness.value = material.glossiness;\n\n\t\t\t\tuniforms.glossinessMap.value = material.glossinessMap;\n\n\t\t\t\tuniforms.emissiveMap.value = material.emissiveMap;\n\t\t\t\tuniforms.bumpMap.value = material.bumpMap;\n\t\t\t\tuniforms.normalMap.value = material.normalMap;\n\n\t\t\t\tuniforms.displacementMap.value = material.displacementMap;\n\t\t\t\tuniforms.displacementScale.value = material.displacementScale;\n\t\t\t\tuniforms.displacementBias.value = material.displacementBias;\n\n\t\t\t\tif ( uniforms.glossinessMap.value !== null && defines.USE_GLOSSINESSMAP === undefined ) {\n\n\t\t\t\t\tdefines.USE_GLOSSINESSMAP = '';\n\t\t\t\t\t// set USE_ROUGHNESSMAP to enable vUv\n\t\t\t\t\tdefines.USE_ROUGHNESSMAP = '';\n\n\t\t\t\t}\n\n\t\t\t\tif ( uniforms.glossinessMap.value === null && defines.USE_GLOSSINESSMAP !== undefined ) {\n\n\t\t\t\t\tdelete defines.USE_GLOSSINESSMAP;\n\t\t\t\t\tdelete defines.USE_ROUGHNESSMAP;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t};\n\n\t}\n\n\t/*********************************/\n\t/********** INTERPOLATION ********/\n\t/*********************************/\n\n\t// Spline Interpolation\n\t// Specification: https://github.com/KhronosGroup/glTF/blob/master/specification/2.0/README.md#appendix-c-spline-interpolation\n\tfunction GLTFCubicSplineInterpolant( parameterPositions, sampleValues, sampleSize, resultBuffer ) {\n\n\t\tInterpolant.call( this, parameterPositions, sampleValues, sampleSize, resultBuffer );\n\n\t}\n\n\tGLTFCubicSplineInterpolant.prototype = Object.create( Interpolant.prototype );\n\tGLTFCubicSplineInterpolant.prototype.constructor = GLTFCubicSplineInterpolant;\n\n\tGLTFCubicSplineInterpolant.prototype.copySampleValue_ = function ( index ) {\n\n\t\t// Copies a sample value to the result buffer. See description of glTF\n\t\t// CUBICSPLINE values layout in interpolate_() function below.\n\n\t\tvar result = this.resultBuffer,\n\t\t\tvalues = this.sampleValues,\n\t\t\tvalueSize = this.valueSize,\n\t\t\toffset = index * valueSize * 3 + valueSize;\n\n\t\tfor ( var i = 0; i !== valueSize; i ++ ) {\n\n\t\t\tresult[ i ] = values[ offset + i ];\n\n\t\t}\n\n\t\treturn result;\n\n\t};\n\n\tGLTFCubicSplineInterpolant.prototype.beforeStart_ = GLTFCubicSplineInterpolant.prototype.copySampleValue_;\n\n\tGLTFCubicSplineInterpolant.prototype.afterEnd_ = GLTFCubicSplineInterpolant.prototype.copySampleValue_;\n\n\tGLTFCubicSplineInterpolant.prototype.interpolate_ = function ( i1, t0, t, t1 ) {\n\n\t\tvar result = this.resultBuffer;\n\t\tvar values = this.sampleValues;\n\t\tvar stride = this.valueSize;\n\n\t\tvar stride2 = stride * 2;\n\t\tvar stride3 = stride * 3;\n\n\t\tvar td = t1 - t0;\n\n\t\tvar p = ( t - t0 ) / td;\n\t\tvar pp = p * p;\n\t\tvar ppp = pp * p;\n\n\t\tvar offset1 = i1 * stride3;\n\t\tvar offset0 = offset1 - stride3;\n\n\t\tvar s2 = - 2 * ppp + 3 * pp;\n\t\tvar s3 = ppp - pp;\n\t\tvar s0 = 1 - s2;\n\t\tvar s1 = s3 - pp + p;\n\n\t\t// Layout of keyframe output values for CUBICSPLINE animations:\n\t\t//   [ inTangent_1, splineVertex_1, outTangent_1, inTangent_2, splineVertex_2, ... ]\n\t\tfor ( var i = 0; i !== stride; i ++ ) {\n\n\t\t\tvar p0 = values[ offset0 + i + stride ]; // splineVertex_k\n\t\t\tvar m0 = values[ offset0 + i + stride2 ] * td; // outTangent_k * (t_k+1 - t_k)\n\t\t\tvar p1 = values[ offset1 + i + stride ]; // splineVertex_k+1\n\t\t\tvar m1 = values[ offset1 + i ] * td; // inTangent_k+1 * (t_k+1 - t_k)\n\n\t\t\tresult[ i ] = s0 * p0 + s1 * m0 + s2 * p1 + s3 * m1;\n\n\t\t}\n\n\t\treturn result;\n\n\t};\n\n\t/*********************************/\n\t/********** INTERNALS ************/\n\t/*********************************/\n\n\t/* CONSTANTS */\n\n\tvar WEBGL_CONSTANTS = {\n\t\tFLOAT: 5126,\n\t\t//FLOAT_MAT2: 35674,\n\t\tFLOAT_MAT3: 35675,\n\t\tFLOAT_MAT4: 35676,\n\t\tFLOAT_VEC2: 35664,\n\t\tFLOAT_VEC3: 35665,\n\t\tFLOAT_VEC4: 35666,\n\t\tLINEAR: 9729,\n\t\tREPEAT: 10497,\n\t\tSAMPLER_2D: 35678,\n\t\tPOINTS: 0,\n\t\tLINES: 1,\n\t\tLINE_LOOP: 2,\n\t\tLINE_STRIP: 3,\n\t\tTRIANGLES: 4,\n\t\tTRIANGLE_STRIP: 5,\n\t\tTRIANGLE_FAN: 6,\n\t\tUNSIGNED_BYTE: 5121,\n\t\tUNSIGNED_SHORT: 5123\n\t};\n\n\tvar WEBGL_TYPE = {\n\t\t5126: Number,\n\t\t//35674: THREE.Matrix2,\n\t\t35675: Matrix3,\n\t\t35676: Matrix4,\n\t\t35664: Vector2,\n\t\t35665: Vector3,\n\t\t35666: Vector4,\n\t\t35678: Texture\n\t};\n\n\tvar WEBGL_COMPONENT_TYPES = {\n\t\t5120: Int8Array,\n\t\t5121: Uint8Array,\n\t\t5122: Int16Array,\n\t\t5123: Uint16Array,\n\t\t5125: Uint32Array,\n\t\t5126: Float32Array\n\t};\n\n\tvar WEBGL_FILTERS = {\n\t\t9728: NearestFilter,\n\t\t9729: LinearFilter,\n\t\t9984: NearestMipMapNearestFilter,\n\t\t9985: LinearMipMapNearestFilter,\n\t\t9986: NearestMipMapLinearFilter,\n\t\t9987: LinearMipMapLinearFilter\n\t};\n\n\tvar WEBGL_WRAPPINGS = {\n\t\t33071: ClampToEdgeWrapping,\n\t\t33648: MirroredRepeatWrapping,\n\t\t10497: RepeatWrapping\n\t};\n\n\tvar WEBGL_SIDES = {\n\t\t1028: BackSide, // Culling front\n\t\t1029: FrontSide // Culling back\n\t\t//1032: THREE.NoSide   // Culling front and back, what to do?\n\t};\n\n\tvar WEBGL_DEPTH_FUNCS = {\n\t\t512: NeverDepth,\n\t\t513: LessDepth,\n\t\t514: EqualDepth,\n\t\t515: LessEqualDepth,\n\t\t516: GreaterEqualDepth,\n\t\t517: NotEqualDepth,\n\t\t518: GreaterEqualDepth,\n\t\t519: AlwaysDepth\n\t};\n\n\tvar WEBGL_BLEND_EQUATIONS = {\n\t\t32774: AddEquation,\n\t\t32778: SubtractEquation,\n\t\t32779: ReverseSubtractEquation\n\t};\n\n\tvar WEBGL_BLEND_FUNCS = {\n\t\t0: ZeroFactor,\n\t\t1: OneFactor,\n\t\t768: SrcColorFactor,\n\t\t769: OneMinusSrcColorFactor,\n\t\t770: SrcAlphaFactor,\n\t\t771: OneMinusSrcAlphaFactor,\n\t\t772: DstAlphaFactor,\n\t\t773: OneMinusDstAlphaFactor,\n\t\t774: DstColorFactor,\n\t\t775: OneMinusDstColorFactor,\n\t\t776: SrcAlphaSaturateFactor\n\t\t// The followings are not supported by Three.js yet\n\t\t//32769: CONSTANT_COLOR,\n\t\t//32770: ONE_MINUS_CONSTANT_COLOR,\n\t\t//32771: CONSTANT_ALPHA,\n\t\t//32772: ONE_MINUS_CONSTANT_COLOR\n\t};\n\n\tvar WEBGL_TYPE_SIZES = {\n\t\t'SCALAR': 1,\n\t\t'VEC2': 2,\n\t\t'VEC3': 3,\n\t\t'VEC4': 4,\n\t\t'MAT2': 4,\n\t\t'MAT3': 9,\n\t\t'MAT4': 16\n\t};\n\n\tvar ATTRIBUTES = {\n\t\tPOSITION: 'position',\n\t\tNORMAL: 'normal',\n\t\tTANGENT: 'tangent',\n\t\tTEXCOORD_0: 'uv',\n\t\tTEXCOORD_1: 'uv2',\n\t\tCOLOR_0: 'color',\n\t\tWEIGHTS_0: 'skinWeight',\n\t\tJOINTS_0: 'skinIndex',\n\t};\n\n\tvar PATH_PROPERTIES = {\n\t\tscale: 'scale',\n\t\ttranslation: 'position',\n\t\trotation: 'quaternion',\n\t\tweights: 'morphTargetInfluences'\n\t};\n\n\tvar INTERPOLATION = {\n\t\tCUBICSPLINE: undefined, // We use a custom interpolant (GLTFCubicSplineInterpolation) for CUBICSPLINE tracks. Each\n\t\t                        // keyframe track will be initialized with a default interpolation type, then modified.\n\t\tLINEAR: InterpolateLinear,\n\t\tSTEP: InterpolateDiscrete\n\t};\n\n\tvar STATES_ENABLES = {\n\t\t2884: 'CULL_FACE',\n\t\t2929: 'DEPTH_TEST',\n\t\t3042: 'BLEND',\n\t\t3089: 'SCISSOR_TEST',\n\t\t32823: 'POLYGON_OFFSET_FILL',\n\t\t32926: 'SAMPLE_ALPHA_TO_COVERAGE'\n\t};\n\n\tvar ALPHA_MODES = {\n\t\tOPAQUE: 'OPAQUE',\n\t\tMASK: 'MASK',\n\t\tBLEND: 'BLEND'\n\t};\n\n\tvar MIME_TYPE_FORMATS = {\n\t\t'image/png': RGBAFormat,\n\t\t'image/jpeg': RGBFormat\n\t};\n\n\t/* UTILITY FUNCTIONS */\n\n\tfunction resolveURL( url, path ) {\n\n\t\t// Invalid URL\n\t\tif ( typeof url !== 'string' || url === '' ) return '';\n\n\t\t// Absolute URL http://,https://,//\n\t\tif ( /^(https?:)?\\/\\//i.test( url ) ) return url;\n\n\t\t// Data URI\n\t\tif ( /^data:.*,.*$/i.test( url ) ) return url;\n\n\t\t// Blob URL\n\t\tif ( /^blob:.*$/i.test( url ) ) return url;\n\n\t\t// Relative URL\n\t\treturn path + url;\n\n\t}\n\n\tvar defaultMaterial;\n\n\t/**\n\t * Specification: https://github.com/KhronosGroup/glTF/blob/master/specification/2.0/README.md#default-material\n\t */\n\tfunction createDefaultMaterial() {\n\n\t\tdefaultMaterial = defaultMaterial || new MeshStandardMaterial( {\n\t\t\tcolor: 0xFFFFFF,\n\t\t\temissive: 0x000000,\n\t\t\tmetalness: 1,\n\t\t\troughness: 1,\n\t\t\ttransparent: false,\n\t\t\tdepthTest: true,\n\t\t\tside: FrontSide\n\t\t} );\n\n\t\treturn defaultMaterial;\n\n\t}\n\n\tfunction addUnknownExtensionsToUserData( knownExtensions, object, objectDef ) {\n\n\t\t// Add unknown glTF extensions to an object's userData.\n\n\t\tfor ( var name in objectDef.extensions ) {\n\n\t\t\tif ( knownExtensions[ name ] === undefined ) {\n\n\t\t\t\tobject.userData.gltfExtensions = object.userData.gltfExtensions || {};\n\t\t\t\tobject.userData.gltfExtensions[ name ] = objectDef.extensions[ name ];\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\t/**\n\t * @param {Object3D|Material|BufferGeometry} object\n\t * @param {GLTF.definition} gltfDef\n\t */\n\tfunction assignExtrasToUserData( object, gltfDef ) {\n\n\t\tif ( gltfDef.extras !== undefined ) {\n\n\t\t\tif ( typeof gltfDef.extras === 'object' ) {\n\n\t\t\t\tObject.assign( object.userData, gltfDef.extras );\n\n\t\t\t} else {\n\n\t\t\t\tconsole.warn( 'THREE.GLTFLoader: Ignoring primitive type .extras, ' + gltfDef.extras );\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\t/**\n\t * Specification: https://github.com/KhronosGroup/glTF/blob/master/specification/2.0/README.md#morph-targets\n\t *\n\t * @param {BufferGeometry} geometry\n\t * @param {Array<GLTF.Target>} targets\n\t * @param {GLTFParser} parser\n\t * @return {Promise<BufferGeometry>}\n\t */\n\tfunction addMorphTargets( geometry, targets, parser ) {\n\n\t\tvar hasMorphPosition = false;\n\t\tvar hasMorphNormal = false;\n\n\t\tfor ( var i = 0, il = targets.length; i < il; i ++ ) {\n\n\t\t\tvar target = targets[ i ];\n\n\t\t\tif ( target.POSITION !== undefined ) hasMorphPosition = true;\n\t\t\tif ( target.NORMAL !== undefined ) hasMorphNormal = true;\n\n\t\t\tif ( hasMorphPosition && hasMorphNormal ) break;\n\n\t\t}\n\n\t\tif ( ! hasMorphPosition && ! hasMorphNormal ) return Promise.resolve( geometry );\n\n\t\tvar pendingPositionAccessors = [];\n\t\tvar pendingNormalAccessors = [];\n\n\t\tfor ( var i = 0, il = targets.length; i < il; i ++ ) {\n\n\t\t\tvar target = targets[ i ];\n\n\t\t\tif ( hasMorphPosition ) {\n\n\t\t\t\tvar pendingAccessor = target.POSITION !== undefined\n\t\t\t\t\t? parser.getDependency( 'accessor', target.POSITION )\n\t\t\t\t\t: geometry.attributes.position;\n\n\t\t\t\tpendingPositionAccessors.push( pendingAccessor );\n\n\t\t\t}\n\n\t\t\tif ( hasMorphNormal ) {\n\n\t\t\t\tvar pendingAccessor = target.NORMAL !== undefined\n\t\t\t\t\t? parser.getDependency( 'accessor', target.NORMAL )\n\t\t\t\t\t: geometry.attributes.normal;\n\n\t\t\t\tpendingNormalAccessors.push( pendingAccessor );\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn Promise.all( [\n\t\t\tPromise.all( pendingPositionAccessors ),\n\t\t\tPromise.all( pendingNormalAccessors )\n\t\t] ).then( function ( accessors ) {\n\n\t\t\tvar morphPositions = accessors[ 0 ];\n\t\t\tvar morphNormals = accessors[ 1 ];\n\n\t\t\t// Clone morph target accessors before modifying them.\n\n\t\t\tfor ( var i = 0, il = morphPositions.length; i < il; i ++ ) {\n\n\t\t\t\tif ( geometry.attributes.position === morphPositions[ i ] ) continue;\n\n\t\t\t\tmorphPositions[ i ] = cloneBufferAttribute( morphPositions[ i ] );\n\n\t\t\t}\n\n\t\t\tfor ( var i = 0, il = morphNormals.length; i < il; i ++ ) {\n\n\t\t\t\tif ( geometry.attributes.normal === morphNormals[ i ] ) continue;\n\n\t\t\t\tmorphNormals[ i ] = cloneBufferAttribute( morphNormals[ i ] );\n\n\t\t\t}\n\n\t\t\tfor ( var i = 0, il = targets.length; i < il; i ++ ) {\n\n\t\t\t\tvar target = targets[ i ];\n\t\t\t\tvar attributeName = 'morphTarget' + i;\n\n\t\t\t\tif ( hasMorphPosition ) {\n\n\t\t\t\t\t// Three.js morph position is absolute value. The formula is\n\t\t\t\t\t//   basePosition\n\t\t\t\t\t//     + weight0 * ( morphPosition0 - basePosition )\n\t\t\t\t\t//     + weight1 * ( morphPosition1 - basePosition )\n\t\t\t\t\t//     ...\n\t\t\t\t\t// while the glTF one is relative\n\t\t\t\t\t//   basePosition\n\t\t\t\t\t//     + weight0 * glTFmorphPosition0\n\t\t\t\t\t//     + weight1 * glTFmorphPosition1\n\t\t\t\t\t//     ...\n\t\t\t\t\t// then we need to convert from relative to absolute here.\n\n\t\t\t\t\tif ( target.POSITION !== undefined ) {\n\n\t\t\t\t\t\tvar positionAttribute = morphPositions[ i ];\n\t\t\t\t\t\tpositionAttribute.name = attributeName;\n\n\t\t\t\t\t\tvar position = geometry.attributes.position;\n\n\t\t\t\t\t\tfor ( var j = 0, jl = positionAttribute.count; j < jl; j ++ ) {\n\n\t\t\t\t\t\t\tpositionAttribute.setXYZ(\n\t\t\t\t\t\t\t\tj,\n\t\t\t\t\t\t\t\tpositionAttribute.getX( j ) + position.getX( j ),\n\t\t\t\t\t\t\t\tpositionAttribute.getY( j ) + position.getY( j ),\n\t\t\t\t\t\t\t\tpositionAttribute.getZ( j ) + position.getZ( j )\n\t\t\t\t\t\t\t);\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\tif ( hasMorphNormal ) {\n\n\t\t\t\t\t// see target.POSITION's comment\n\n\t\t\t\t\tif ( target.NORMAL !== undefined ) {\n\n\t\t\t\t\t\tvar normalAttribute = morphNormals[ i ];\n\t\t\t\t\t\tnormalAttribute.name = attributeName;\n\n\t\t\t\t\t\tvar normal = geometry.attributes.normal;\n\n\t\t\t\t\t\tfor ( var j = 0, jl = normalAttribute.count; j < jl; j ++ ) {\n\n\t\t\t\t\t\t\tnormalAttribute.setXYZ(\n\t\t\t\t\t\t\t\tj,\n\t\t\t\t\t\t\t\tnormalAttribute.getX( j ) + normal.getX( j ),\n\t\t\t\t\t\t\t\tnormalAttribute.getY( j ) + normal.getY( j ),\n\t\t\t\t\t\t\t\tnormalAttribute.getZ( j ) + normal.getZ( j )\n\t\t\t\t\t\t\t);\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tif ( hasMorphPosition ) geometry.morphAttributes.position = morphPositions;\n\t\t\tif ( hasMorphNormal ) geometry.morphAttributes.normal = morphNormals;\n\n\t\t\treturn geometry;\n\n\t\t} );\n\n\t}\n\n\t/**\n\t * @param {Mesh} mesh\n\t * @param {GLTF.Mesh} meshDef\n\t */\n\tfunction updateMorphTargets( mesh, meshDef ) {\n\n\t\tmesh.updateMorphTargets();\n\n\t\tif ( meshDef.weights !== undefined ) {\n\n\t\t\tfor ( var i = 0, il = meshDef.weights.length; i < il; i ++ ) {\n\n\t\t\t\tmesh.morphTargetInfluences[ i ] = meshDef.weights[ i ];\n\n\t\t\t}\n\n\t\t}\n\n\t\t// .extras has user-defined data, so check that .extras.targetNames is an array.\n\t\tif ( meshDef.extras && Array.isArray( meshDef.extras.targetNames ) ) {\n\n\t\t\tvar targetNames = meshDef.extras.targetNames;\n\n\t\t\tif ( mesh.morphTargetInfluences.length === targetNames.length ) {\n\n\t\t\t\tmesh.morphTargetDictionary = {};\n\n\t\t\t\tfor ( var i = 0, il = targetNames.length; i < il; i ++ ) {\n\n\t\t\t\t\tmesh.morphTargetDictionary[ targetNames[ i ] ] = i;\n\n\t\t\t\t}\n\n\t\t\t} else {\n\n\t\t\t\tconsole.warn( 'THREE.GLTFLoader: Invalid extras.targetNames length. Ignoring names.' );\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\tfunction isObjectEqual( a, b ) {\n\n\t\tif ( Object.keys( a ).length !== Object.keys( b ).length ) return false;\n\n\t\tfor ( var key in a ) {\n\n\t\t\tif ( a[ key ] !== b[ key ] ) return false;\n\n\t\t}\n\n\t\treturn true;\n\n\t}\n\n\tfunction createPrimitiveKey( primitiveDef ) {\n\n\t\tvar dracoExtension = primitiveDef.extensions && primitiveDef.extensions[ EXTENSIONS.KHR_DRACO_MESH_COMPRESSION ];\n\t\tvar geometryKey;\n\n\t\tif ( dracoExtension ) {\n\n\t\t\tgeometryKey = 'draco:' + dracoExtension.bufferView\n\t\t\t\t+ ':' + dracoExtension.indices\n\t\t\t\t+ ':' + createAttributesKey( dracoExtension.attributes );\n\n\t\t} else {\n\n\t\t\tgeometryKey = primitiveDef.indices + ':' + createAttributesKey( primitiveDef.attributes ) + ':' + primitiveDef.mode;\n\n\t\t}\n\n\t\treturn geometryKey;\n\n\t}\n\n\tfunction createAttributesKey( attributes ) {\n\n\t\tvar attributesKey = '';\n\n\t\tvar keys = Object.keys( attributes ).sort();\n\n\t\tfor ( var i = 0, il = keys.length; i < il; i ++ ) {\n\n\t\t\tattributesKey += keys[ i ] + ':' + attributes[ keys[ i ] ] + ';';\n\n\t\t}\n\n\t\treturn attributesKey;\n\n\t}\n\n\tfunction cloneBufferAttribute( attribute ) {\n\n\t\tif ( attribute.isInterleavedBufferAttribute ) {\n\n\t\t\tvar count = attribute.count;\n\t\t\tvar itemSize = attribute.itemSize;\n\t\t\tvar array = attribute.array.slice( 0, count * itemSize );\n\n\t\t\tfor ( var i = 0, j = 0; i < count; ++ i ) {\n\n\t\t\t\tarray[ j ++ ] = attribute.getX( i );\n\t\t\t\tif ( itemSize >= 2 ) array[ j ++ ] = attribute.getY( i );\n\t\t\t\tif ( itemSize >= 3 ) array[ j ++ ] = attribute.getZ( i );\n\t\t\t\tif ( itemSize >= 4 ) array[ j ++ ] = attribute.getW( i );\n\n\t\t\t}\n\n\t\t\treturn new BufferAttribute( array, itemSize, attribute.normalized );\n\n\t\t}\n\n\t\treturn attribute.clone();\n\n\t}\n\n\t/* GLTF PARSER */\n\n\tfunction GLTFParser( json, extensions, options ) {\n\n\t\tthis.json = json || {};\n\t\tthis.extensions = extensions || {};\n\t\tthis.options = options || {};\n\n\t\t// loader object cache\n\t\tthis.cache = new GLTFRegistry();\n\n\t\t// BufferGeometry caching\n\t\tthis.primitiveCache = {};\n\n\t\tthis.textureLoader = new TextureLoader( this.options.manager );\n\t\tthis.textureLoader.setCrossOrigin( this.options.crossOrigin );\n\n\t\tthis.fileLoader = new FileLoader( this.options.manager );\n\t\tthis.fileLoader.setResponseType( 'arraybuffer' );\n\n\t}\n\n\tGLTFParser.prototype.parse = function ( onLoad, onError ) {\n\n\t\tvar parser = this;\n\t\tvar json = this.json;\n\t\tvar extensions = this.extensions;\n\n\t\t// Clear the loader cache\n\t\tthis.cache.removeAll();\n\n\t\t// Mark the special nodes/meshes in json for efficient parse\n\t\tthis.markDefs();\n\n\t\tPromise.all( [\n\n\t\t\tthis.getDependencies( 'scene' ),\n\t\t\tthis.getDependencies( 'animation' ),\n\t\t\tthis.getDependencies( 'camera' ),\n\n\t\t] ).then( function ( dependencies ) {\n\n\t\t\tvar result = {\n\t\t\t\tscene: dependencies[ 0 ][ json.scene || 0 ],\n\t\t\t\tscenes: dependencies[ 0 ],\n\t\t\t\tanimations: dependencies[ 1 ],\n\t\t\t\tcameras: dependencies[ 2 ],\n\t\t\t\tasset: json.asset,\n\t\t\t\tparser: parser,\n\t\t\t\tuserData: {}\n\t\t\t};\n\n\t\t\taddUnknownExtensionsToUserData( extensions, result, json );\n\n\t\t\tonLoad( result );\n\n\t\t} ).catch( onError );\n\n\t};\n\n\t/**\n\t * Marks the special nodes/meshes in json for efficient parse.\n\t */\n\tGLTFParser.prototype.markDefs = function () {\n\n\t\tvar nodeDefs = this.json.nodes || [];\n\t\tvar skinDefs = this.json.skins || [];\n\t\tvar meshDefs = this.json.meshes || [];\n\n\t\tvar meshReferences = {};\n\t\tvar meshUses = {};\n\n\t\t// Nothing in the node definition indicates whether it is a Bone or an\n\t\t// Object3D. Use the skins' joint references to mark bones.\n\t\tfor ( var skinIndex = 0, skinLength = skinDefs.length; skinIndex < skinLength; skinIndex ++ ) {\n\n\t\t\tvar joints = skinDefs[ skinIndex ].joints;\n\n\t\t\tfor ( var i = 0, il = joints.length; i < il; i ++ ) {\n\n\t\t\t\tnodeDefs[ joints[ i ] ].isBone = true;\n\n\t\t\t}\n\n\t\t}\n\n\t\t// Meshes can (and should) be reused by multiple nodes in a glTF asset. To\n\t\t// avoid having more than one Mesh with the same name, count\n\t\t// references and rename instances below.\n\t\t//\n\t\t// Example: CesiumMilkTruck sample model reuses \"Wheel\" meshes.\n\t\tfor ( var nodeIndex = 0, nodeLength = nodeDefs.length; nodeIndex < nodeLength; nodeIndex ++ ) {\n\n\t\t\tvar nodeDef = nodeDefs[ nodeIndex ];\n\n\t\t\tif ( nodeDef.mesh !== undefined ) {\n\n\t\t\t\tif ( meshReferences[ nodeDef.mesh ] === undefined ) {\n\n\t\t\t\t\tmeshReferences[ nodeDef.mesh ] = meshUses[ nodeDef.mesh ] = 0;\n\n\t\t\t\t}\n\n\t\t\t\tmeshReferences[ nodeDef.mesh ] ++;\n\n\t\t\t\t// Nothing in the mesh definition indicates whether it is\n\t\t\t\t// a SkinnedMesh or Mesh. Use the node's mesh reference\n\t\t\t\t// to mark SkinnedMesh if node has skin.\n\t\t\t\tif ( nodeDef.skin !== undefined ) {\n\n\t\t\t\t\tmeshDefs[ nodeDef.mesh ].isSkinnedMesh = true;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tthis.json.meshReferences = meshReferences;\n\t\tthis.json.meshUses = meshUses;\n\n\t};\n\n\t/**\n\t * Requests the specified dependency asynchronously, with caching.\n\t * @param {string} type\n\t * @param {number} index\n\t * @return {Promise<Object3D|Material|Texture|AnimationClip|ArrayBuffer|Object>}\n\t */\n\tGLTFParser.prototype.getDependency = function ( type, index ) {\n\n\t\tvar cacheKey = type + ':' + index;\n\t\tvar dependency = this.cache.get( cacheKey );\n\n\t\tif ( ! dependency ) {\n\n\t\t\tswitch ( type ) {\n\n\t\t\t\tcase 'scene':\n\t\t\t\t\tdependency = this.loadScene( index );\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'node':\n\t\t\t\t\tdependency = this.loadNode( index );\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'mesh':\n\t\t\t\t\tdependency = this.loadMesh( index );\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'accessor':\n\t\t\t\t\tdependency = this.loadAccessor( index );\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'bufferView':\n\t\t\t\t\tdependency = this.loadBufferView( index );\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'buffer':\n\t\t\t\t\tdependency = this.loadBuffer( index );\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'material':\n\t\t\t\t\tdependency = this.loadMaterial( index );\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'texture':\n\t\t\t\t\tdependency = this.loadTexture( index );\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'skin':\n\t\t\t\t\tdependency = this.loadSkin( index );\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'animation':\n\t\t\t\t\tdependency = this.loadAnimation( index );\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'camera':\n\t\t\t\t\tdependency = this.loadCamera( index );\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'light':\n\t\t\t\t\tdependency = this.extensions[ EXTENSIONS.KHR_LIGHTS_PUNCTUAL ].loadLight( index );\n\t\t\t\t\tbreak;\n\n\t\t\t\tdefault:\n\t\t\t\t\tthrow new Error( 'Unknown type: ' + type );\n\n\t\t\t}\n\n\t\t\tthis.cache.add( cacheKey, dependency );\n\n\t\t}\n\n\t\treturn dependency;\n\n\t};\n\n\t/**\n\t * Requests all dependencies of the specified type asynchronously, with caching.\n\t * @param {string} type\n\t * @return {Promise<Array<Object>>}\n\t */\n\tGLTFParser.prototype.getDependencies = function ( type ) {\n\n\t\tvar dependencies = this.cache.get( type );\n\n\t\tif ( ! dependencies ) {\n\n\t\t\tvar parser = this;\n\t\t\tvar defs = this.json[ type + ( type === 'mesh' ? 'es' : 's' ) ] || [];\n\n\t\t\tdependencies = Promise.all( defs.map( function ( def, index ) {\n\n\t\t\t\treturn parser.getDependency( type, index );\n\n\t\t\t} ) );\n\n\t\t\tthis.cache.add( type, dependencies );\n\n\t\t}\n\n\t\treturn dependencies;\n\n\t};\n\n\t/**\n\t * Specification: https://github.com/KhronosGroup/glTF/blob/master/specification/2.0/README.md#buffers-and-buffer-views\n\t * @param {number} bufferIndex\n\t * @return {Promise<ArrayBuffer>}\n\t */\n\tGLTFParser.prototype.loadBuffer = function ( bufferIndex ) {\n\n\t\tvar bufferDef = this.json.buffers[ bufferIndex ];\n\t\tvar loader = this.fileLoader;\n\n\t\tif ( bufferDef.type && bufferDef.type !== 'arraybuffer' ) {\n\n\t\t\tthrow new Error( 'THREE.GLTFLoader: ' + bufferDef.type + ' buffer type is not supported.' );\n\n\t\t}\n\n\t\t// If present, GLB container is required to be the first buffer.\n\t\tif ( bufferDef.uri === undefined && bufferIndex === 0 ) {\n\n\t\t\treturn Promise.resolve( this.extensions[ EXTENSIONS.KHR_BINARY_GLTF ].body );\n\n\t\t}\n\n\t\tvar options = this.options;\n\n\t\treturn new Promise( function ( resolve, reject ) {\n\n\t\t\tloader.load( resolveURL( bufferDef.uri, options.path ), resolve, undefined, function () {\n\n\t\t\t\treject( new Error( 'THREE.GLTFLoader: Failed to load buffer \"' + bufferDef.uri + '\".' ) );\n\n\t\t\t} );\n\n\t\t} );\n\n\t};\n\n\t/**\n\t * Specification: https://github.com/KhronosGroup/glTF/blob/master/specification/2.0/README.md#buffers-and-buffer-views\n\t * @param {number} bufferViewIndex\n\t * @return {Promise<ArrayBuffer>}\n\t */\n\tGLTFParser.prototype.loadBufferView = function ( bufferViewIndex ) {\n\n\t\tvar bufferViewDef = this.json.bufferViews[ bufferViewIndex ];\n\n\t\treturn this.getDependency( 'buffer', bufferViewDef.buffer ).then( function ( buffer ) {\n\n\t\t\tvar byteLength = bufferViewDef.byteLength || 0;\n\t\t\tvar byteOffset = bufferViewDef.byteOffset || 0;\n\t\t\treturn buffer.slice( byteOffset, byteOffset + byteLength );\n\n\t\t} );\n\n\t};\n\n\t/**\n\t * Specification: https://github.com/KhronosGroup/glTF/blob/master/specification/2.0/README.md#accessors\n\t * @param {number} accessorIndex\n\t * @return {Promise<BufferAttribute|InterleavedBufferAttribute>}\n\t */\n\tGLTFParser.prototype.loadAccessor = function ( accessorIndex ) {\n\n\t\tvar parser = this;\n\t\tvar json = this.json;\n\n\t\tvar accessorDef = this.json.accessors[ accessorIndex ];\n\n\t\tif ( accessorDef.bufferView === undefined && accessorDef.sparse === undefined ) {\n\n\t\t\t// Ignore empty accessors, which may be used to declare runtime\n\t\t\t// information about attributes coming from another source (e.g. Draco\n\t\t\t// compression extension).\n\t\t\treturn Promise.resolve( null );\n\n\t\t}\n\n\t\tvar pendingBufferViews = [];\n\n\t\tif ( accessorDef.bufferView !== undefined ) {\n\n\t\t\tpendingBufferViews.push( this.getDependency( 'bufferView', accessorDef.bufferView ) );\n\n\t\t} else {\n\n\t\t\tpendingBufferViews.push( null );\n\n\t\t}\n\n\t\tif ( accessorDef.sparse !== undefined ) {\n\n\t\t\tpendingBufferViews.push( this.getDependency( 'bufferView', accessorDef.sparse.indices.bufferView ) );\n\t\t\tpendingBufferViews.push( this.getDependency( 'bufferView', accessorDef.sparse.values.bufferView ) );\n\n\t\t}\n\n\t\treturn Promise.all( pendingBufferViews ).then( function ( bufferViews ) {\n\n\t\t\tvar bufferView = bufferViews[ 0 ];\n\n\t\t\tvar itemSize = WEBGL_TYPE_SIZES[ accessorDef.type ];\n\t\t\tvar TypedArray = WEBGL_COMPONENT_TYPES[ accessorDef.componentType ];\n\n\t\t\t// For VEC3: itemSize is 3, elementBytes is 4, itemBytes is 12.\n\t\t\tvar elementBytes = TypedArray.BYTES_PER_ELEMENT;\n\t\t\tvar itemBytes = elementBytes * itemSize;\n\t\t\tvar byteOffset = accessorDef.byteOffset || 0;\n\t\t\tvar byteStride = accessorDef.bufferView !== undefined ? json.bufferViews[ accessorDef.bufferView ].byteStride : undefined;\n\t\t\tvar normalized = accessorDef.normalized === true;\n\t\t\tvar array, bufferAttribute;\n\n\t\t\t// The buffer is not interleaved if the stride is the item size in bytes.\n\t\t\tif ( byteStride && byteStride !== itemBytes ) {\n\n\t\t\t\tvar ibCacheKey = 'InterleavedBuffer:' + accessorDef.bufferView + ':' + accessorDef.componentType;\n\t\t\t\tvar ib = parser.cache.get( ibCacheKey );\n\n\t\t\t\tif ( ! ib ) {\n\n\t\t\t\t\t// Use the full buffer if it's interleaved.\n\t\t\t\t\tarray = new TypedArray( bufferView );\n\n\t\t\t\t\t// Integer parameters to IB/IBA are in array elements, not bytes.\n\t\t\t\t\tib = new InterleavedBuffer( array, byteStride / elementBytes );\n\n\t\t\t\t\tparser.cache.add( ibCacheKey, ib );\n\n\t\t\t\t}\n\n\t\t\t\tbufferAttribute = new InterleavedBufferAttribute( ib, itemSize, byteOffset / elementBytes, normalized );\n\n\t\t\t} else {\n\n\t\t\t\tif ( bufferView === null ) {\n\n\t\t\t\t\tarray = new TypedArray( accessorDef.count * itemSize );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tarray = new TypedArray( bufferView, byteOffset, accessorDef.count * itemSize );\n\n\t\t\t\t}\n\n\t\t\t\tbufferAttribute = new BufferAttribute( array, itemSize, normalized );\n\n\t\t\t}\n\n\t\t\t// https://github.com/KhronosGroup/glTF/blob/master/specification/2.0/README.md#sparse-accessors\n\t\t\tif ( accessorDef.sparse !== undefined ) {\n\n\t\t\t\tvar itemSizeIndices = WEBGL_TYPE_SIZES.SCALAR;\n\t\t\t\tvar TypedArrayIndices = WEBGL_COMPONENT_TYPES[ accessorDef.sparse.indices.componentType ];\n\n\t\t\t\tvar byteOffsetIndices = accessorDef.sparse.indices.byteOffset || 0;\n\t\t\t\tvar byteOffsetValues = accessorDef.sparse.values.byteOffset || 0;\n\n\t\t\t\tvar sparseIndices = new TypedArrayIndices( bufferViews[ 1 ], byteOffsetIndices, accessorDef.sparse.count * itemSizeIndices );\n\t\t\t\tvar sparseValues = new TypedArray( bufferViews[ 2 ], byteOffsetValues, accessorDef.sparse.count * itemSize );\n\n\t\t\t\tif ( bufferView !== null ) {\n\n\t\t\t\t\t// Avoid modifying the original ArrayBuffer, if the bufferView wasn't initialized with zeroes.\n\t\t\t\t\tbufferAttribute.setArray( bufferAttribute.array.slice() );\n\n\t\t\t\t}\n\n\t\t\t\tfor ( var i = 0, il = sparseIndices.length; i < il; i ++ ) {\n\n\t\t\t\t\tvar index = sparseIndices[ i ];\n\n\t\t\t\t\tbufferAttribute.setX( index, sparseValues[ i * itemSize ] );\n\t\t\t\t\tif ( itemSize >= 2 ) bufferAttribute.setY( index, sparseValues[ i * itemSize + 1 ] );\n\t\t\t\t\tif ( itemSize >= 3 ) bufferAttribute.setZ( index, sparseValues[ i * itemSize + 2 ] );\n\t\t\t\t\tif ( itemSize >= 4 ) bufferAttribute.setW( index, sparseValues[ i * itemSize + 3 ] );\n\t\t\t\t\tif ( itemSize >= 5 ) throw new Error( 'THREE.GLTFLoader: Unsupported itemSize in sparse BufferAttribute.' );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\treturn bufferAttribute;\n\n\t\t} );\n\n\t};\n\n\t/**\n\t * Specification: https://github.com/KhronosGroup/glTF/tree/master/specification/2.0#textures\n\t * @param {number} textureIndex\n\t * @return {Promise<Texture>}\n\t */\n\tGLTFParser.prototype.loadTexture = function ( textureIndex ) {\n\n\t\tvar parser = this;\n\t\tvar json = this.json;\n\t\tvar options = this.options;\n\t\tvar textureLoader = this.textureLoader;\n\n\t\tvar URL = window.URL || window.webkitURL;\n\n\t\tvar textureDef = json.textures[ textureIndex ];\n\n\t\tvar textureExtensions = textureDef.extensions || {};\n\n\t\tvar source;\n\n\t\tif ( textureExtensions[ EXTENSIONS.MSFT_TEXTURE_DDS ] ) {\n\n\t\t\tsource = json.images[ textureExtensions[ EXTENSIONS.MSFT_TEXTURE_DDS ].source ];\n\n\t\t} else {\n\n\t\t\tsource = json.images[ textureDef.source ];\n\n\t\t}\n\n\t\tvar sourceURI = source.uri;\n\t\tvar isObjectURL = false;\n\n\t\tif ( source.bufferView !== undefined ) {\n\n\t\t\t// Load binary image data from bufferView, if provided.\n\n\t\t\tsourceURI = parser.getDependency( 'bufferView', source.bufferView ).then( function ( bufferView ) {\n\n\t\t\t\tisObjectURL = true;\n\t\t\t\tvar blob = new Blob( [ bufferView ], { type: source.mimeType } );\n\t\t\t\tsourceURI = URL.createObjectURL( blob );\n\t\t\t\treturn sourceURI;\n\n\t\t\t} );\n\n\t\t}\n\n\t\treturn Promise.resolve( sourceURI ).then( function ( sourceURI ) {\n\n\t\t\t// Load Texture resource.\n\n\t\t\tvar loader = Loader.Handlers.get( sourceURI );\n\n\t\t\tif ( ! loader ) {\n\n\t\t\t\tloader = textureExtensions[ EXTENSIONS.MSFT_TEXTURE_DDS ]\n\t\t\t\t\t? parser.extensions[ EXTENSIONS.MSFT_TEXTURE_DDS ].ddsLoader\n\t\t\t\t\t: textureLoader;\n\n\t\t\t}\n\n\t\t\treturn new Promise( function ( resolve, reject ) {\n\n\t\t\t\tloader.load( resolveURL( sourceURI, options.path ), resolve, undefined, reject );\n\n\t\t\t} );\n\n\t\t} ).then( function ( texture ) {\n\n\t\t\t// Clean up resources and configure Texture.\n\n\t\t\tif ( isObjectURL === true ) {\n\n\t\t\t\tURL.revokeObjectURL( sourceURI );\n\n\t\t\t}\n\n\t\t\ttexture.flipY = false;\n\n\t\t\tif ( textureDef.name !== undefined ) texture.name = textureDef.name;\n\n\t\t\t// Ignore unknown mime types, like DDS files.\n\t\t\tif ( source.mimeType in MIME_TYPE_FORMATS ) {\n\n\t\t\t\ttexture.format = MIME_TYPE_FORMATS[ source.mimeType ];\n\n\t\t\t}\n\n\t\t\tvar samplers = json.samplers || {};\n\t\t\tvar sampler = samplers[ textureDef.sampler ] || {};\n\n\t\t\ttexture.magFilter = WEBGL_FILTERS[ sampler.magFilter ] || LinearFilter;\n\t\t\ttexture.minFilter = WEBGL_FILTERS[ sampler.minFilter ] || LinearMipMapLinearFilter;\n\t\t\ttexture.wrapS = WEBGL_WRAPPINGS[ sampler.wrapS ] || RepeatWrapping;\n\t\t\ttexture.wrapT = WEBGL_WRAPPINGS[ sampler.wrapT ] || RepeatWrapping;\n\n\t\t\treturn texture;\n\n\t\t} );\n\n\t};\n\n\t/**\n\t * Asynchronously assigns a texture to the given material parameters.\n\t * @param {Object} materialParams\n\t * @param {string} mapName\n\t * @param {Object} mapDef\n\t * @return {Promise}\n\t */\n\tGLTFParser.prototype.assignTexture = function ( materialParams, mapName, mapDef ) {\n\n\t\tvar parser = this;\n\n\t\treturn this.getDependency( 'texture', mapDef.index ).then( function ( texture ) {\n\n\t\t\tif ( ! texture.isCompressedTexture ) {\n\n\t\t\t\tswitch ( mapName ) {\n\n\t\t\t\t\tcase 'aoMap':\n\t\t\t\t\tcase 'emissiveMap':\n\t\t\t\t\tcase 'metalnessMap':\n\t\t\t\t\tcase 'normalMap':\n\t\t\t\t\tcase 'roughnessMap':\n\t\t\t\t\t\ttexture.format = RGBFormat;\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tif ( parser.extensions[ EXTENSIONS.KHR_TEXTURE_TRANSFORM ] ) {\n\n\t\t\t\tvar transform = mapDef.extensions !== undefined ? mapDef.extensions[ EXTENSIONS.KHR_TEXTURE_TRANSFORM ] : undefined;\n\n\t\t\t\tif ( transform ) {\n\n\t\t\t\t\ttexture = parser.extensions[ EXTENSIONS.KHR_TEXTURE_TRANSFORM ].extendTexture( texture, transform );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tmaterialParams[ mapName ] = texture;\n\n\t\t} );\n\n\t};\n\n\t/**\n\t * Assigns final material to a Mesh, Line, or Points instance. The instance\n\t * already has a material (generated from the glTF material options alone)\n\t * but reuse of the same glTF material may require multiple threejs materials\n\t * to accomodate different primitive types, defines, etc. New materials will\n\t * be created if necessary, and reused from a cache.\n\t * @param  {Object3D} mesh Mesh, Line, or Points instance.\n\t */\n\tGLTFParser.prototype.assignFinalMaterial = function ( mesh ) {\n\n\t\tvar geometry = mesh.geometry;\n\t\tvar material = mesh.material;\n\t\tvar extensions = this.extensions;\n\n\t\tvar useVertexTangents = geometry.attributes.tangent !== undefined;\n\t\tvar useVertexColors = geometry.attributes.color !== undefined;\n\t\tvar useFlatShading = geometry.attributes.normal === undefined;\n\t\tvar useSkinning = mesh.isSkinnedMesh === true;\n\t\tvar useMorphTargets = Object.keys( geometry.morphAttributes ).length > 0;\n\t\tvar useMorphNormals = useMorphTargets && geometry.morphAttributes.normal !== undefined;\n\n\t\tif ( mesh.isPoints ) {\n\n\t\t\tvar cacheKey = 'PointsMaterial:' + material.uuid;\n\n\t\t\tvar pointsMaterial = this.cache.get( cacheKey );\n\n\t\t\tif ( ! pointsMaterial ) {\n\n\t\t\t\tpointsMaterial = new PointsMaterial();\n\t\t\t\tMaterial.prototype.copy.call( pointsMaterial, material );\n\t\t\t\tpointsMaterial.color.copy( material.color );\n\t\t\t\tpointsMaterial.map = material.map;\n\t\t\t\tpointsMaterial.lights = false; // PointsMaterial doesn't support lights yet\n\n\t\t\t\tthis.cache.add( cacheKey, pointsMaterial );\n\n\t\t\t}\n\n\t\t\tmaterial = pointsMaterial;\n\n\t\t} else if ( mesh.isLine ) {\n\n\t\t\tvar cacheKey = 'LineBasicMaterial:' + material.uuid;\n\n\t\t\tvar lineMaterial = this.cache.get( cacheKey );\n\n\t\t\tif ( ! lineMaterial ) {\n\n\t\t\t\tlineMaterial = new LineBasicMaterial();\n\t\t\t\tMaterial.prototype.copy.call( lineMaterial, material );\n\t\t\t\tlineMaterial.color.copy( material.color );\n\t\t\t\tlineMaterial.lights = false; // LineBasicMaterial doesn't support lights yet\n\n\t\t\t\tthis.cache.add( cacheKey, lineMaterial );\n\n\t\t\t}\n\n\t\t\tmaterial = lineMaterial;\n\n\t\t}\n\n\t\t// Clone the material if it will be modified\n\t\tif ( useVertexTangents || useVertexColors || useFlatShading || useSkinning || useMorphTargets ) {\n\n\t\t\tvar cacheKey = 'ClonedMaterial:' + material.uuid + ':';\n\n\t\t\tif ( material.isGLTFSpecularGlossinessMaterial ) cacheKey += 'specular-glossiness:';\n\t\t\tif ( useSkinning ) cacheKey += 'skinning:';\n\t\t\tif ( useVertexTangents ) cacheKey += 'vertex-tangents:';\n\t\t\tif ( useVertexColors ) cacheKey += 'vertex-colors:';\n\t\t\tif ( useFlatShading ) cacheKey += 'flat-shading:';\n\t\t\tif ( useMorphTargets ) cacheKey += 'morph-targets:';\n\t\t\tif ( useMorphNormals ) cacheKey += 'morph-normals:';\n\n\t\t\tvar cachedMaterial = this.cache.get( cacheKey );\n\n\t\t\tif ( ! cachedMaterial ) {\n\n\t\t\t\tcachedMaterial = material.isGLTFSpecularGlossinessMaterial\n\t\t\t\t\t? extensions[ EXTENSIONS.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS ].cloneMaterial( material )\n\t\t\t\t\t: material.clone();\n\n\t\t\t\tif ( useSkinning ) cachedMaterial.skinning = true;\n\t\t\t\tif ( useVertexTangents ) cachedMaterial.vertexTangents = true;\n\t\t\t\tif ( useVertexColors ) cachedMaterial.vertexColors = VertexColors;\n\t\t\t\tif ( useFlatShading ) cachedMaterial.flatShading = true;\n\t\t\t\tif ( useMorphTargets ) cachedMaterial.morphTargets = true;\n\t\t\t\tif ( useMorphNormals ) cachedMaterial.morphNormals = true;\n\n\t\t\t\tthis.cache.add( cacheKey, cachedMaterial );\n\n\t\t\t}\n\n\t\t\tmaterial = cachedMaterial;\n\n\t\t}\n\n\t\t// workarounds for mesh and geometry\n\n\t\tif ( material.aoMap && geometry.attributes.uv2 === undefined && geometry.attributes.uv !== undefined ) {\n\n\t\t\tconsole.log( 'THREE.GLTFLoader: Duplicating UVs to support aoMap.' );\n\t\t\tgeometry.addAttribute( 'uv2', new BufferAttribute( geometry.attributes.uv.array, 2 ) );\n\n\t\t}\n\n\t\tif ( material.isGLTFSpecularGlossinessMaterial ) {\n\n\t\t\t// for GLTFSpecularGlossinessMaterial(ShaderMaterial) uniforms runtime update\n\t\t\tmesh.onBeforeRender = extensions[ EXTENSIONS.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS ].refreshUniforms;\n\n\t\t}\n\n\t\tmesh.material = material;\n\n\t};\n\n\t/**\n\t * Specification: https://github.com/KhronosGroup/glTF/blob/master/specification/2.0/README.md#materials\n\t * @param {number} materialIndex\n\t * @return {Promise<Material>}\n\t */\n\tGLTFParser.prototype.loadMaterial = function ( materialIndex ) {\n\n\t\tvar parser = this;\n\t\tvar json = this.json;\n\t\tvar extensions = this.extensions;\n\t\tvar materialDef = json.materials[ materialIndex ];\n\n\t\tvar materialType;\n\t\tvar materialParams = {};\n\t\tvar materialExtensions = materialDef.extensions || {};\n\n\t\tvar pending = [];\n\n\t\tif ( materialExtensions[ EXTENSIONS.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS ] ) {\n\n\t\t\tvar sgExtension = extensions[ EXTENSIONS.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS ];\n\t\t\tmaterialType = sgExtension.getMaterialType();\n\t\t\tpending.push( sgExtension.extendParams( materialParams, materialDef, parser ) );\n\n\t\t} else if ( materialExtensions[ EXTENSIONS.KHR_MATERIALS_UNLIT ] ) {\n\n\t\t\tvar kmuExtension = extensions[ EXTENSIONS.KHR_MATERIALS_UNLIT ];\n\t\t\tmaterialType = kmuExtension.getMaterialType();\n\t\t\tpending.push( kmuExtension.extendParams( materialParams, materialDef, parser ) );\n\n\t\t} else {\n\n\t\t\t// Specification:\n\t\t\t// https://github.com/KhronosGroup/glTF/tree/master/specification/2.0#metallic-roughness-material\n\n\t\t\tmaterialType = MeshStandardMaterial;\n\n\t\t\tvar metallicRoughness = materialDef.pbrMetallicRoughness || {};\n\n\t\t\tmaterialParams.color = new Color( 1.0, 1.0, 1.0 );\n\t\t\tmaterialParams.opacity = 1.0;\n\n\t\t\tif ( Array.isArray( metallicRoughness.baseColorFactor ) ) {\n\n\t\t\t\tvar array = metallicRoughness.baseColorFactor;\n\n\t\t\t\tmaterialParams.color.fromArray( array );\n\t\t\t\tmaterialParams.opacity = array[ 3 ];\n\n\t\t\t}\n\n\t\t\tif ( metallicRoughness.baseColorTexture !== undefined ) {\n\n\t\t\t\tpending.push( parser.assignTexture( materialParams, 'map', metallicRoughness.baseColorTexture ) );\n\n\t\t\t}\n\n\t\t\tmaterialParams.metalness = metallicRoughness.metallicFactor !== undefined ? metallicRoughness.metallicFactor : 1.0;\n\t\t\tmaterialParams.roughness = metallicRoughness.roughnessFactor !== undefined ? metallicRoughness.roughnessFactor : 1.0;\n\n\t\t\tif ( metallicRoughness.metallicRoughnessTexture !== undefined ) {\n\n\t\t\t\tpending.push( parser.assignTexture( materialParams, 'metalnessMap', metallicRoughness.metallicRoughnessTexture ) );\n\t\t\t\tpending.push( parser.assignTexture( materialParams, 'roughnessMap', metallicRoughness.metallicRoughnessTexture ) );\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( materialDef.doubleSided === true ) {\n\n\t\t\tmaterialParams.side = DoubleSide;\n\n\t\t}\n\n\t\tvar alphaMode = materialDef.alphaMode || ALPHA_MODES.OPAQUE;\n\n\t\tif ( alphaMode === ALPHA_MODES.BLEND ) {\n\n\t\t\tmaterialParams.transparent = true;\n\n\t\t} else {\n\n\t\t\tmaterialParams.transparent = false;\n\n\t\t\tif ( alphaMode === ALPHA_MODES.MASK ) {\n\n\t\t\t\tmaterialParams.alphaTest = materialDef.alphaCutoff !== undefined ? materialDef.alphaCutoff : 0.5;\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( materialDef.normalTexture !== undefined && materialType !== MeshBasicMaterial ) {\n\n\t\t\tpending.push( parser.assignTexture( materialParams, 'normalMap', materialDef.normalTexture ) );\n\n\t\t\tmaterialParams.normalScale = new Vector2( 1, 1 );\n\n\t\t\tif ( materialDef.normalTexture.scale !== undefined ) {\n\n\t\t\t\tmaterialParams.normalScale.set( materialDef.normalTexture.scale, materialDef.normalTexture.scale );\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( materialDef.occlusionTexture !== undefined && materialType !== MeshBasicMaterial ) {\n\n\t\t\tpending.push( parser.assignTexture( materialParams, 'aoMap', materialDef.occlusionTexture ) );\n\n\t\t\tif ( materialDef.occlusionTexture.strength !== undefined ) {\n\n\t\t\t\tmaterialParams.aoMapIntensity = materialDef.occlusionTexture.strength;\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( materialDef.emissiveFactor !== undefined && materialType !== MeshBasicMaterial ) {\n\n\t\t\tmaterialParams.emissive = new Color().fromArray( materialDef.emissiveFactor );\n\n\t\t}\n\n\t\tif ( materialDef.emissiveTexture !== undefined && materialType !== MeshBasicMaterial ) {\n\n\t\t\tpending.push( parser.assignTexture( materialParams, 'emissiveMap', materialDef.emissiveTexture ) );\n\n\t\t}\n\n\t\treturn Promise.all( pending ).then( function () {\n\n\t\t\tvar material;\n\n\t\t\tif ( materialType === ShaderMaterial ) {\n\n\t\t\t\tmaterial = extensions[ EXTENSIONS.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS ].createMaterial( materialParams );\n\n\t\t\t} else {\n\n\t\t\t\tmaterial = new materialType( materialParams );\n\n\t\t\t}\n\n\t\t\tif ( materialDef.name !== undefined ) material.name = materialDef.name;\n\n\t\t\t// baseColorTexture, emissiveTexture, and specularGlossinessTexture use sRGB encoding.\n\t\t\tif ( material.map ) material.map.encoding = sRGBEncoding;\n\t\t\tif ( material.emissiveMap ) material.emissiveMap.encoding = sRGBEncoding;\n\t\t\tif ( material.specularMap ) material.specularMap.encoding = sRGBEncoding;\n\n\t\t\tassignExtrasToUserData( material, materialDef );\n\n\t\t\tif ( materialDef.extensions ) addUnknownExtensionsToUserData( extensions, material, materialDef );\n\n\t\t\treturn material;\n\n\t\t} );\n\n\t};\n\n\t/**\n\t * @param {BufferGeometry} geometry\n\t * @param {GLTF.Primitive} primitiveDef\n\t * @param {GLTFParser} parser\n\t * @return {Promise<BufferGeometry>}\n\t */\n\tfunction addPrimitiveAttributes( geometry, primitiveDef, parser ) {\n\n\t\tvar attributes = primitiveDef.attributes;\n\n\t\tvar pending = [];\n\n\t\tfunction assignAttributeAccessor( accessorIndex, attributeName ) {\n\n\t\t\treturn parser.getDependency( 'accessor', accessorIndex )\n\t\t\t\t.then( function ( accessor ) {\n\n\t\t\t\t\tgeometry.addAttribute( attributeName, accessor );\n\n\t\t\t\t} );\n\n\t\t}\n\n\t\tfor ( var gltfAttributeName in attributes ) {\n\n\t\t\tvar threeAttributeName = ATTRIBUTES[ gltfAttributeName ] || gltfAttributeName.toLowerCase();\n\n\t\t\t// Skip attributes already provided by e.g. Draco extension.\n\t\t\tif ( threeAttributeName in geometry.attributes ) continue;\n\n\t\t\tpending.push( assignAttributeAccessor( attributes[ gltfAttributeName ], threeAttributeName ) );\n\n\t\t}\n\n\t\tif ( primitiveDef.indices !== undefined && ! geometry.index ) {\n\n\t\t\tvar accessor = parser.getDependency( 'accessor', primitiveDef.indices ).then( function ( accessor ) {\n\n\t\t\t\tgeometry.setIndex( accessor );\n\n\t\t\t} );\n\n\t\t\tpending.push( accessor );\n\n\t\t}\n\n\t\tassignExtrasToUserData( geometry, primitiveDef );\n\n\t\treturn Promise.all( pending ).then( function () {\n\n\t\t\treturn primitiveDef.targets !== undefined\n\t\t\t\t? addMorphTargets( geometry, primitiveDef.targets, parser )\n\t\t\t\t: geometry;\n\n\t\t} );\n\n\t}\n\n\t/**\n\t * Specification: https://github.com/KhronosGroup/glTF/blob/master/specification/2.0/README.md#geometry\n\t *\n\t * Creates BufferGeometries from primitives.\n\t *\n\t * @param {Array<GLTF.Primitive>} primitives\n\t * @return {Promise<Array<BufferGeometry>>}\n\t */\n\tGLTFParser.prototype.loadGeometries = function ( primitives ) {\n\n\t\tvar parser = this;\n\t\tvar extensions = this.extensions;\n\t\tvar cache = this.primitiveCache;\n\n\t\tfunction createDracoPrimitive( primitive ) {\n\n\t\t\treturn extensions[ EXTENSIONS.KHR_DRACO_MESH_COMPRESSION ]\n\t\t\t\t.decodePrimitive( primitive, parser )\n\t\t\t\t.then( function ( geometry ) {\n\n\t\t\t\t\treturn addPrimitiveAttributes( geometry, primitive, parser );\n\n\t\t\t\t} );\n\n\t\t}\n\n\t\tvar pending = [];\n\n\t\tfor ( var i = 0, il = primitives.length; i < il; i ++ ) {\n\n\t\t\tvar primitive = primitives[ i ];\n\t\t\tvar cacheKey = createPrimitiveKey( primitive );\n\n\t\t\t// See if we've already created this geometry\n\t\t\tvar cached = cache[ cacheKey ];\n\n\t\t\tif ( cached ) {\n\n\t\t\t\t// Use the cached geometry if it exists\n\t\t\t\tpending.push( cached.promise );\n\n\t\t\t} else {\n\n\t\t\t\tvar geometryPromise;\n\n\t\t\t\tif ( primitive.extensions && primitive.extensions[ EXTENSIONS.KHR_DRACO_MESH_COMPRESSION ] ) {\n\n\t\t\t\t\t// Use DRACO geometry if available\n\t\t\t\t\tgeometryPromise = createDracoPrimitive( primitive );\n\n\t\t\t\t} else {\n\n\t\t\t\t\t// Otherwise create a new geometry\n\t\t\t\t\tgeometryPromise = addPrimitiveAttributes( new BufferGeometry(), primitive, parser );\n\n\t\t\t\t}\n\n\t\t\t\t// Cache this geometry\n\t\t\t\tcache[ cacheKey ] = { primitive: primitive, promise: geometryPromise };\n\n\t\t\t\tpending.push( geometryPromise );\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn Promise.all( pending );\n\n\t};\n\n\t/**\n\t * Specification: https://github.com/KhronosGroup/glTF/blob/master/specification/2.0/README.md#meshes\n\t * @param {number} meshIndex\n\t * @return {Promise<Group|Mesh|SkinnedMesh>}\n\t */\n\tGLTFParser.prototype.loadMesh = function ( meshIndex ) {\n\n\t\tvar parser = this;\n\t\tvar json = this.json;\n\t\tvar extensions = this.extensions;\n\n\t\tvar meshDef = json.meshes[ meshIndex ];\n\t\tvar primitives = meshDef.primitives;\n\n\t\tvar pending = [];\n\n\t\tfor ( var i = 0, il = primitives.length; i < il; i ++ ) {\n\n\t\t\tvar material = primitives[ i ].material === undefined\n\t\t\t\t? createDefaultMaterial()\n\t\t\t\t: this.getDependency( 'material', primitives[ i ].material );\n\n\t\t\tpending.push( material );\n\n\t\t}\n\n\t\treturn Promise.all( pending ).then( function ( originalMaterials ) {\n\n\t\t\treturn parser.loadGeometries( primitives ).then( function ( geometries ) {\n\n\t\t\t\tvar meshes = [];\n\n\t\t\t\tfor ( var i = 0, il = geometries.length; i < il; i ++ ) {\n\n\t\t\t\t\tvar geometry = geometries[ i ];\n\t\t\t\t\tvar primitive = primitives[ i ];\n\n\t\t\t\t\t// 1. create Mesh\n\n\t\t\t\t\tvar mesh;\n\n\t\t\t\t\tvar material = originalMaterials[ i ];\n\n\t\t\t\t\tif ( primitive.mode === WEBGL_CONSTANTS.TRIANGLES ||\n\t\t\t\t\t\tprimitive.mode === WEBGL_CONSTANTS.TRIANGLE_STRIP ||\n\t\t\t\t\t\tprimitive.mode === WEBGL_CONSTANTS.TRIANGLE_FAN ||\n\t\t\t\t\t\tprimitive.mode === undefined ) {\n\n\t\t\t\t\t\t// .isSkinnedMesh isn't in glTF spec. See .markDefs()\n\t\t\t\t\t\tmesh = meshDef.isSkinnedMesh === true\n\t\t\t\t\t\t\t? new SkinnedMesh( geometry, material )\n\t\t\t\t\t\t\t: new Mesh( geometry, material );\n\n\t\t\t\t\t\tif ( mesh.isSkinnedMesh === true ) mesh.normalizeSkinWeights(); // #15319\n\n\t\t\t\t\t\tif ( primitive.mode === WEBGL_CONSTANTS.TRIANGLE_STRIP ) {\n\n\t\t\t\t\t\t\tmesh.drawMode = TriangleStripDrawMode;\n\n\t\t\t\t\t\t} else if ( primitive.mode === WEBGL_CONSTANTS.TRIANGLE_FAN ) {\n\n\t\t\t\t\t\t\tmesh.drawMode = TriangleFanDrawMode;\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t} else if ( primitive.mode === WEBGL_CONSTANTS.LINES ) {\n\n\t\t\t\t\t\tmesh = new LineSegments( geometry, material );\n\n\t\t\t\t\t} else if ( primitive.mode === WEBGL_CONSTANTS.LINE_STRIP ) {\n\n\t\t\t\t\t\tmesh = new Line( geometry, material );\n\n\t\t\t\t\t} else if ( primitive.mode === WEBGL_CONSTANTS.LINE_LOOP ) {\n\n\t\t\t\t\t\tmesh = new LineLoop( geometry, material );\n\n\t\t\t\t\t} else if ( primitive.mode === WEBGL_CONSTANTS.POINTS ) {\n\n\t\t\t\t\t\tmesh = new Points( geometry, material );\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tthrow new Error( 'THREE.GLTFLoader: Primitive mode unsupported: ' + primitive.mode );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( Object.keys( mesh.geometry.morphAttributes ).length > 0 ) {\n\n\t\t\t\t\t\tupdateMorphTargets( mesh, meshDef );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tmesh.name = meshDef.name || ( 'mesh_' + meshIndex );\n\n\t\t\t\t\tif ( geometries.length > 1 ) mesh.name += '_' + i;\n\n\t\t\t\t\tassignExtrasToUserData( mesh, meshDef );\n\n\t\t\t\t\tparser.assignFinalMaterial( mesh );\n\n\t\t\t\t\tmeshes.push( mesh );\n\n\t\t\t\t}\n\n\t\t\t\tif ( meshes.length === 1 ) {\n\n\t\t\t\t\treturn meshes[ 0 ];\n\n\t\t\t\t}\n\n\t\t\t\tvar group = new Group();\n\n\t\t\t\tfor ( var i = 0, il = meshes.length; i < il; i ++ ) {\n\n\t\t\t\t\tgroup.add( meshes[ i ] );\n\n\t\t\t\t}\n\n\t\t\t\treturn group;\n\n\t\t\t} );\n\n\t\t} );\n\n\t};\n\n\t/**\n\t * Specification: https://github.com/KhronosGroup/glTF/tree/master/specification/2.0#cameras\n\t * @param {number} cameraIndex\n\t * @return {Promise<Camera>}\n\t */\n\tGLTFParser.prototype.loadCamera = function ( cameraIndex ) {\n\n\t\tvar camera;\n\t\tvar cameraDef = this.json.cameras[ cameraIndex ];\n\t\tvar params = cameraDef[ cameraDef.type ];\n\n\t\tif ( ! params ) {\n\n\t\t\tconsole.warn( 'THREE.GLTFLoader: Missing camera parameters.' );\n\t\t\treturn;\n\n\t\t}\n\n\t\tif ( cameraDef.type === 'perspective' ) {\n\n\t\t\tcamera = new PerspectiveCamera( _Math.radToDeg( params.yfov ), params.aspectRatio || 1, params.znear || 1, params.zfar || 2e6 );\n\n\t\t} else if ( cameraDef.type === 'orthographic' ) {\n\n\t\t\tcamera = new OrthographicCamera( params.xmag / - 2, params.xmag / 2, params.ymag / 2, params.ymag / - 2, params.znear, params.zfar );\n\n\t\t}\n\n\t\tif ( cameraDef.name !== undefined ) camera.name = cameraDef.name;\n\n\t\tassignExtrasToUserData( camera, cameraDef );\n\n\t\treturn Promise.resolve( camera );\n\n\t};\n\n\t/**\n\t * Specification: https://github.com/KhronosGroup/glTF/tree/master/specification/2.0#skins\n\t * @param {number} skinIndex\n\t * @return {Promise<Object>}\n\t */\n\tGLTFParser.prototype.loadSkin = function ( skinIndex ) {\n\n\t\tvar skinDef = this.json.skins[ skinIndex ];\n\n\t\tvar skinEntry = { joints: skinDef.joints };\n\n\t\tif ( skinDef.inverseBindMatrices === undefined ) {\n\n\t\t\treturn Promise.resolve( skinEntry );\n\n\t\t}\n\n\t\treturn this.getDependency( 'accessor', skinDef.inverseBindMatrices ).then( function ( accessor ) {\n\n\t\t\tskinEntry.inverseBindMatrices = accessor;\n\n\t\t\treturn skinEntry;\n\n\t\t} );\n\n\t};\n\n\t/**\n\t * Specification: https://github.com/KhronosGroup/glTF/tree/master/specification/2.0#animations\n\t * @param {number} animationIndex\n\t * @return {Promise<AnimationClip>}\n\t */\n\tGLTFParser.prototype.loadAnimation = function ( animationIndex ) {\n\n\t\tvar json = this.json;\n\n\t\tvar animationDef = json.animations[ animationIndex ];\n\n\t\tvar pendingNodes = [];\n\t\tvar pendingInputAccessors = [];\n\t\tvar pendingOutputAccessors = [];\n\t\tvar pendingSamplers = [];\n\t\tvar pendingTargets = [];\n\n\t\tfor ( var i = 0, il = animationDef.channels.length; i < il; i ++ ) {\n\n\t\t\tvar channel = animationDef.channels[ i ];\n\t\t\tvar sampler = animationDef.samplers[ channel.sampler ];\n\t\t\tvar target = channel.target;\n\t\t\tvar name = target.node !== undefined ? target.node : target.id; // NOTE: target.id is deprecated.\n\t\t\tvar input = animationDef.parameters !== undefined ? animationDef.parameters[ sampler.input ] : sampler.input;\n\t\t\tvar output = animationDef.parameters !== undefined ? animationDef.parameters[ sampler.output ] : sampler.output;\n\n\t\t\tpendingNodes.push( this.getDependency( 'node', name ) );\n\t\t\tpendingInputAccessors.push( this.getDependency( 'accessor', input ) );\n\t\t\tpendingOutputAccessors.push( this.getDependency( 'accessor', output ) );\n\t\t\tpendingSamplers.push( sampler );\n\t\t\tpendingTargets.push( target );\n\n\t\t}\n\n\t\treturn Promise.all( [\n\n\t\t\tPromise.all( pendingNodes ),\n\t\t\tPromise.all( pendingInputAccessors ),\n\t\t\tPromise.all( pendingOutputAccessors ),\n\t\t\tPromise.all( pendingSamplers ),\n\t\t\tPromise.all( pendingTargets )\n\n\t\t] ).then( function ( dependencies ) {\n\n\t\t\tvar nodes = dependencies[ 0 ];\n\t\t\tvar inputAccessors = dependencies[ 1 ];\n\t\t\tvar outputAccessors = dependencies[ 2 ];\n\t\t\tvar samplers = dependencies[ 3 ];\n\t\t\tvar targets = dependencies[ 4 ];\n\n\t\t\tvar tracks = [];\n\n\t\t\tfor ( var i = 0, il = nodes.length; i < il; i ++ ) {\n\n\t\t\t\tvar node = nodes[ i ];\n\t\t\t\tvar inputAccessor = inputAccessors[ i ];\n\t\t\t\tvar outputAccessor = outputAccessors[ i ];\n\t\t\t\tvar sampler = samplers[ i ];\n\t\t\t\tvar target = targets[ i ];\n\n\t\t\t\tif ( node === undefined ) continue;\n\n\t\t\t\tnode.updateMatrix();\n\t\t\t\tnode.matrixAutoUpdate = true;\n\n\t\t\t\tvar TypedKeyframeTrack;\n\n\t\t\t\tswitch ( PATH_PROPERTIES[ target.path ] ) {\n\n\t\t\t\t\tcase PATH_PROPERTIES.weights:\n\n\t\t\t\t\t\tTypedKeyframeTrack = NumberKeyframeTrack;\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase PATH_PROPERTIES.rotation:\n\n\t\t\t\t\t\tTypedKeyframeTrack = QuaternionKeyframeTrack;\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase PATH_PROPERTIES.position:\n\t\t\t\t\tcase PATH_PROPERTIES.scale:\n\t\t\t\t\tdefault:\n\n\t\t\t\t\t\tTypedKeyframeTrack = VectorKeyframeTrack;\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t}\n\n\t\t\t\tvar targetName = node.name ? node.name : node.uuid;\n\n\t\t\t\tvar interpolation = sampler.interpolation !== undefined ? INTERPOLATION[ sampler.interpolation ] : InterpolateLinear;\n\n\t\t\t\tvar targetNames = [];\n\n\t\t\t\tif ( PATH_PROPERTIES[ target.path ] === PATH_PROPERTIES.weights ) {\n\n\t\t\t\t\t// Node may be a Group (glTF mesh with several primitives) or a Mesh.\n\t\t\t\t\tnode.traverse( function ( object ) {\n\n\t\t\t\t\t\tif ( object.isMesh === true && object.morphTargetInfluences ) {\n\n\t\t\t\t\t\t\ttargetNames.push( object.name ? object.name : object.uuid );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t} );\n\n\t\t\t\t} else {\n\n\t\t\t\t\ttargetNames.push( targetName );\n\n\t\t\t\t}\n\n\t\t\t\tfor ( var j = 0, jl = targetNames.length; j < jl; j ++ ) {\n\n\t\t\t\t\tvar track = new TypedKeyframeTrack(\n\t\t\t\t\t\ttargetNames[ j ] + '.' + PATH_PROPERTIES[ target.path ],\n\t\t\t\t\t\tinputAccessor.array,\n\t\t\t\t\t\toutputAccessor.array,\n\t\t\t\t\t\tinterpolation\n\t\t\t\t\t);\n\n\t\t\t\t\t// Override interpolation with custom factory method.\n\t\t\t\t\tif ( sampler.interpolation === 'CUBICSPLINE' ) {\n\n\t\t\t\t\t\ttrack.createInterpolant = function InterpolantFactoryMethodGLTFCubicSpline( result ) {\n\n\t\t\t\t\t\t\t// A CUBICSPLINE keyframe in glTF has three output values for each input value,\n\t\t\t\t\t\t\t// representing inTangent, splineVertex, and outTangent. As a result, track.getValueSize()\n\t\t\t\t\t\t\t// must be divided by three to get the interpolant's sampleSize argument.\n\n\t\t\t\t\t\t\treturn new GLTFCubicSplineInterpolant( this.times, this.values, this.getValueSize() / 3, result );\n\n\t\t\t\t\t\t};\n\n\t\t\t\t\t\t// Mark as CUBICSPLINE. `track.getInterpolation()` doesn't support custom interpolants.\n\t\t\t\t\t\ttrack.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline = true;\n\n\t\t\t\t\t}\n\n\t\t\t\t\ttracks.push( track );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tvar name = animationDef.name !== undefined ? animationDef.name : 'animation_' + animationIndex;\n\n\t\t\treturn new AnimationClip( name, undefined, tracks );\n\n\t\t} );\n\n\t};\n\n\t/**\n\t * Specification: https://github.com/KhronosGroup/glTF/tree/master/specification/2.0#nodes-and-hierarchy\n\t * @param {number} nodeIndex\n\t * @return {Promise<Object3D>}\n\t */\n\tGLTFParser.prototype.loadNode = function ( nodeIndex ) {\n\n\t\tvar json = this.json;\n\t\tvar extensions = this.extensions;\n\t\tvar parser = this;\n\n\t\tvar meshReferences = json.meshReferences;\n\t\tvar meshUses = json.meshUses;\n\n\t\tvar nodeDef = json.nodes[ nodeIndex ];\n\n\t\treturn ( function () {\n\n\t\t\t// .isBone isn't in glTF spec. See .markDefs\n\t\t\tif ( nodeDef.isBone === true ) {\n\n\t\t\t\treturn Promise.resolve( new Bone() );\n\n\t\t\t} else if ( nodeDef.mesh !== undefined ) {\n\n\t\t\t\treturn parser.getDependency( 'mesh', nodeDef.mesh ).then( function ( mesh ) {\n\n\t\t\t\t\tvar node;\n\n\t\t\t\t\tif ( meshReferences[ nodeDef.mesh ] > 1 ) {\n\n\t\t\t\t\t\tvar instanceNum = meshUses[ nodeDef.mesh ] ++;\n\n\t\t\t\t\t\tnode = mesh.clone();\n\t\t\t\t\t\tnode.name += '_instance_' + instanceNum;\n\n\t\t\t\t\t\t// onBeforeRender copy for Specular-Glossiness\n\t\t\t\t\t\tnode.onBeforeRender = mesh.onBeforeRender;\n\n\t\t\t\t\t\tfor ( var i = 0, il = node.children.length; i < il; i ++ ) {\n\n\t\t\t\t\t\t\tnode.children[ i ].name += '_instance_' + instanceNum;\n\t\t\t\t\t\t\tnode.children[ i ].onBeforeRender = mesh.children[ i ].onBeforeRender;\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tnode = mesh;\n\n\t\t\t\t\t}\n\n\t\t\t\t\t// if weights are provided on the node, override weights on the mesh.\n\t\t\t\t\tif ( nodeDef.weights !== undefined ) {\n\n\t\t\t\t\t\tnode.traverse( function ( o ) {\n\n\t\t\t\t\t\t\tif ( ! o.isMesh ) return;\n\n\t\t\t\t\t\t\tfor ( var i = 0, il = nodeDef.weights.length; i < il; i ++ ) {\n\n\t\t\t\t\t\t\t\to.morphTargetInfluences[ i ] = nodeDef.weights[ i ];\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t} );\n\n\t\t\t\t\t}\n\n\t\t\t\t\treturn node;\n\n\t\t\t\t} );\n\n\t\t\t} else if ( nodeDef.camera !== undefined ) {\n\n\t\t\t\treturn parser.getDependency( 'camera', nodeDef.camera );\n\n\t\t\t} else if ( nodeDef.extensions\n\t\t\t\t&& nodeDef.extensions[ EXTENSIONS.KHR_LIGHTS_PUNCTUAL ]\n\t\t\t\t&& nodeDef.extensions[ EXTENSIONS.KHR_LIGHTS_PUNCTUAL ].light !== undefined ) {\n\n\t\t\t\treturn parser.getDependency( 'light', nodeDef.extensions[ EXTENSIONS.KHR_LIGHTS_PUNCTUAL ].light );\n\n\t\t\t} else {\n\n\t\t\t\treturn Promise.resolve( new Object3D() );\n\n\t\t\t}\n\n\t\t}() ).then( function ( node ) {\n\n\t\t\tif ( nodeDef.name !== undefined ) {\n\n\t\t\t\tnode.userData.name = nodeDef.name;\n\t\t\t\tnode.name = PropertyBinding.sanitizeNodeName( nodeDef.name );\n\n\t\t\t}\n\n\t\t\tassignExtrasToUserData( node, nodeDef );\n\n\t\t\tif ( nodeDef.extensions ) addUnknownExtensionsToUserData( extensions, node, nodeDef );\n\n\t\t\tif ( nodeDef.matrix !== undefined ) {\n\n\t\t\t\tvar matrix = new Matrix4();\n\t\t\t\tmatrix.fromArray( nodeDef.matrix );\n\t\t\t\tnode.applyMatrix( matrix );\n\n\t\t\t} else {\n\n\t\t\t\tif ( nodeDef.translation !== undefined ) {\n\n\t\t\t\t\tnode.position.fromArray( nodeDef.translation );\n\n\t\t\t\t}\n\n\t\t\t\tif ( nodeDef.rotation !== undefined ) {\n\n\t\t\t\t\tnode.quaternion.fromArray( nodeDef.rotation );\n\n\t\t\t\t}\n\n\t\t\t\tif ( nodeDef.scale !== undefined ) {\n\n\t\t\t\t\tnode.scale.fromArray( nodeDef.scale );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\treturn node;\n\n\t\t} );\n\n\t};\n\n\t/**\n\t * Specification: https://github.com/KhronosGroup/glTF/tree/master/specification/2.0#scenes\n\t * @param {number} sceneIndex\n\t * @return {Promise<Scene>}\n\t */\n\tGLTFParser.prototype.loadScene = function () {\n\n\t\t// scene node hierachy builder\n\n\t\tfunction buildNodeHierachy( nodeId, parentObject, json, parser ) {\n\n\t\t\tvar nodeDef = json.nodes[ nodeId ];\n\n\t\t\treturn parser.getDependency( 'node', nodeId ).then( function ( node ) {\n\n\t\t\t\tif ( nodeDef.skin === undefined ) return node;\n\n\t\t\t\t// build skeleton here as well\n\n\t\t\t\tvar skinEntry;\n\n\t\t\t\treturn parser.getDependency( 'skin', nodeDef.skin ).then( function ( skin ) {\n\n\t\t\t\t\tskinEntry = skin;\n\n\t\t\t\t\tvar pendingJoints = [];\n\n\t\t\t\t\tfor ( var i = 0, il = skinEntry.joints.length; i < il; i ++ ) {\n\n\t\t\t\t\t\tpendingJoints.push( parser.getDependency( 'node', skinEntry.joints[ i ] ) );\n\n\t\t\t\t\t}\n\n\t\t\t\t\treturn Promise.all( pendingJoints );\n\n\t\t\t\t} ).then( function ( jointNodes ) {\n\n\t\t\t\t\tvar meshes = node.isGroup === true ? node.children : [ node ];\n\n\t\t\t\t\tfor ( var i = 0, il = meshes.length; i < il; i ++ ) {\n\n\t\t\t\t\t\tvar mesh = meshes[ i ];\n\n\t\t\t\t\t\tvar bones = [];\n\t\t\t\t\t\tvar boneInverses = [];\n\n\t\t\t\t\t\tfor ( var j = 0, jl = jointNodes.length; j < jl; j ++ ) {\n\n\t\t\t\t\t\t\tvar jointNode = jointNodes[ j ];\n\n\t\t\t\t\t\t\tif ( jointNode ) {\n\n\t\t\t\t\t\t\t\tbones.push( jointNode );\n\n\t\t\t\t\t\t\t\tvar mat = new Matrix4();\n\n\t\t\t\t\t\t\t\tif ( skinEntry.inverseBindMatrices !== undefined ) {\n\n\t\t\t\t\t\t\t\t\tmat.fromArray( skinEntry.inverseBindMatrices.array, j * 16 );\n\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\tboneInverses.push( mat );\n\n\t\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\t\tconsole.warn( 'THREE.GLTFLoader: Joint \"%s\" could not be found.', skinEntry.joints[ j ] );\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tmesh.bind( new Skeleton( bones, boneInverses ), mesh.matrixWorld );\n\n\t\t\t\t\t}\n\n\t\t\t\t\treturn node;\n\n\t\t\t\t} );\n\n\t\t\t} ).then( function ( node ) {\n\n\t\t\t\t// build node hierachy\n\n\t\t\t\tparentObject.add( node );\n\n\t\t\t\tvar pending = [];\n\n\t\t\t\tif ( nodeDef.children ) {\n\n\t\t\t\t\tvar children = nodeDef.children;\n\n\t\t\t\t\tfor ( var i = 0, il = children.length; i < il; i ++ ) {\n\n\t\t\t\t\t\tvar child = children[ i ];\n\t\t\t\t\t\tpending.push( buildNodeHierachy( child, node, json, parser ) );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\treturn Promise.all( pending );\n\n\t\t\t} );\n\n\t\t}\n\n\t\treturn function loadScene( sceneIndex ) {\n\n\t\t\tvar json = this.json;\n\t\t\tvar extensions = this.extensions;\n\t\t\tvar sceneDef = this.json.scenes[ sceneIndex ];\n\t\t\tvar parser = this;\n\n\t\t\tvar scene = new Scene();\n\t\t\tif ( sceneDef.name !== undefined ) scene.name = sceneDef.name;\n\n\t\t\tassignExtrasToUserData( scene, sceneDef );\n\n\t\t\tif ( sceneDef.extensions ) addUnknownExtensionsToUserData( extensions, scene, sceneDef );\n\n\t\t\tvar nodeIds = sceneDef.nodes || [];\n\n\t\t\tvar pending = [];\n\n\t\t\tfor ( var i = 0, il = nodeIds.length; i < il; i ++ ) {\n\n\t\t\t\tpending.push( buildNodeHierachy( nodeIds[ i ], scene, json, parser ) );\n\n\t\t\t}\n\n\t\t\treturn Promise.all( pending ).then( function () {\n\n\t\t\t\treturn scene;\n\n\t\t\t} );\n\n\t\t};\n\n\t}();\n\n\treturn GLTFLoader;\n\n} )();\n\nexport { GLTFLoader };\n","import * as THREE from \"three\";\nimport * as PANOLENS from \"panolens\";\n\nexport const addALight = (pano_obj) => {\n    const aLight = new THREE.AmbientLight(0x404040, 1.2);\n    pano_obj.add(aLight);\n};","export default __webpack_public_path__ + \"9091439e0ada77db2ed43653551bcdcc.jpg\";","export default __webpack_public_path__ + \"53346c4a63bdf208603f1ea92a453a0c.jpg\";","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","var scriptUrl;\nif (__webpack_require__.g.importScripts) scriptUrl = __webpack_require__.g.location + \"\";\nvar document = __webpack_require__.g.document;\nif (!scriptUrl && document) {\n\tif (document.currentScript)\n\t\tscriptUrl = document.currentScript.src\n\tif (!scriptUrl) {\n\t\tvar scripts = document.getElementsByTagName(\"script\");\n\t\tif(scripts.length) scriptUrl = scripts[scripts.length - 1].src\n\t}\n}\n// When supporting browsers where an automatic publicPath is not supported you must specify an output.publicPath manually via configuration\n// or pass an empty string (\"\") and set the __webpack_public_path__ variable from your code to use your own logic.\nif (!scriptUrl) throw new Error(\"Automatic publicPath is not supported in this browser\");\nscriptUrl = scriptUrl.replace(/#.*$/, \"\").replace(/\\?.*$/, \"\").replace(/\\/[^\\/]+$/, \"/\");\n__webpack_require__.p = scriptUrl;","\"use strict\";\nimport * as PANOLENS from \"panolens\";\nimport * as THREE from \"three\";\nimport { GLTFLoader } from 'three/examples/jsm/loaders/GLTFLoader';\n// import { Typed } from \"typed.js\";\nimport {NPC} from \"./NPC\";\nimport {PanoramaItem} from \"./PanoramaItem\";\n\nimport pano1_url from '../img/pano1.jpg';\nimport pano2_url from '../img/pano2.jpg';\n\n// const init = (viewer) => {\n//     let objects = {};\n//\n//     for(let pan of panorams){\n//         pan.setViewer(viewer);\n//         viewer.add( pan.pano_obj );\n//         objects[pan.name] = pan.pano_obj;\n//     }\n//     // init edges\n//     for(const pan of panorams){\n//         for(const {dest, pos} of pan.transition_edges){\n//\n//             if(!objects[dest]){\n//                 console.log(`panorama with name: \"${dest}\" not exist can't link`)\n//                 continue;\n//             }\n//\n//             pan.pano_obj.link( objects[dest], pos );\n//         }\n//     }\n//     return objects;\n// }\n//\n// // Execution starts here\n//\n// const MAIN_NPC = new NPC(\"steve\", \"../models/scene.gltf\");\n//\n// const panorams = [\n//     new PanoramaItem({\n//         name: \"hall_4f_1b\",\n//         pano_url: pano1_url,\n//         transition_edges: [{\n//             dest:\"after_cava_4f_1b\",\n//             pos: new THREE.Vector3( 3047.29, -767.20, 3880.51 )\n//         }],\n//         enter_look_direction: new THREE.Vector3(4464.09, -738.67, 2113.00),\n//         npc_list: [{\n//             npc: MAIN_NPC,\n//             pos: new THREE.Vector3(20, 0, 40)\n//         }]\n//     }),\n//     new PanoramaItem({\n//         name: \"after_cava_4f_1b\",\n//         pano_url: pano2_url,\n//         transition_edges: [{\n//             dest:\"hall_4f_1b\",\n//             pos: new THREE.Vector3( -5000.00, -414.86, 131.79 )\n//         }],\n//         enter_look_direction: new THREE.Vector3(-4808.73, -492.69, -1240.28),\n//         npc_list: [{\n//             npc: MAIN_NPC,\n//             pos: new THREE.Vector3(100, 0, 40)\n//         }]\n//     }),\n// ];\n\nconst panodiv = document.getElementById(\"pano-image\");\nconst viewer = new PANOLENS.Viewer({\n    container: panodiv,\n    output: 'console',\n});\n\n// init(viewer);\n\n\n// viewer.addUpdateCallback(()=>{\n//     if(MAIN_NPC.npc_obj){\n//         // console.log(\"rotate\");\n//         MAIN_NPC.npc_obj.rotation.y += 0.05;\n//         // MAIN_NPC.npc_obj.position.y += 0.3;\n//\n//         // npc_obj.scene.rotation.x += 0.02;\n//     }\n// });\n\n\n\nconst test_panorama = new PANOLENS.ImagePanorama(pano1_url);\nviewer.add(test_panorama);\n// const test_panorama = panorams[0].pano_obj;\n\n\nlet loader = new GLTFLoader();\nlet npc_obj = null;\nloader.load(\"../models/scene.gltf\", (gltf)=>{\n    npc_obj = gltf.scene;\n    npc_obj.scale.set(1,1,1);\n    npc_obj.position.set(10, 0, 60);\n    npc_obj.name = \"NPC\";\n    console.log(npc_obj);\n\n\n    // test_panorama.add(npc_obj);\n\n//     for(let panorama of panorams){\n//         let clone = Object.assign(Object.create(Object.getPrototypeOf(npc_obj)), npc_obj)\n//         panorama.pano_obj.add( clone );\n//     }\n});\n\nconsole.log(PANOLENS);\n\n\n// viewer.addUpdateCallback(function(){\n//     if(npc_obj){\n//         npc_obj.scene.rotation.y += 0.05;\n//         // npc_obj.scene.rotation.x += 0.02;\n//     }\n// });\n\n\n\n\n/*\n// Add control button\n\nlet controlItemCube = {\n  style: {\n    backgroundImage: 'url(http://i40.tinypic.com/1531w79.jpg)'\n  },\n  \n  onTap: function(){\n    viewer.tweenControlCenterByObject( cube );\n    console.log(\"TAP\");\n  }\n};\nviewer.appendControlItem(controlItemCube);\n*/"],"sourceRoot":""}